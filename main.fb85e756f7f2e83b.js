"use strict";(self.webpackChunkag_grid=self.webpackChunkag_grid||[]).push([[179],{370:(l,t,e)=>{function n(f){return"function"==typeof f}function o(f){const g=f(y=>{Error.call(y),y.stack=(new Error).stack});return g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,g}const s=o(f=>function(g){f(this),this.message=g?`${g.length} errors occurred during unsubscription:\n${g.map((y,S)=>`${S+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=g});function d(f,h){if(f){const g=f.indexOf(h);0<=g&&f.splice(g,1)}}class v{constructor(h){this.initialTeardown=h,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let h;if(!this.closed){this.closed=!0;const{_parentage:g}=this;if(g)if(this._parentage=null,Array.isArray(g))for(const O of g)O.remove(this);else g.remove(this);const{initialTeardown:y}=this;if(n(y))try{y()}catch(O){h=O instanceof s?O.errors:[O]}const{_finalizers:S}=this;if(S){this._finalizers=null;for(const O of S)try{w(O)}catch(R){h=h??[],R instanceof s?h=[...h,...R.errors]:h.push(R)}}if(h)throw new s(h)}}add(h){var g;if(h&&h!==this)if(this.closed)w(h);else{if(h instanceof v){if(h.closed||h._hasParent(this))return;h._addParent(this)}(this._finalizers=null!==(g=this._finalizers)&&void 0!==g?g:[]).push(h)}}_hasParent(h){const{_parentage:g}=this;return g===h||Array.isArray(g)&&g.includes(h)}_addParent(h){const{_parentage:g}=this;this._parentage=Array.isArray(g)?(g.push(h),g):g?[g,h]:h}_removeParent(h){const{_parentage:g}=this;g===h?this._parentage=null:Array.isArray(g)&&d(g,h)}remove(h){const{_finalizers:g}=this;g&&d(g,h),h instanceof v&&h._removeParent(this)}}v.EMPTY=(()=>{const f=new v;return f.closed=!0,f})();const C=v.EMPTY;function m(f){return f instanceof v||f&&"closed"in f&&n(f.remove)&&n(f.add)&&n(f.unsubscribe)}function w(f){n(f)?f():f.unsubscribe()}const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout(f,h,...g){const{delegate:y}=b;return y?.setTimeout?y.setTimeout(f,h,...g):setTimeout(f,h,...g)},clearTimeout(f){const{delegate:h}=b;return(h?.clearTimeout||clearTimeout)(f)},delegate:void 0};function T(f){b.setTimeout(()=>{const{onUnhandledError:h}=D;if(!h)throw f;h(f)})}function A(){}const I=V("C",void 0,void 0);function V(f,h,g){return{kind:f,value:h,error:g}}let W=null;function j(f){if(D.useDeprecatedSynchronousErrorHandling){const h=!W;if(h&&(W={errorThrown:!1,error:null}),f(),h){const{errorThrown:g,error:y}=W;if(W=null,g)throw y}}else f()}class Y extends v{constructor(h){super(),this.isStopped=!1,h?(this.destination=h,m(h)&&h.add(this)):this.destination=pe}static create(h,g,y){return new ee(h,g,y)}next(h){this.isStopped?ae(function G(f){return V("N",f,void 0)}(h),this):this._next(h)}error(h){this.isStopped?ae(function N(f){return V("E",void 0,f)}(h),this):(this.isStopped=!0,this._error(h))}complete(){this.isStopped?ae(I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(h){this.destination.next(h)}_error(h){try{this.destination.error(h)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const re=Function.prototype.bind;function q(f,h){return re.call(f,h)}class Z{constructor(h){this.partialObserver=h}next(h){const{partialObserver:g}=this;if(g.next)try{g.next(h)}catch(y){ne(y)}}error(h){const{partialObserver:g}=this;if(g.error)try{g.error(h)}catch(y){ne(y)}else ne(h)}complete(){const{partialObserver:h}=this;if(h.complete)try{h.complete()}catch(g){ne(g)}}}class ee extends Y{constructor(h,g,y){let S;if(super(),n(h)||!h)S={next:h??void 0,error:g??void 0,complete:y??void 0};else{let O;this&&D.useDeprecatedNextContext?(O=Object.create(h),O.unsubscribe=()=>this.unsubscribe(),S={next:h.next&&q(h.next,O),error:h.error&&q(h.error,O),complete:h.complete&&q(h.complete,O)}):S=h}this.destination=new Z(S)}}function ne(f){D.useDeprecatedSynchronousErrorHandling?function K(f){D.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=f)}(f):T(f)}function ae(f,h){const{onStoppedNotification:g}=D;g&&b.setTimeout(()=>g(f,h))}const pe={closed:!0,next:A,error:function se(f){throw f},complete:A},he="function"==typeof Symbol&&Symbol.observable||"@@observable";function _e(f){return f}let Re=(()=>{class f{constructor(g){g&&(this._subscribe=g)}lift(g){const y=new f;return y.source=this,y.operator=g,y}subscribe(g,y,S){const O=function Ne(f){return f&&f instanceof Y||function De(f){return f&&n(f.next)&&n(f.error)&&n(f.complete)}(f)&&m(f)}(g)?g:new ee(g,y,S);return j(()=>{const{operator:R,source:x}=this;O.add(R?R.call(O,x):x?this._subscribe(O):this._trySubscribe(O))}),O}_trySubscribe(g){try{return this._subscribe(g)}catch(y){g.error(y)}}forEach(g,y){return new(y=Ce(y))((S,O)=>{const R=new ee({next:x=>{try{g(x)}catch(F){O(F),R.unsubscribe()}},error:O,complete:S});this.subscribe(R)})}_subscribe(g){var y;return null===(y=this.source)||void 0===y?void 0:y.subscribe(g)}[he](){return this}pipe(...g){return function Se(f){return 0===f.length?_e:1===f.length?f[0]:function(g){return f.reduce((y,S)=>S(y),g)}}(g)(this)}toPromise(g){return new(g=Ce(g))((y,S)=>{let O;this.subscribe(R=>O=R,R=>S(R),()=>y(O))})}}return f.create=h=>new f(h),f})();function Ce(f){var h;return null!==(h=f??D.Promise)&&void 0!==h?h:Promise}const we=o(f=>function(){f(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ve=(()=>{class f extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(g){const y=new je(this,this);return y.operator=g,y}_throwIfClosed(){if(this.closed)throw new we}next(g){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const y of this.currentObservers)y.next(g)}})}error(g){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=g;const{observers:y}=this;for(;y.length;)y.shift().error(g)}})}complete(){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:g}=this;for(;g.length;)g.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var g;return(null===(g=this.observers)||void 0===g?void 0:g.length)>0}_trySubscribe(g){return this._throwIfClosed(),super._trySubscribe(g)}_subscribe(g){return this._throwIfClosed(),this._checkFinalizedStatuses(g),this._innerSubscribe(g)}_innerSubscribe(g){const{hasError:y,isStopped:S,observers:O}=this;return y||S?C:(this.currentObservers=null,O.push(g),new v(()=>{this.currentObservers=null,d(O,g)}))}_checkFinalizedStatuses(g){const{hasError:y,thrownError:S,isStopped:O}=this;y?g.error(S):O&&g.complete()}asObservable(){const g=new Re;return g.source=this,g}}return f.create=(h,g)=>new je(h,g),f})();class je extends Ve{constructor(h,g){super(),this.destination=h,this.source=g}next(h){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.next)||void 0===y||y.call(g,h)}error(h){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.error)||void 0===y||y.call(g,h)}complete(){var h,g;null===(g=null===(h=this.destination)||void 0===h?void 0:h.complete)||void 0===g||g.call(h)}_subscribe(h){var g,y;return null!==(y=null===(g=this.source)||void 0===g?void 0:g.subscribe(h))&&void 0!==y?y:C}}function $e(f){return h=>{if(function rt(f){return n(f?.lift)}(h))return h.lift(function(g){try{return f(g,this)}catch(y){this.error(y)}});throw new TypeError("Unable to lift unknown Observable type")}}function Et(f,h,g,y,S){return new xt(f,h,g,y,S)}class xt extends Y{constructor(h,g,y,S,O,R){super(h),this.onFinalize=O,this.shouldUnsubscribe=R,this._next=g?function(x){try{g(x)}catch(F){h.error(F)}}:super._next,this._error=S?function(x){try{S(x)}catch(F){h.error(F)}finally{this.unsubscribe()}}:super._error,this._complete=y?function(){try{y()}catch(x){h.error(x)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var h;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:g}=this;super.unsubscribe(),!g&&(null===(h=this.onFinalize)||void 0===h||h.call(this))}}}function jt(f,h){return $e((g,y)=>{let S=0;g.subscribe(Et(y,O=>{y.next(f.call(h,O,S++))}))})}function Co(f){return this instanceof Co?(this.v=f,this):new Co(f)}function Pv(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,h=f[Symbol.asyncIterator];return h?h.call(f):(f=function Ki(f){var h="function"==typeof Symbol&&Symbol.iterator,g=h&&f[h],y=0;if(g)return g.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&y>=f.length&&(f=void 0),{value:f&&f[y++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")}(f),g={},y("next"),y("throw"),y("return"),g[Symbol.asyncIterator]=function(){return this},g);function y(O){g[O]=f[O]&&function(R){return new Promise(function(x,F){!function S(O,R,x,F){Promise.resolve(F).then(function(k){O({value:k,done:x})},R)}(x,F,(R=f[O](R)).done,R.value)})}}}const Rt=f=>f&&"number"==typeof f.length&&"function"!=typeof f;function Yi(f){return n(f?.then)}function kp(f){return n(f[he])}function zu(f){return Symbol.asyncIterator&&n(f?.[Symbol.asyncIterator])}function Vp(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ll=function Gr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Qo(f){return n(f?.[ll])}function Wp(f){return function qe(f,h,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,y=g.apply(f,h||[]),O=[];return S={},R("next"),R("throw"),R("return"),S[Symbol.asyncIterator]=function(){return this},S;function R(te){y[te]&&(S[te]=function(ie){return new Promise(function(ue,ye){O.push([te,ie,ue,ye])>1||x(te,ie)})})}function x(te,ie){try{!function F(te){te.value instanceof Co?Promise.resolve(te.value.v).then(k,H):z(O[0][2],te)}(y[te](ie))}catch(ue){z(O[0][3],ue)}}function k(te){x("next",te)}function H(te){x("throw",te)}function z(te,ie){te(ie),O.shift(),O.length&&x(O[0][0],O[0][1])}}(this,arguments,function*(){const g=f.getReader();try{for(;;){const{value:y,done:S}=yield Co(g.read());if(S)return yield Co(void 0);yield yield Co(y)}}finally{g.releaseLock()}})}function ul(f){return n(f?.getReader)}function sr(f){if(f instanceof Re)return f;if(null!=f){if(kp(f))return function Hp(f){return new Re(h=>{const g=f[he]();if(n(g.subscribe))return g.subscribe(h);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(f);if(Rt(f))return function Yu(f){return new Re(h=>{for(let g=0;g<f.length&&!h.closed;g++)h.next(f[g]);h.complete()})}(f);if(Yi(f))return function Mv(f){return new Re(h=>{f.then(g=>{h.closed||(h.next(g),h.complete())},g=>h.error(g)).then(null,T)})}(f);if(zu(f))return Up(f);if(Qo(f))return function Av(f){return new Re(h=>{for(const g of f)if(h.next(g),h.closed)return;h.complete()})}(f);if(ul(f))return function $p(f){return Up(Wp(f))}(f)}throw Vp(f)}function Up(f){return new Re(h=>{(function xv(f,h){var g,y,S,O;return function $(f,h,g,y){return new(g||(g=Promise))(function(O,R){function x(H){try{k(y.next(H))}catch(z){R(z)}}function F(H){try{k(y.throw(H))}catch(z){R(z)}}function k(H){H.done?O(H.value):function S(O){return O instanceof g?O:new g(function(R){R(O)})}(H.value).then(x,F)}k((y=y.apply(f,h||[])).next())})}(this,void 0,void 0,function*(){try{for(g=Pv(f);!(y=yield g.next()).done;)if(h.next(y.value),h.closed)return}catch(R){S={error:R}}finally{try{y&&!y.done&&(O=g.return)&&(yield O.call(g))}finally{if(S)throw S.error}}h.complete()})})(f,h).catch(g=>h.error(g))})}function ni(f,h,g,y=0,S=!1){const O=h.schedule(function(){g(),S?f.add(this.schedule(null,y)):this.unsubscribe()},y);if(f.add(O),!S)return O}function dn(f,h,g=1/0){return n(h)?dn((y,S)=>jt((O,R)=>h(y,O,S,R))(sr(f(y,S))),g):("number"==typeof h&&(g=h),$e((y,S)=>function ea(f,h,g,y,S,O,R,x){const F=[];let k=0,H=0,z=!1;const te=()=>{z&&!F.length&&!k&&h.complete()},ie=ye=>k<y?ue(ye):F.push(ye),ue=ye=>{O&&h.next(ye),k++;let xe=!1;sr(g(ye,H++)).subscribe(Et(h,Ae=>{S?.(Ae),O?ie(Ae):h.next(Ae)},()=>{xe=!0},void 0,()=>{if(xe)try{for(k--;F.length&&k<y;){const Ae=F.shift();R?ni(h,R,()=>ue(Ae)):ue(Ae)}te()}catch(Ae){h.error(Ae)}}))};return f.subscribe(Et(h,ie,()=>{z=!0,te()})),()=>{x?.()}}(y,S,f,g)))}const es=new Re(f=>f.complete());function cl(f){return f[f.length-1]}function qi(f){return function Kp(f){return f&&n(f.schedule)}(cl(f))?f.pop():void 0}function zp(f,h=0){return $e((g,y)=>{g.subscribe(Et(y,S=>ni(y,f,()=>y.next(S),h),()=>ni(y,f,()=>y.complete(),h),S=>ni(y,f,()=>y.error(S),h)))})}function dl(f,h=0){return $e((g,y)=>{y.add(f.schedule(()=>g.subscribe(y),h))})}function qp(f,h){if(!f)throw new Error("Iterable cannot be null");return new Re(g=>{ni(g,h,()=>{const y=f[Symbol.asyncIterator]();ni(g,h,()=>{y.next().then(S=>{S.done?g.complete():g.next(S.value)})},0,!0)})})}function pl(f,h){return h?function ii(f,h){if(null!=f){if(kp(f))return function Iv(f,h){return sr(f).pipe(dl(h),zp(h))}(f,h);if(Rt(f))return function Yp(f,h){return new Re(g=>{let y=0;return h.schedule(function(){y===f.length?g.complete():(g.next(f[y++]),g.closed||this.schedule())})})}(f,h);if(Yi(f))return function Lv(f,h){return sr(f).pipe(dl(h),zp(h))}(f,h);if(zu(f))return qp(f,h);if(Qo(f))return function J(f,h){return new Re(g=>{let y;return ni(g,h,()=>{y=f[ll](),ni(g,h,()=>{let S,O;try{({value:S,done:O}=y.next())}catch(R){return void g.error(R)}O?g.complete():g.next(S)},0,!0)}),()=>n(y?.return)&&y.return()})}(f,h);if(ul(f))return function Xp(f,h){return qp(Wp(f),h)}(f,h)}throw Vp(f)}(f,h):sr(f)}function Eo(f,h,...g){if(!0===h)return void f();if(!1===h)return;const y=new ee({next:()=>{y.unsubscribe(),f()}});return sr(h(...g)).subscribe(y)}function Nt(f){for(let h in f)if(f[h]===Nt)return h;throw Error("Could not find renamed property on target object.")}function Ht(f){if("string"==typeof f)return f;if(Array.isArray(f))return"["+f.map(Ht).join(", ")+"]";if(null==f)return""+f;if(f.overriddenName)return`${f.overriddenName}`;if(f.name)return`${f.name}`;const h=f.toString();if(null==h)return""+h;const g=h.indexOf("\n");return-1===g?h:h.substring(0,g)}function Ju(f,h){return null==f||""===f?null===h?"":h:null==h||""===h?f:f+" "+h}const hl=Nt({__forward_ref__:Nt});function gl(f){return f.__forward_ref__=gl,f.toString=function(){return Ht(this())},f}function Je(f){return lr(f)?f():f}function lr(f){return"function"==typeof f&&f.hasOwnProperty(hl)&&f.__forward_ref__===gl}function Zu(f){return f&&!!f.\u0275providers}class Ke extends Error{constructor(h,g){super(Mr(h,g)),this.code=h}}function Mr(f,h){return`NG0${Math.abs(f)}${h?": "+h.trim():""}`}function ct(f){return"string"==typeof f?f:null==f?"":String(f)}function vl(f,h){throw new Ke(-201,!1)}function bn(f,h){null==f&&function Tt(f,h,g,y){throw new Error(`ASSERTION ERROR: ${f}`+(null==y?"":` [Expected=> ${g} ${y} ${h} <=Actual]`))}(h,f,null,"!=")}function Mt(f){return{token:f.token,providedIn:f.providedIn||null,factory:f.factory,value:void 0}}function Ji(f){return{providers:f.providers||[],imports:f.imports||[]}}function yl(f){return ef(f,er)||ef(f,ec)}function ef(f,h){return f.hasOwnProperty(h)?f[h]:null}function tf(f){return f&&(f.hasOwnProperty(oi)||f.hasOwnProperty(Br))?f[oi]:null}const er=Nt({\u0275prov:Nt}),oi=Nt({\u0275inj:Nt}),ec=Nt({ngInjectableDef:Nt}),Br=Nt({ngInjectorDef:Nt});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let ml;function Pn(f){const h=ml;return ml=f,h}function Zi(f,h,g){const y=yl(f);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:g&it.Optional?null:void 0!==h?h:void vl(Ht(f))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qi={},fn="__NG_DI_FLAG__",rs="ngTempTokenPath",tc="ngTokenPath",rc=/\n/gm,sf="\u0275",nc="__source";let So;function wo(f){const h=So;return So=f,h}function ic(f,h=it.Default){if(void 0===So)throw new Ke(-203,!1);return null===So?Zi(f,void 0,h):So.get(f,h&it.Optional?null:void 0,h)}function _t(f,h=it.Default){return(function rf(){return ml}()||ic)(Je(f),h)}function ta(f,h=it.Default){return _t(f,Di(h))}function Di(f){return typeof f>"u"||"number"==typeof f?f:0|(f.optional&&8)|(f.host&&1)|(f.self&&2)|(f.skipSelf&&4)}function Cl(f){const h=[];for(let g=0;g<f.length;g++){const y=Je(f[g]);if(Array.isArray(y)){if(0===y.length)throw new Ke(900,!1);let S,O=it.Default;for(let R=0;R<y.length;R++){const x=y[R],F=ac(x);"number"==typeof F?-1===F?S=x.token:O|=F:S=x}h.push(_t(S,O))}else h.push(_t(y))}return h}function ac(f){return f[fn]}function ai(f){return{toString:f}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),Tn=(()=>{return(f=Tn||(Tn={}))[f.Emulated=0]="Emulated",f[f.None=2]="None",f[f.ShadowDom=3]="ShadowDom",Tn;var f})();const kn={},bt=[],hn=Nt({\u0275cmp:Nt}),is=Nt({\u0275dir:Nt}),Oo=Nt({\u0275pipe:Nt}),Sl=Nt({\u0275mod:Nt}),Vn=Nt({\u0275fac:Nt}),Mn=Nt({__NG_ELEMENT_ID__:Nt});let wl=0;function si(f){return ai(()=>{const g=!0===f.standalone,y={},S={type:f.type,providersResolver:null,decls:f.decls,vars:f.vars,factory:null,template:f.template||null,consts:f.consts||null,ngContentSelectors:f.ngContentSelectors,hostBindings:f.hostBindings||null,hostVars:f.hostVars||0,hostAttrs:f.hostAttrs||null,contentQueries:f.contentQueries||null,declaredInputs:y,inputs:null,outputs:null,exportAs:f.exportAs||null,onPush:f.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,standalone:g,dependencies:g&&f.dependencies||null,getStandaloneInjector:null,selectors:f.selectors||bt,viewQuery:f.viewQuery||null,features:f.features||null,data:f.data||{},encapsulation:f.encapsulation||Tn.Emulated,id:"c"+wl++,styles:f.styles||bt,_:null,setInput:null,schemas:f.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},O=f.dependencies,R=f.features;return S.inputs=ra(f.inputs,y),S.outputs=ra(f.outputs),R&&R.forEach(x=>x(S)),S.directiveDefs=O?()=>("function"==typeof O?O():O).map(lc).filter(uc):null,S.pipeDefs=O?()=>("function"==typeof O?O():O).map(Jr).filter(uc):null,S})}function lc(f){return At(f)||kr(f)}function uc(f){return null!==f}function eo(f){return ai(()=>({type:f.type,bootstrap:f.bootstrap||bt,declarations:f.declarations||bt,imports:f.imports||bt,exports:f.exports||bt,transitiveCompileScopes:null,schemas:f.schemas||null,id:f.id||null}))}function ra(f,h){if(null==f)return kn;const g={};for(const y in f)if(f.hasOwnProperty(y)){let S=f[y],O=S;Array.isArray(S)&&(O=S[1],S=S[0]),g[S]=y,h&&(h[S]=O)}return g}function fr(f){return{type:f.type,name:f.name,factory:null,pure:!1!==f.pure,standalone:!0===f.standalone,onDestroy:f.type.prototype.ngOnDestroy||null}}function At(f){return f[hn]||null}function kr(f){return f[is]||null}function Jr(f){return f[Oo]||null}const bi=0,We=1,vt=2,tr=3,gn=4,Wn=5,Sr=6,Pi=7,Gt=8,Ol=9,Dl=10,yt=11,na=12,as=13,cc=14,to=15,wr=16,ft=17,Do=18,Qr=19,Hn=20,ro=21,Lt=22,ss=1,ls=2,no=7,io=8,Ri=9,kt=10;function hr(f){return Array.isArray(f)&&"object"==typeof f[ss]}function Vr(f){return Array.isArray(f)&&!0===f[ss]}function gr(f){return 0!=(4&f.flags)}function us(f){return f.componentOffset>-1}function bl(f){return 1==(1&f.flags)}function vn(f){return null!==f.template}function pc(f){return 0!=(256&f[vt])}function Vt(f,h){return f.hasOwnProperty(Vn)?f[Vn]:null}class Kv{constructor(h,g,y){this.previousValue=h,this.currentValue=g,this.firstChange=y}isFirstChange(){return this.firstChange}}function ve(){return gf}function gf(f){return f.type.prototype.ngOnChanges&&(f.setInput=Yv),zv}function zv(){const f=_f(this),h=f?.current;if(h){const g=f.previous;if(g===kn)f.previous=h;else for(let y in h)g[y]=h[y];f.current=null,this.ngOnChanges(h)}}function Yv(f,h,g,y){const S=this.declaredInputs[g],O=_f(f)||function qv(f,h){return f[vf]=h}(f,{previous:kn,current:null}),R=O.current||(O.current={}),x=O.previous,F=x[S];R[S]=new Kv(F&&F.currentValue,h,x===kn),f[y]=h}ve.ngInherit=!0;const vf="__ngSimpleChanges__";function _f(f){return f[vf]||null}const _n=function(f,h,g){};function Ar(f){for(;Array.isArray(f);)f=f[bi];return f}function yn(f,h){return Ar(h[f.index])}function yf(f,h){return f.data[h]}function mn(f,h){const g=h[f];return hr(g)?g:g[bi]}function Il(f){return 64==(64&f[vt])}function an(f,h){return null==h?null:f[h]}function ao(f){f[Do]=0}function en(f,h){f[Wn]+=h;let g=f,y=f[tr];for(;null!==y&&(1===h&&1===g[Wn]||-1===h&&0===g[Wn]);)y[Wn]+=h,g=y,y=y[tr]}const ht={lFrame:Pf(null),bindingsEnabled:!0};function Ef(){return ht.bindingsEnabled}function Te(){return ht.lFrame.lView}function Ge(){return ht.lFrame.tView}function Or(){let f=Sf();for(;null!==f&&64===f.type;)f=f.parent;return f}function Sf(){return ht.lFrame.currentTNode}function li(f,h){const g=ht.lFrame;g.currentTNode=f,g.isParent=h}function Ll(){return ht.lFrame.isParent}function bo(){return ht.lFrame.bindingIndex++}function ps(f,h){const g=ht.lFrame;g.bindingIndex=g.bindingRootIndex=f,wc(h)}function wc(f){ht.lFrame.currentDirectiveIndex=f}function Mi(f){ht.lFrame.currentQueryIndex=f}function e_(f){const h=f[We];return 2===h.type?h.declTNode:1===h.type?f[Sr]:null}function hs(f,h,g){if(g&it.SkipSelf){let S=h,O=f;for(;!(S=S.parent,null!==S||g&it.Host||(S=e_(O),null===S||(O=O[to],10&S.type))););if(null===S)return!1;h=S,f=O}const y=ht.lFrame=bf();return y.currentTNode=h,y.lView=f,!0}function Nl(f){const h=bf(),g=f[We];ht.lFrame=h,h.currentTNode=g.firstChild,h.lView=f,h.tView=g,h.contextLView=f,h.bindingIndex=g.bindingStartIndex,h.inI18n=!1}function bf(){const f=ht.lFrame,h=null===f?null:f.child;return null===h?Pf(f):h}function Pf(f){const h={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:f,child:null,inI18n:!1};return null!==f&&(f.child=h),h}function Oc(){const f=ht.lFrame;return ht.lFrame=f.parent,f.currentTNode=null,f.lView=null,f}const Rf=Oc;function Gl(){const f=Oc();f.isParent=!0,f.tView=null,f.selectedIndex=-1,f.contextLView=null,f.elementDepthCount=0,f.currentDirectiveIndex=-1,f.currentNamespace=null,f.bindingRootIndex=-1,f.bindingIndex=-1,f.currentQueryIndex=0}function Ir(){return ht.lFrame.selectedIndex}function rn(f){ht.lFrame.selectedIndex=f}function gs(f,h){for(let g=h.directiveStart,y=h.directiveEnd;g<y;g++){const O=f.data[g].type.prototype,{ngAfterContentInit:R,ngAfterContentChecked:x,ngAfterViewInit:F,ngAfterViewChecked:k,ngOnDestroy:H}=O;R&&(f.contentHooks||(f.contentHooks=[])).push(-g,R),x&&((f.contentHooks||(f.contentHooks=[])).push(g,x),(f.contentCheckHooks||(f.contentCheckHooks=[])).push(g,x)),F&&(f.viewHooks||(f.viewHooks=[])).push(-g,F),k&&((f.viewHooks||(f.viewHooks=[])).push(g,k),(f.viewCheckHooks||(f.viewCheckHooks=[])).push(g,k)),null!=H&&(f.destroyHooks||(f.destroyHooks=[])).push(g,H)}}function aa(f,h,g){Pc(f,h,3,g)}function so(f,h,g,y){(3&f[vt])===g&&Pc(f,h,g,y)}function Bl(f,h){let g=f[vt];(3&g)===h&&(g&=2047,g+=1,f[vt]=g)}function Pc(f,h,g,y){const O=y??-1,R=h.length-1;let x=0;for(let F=void 0!==y?65535&f[Do]:0;F<R;F++)if("number"==typeof h[F+1]){if(x=h[F],null!=y&&x>=y)break}else h[F]<0&&(f[Do]+=65536),(x<O||-1==O)&&(Tf(f,g,h,F),f[Do]=(4294901760&f[Do])+F+2),F++}function Tf(f,h,g,y){const S=g[y]<0,O=g[y+1],x=f[S?-g[y]:g[y]];if(S){if(f[vt]>>11<f[Do]>>16&&(3&f[vt])===h){f[vt]+=2048,_n(4,x,O);try{O.call(x)}finally{_n(5,x,O)}}}else{_n(4,x,O);try{O.call(x)}finally{_n(5,x,O)}}}const Ro=-1;class vs{constructor(h,g,y){this.factory=h,this.resolving=!1,this.canSeeViewProviders=g,this.injectImpl=y}}function sa(f,h,g){let y=0;for(;y<g.length;){const S=g[y];if("number"==typeof S){if(0!==S)break;y++;const O=g[y++],R=g[y++],x=g[y++];f.setAttribute(h,R,x,O)}else{const O=S,R=g[++y];Tc(O)?f.setProperty(h,O,R):f.setAttribute(h,O,R),y++}}return y}function Rc(f){return 3===f||4===f||6===f}function Tc(f){return 64===f.charCodeAt(0)}function la(f,h){if(null!==h&&0!==h.length)if(null===f||0===f.length)f=h.slice();else{let g=-1;for(let y=0;y<h.length;y++){const S=h[y];"number"==typeof S?g=S:0===g||ys(f,g,S,null,-1===g||2===g?h[++y]:null)}}return f}function ys(f,h,g,y,S){let O=0,R=f.length;if(-1===h)R=-1;else for(;O<f.length;){const x=f[O++];if("number"==typeof x){if(x===h){R=-1;break}if(x>h){R=O-1;break}}}for(;O<f.length;){const x=f[O];if("number"==typeof x)break;if(x===g){if(null===y)return void(null!==S&&(f[O+1]=S));if(y===f[O+1])return void(f[O+2]=S)}O++,null!==y&&O++,null!==S&&O++}-1!==R&&(f.splice(R,0,h),O=R+1),f.splice(O++,0,g),null!==y&&f.splice(O++,0,y),null!==S&&f.splice(O++,0,S)}function ms(f){return f!==Ro}function Cs(f){return 32767&f}function Vl(f,h){let g=function kl(f){return f>>16}(f),y=h;for(;g>0;)y=y[to],g--;return y}let Es=!0;function Ss(f){const h=Es;return Es=f,h}const Af=255,xf=5;let a_=0;const Zt={};function ui(f,h){const g=If(f,h);if(-1!==g)return g;const y=h[We];y.firstCreatePass&&(f.injectorIndex=h.length,ws(y.data,f),ws(h,null),ws(y.blueprint,null));const S=nn(f,h),O=f.injectorIndex;if(ms(S)){const R=Cs(S),x=Vl(S,h),F=x[We].data;for(let k=0;k<8;k++)h[O+k]=x[R+k]|F[R+k]}return h[O+8]=S,O}function ws(f,h){f.push(0,0,0,0,0,0,0,0,h)}function If(f,h){return-1===f.injectorIndex||f.parent&&f.parent.injectorIndex===f.injectorIndex||null===h[f.injectorIndex+8]?-1:f.injectorIndex}function nn(f,h){if(f.parent&&-1!==f.parent.injectorIndex)return f.parent.injectorIndex;let g=0,y=null,S=h;for(;null!==S;){if(y=Gf(S),null===y)return Ro;if(g++,S=S[to],-1!==y.injectorIndex)return y.injectorIndex|g<<16}return Ro}function Mc(f,h,g){!function s_(f,h,g){let y;"string"==typeof g?y=g.charCodeAt(0)||0:g.hasOwnProperty(Mn)&&(y=g[Mn]),null==y&&(y=g[Mn]=a_++);const S=y&Af;h.data[f+(S>>xf)]|=1<<S}(f,h,g)}function Wl(f,h,g){if(g&it.Optional||void 0!==f)return f;vl()}function Lf(f,h,g,y){if(g&it.Optional&&void 0===y&&(y=null),!(g&(it.Self|it.Host))){const S=f[Ol],O=Pn(void 0);try{return S?S.get(h,y,g&it.Optional):Zi(h,y,g&it.Optional)}finally{Pn(O)}}return Wl(y,0,g)}function Ff(f,h,g,y=it.Default,S){if(null!==f){if(1024&h[vt]){const R=function p_(f,h,g,y,S){let O=f,R=h;for(;null!==O&&null!==R&&1024&R[vt]&&!(256&R[vt]);){const x=To(O,R,g,y|it.Self,Zt);if(x!==Zt)return x;let F=O.parent;if(!F){const k=R[ro];if(k){const H=k.get(g,Zt,y);if(H!==Zt)return H}F=Gf(R),R=R[to]}O=F}return S}(f,h,g,y,Zt);if(R!==Zt)return R}const O=To(f,h,g,y,Zt);if(O!==Zt)return O}return Lf(h,g,y,S)}function To(f,h,g,y,S){const O=function c_(f){if("string"==typeof f)return f.charCodeAt(0)||0;const h=f.hasOwnProperty(Mn)?f[Mn]:void 0;return"number"==typeof h?h>=0?h&Af:d_:h}(g);if("function"==typeof O){if(!hs(h,f,y))return y&it.Host?Wl(S,0,y):Lf(h,g,y,S);try{const R=O(y);if(null!=R||y&it.Optional)return R;vl()}finally{Rf()}}else if("number"==typeof O){let R=null,x=If(f,h),F=Ro,k=y&it.Host?h[wr][Sr]:null;for((-1===x||y&it.SkipSelf)&&(F=-1===x?nn(f,h):h[x+8],F!==Ro&&Nf(y,!1)?(R=h[We],x=Cs(F),h=Vl(F,h)):x=-1);-1!==x;){const H=h[We];if(Ac(O,x,H.data)){const z=u_(x,h,g,R,y,k);if(z!==Zt)return z}F=h[x+8],F!==Ro&&Nf(y,h[We].data[x+8]===k)&&Ac(O,x,h)?(R=H,x=Cs(F),h=Vl(F,h)):x=-1}}return S}function u_(f,h,g,y,S,O){const R=h[We],x=R.data[f+8],H=function Hl(f,h,g,y,S){const O=f.providerIndexes,R=h.data,x=1048575&O,F=f.directiveStart,H=O>>20,te=S?x+H:f.directiveEnd;for(let ie=y?x:x+H;ie<te;ie++){const ue=R[ie];if(ie<F&&g===ue||ie>=F&&ue.type===g)return ie}if(S){const ie=R[F];if(ie&&vn(ie)&&ie.type===g)return F}return null}(x,R,g,null==y?us(x)&&Es:y!=R&&0!=(3&x.type),S&it.Host&&O===x);return null!==H?Mo(h,R,H,x):Zt}function Mo(f,h,g,y){let S=f[g];const O=h.data;if(function Mf(f){return f instanceof vs}(S)){const R=S;R.resolving&&function Qu(f,h){const g=h?`. Dependency path: ${h.join(" > ")} > ${f}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${f}${g}`)}(function It(f){return"function"==typeof f?f.name||f.toString():"object"==typeof f&&null!=f&&"function"==typeof f.type?f.type.name||f.type.toString():ct(f)}(O[g]));const x=Ss(R.canSeeViewProviders);R.resolving=!0;const F=R.injectImpl?Pn(R.injectImpl):null;hs(f,y,it.Default);try{S=f[g]=R.factory(void 0,O,f,y),h.firstCreatePass&&g>=y.directiveStart&&function Dr(f,h,g){const{ngOnChanges:y,ngOnInit:S,ngDoCheck:O}=h.type.prototype;if(y){const R=gf(h);(g.preOrderHooks||(g.preOrderHooks=[])).push(f,R),(g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(f,R)}S&&(g.preOrderHooks||(g.preOrderHooks=[])).push(0-f,S),O&&((g.preOrderHooks||(g.preOrderHooks=[])).push(f,O),(g.preOrderCheckHooks||(g.preOrderCheckHooks=[])).push(f,O))}(g,O[g],h)}finally{null!==F&&Pn(F),Ss(x),R.resolving=!1,Rf()}}return S}function Ac(f,h,g){return!!(g[h+(f>>xf)]&1<<f)}function Nf(f,h){return!(f&it.Self||f&it.Host&&h)}class ua{constructor(h,g){this._tNode=h,this._lView=g}get(h,g,y){return Ff(this._tNode,this._lView,h,Di(y),g)}}function d_(){return new ua(Or(),Te())}function Ic(f){return lr(f)?()=>{const h=Ic(Je(f));return h&&h()}:Vt(f)}function Gf(f){const h=f[We],g=h.type;return 2===g?h.declTNode:1===g?f[Sr]:null}class at{constructor(h,g){this._desc=h,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof g?this.__NG_ELEMENT_ID__=g:void 0!==g&&(this.\u0275prov=Mt({token:this,providedIn:g.providedIn||"root",factory:g.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function di(f,h){f.forEach(g=>Array.isArray(g)?di(g,h):h(g))}function va(f,h,g){h>=f.length?f.push(g):f.splice(h,0,g)}function Kl(f,h){return h>=f.length-1?f.pop():f.splice(h,1)[0]}var sn=(()=>((sn=sn||{})[sn.Important=1]="Important",sn[sn.DashCase=2]="DashCase",sn))();const zc=new Map;let T_=0;const Io="__ngContext__";function Hr(f,h){hr(h)?(f[Io]=h[Hn],function xo(f){zc.set(f[Hn],f)}(h)):f[Io]=h}let qc;function Xc(f,h){return qc(f,h)}function Ze(f){const h=f[tr];return Vr(h)?h[tr]:h}function Zc(f){return rh(f[as])}function Qc(f){return rh(f[gn])}function rh(f){for(;null!==f&&!Vr(f);)f=f[gn];return f}function Oa(f,h,g,y,S){if(null!=y){let O,R=!1;Vr(y)?O=y:hr(y)&&(R=!0,y=y[bi]);const x=Ar(y);0===f&&null!==g?null==S?Ur(h,g,x):Fo(h,g,x,S||null,!0):1===f&&null!==g?Fo(h,g,x,S||null,!0):2===f?function id(f,h,g){const y=$r(f,h);y&&function No(f,h,g,y){f.removeChild(h,g,y)}(f,y,h,g)}(h,x,R):3===f&&h.destroyNode(x),null!=O&&function ad(f,h,g,y,S){const O=g[no];O!==Ar(g)&&Oa(h,f,y,O,S);for(let x=kt;x<g.length;x++){const F=g[x];ba(F[We],F,f,h,y,O)}}(h,f,O,g,S)}}function Da(f,h,g){return f.createElement(h,g)}function ih(f,h){const g=f[Ri],y=g.indexOf(h),S=h[tr];512&h[vt]&&(h[vt]&=-513,en(S,-1)),g.splice(y,1)}function td(f,h){if(f.length<=kt)return;const g=kt+h,y=f[g];if(y){const S=y[ft];null!==S&&S!==f&&ih(S,y),h>0&&(f[g-1][gn]=y[gn]);const O=Kl(f,kt+h);!function G_(f,h){ba(f,h,h[yt],2,null,null),h[bi]=null,h[Sr]=null}(y[We],y);const R=O[Qr];null!==R&&R.detachView(O[We]),y[tr]=null,y[gn]=null,y[vt]&=-65}return y}function oh(f,h){if(!(128&h[vt])){const g=h[yt];g.destroyNode&&ba(f,h,g,3,null,null),function V_(f){let h=f[as];if(!h)return rd(f[We],f);for(;h;){let g=null;if(hr(h))g=h[as];else{const y=h[kt];y&&(g=y)}if(!g){for(;h&&!h[gn]&&h!==f;)hr(h)&&rd(h[We],h),h=h[tr];null===h&&(h=f),hr(h)&&rd(h[We],h),g=h&&h[gn]}h=g}}(h)}}function rd(f,h){if(!(128&h[vt])){h[vt]&=-65,h[vt]|=128,function U_(f,h){let g;if(null!=f&&null!=(g=f.destroyHooks))for(let y=0;y<g.length;y+=2){const S=h[g[y]];if(!(S instanceof vs)){const O=g[y+1];if(Array.isArray(O))for(let R=0;R<O.length;R+=2){const x=S[O[R]],F=O[R+1];_n(4,x,F);try{F.call(x)}finally{_n(5,x,F)}}else{_n(4,S,O);try{O.call(S)}finally{_n(5,S,O)}}}}}(f,h),function Lo(f,h){const g=f.cleanup,y=h[Pi];let S=-1;if(null!==g)for(let O=0;O<g.length-1;O+=2)if("string"==typeof g[O]){const R=g[O+3];R>=0?y[S=R]():y[S=-R].unsubscribe(),O+=2}else{const R=y[S=g[O+1]];g[O].call(R)}if(null!==y){for(let O=S+1;O<y.length;O++)(0,y[O])();h[Pi]=null}}(f,h),1===h[We].type&&h[yt].destroy();const g=h[ft];if(null!==g&&Vr(h[tr])){g!==h[tr]&&ih(g,h);const y=h[Qr];null!==y&&y.detachView(f)}!function Yf(f){zc.delete(f[Hn])}(h)}}function ah(f,h,g){return function sh(f,h,g){let y=h;for(;null!==y&&40&y.type;)y=(h=y).parent;if(null===y)return g[bi];{const{componentOffset:S}=y;if(S>-1){const{encapsulation:O}=f.data[y.directiveStart+S];if(O===Tn.None||O===Tn.Emulated)return null}return yn(y,g)}}(f,h.parent,g)}function Fo(f,h,g,y,S){f.insertBefore(h,g,y,S)}function Ur(f,h,g){f.appendChild(h,g)}function lh(f,h,g,y,S){null!==y?Fo(f,h,g,y,S):Ur(f,h,g)}function $r(f,h){return f.parentNode(h)}let nd,ld,Ms=function ch(f,h,g){return 40&f.type?yn(f,g):null};function As(f,h,g,y){const S=ah(f,y,h),O=h[yt],x=function uh(f,h,g){return Ms(f,h,g)}(y.parent||h[Sr],y,h);if(null!=S)if(Array.isArray(g))for(let F=0;F<g.length;F++)lh(O,S,g[F],x,!1);else lh(O,S,g,x,!1);void 0!==nd&&nd(O,y,h,g,S)}function eu(f,h){if(null!==h){const g=h.type;if(3&g)return yn(h,f);if(4&g)return tu(-1,f[h.index]);if(8&g){const y=h.child;if(null!==y)return eu(f,y);{const S=f[h.index];return Vr(S)?tu(-1,S):Ar(S)}}if(32&g)return Xc(h,f)()||Ar(f[h.index]);{const y=ph(f,h);return null!==y?Array.isArray(y)?y[0]:eu(Ze(f[wr]),y):eu(f,h.next)}}return null}function ph(f,h){return null!==h?f[wr][Sr].projection[h.projection]:null}function tu(f,h){const g=kt+f+1;if(g<h.length){const y=h[g],S=y[We].firstChild;if(null!==S)return eu(y,S)}return h[no]}function od(f,h,g,y,S,O,R){for(;null!=g;){const x=y[g.index],F=g.type;if(R&&0===h&&(x&&Hr(Ar(x),y),g.flags|=2),32!=(32&g.flags))if(8&F)od(f,h,g.child,y,S,O,!1),Oa(h,f,S,x,O);else if(32&F){const k=Xc(g,y);let H;for(;H=k();)Oa(h,f,S,H,O);Oa(h,f,S,x,O)}else 16&F?hh(f,h,y,g,S,O):Oa(h,f,S,x,O);g=R?g.projectionNext:g.next}}function ba(f,h,g,y,S,O){od(g,y,f.firstChild,h,S,O,!1)}function hh(f,h,g,y,S,O){const R=g[wr],F=R[Sr].projection[y.projection];if(Array.isArray(F))for(let k=0;k<F.length;k++)Oa(h,f,S,F[k],O);else od(f,h,F,R[tr],S,O,!0)}function sd(f,h,g){""===g?f.removeAttribute(h,"class"):f.setAttribute(h,"class",g)}function ru(f,h,g){const{mergedAttrs:y,classes:S,styles:O}=g;null!==y&&sa(f,h,y),null!==S&&sd(f,h,S),null!==O&&function K_(f,h,g){f.setAttribute(h,"style",g)}(f,h,O)}const Dh=new at("ENVIRONMENT_INITIALIZER"),bh=new at("INJECTOR",-1),uu=new at("INJECTOR_DEF_TYPES");class Ph{get(h,g=Qi){if(g===Qi){const y=new Error(`NullInjectorError: No provider for ${Ht(h)}!`);throw y.name="NullInjectorError",y}return g}}function Ta(...f){return{\u0275providers:Rh(0,f),\u0275fromNgModule:!0}}function Rh(f,...h){const g=[],y=new Set;let S;return di(h,O=>{const R=O;vd(R,g,[],y)&&(S||(S=[]),S.push(R))}),void 0!==S&&Fs(S,g),g}function Fs(f,h){for(let g=0;g<f.length;g++){const{providers:S}=f[g];zn(S,O=>{h.push(O)})}}function vd(f,h,g,y){if(!(f=Je(f)))return!1;let S=null,O=tf(f);const R=!O&&At(f);if(O||R){if(R&&!R.standalone)return!1;S=f}else{const F=f.ngModule;if(O=tf(F),!O)return!1;S=F}const x=y.has(S);if(R){if(x)return!1;if(y.add(S),R.dependencies){const F="function"==typeof R.dependencies?R.dependencies():R.dependencies;for(const k of F)vd(k,h,g,y)}}else{if(!O)return!1;{if(null!=O.imports&&!x){let k;y.add(S);try{di(O.imports,H=>{vd(H,h,g,y)&&(k||(k=[]),k.push(H))})}finally{}void 0!==k&&Fs(k,h)}if(!x){const k=Vt(S)||(()=>new S);h.push({provide:S,useFactory:k,deps:bt},{provide:uu,useValue:S,multi:!0},{provide:Dh,useValue:()=>_t(S),multi:!0})}const F=O.providers;null==F||x||zn(F,H=>{h.push(H)})}}return S!==f&&void 0!==f.providers}function zn(f,h){for(let g of f)Zu(g)&&(g=g.\u0275providers),Array.isArray(g)?zn(g,h):h(g)}const dy=Nt({provide:String,useValue:Nt});function yd(f){return null!==f&&"object"==typeof f&&dy in f}function ko(f){return"function"==typeof f}const md=new at("Set Injector scope."),cu={},du={};let Cd;function pu(){return void 0===Cd&&(Cd=new Ph),Cd}class Fi{}class Mh extends Fi{get destroyed(){return this._destroyed}constructor(h,g,y,S){super(),this.parent=g,this.source=y,this.scopes=S,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ks(h,R=>this.processProvider(R)),this.records.set(bh,Ma(void 0,this)),S.has("environment")&&this.records.set(Fi,Ma(void 0,this));const O=this.records.get(md);null!=O&&"string"==typeof O.value&&this.scopes.add(O.value),this.injectorDefTypes=new Set(this.get(uu.multi,bt,it.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const h of this._ngOnDestroyHooks)h.ngOnDestroy();for(const h of this._onDestroyHooks)h()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(h){this._onDestroyHooks.push(h)}runInContext(h){this.assertNotDestroyed();const g=wo(this),y=Pn(void 0);try{return h()}finally{wo(g),Pn(y)}}get(h,g=Qi,y=it.Default){this.assertNotDestroyed(),y=Di(y);const S=wo(this),O=Pn(void 0);try{if(!(y&it.SkipSelf)){let x=this.records.get(h);if(void 0===x){const F=function Ed(f){return"function"==typeof f||"object"==typeof f&&f instanceof at}(h)&&yl(h);x=F&&this.injectableDefInScope(F)?Ma(Gs(h),cu):null,this.records.set(h,x)}if(null!=x)return this.hydrate(h,x)}return(y&it.Self?pu():this.parent).get(h,g=y&it.Optional&&g===Qi?null:g)}catch(R){if("NullInjectorError"===R.name){if((R[rs]=R[rs]||[]).unshift(Ht(h)),S)throw R;return function El(f,h,g,y){const S=f[rs];throw h[nc]&&S.unshift(h[nc]),f.message=function sc(f,h,g,y=null){f=f&&"\n"===f.charAt(0)&&f.charAt(1)==sf?f.slice(2):f;let S=Ht(h);if(Array.isArray(h))S=h.map(Ht).join(" -> ");else if("object"==typeof h){let O=[];for(let R in h)if(h.hasOwnProperty(R)){let x=h[R];O.push(R+":"+("string"==typeof x?JSON.stringify(x):Ht(x)))}S=`{${O.join(", ")}}`}return`${g}${y?"("+y+")":""}[${S}]: ${f.replace(rc,"\n  ")}`}("\n"+f.message,S,g,y),f[tc]=S,f[rs]=null,f}(R,h,"R3InjectorError",this.source)}throw R}finally{Pn(O),wo(S)}}resolveInjectorInitializers(){const h=wo(this),g=Pn(void 0);try{const y=this.get(Dh.multi,bt,it.Self);for(const S of y)S()}finally{wo(h),Pn(g)}}toString(){const h=[],g=this.records;for(const y of g.keys())h.push(Ht(y));return`R3Injector[${h.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processProvider(h){let g=ko(h=Je(h))?h:Je(h&&h.provide);const y=function Bs(f){return yd(f)?Ma(void 0,f.useValue):Ma(Ah(f),cu)}(h);if(ko(h)||!0!==h.multi)this.records.get(g);else{let S=this.records.get(g);S||(S=Ma(void 0,cu,!0),S.factory=()=>Cl(S.multi),this.records.set(g,S)),g=h,S.multi.push(h)}this.records.set(g,y)}hydrate(h,g){return g.value===cu&&(g.value=du,g.value=g.factory()),"object"==typeof g.value&&g.value&&function gy(f){return null!==f&&"object"==typeof f&&"function"==typeof f.ngOnDestroy}(g.value)&&this._ngOnDestroyHooks.add(g.value),g.value}injectableDefInScope(h){if(!h.providedIn)return!1;const g=Je(h.providedIn);return"string"==typeof g?"any"===g||this.scopes.has(g):this.injectorDefTypes.has(g)}}function Gs(f){const h=yl(f),g=null!==h?h.factory:Vt(f);if(null!==g)return g;if(f instanceof at)throw new Ke(204,!1);if(f instanceof Function)return function fy(f){const h=f.length;if(h>0)throw function Ds(f,h){const g=[];for(let y=0;y<f;y++)g.push(h);return g}(h,"?"),new Ke(204,!1);const g=function kv(f){const h=f&&(f[er]||f[ec]);return h?(function Vv(f){if(f.hasOwnProperty("name"))return f.name;(""+f).match(/^function\s*([^\s(]+)/)}(f),h):null}(f);return null!==g?()=>g.factory(f):()=>new f}(f);throw new Ke(204,!1)}function Ah(f,h,g){let y;if(ko(f)){const S=Je(f);return Vt(S)||Gs(S)}if(yd(f))y=()=>Je(f.useValue);else if(function Th(f){return!(!f||!f.useFactory)}(f))y=()=>f.useFactory(...Cl(f.deps||[]));else if(function Ns(f){return!(!f||!f.useExisting)}(f))y=()=>_t(Je(f.useExisting));else{const S=Je(f&&(f.useClass||f.provide));if(!function hy(f){return!!f.deps}(f))return Vt(S)||Gs(S);y=()=>new S(...Cl(f.deps))}return y}function Ma(f,h,g=!1){return{factory:f,value:h,multi:g?[]:void 0}}function ks(f,h){for(const g of f)Array.isArray(g)?ks(g,h):g&&Zu(g)?ks(g.\u0275providers,h):h(g)}class vy{}class Vo{}class fu{resolveComponentFactory(h){throw function Yn(f){const h=Error(`No component factory found for ${Ht(f)}. Did you add it to @NgModule.entryComponents?`);return h.ngComponent=f,h}(h)}}let Vs=(()=>{class f{}return f.NULL=new fu,f})();function _y(){return Aa(Or(),Te())}function Aa(f,h){return new Wo(yn(f,h))}let Wo=(()=>{class f{constructor(g){this.nativeElement=g}}return f.__NG_ELEMENT_ID__=_y,f})();class hu{}let Ws=(()=>{class f{}return f.\u0275prov=Mt({token:f,providedIn:"root",factory:()=>null}),f})();class Sd{constructor(h){this.full=h,this.major=h.split(".")[0],this.minor=h.split(".")[1],this.patch=h.split(".").slice(2).join(".")}}const Cy=new Sd("15.2.2"),xa={},wd="ngOriginalError";function Od(f){return f[wd]}class Ho{constructor(){this._console=console}handleError(h){const g=this._findOriginalError(h);this._console.error("ERROR",h),g&&this._console.error("ORIGINAL ERROR",g)}_findOriginalError(h){let g=h&&Od(h);for(;g&&Od(g);)g=Od(g);return g||null}}function Nh(f,h,g){let y=f.length;for(;;){const S=f.indexOf(h,g);if(-1===S)return S;if(0===S||f.charCodeAt(S-1)<=32){const O=h.length;if(S+O===y||f.charCodeAt(S+O)<=32)return S}g=S+1}}const Gh="ng-template";function Py(f,h,g){let y=0;for(;y<f.length;){let S=f[y++];if(g&&"class"===S){if(S=f[y],-1!==Nh(S.toLowerCase(),h,0))return!0}else if(1===S){for(;y<f.length&&"string"==typeof(S=f[y++]);)if(S.toLowerCase()===h)return!0;return!1}}return!1}function Bh(f){return 4===f.type&&f.value!==Gh}function qn(f,h,g){return h===(4!==f.type||g?f.value:Gh)}function Ry(f,h,g){let y=4;const S=f.attrs||[],O=function Ay(f){for(let h=0;h<f.length;h++)if(Rc(f[h]))return h;return f.length}(S);let R=!1;for(let x=0;x<h.length;x++){const F=h[x];if("number"!=typeof F){if(!R)if(4&y){if(y=2|1&y,""!==F&&!qn(f,F,g)||""===F&&1===h.length){if(En(y))return!1;R=!0}}else{const k=8&y?F:h[++x];if(8&y&&null!==f.attrs){if(!Py(f.attrs,k,g)){if(En(y))return!1;R=!0}continue}const z=Ty(8&y?"class":F,S,Bh(f),g);if(-1===z){if(En(y))return!1;R=!0;continue}if(""!==k){let te;te=z>O?"":S[z+1].toLowerCase();const ie=8&y?te:null;if(ie&&-1!==Nh(ie,k,0)||2&y&&k!==te){if(En(y))return!1;R=!0}}}}else{if(!R&&!En(y)&&!En(F))return!1;if(R&&En(F))continue;R=!1,y=F|1&y}}return En(y)||R}function En(f){return 0==(1&f)}function Ty(f,h,g,y){if(null===h)return-1;let S=0;if(y||!g){let O=!1;for(;S<h.length;){const R=h[S];if(R===f)return S;if(3===R||6===R)O=!0;else{if(1===R||2===R){let x=h[++S];for(;"string"==typeof x;)x=h[++S];continue}if(4===R)break;if(0===R){S+=4;continue}}S+=O?1:2}return-1}return function Vh(f,h){let g=f.indexOf(4);if(g>-1)for(g++;g<f.length;){const y=f[g];if("number"==typeof y)return-1;if(y===h)return g;g++}return-1}(h,f)}function kh(f,h,g=!1){for(let y=0;y<h.length;y++)if(Ry(f,h[y],g))return!0;return!1}function Wh(f,h){return f?":not("+h.trim()+")":h}function bd(f){let h=f[0],g=1,y=2,S="",O=!1;for(;g<f.length;){let R=f[g];if("string"==typeof R)if(2&y){const x=f[++g];S+="["+R+(x.length>0?'="'+x+'"':"")+"]"}else 8&y?S+="."+R:4&y&&(S+=" "+R);else""!==S&&!En(R)&&(h+=Wh(O,S),S=""),y=R,O=O||!En(y);g++}return""!==S&&(h+=Wh(O,S)),h}const st={};function $s(f){js(Ge(),Te(),Ir()+f,!1)}function js(f,h,g,y){if(!y)if(3==(3&h[vt])){const O=f.preOrderCheckHooks;null!==O&&aa(h,O,g)}else{const O=f.preOrderHooks;null!==O&&so(h,O,0,g)}rn(g)}function Uh(f,h=null,g=null,y){const S=$h(f,h,g,y);return S.resolveInjectorInitializers(),S}function $h(f,h=null,g=null,y,S=new Set){const O=[g||bt,Ta(f)];return y=y||("object"==typeof f?void 0:Ht(f)),new Mh(O,h||pu(),y||null,S)}let ho=(()=>{class f{static create(g,y){if(Array.isArray(g))return Uh({name:""},y,g,"");{const S=g.name??"";return Uh({name:S},g.parent,g.providers,S)}}}return f.THROW_IF_NOT_FOUND=Qi,f.NULL=new Ph,f.\u0275prov=Mt({token:f,providedIn:"any",factory:()=>_t(bh)}),f.__NG_ELEMENT_ID__=-1,f})();function lt(f,h=it.Default){const g=Te();return null===g?_t(f,h):Ff(Or(),g,Je(f),h)}function eg(f,h){const g=f.contentQueries;if(null!==g)for(let y=0;y<g.length;y+=2){const O=g[y+1];if(-1!==O){const R=f.data[O];Mi(g[y]),R.contentQueries(2,h[O],O)}}}function Cu(f,h,g,y,S,O,R,x,F,k,H){const z=h.blueprint.slice();return z[bi]=S,z[vt]=76|y,(null!==H||f&&1024&f[vt])&&(z[vt]|=1024),ao(z),z[tr]=z[to]=f,z[Gt]=g,z[Dl]=R||f&&f[Dl],z[yt]=x||f&&f[yt],z[na]=F||f&&f[na]||null,z[Ol]=k||f&&f[Ol]||null,z[Sr]=O,z[Hn]=function Fn(){return T_++}(),z[ro]=H,z[wr]=2==h.type?f[wr]:z,z}function Gi(f,h,g,y,S){let O=f.data[h];if(null===O)O=function xd(f,h,g,y,S){const O=Sf(),R=Ll(),F=f.data[h]=function qy(f,h,g,y,S,O){return{type:g,index:y,insertBeforeIndex:null,injectorIndex:h?h.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:S,attrs:O,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:h,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,R?O:O&&O.parent,g,h,y,S);return null===f.firstChild&&(f.firstChild=F),null!==O&&(R?null==O.child&&null!==F.parent&&(O.child=F):null===O.next&&(O.next=F,F.prev=O)),F}(f,h,g,y,S),function Zv(){return ht.lFrame.inI18n}()&&(O.flags|=32);else if(64&O.type){O.type=g,O.value=y,O.attrs=S;const R=function ds(){const f=ht.lFrame,h=f.currentTNode;return f.isParent?h:h.parent}();O.injectorIndex=null===R?-1:R.injectorIndex}return li(O,!0),O}function Fa(f,h,g,y){if(0===g)return-1;const S=h.length;for(let O=0;O<g;O++)h.push(y),f.blueprint.push(y),f.data.push(null);return S}function Id(f,h,g){Nl(h);try{const y=f.viewQuery;null!==y&&Hd(1,y,g);const S=f.template;null!==S&&Jn(f,h,S,1,g),f.firstCreatePass&&(f.firstCreatePass=!1),f.staticContentQueries&&eg(f,h),f.staticViewQueries&&Hd(2,f.viewQuery,g);const O=f.components;null!==O&&function Ad(f,h){for(let g=0;g<h.length;g++)cm(f,h[g])}(h,O)}catch(y){throw f.firstCreatePass&&(f.incompleteFirstPass=!0,f.firstCreatePass=!1),y}finally{h[vt]&=-5,Gl()}}function go(f,h,g,y){const S=h[vt];if(128!=(128&S)){Nl(h);try{ao(h),function Fl(f){return ht.lFrame.bindingIndex=f}(f.bindingStartIndex),null!==g&&Jn(f,h,g,2,y);const R=3==(3&S);if(R){const k=f.preOrderCheckHooks;null!==k&&aa(h,k,null)}else{const k=f.preOrderHooks;null!==k&&so(h,k,0,null),Bl(h,0)}if(function lm(f){for(let h=Zc(f);null!==h;h=Qc(h)){if(!h[ls])continue;const g=h[Ri];for(let y=0;y<g.length;y++){const S=g[y];512&S[vt]||en(S[tr],1),S[vt]|=512}}}(h),function sm(f){for(let h=Zc(f);null!==h;h=Qc(h))for(let g=kt;g<h.length;g++){const y=h[g],S=y[We];Il(y)&&go(S,y,S.template,y[Gt])}}(h),null!==f.contentQueries&&eg(f,h),R){const k=f.contentCheckHooks;null!==k&&aa(h,k)}else{const k=f.contentHooks;null!==k&&so(h,k,1),Bl(h,1)}!function La(f,h){const g=f.hostBindingOpCodes;if(null!==g)try{for(let y=0;y<g.length;y++){const S=g[y];if(S<0)rn(~S);else{const O=S,R=g[++y],x=g[++y];ps(R,O),x(2,h[O])}}}finally{rn(-1)}}(f,h);const x=f.components;null!==x&&function Ys(f,h){for(let g=0;g<h.length;g++)um(f,h[g])}(h,x);const F=f.viewQuery;if(null!==F&&Hd(2,F,y),R){const k=f.viewCheckHooks;null!==k&&aa(h,k)}else{const k=f.viewHooks;null!==k&&so(h,k,2),Bl(h,2)}!0===f.firstUpdatePass&&(f.firstUpdatePass=!1),h[vt]&=-41,512&h[vt]&&(h[vt]&=-513,en(h[tr],-1))}finally{Gl()}}}function Jn(f,h,g,y,S){const O=Ir(),R=2&y;try{rn(-1),R&&h.length>Lt&&js(f,h,Lt,!1),_n(R?2:0,S),g(y,S)}finally{rn(O),_n(R?3:1,S)}}function Ld(f,h,g){if(gr(h)){const S=h.directiveEnd;for(let O=h.directiveStart;O<S;O++){const R=f.data[O];R.contentQueries&&R.contentQueries(1,g[O],O)}}}function tg(f){const h=f.tView;return null===h||h.incompleteFirstPass?f.tView=jo(1,null,f.template,f.decls,f.vars,f.directiveDefs,f.pipeDefs,f.viewQuery,f.schemas,f.consts):h}function jo(f,h,g,y,S,O,R,x,F,k){const H=Lt+y,z=H+S,te=function zy(f,h){const g=[];for(let y=0;y<h;y++)g.push(y<f?null:st);return g}(H,z),ie="function"==typeof k?k():k;return te[We]={type:f,blueprint:te,template:g,queries:null,viewQuery:x,declTNode:h,data:te.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof O?O():O,pipeRegistry:"function"==typeof R?R():R,firstChild:null,schemas:F,consts:ie,incompleteFirstPass:!1}}function rg(f,h,g,y){for(let S in f)if(f.hasOwnProperty(S)){g=null===g?{}:g;const O=f[S];null===y?ng(g,h,S,O):y.hasOwnProperty(S)&&ng(g,h,y[S],O)}return g}function ng(f,h,g,y){f.hasOwnProperty(g)?f[g].push(h,y):f[g]=[h,y]}function ig(f,h){const g=mn(h,f);16&g[vt]||(g[vt]|=32)}function ag(f,h,g,y,S,O){for(let k=0;k<y.length;k++)Mc(ui(g,h),f,y[k].type);!function nm(f,h,g){f.flags|=1,f.directiveStart=h,f.directiveEnd=h+g,f.providerIndexes=h}(g,f.data.length,y.length);for(let k=0;k<y.length;k++){const H=y[k];H.providersResolver&&H.providersResolver(H)}let R=!1,x=!1,F=Fa(f,h,y.length,null);for(let k=0;k<y.length;k++){const H=y[k];g.mergedAttrs=la(g.mergedAttrs,H.hostAttrs),Bd(f,g,h,F,H),rm(F,H,S),null!==H.contentQueries&&(g.flags|=4),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(g.flags|=64);const z=H.type.prototype;!R&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((f.preOrderHooks||(f.preOrderHooks=[])).push(g.index),R=!0),!x&&(z.ngOnChanges||z.ngDoCheck)&&((f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(g.index),x=!0),F++}!function Nd(f,h,g){const S=h.directiveEnd,O=f.data,R=h.attrs,x=[];let F=null,k=null;for(let H=h.directiveStart;H<S;H++){const z=O[H],te=g?g.get(z):null,ue=te?te.outputs:null;F=rg(z.inputs,H,F,te?te.inputs:null),k=rg(z.outputs,H,k,ue);const ye=null===F||null===R||Bh(h)?null:am(F,H,R);x.push(ye)}null!==F&&(F.hasOwnProperty("class")&&(h.flags|=8),F.hasOwnProperty("style")&&(h.flags|=16)),h.initialInputs=x,h.inputs=F,h.outputs=k}(f,g,O)}function Na(f,h,g){const y=g.directiveStart,S=g.directiveEnd,O=g.index,R=function Qv(){return ht.lFrame.currentDirectiveIndex}();try{rn(O);for(let x=y;x<S;x++){const F=f.data[x],k=h[x];wc(x),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&em(F,k)}}finally{rn(-1),wc(R)}}function em(f,h){null!==f.hostBindings&&f.hostBindings(1,h)}function Gd(f,h,g){h.componentOffset=g,(f.components||(f.components=[])).push(h.index)}function rm(f,h,g){if(g){if(h.exportAs)for(let y=0;y<h.exportAs.length;y++)g[h.exportAs[y]]=f;vn(h)&&(g[""]=f)}}function Bd(f,h,g,y,S){f.data[y]=S;const O=S.factory||(S.factory=Vt(S.type)),R=new vs(O,vn(S),lt);f.blueprint[y]=R,g[y]=R,function Jy(f,h,g,y,S){const O=S.hostBindings;if(O){let R=f.hostBindingOpCodes;null===R&&(R=f.hostBindingOpCodes=[]);const x=~h.index;(function Zy(f){let h=f.length;for(;h>0;){const g=f[--h];if("number"==typeof g&&g<0)return g}return 0})(R)!=x&&R.push(x),R.push(g,y,O)}}(f,h,y,Fa(f,g,S.hostVars,st),S)}function om(f,h,g,y,S,O){const R=O[h];if(null!==R){const x=y.setInput;for(let F=0;F<R.length;){const k=R[F++],H=R[F++],z=R[F++];null!==x?y.setInput(g,z,k,H):g[H]=z}}}function am(f,h,g){let y=null,S=0;for(;S<g.length;){const O=g[S];if(0!==O)if(5!==O){if("number"==typeof O)break;if(f.hasOwnProperty(O)){null===y&&(y=[]);const R=f[O];for(let x=0;x<R.length;x+=2)if(R[x]===h){y.push(O,R[x+1],g[S+1]);break}}S+=2}else S+=2;else S+=4}return y}function um(f,h){const g=mn(h,f);if(Il(g)){const y=g[We];48&g[vt]?go(y,g,y.template,g[Gt]):g[Wn]>0&&Vd(g)}}function Vd(f){for(let y=Zc(f);null!==y;y=Qc(y))for(let S=kt;S<y.length;S++){const O=y[S];if(Il(O))if(512&O[vt]){const R=O[We];go(R,O,R.template,O[Gt])}else O[Wn]>0&&Vd(O)}const g=f[We].components;if(null!==g)for(let y=0;y<g.length;y++){const S=mn(g[y],f);Il(S)&&S[Wn]>0&&Vd(S)}}function cm(f,h){const g=mn(h,f),y=g[We];(function dm(f,h){for(let g=h.length;g<f.blueprint.length;g++)h.push(f.blueprint[g])})(y,g),Id(y,g,g[Gt])}function Xs(f,h){return f[as]?f[cc][gn]=h:f[as]=h,f[cc]=h,h}function Wd(f){for(;f;){f[vt]|=32;const h=Ze(f);if(pc(f)&&!h)return f;f=h}return null}function Eu(f,h,g,y=!0){const S=h[Dl];S.begin&&S.begin();try{go(f,h,f.template,g)}catch(R){throw y&&cg(h,R),R}finally{S.end&&S.end()}}function Hd(f,h,g){Mi(0),h(f,g)}function lg(f){return f[Pi]||(f[Pi]=[])}function ug(f){return f.cleanup||(f.cleanup=[])}function cg(f,h){const g=f[Ol],y=g?g.get(Ho,null):null;y&&y.handleError(h)}function Ud(f,h,g,y,S){for(let O=0;O<g.length;){const R=g[O++],x=g[O++],F=h[R],k=f.data[R];null!==k.setInput?k.setInput(F,S,y,x):F[x]=S}}function gi(f,h,g){const y=function xl(f,h){return Ar(h[f])}(h,f);!function nh(f,h,g){f.setValue(h,g)}(f[yt],y,g)}function Su(f,h,g){let y=g?f.styles:null,S=g?f.classes:null,O=0;if(null!==h)for(let R=0;R<h.length;R++){const x=h[R];"number"==typeof x?O=x:1==O?S=Ju(S,x):2==O&&(y=Ju(y,x+": "+h[++R]+";"))}g?f.styles=y:f.stylesWithoutHost=y,g?f.classes=S:f.classesWithoutHost=S}function Ba(f,h,g,y,S=!1){for(;null!==g;){const O=h[g.index];if(null!==O&&y.push(Ar(O)),Vr(O))for(let x=kt;x<O.length;x++){const F=O[x],k=F[We].firstChild;null!==k&&Ba(F[We],F,k,y)}const R=g.type;if(8&R)Ba(f,h,g.child,y);else if(32&R){const x=Xc(g,h);let F;for(;F=x();)y.push(F)}else if(16&R){const x=ph(h,g);if(Array.isArray(x))y.push(...x);else{const F=Ze(h[wr]);Ba(F[We],F,x,y,!0)}}g=S?g.projectionNext:g.next}return y}class Zs{get rootNodes(){const h=this._lView,g=h[We];return Ba(g,h,g.firstChild,[])}constructor(h,g){this._lView=h,this._cdRefInjectingView=g,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(h){this._lView[Gt]=h}get destroyed(){return 128==(128&this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const h=this._lView[tr];if(Vr(h)){const g=h[io],y=g?g.indexOf(this):-1;y>-1&&(td(h,y),Kl(g,y))}this._attachedToViewContainer=!1}oh(this._lView[We],this._lView)}onDestroy(h){!function fi(f,h,g,y){const S=lg(h);null===g?S.push(y):(S.push(g),f.firstCreatePass&&ug(f).push(y,S.length-1))}(this._lView[We],this._lView,null,h)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[vt]&=-65}reattach(){this._lView[vt]|=64}detectChanges(){Eu(this._lView[We],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function k_(f,h){ba(f,h,h[yt],2,null,null)}(this._lView[We],this._lView)}attachToAppRef(h){if(this._attachedToViewContainer)throw new Ke(902,!1);this._appRef=h}}class pm extends Zs{constructor(h){super(h),this._view=h}detectChanges(){const h=this._view;Eu(h[We],h,h[Gt],!1)}checkNoChanges(){}get context(){return null}}class dg extends Vs{constructor(h){super(),this.ngModule=h}resolveComponentFactory(h){const g=At(h);return new Qs(g,this.ngModule)}}function pg(f){const h=[];for(let g in f)f.hasOwnProperty(g)&&h.push({propName:f[g],templateName:g});return h}class $d{constructor(h,g){this.injector=h,this.parentInjector=g}get(h,g,y){y=Di(y);const S=this.injector.get(h,xa,y);return S!==xa||g===xa?S:this.parentInjector.get(h,g,y)}}class Qs extends Vo{get inputs(){return pg(this.componentDef.inputs)}get outputs(){return pg(this.componentDef.outputs)}constructor(h,g){super(),this.componentDef=h,this.ngModule=g,this.componentType=h.type,this.selector=function Iy(f){return f.map(bd).join(",")}(h.selectors),this.ngContentSelectors=h.ngContentSelectors?h.ngContentSelectors:[],this.isBoundToModule=!!g}create(h,g,y,S){let O=(S=S||this.ngModule)instanceof Fi?S:S?.injector;O&&null!==this.componentDef.getStandaloneInjector&&(O=this.componentDef.getStandaloneInjector(O)||O);const R=O?new $d(h,O):h,x=R.get(hu,null);if(null===x)throw new Ke(407,!1);const F=R.get(Ws,null),k=x.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",z=y?function Yy(f,h,g){return f.selectRootElement(h,g===Tn.ShadowDom)}(k,y,this.componentDef.encapsulation):Da(k,H,function fm(f){const h=f.toLowerCase();return"svg"===h?"svg":"math"===h?"math":null}(H)),te=this.componentDef.onPush?288:272,ie=jo(0,null,null,1,0,null,null,null,null,null),ue=Cu(null,ie,null,te,null,null,x,k,F,R,null);let ye,xe;Nl(ue);try{const Ae=this.componentDef;let Ue,Pe=null;Ae.findHostDirectiveDefs?(Ue=[],Pe=new Map,Ae.findHostDirectiveDefs(Ae,Ue,Pe),Ue.push(Ae)):Ue=[Ae];const tt=function gm(f,h){const g=f[We],y=Lt;return f[y]=h,Gi(g,y,2,"#host",null)}(ue,z),$t=function vm(f,h,g,y,S,O,R,x){const F=S[We];!function hg(f,h,g,y){for(const S of f)h.mergedAttrs=la(h.mergedAttrs,S.hostAttrs);null!==h.mergedAttrs&&(Su(h,h.mergedAttrs,!0),null!==g&&ru(y,g,h))}(y,f,h,R);const k=O.createRenderer(h,g),H=Cu(S,tg(g),null,g.onPush?32:16,S[f.index],f,O,k,x||null,null,null);return F.firstCreatePass&&Gd(F,f,y.length-1),Xs(S,H),S[f.index]=H}(tt,z,Ae,Ue,ue,x,k);xe=yf(ie,Lt),z&&function ym(f,h,g,y){if(y)sa(f,g,["ng-version",Cy.full]);else{const{attrs:S,classes:O}=function gu(f){const h=[],g=[];let y=1,S=2;for(;y<f.length;){let O=f[y];if("string"==typeof O)2===S?""!==O&&h.push(O,f[++y]):8===S&&g.push(O);else{if(!En(S))break;S=O}y++}return{attrs:h,classes:g}}(h.selectors[0]);S&&sa(f,g,S),O&&O.length>0&&sd(f,g,O.join(" "))}}(k,Ae,z,y),void 0!==g&&function wu(f,h,g){const y=f.projection=[];for(let S=0;S<h.length;S++){const O=g[S];y.push(null!=O?Array.from(O):null)}}(xe,this.ngContentSelectors,g),ye=function _m(f,h,g,y,S,O){const R=Or(),x=S[We],F=yn(R,S);ag(x,S,R,g,null,y);for(let H=0;H<g.length;H++)Hr(Mo(S,x,R.directiveStart+H,R),S);Na(x,S,R),F&&Hr(F,S);const k=Mo(S,x,R.directiveStart+R.componentOffset,R);if(f[Gt]=S[Gt]=k,null!==O)for(const H of O)H(k,h);return Ld(x,R,f),k}($t,Ae,Ue,Pe,ue,[mm]),Id(ie,ue,null)}finally{Gl()}return new hm(this.componentType,ye,Aa(xe,ue),ue,xe)}}class hm extends vy{constructor(h,g,y,S,O){super(),this.location=y,this._rootLView=S,this._tNode=O,this.instance=g,this.hostView=this.changeDetectorRef=new pm(S),this.componentType=h}setInput(h,g){const y=this._tNode.inputs;let S;if(null!==y&&(S=y[h])){const O=this._rootLView;Ud(O[We],O,S,h,g),ig(O,this._tNode.index)}}get injector(){return new ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(h){this.hostView.onDestroy(h)}}function mm(){const f=Or();gs(Te()[We],f)}function zr(f,h,g){return!Object.is(f[h],g)&&(f[h]=g,!0)}function Tu(f,h,g){const y=Te();return zr(y,bo(),h)&&function Sn(f,h,g,y,S,O,R,x){const F=yn(h,g);let H,k=h.inputs;!x&&null!=k&&(H=k[y])?(Ud(f,g,H,y,S),us(h)&&ig(g,h.index)):3&h.type&&(y=function Xy(f){return"class"===f?"className":"for"===f?"htmlFor":"formaction"===f?"formAction":"innerHtml"===f?"innerHTML":"readonly"===f?"readOnly":"tabindex"===f?"tabIndex":f}(y),S=null!=R?R(S,h.value||"",y):S,O.setProperty(F,y,S))}(Ge(),function Jt(){const f=ht.lFrame;return yf(f.tView,f.selectedIndex)}(),y,f,h,y[yt],g,!1),Tu}function Qd(f,h,g,y,S){const R=S?"class":"style";Ud(f,g,h.inputs[R],R,y)}function Yr(f,h,g,y){const S=Te(),O=Ge(),R=Lt+f,x=S[yt],F=O.firstCreatePass?function Mm(f,h,g,y,S,O){const R=h.consts,F=Gi(h,f,2,y,an(R,S));return function vo(f,h,g,y){if(Ef()){const S=null===y?null:{"":-1},O=function tm(f,h){const g=f.directiveRegistry;let y=null,S=null;if(g)for(let O=0;O<g.length;O++){const R=g[O];if(kh(h,R.selectors,!1))if(y||(y=[]),vn(R))if(null!==R.findHostDirectiveDefs){const x=[];S=S||new Map,R.findHostDirectiveDefs(R,x,S),y.unshift(...x,R),Gd(f,h,x.length)}else y.unshift(R),Gd(f,h,0);else S=S||new Map,R.findHostDirectiveDefs?.(R,y,S),y.push(R)}return null===y?null:[y,S]}(f,g);let R,x;null===O?R=x=null:[R,x]=O,null!==R&&ag(f,h,g,R,S,x),S&&function qs(f,h,g){if(h){const y=f.localNames=[];for(let S=0;S<h.length;S+=2){const O=g[h[S+1]];if(null==O)throw new Ke(-301,!1);y.push(h[S],O)}}}(g,y,S)}g.mergedAttrs=la(g.mergedAttrs,g.attrs)}(h,g,F,an(R,O)),null!==F.attrs&&Su(F,F.attrs,!1),null!==F.mergedAttrs&&Su(F,F.mergedAttrs,!0),null!==h.queries&&h.queries.elementStart(h,F),F}(R,O,S,h,g,y):O.data[R],k=S[R]=Da(x,h,function r_(){return ht.lFrame.currentNamespace}()),H=bl(F);return li(F,!0),ru(x,k,F),32!=(32&F.flags)&&As(O,S,k,F),0===function cs(){return ht.lFrame.elementDepthCount}()&&Hr(k,S),function xn(){ht.lFrame.elementDepthCount++}(),H&&(function Fd(f,h,g){Ef()&&(function Qy(f,h,g,y){const S=g.directiveStart,O=g.directiveEnd;us(g)&&function im(f,h,g){const y=yn(h,f),S=tg(g),O=f[Dl],R=Xs(f,Cu(f,S,null,g.onPush?32:16,y,h,O,O.createRenderer(y,g),null,null,null));f[h.index]=R}(h,g,f.data[S+g.componentOffset]),f.firstCreatePass||ui(g,h),Hr(y,h);const R=g.initialInputs;for(let x=S;x<O;x++){const F=f.data[x],k=Mo(h,f,x,g);Hr(k,h),null!==R&&om(0,x-S,k,F,0,R),vn(F)&&(mn(g.index,h)[Gt]=Mo(h,f,x,g))}}(f,h,g,yn(g,h)),64==(64&g.flags)&&Na(f,h,g))}(O,S,F),Ld(O,F,S)),null!==y&&function $o(f,h,g=yn){const y=h.localNames;if(null!==y){let S=h.index+1;for(let O=0;O<y.length;O+=2){const R=y[O+1],x=-1===R?g(h,f):f[R];f[S++]=x}}}(S,F),Yr}function On(){let f=Or();Ll()?function Cc(){ht.lFrame.isParent=!1}():(f=f.parent,li(f,!1));const h=f;!function yc(){ht.lFrame.elementDepthCount--}();const g=Ge();return g.firstCreatePass&&(gs(g,f),gr(f)&&g.queries.elementEnd(f)),null!=h.classesWithoutHost&&function n_(f){return 0!=(8&f.flags)}(h)&&Qd(g,h,Te(),h.classesWithoutHost,!0),null!=h.stylesWithoutHost&&function i_(f){return 0!=(16&f.flags)}(h)&&Qd(g,h,Te(),h.stylesWithoutHost,!1),On}function ep(f,h,g,y){return Yr(f,h,g,y),On(),ep}function np(f){return!!f&&"function"==typeof f.then}function bg(f){return!!f&&"function"==typeof f.subscribe}const xm=bg;function _i(f,h,g,y){const S=Te(),O=Ge(),R=Or();return function Rg(f,h,g,y,S,O,R){const x=bl(y),k=f.firstCreatePass&&ug(f),H=h[Gt],z=lg(h);let te=!0;if(3&y.type||R){const ye=yn(y,h),xe=R?R(ye):ye,Ae=z.length,Ue=R?tt=>R(Ar(tt[y.index])):y.index;let Pe=null;if(!R&&x&&(Pe=function Pg(f,h,g,y){const S=f.cleanup;if(null!=S)for(let O=0;O<S.length-1;O+=2){const R=S[O];if(R===g&&S[O+1]===y){const x=h[Pi],F=S[O+2];return x.length>F?x[F]:null}"string"==typeof R&&(O+=2)}return null}(f,h,S,y.index)),null!==Pe)(Pe.__ngLastListenerFn__||Pe).__ngNextListenerFn__=O,Pe.__ngLastListenerFn__=O,te=!1;else{O=Tg(y,h,H,O,!1);const tt=g.listen(xe,S,O);z.push(O,tt),k&&k.push(S,Ue,Ae,Ae+1)}}else O=Tg(y,h,H,O,!1);const ie=y.outputs;let ue;if(te&&null!==ie&&(ue=ie[S])){const ye=ue.length;if(ye)for(let xe=0;xe<ye;xe+=2){const $t=h[ue[xe]][ue[xe+1]].subscribe(O),mr=z.length;z.push(O,$t),k&&k.push(S,y.index,mr,-(mr+1))}}}(O,S,S[yt],R,f,h,y),_i}function Ka(f,h,g,y){try{return _n(6,h,g),!1!==g(y)}catch(S){return cg(f,S),!1}finally{_n(7,h,g)}}function Tg(f,h,g,y,S){return function O(R){if(R===Function)return y;Wd(f.componentOffset>-1?mn(f.index,h):h);let F=Ka(h,g,y,R),k=O.__ngNextListenerFn__;for(;k;)F=Ka(h,g,k,R)&&F,k=k.__ngNextListenerFn__;return S&&!1===F&&(R.preventDefault(),R.returnValue=!1),F}}function qa(f,h=""){const g=Te(),y=Ge(),S=f+Lt,O=y.firstCreatePass?Gi(y,S,1,h,null):y.data[S],R=g[S]=function ed(f,h){return f.createText(h)}(g[yt],h);As(y,g,R,O),li(O,!1)}function Bu(f){return Ci("",f,""),Bu}function Ci(f,h,g){const y=Te(),S=function Va(f,h,g,y){return zr(f,bo(),g)?h+ct(g)+y:st}(y,f,h,g);return S!==st&&gi(y,Ir(),S),Ci}const Dt="en-US";let qr=Dt;function aC(f,h,g,y,S){if(f=Je(f),Array.isArray(f))for(let O=0;O<f.length;O++)aC(f[O],h,g,y,S);else{const O=Ge(),R=Te();let x=ko(f)?f:Je(f.provide),F=Ah(f);const k=Or(),H=1048575&k.providerIndexes,z=k.directiveStart,te=k.providerIndexes>>20;if(ko(f)||!f.multi){const ie=new vs(F,S,lt),ue=lC(x,h,S?H:H+te,z);-1===ue?(Mc(ui(k,R),O,x),sC(O,f,h.length),h.push(x),k.directiveStart++,k.directiveEnd++,S&&(k.providerIndexes+=1048576),g.push(ie),R.push(ie)):(g[ue]=ie,R[ue]=ie)}else{const ie=lC(x,h,H+te,z),ue=lC(x,h,H,H+te),xe=ue>=0&&g[ue];if(S&&!xe||!S&&!(ie>=0&&g[ie])){Mc(ui(k,R),O,x);const Ae=function pb(f,h,g,y,S){const O=new vs(f,g,lt);return O.multi=[],O.index=h,O.componentProviders=0,jS(O,S,y&&!g),O}(S?db:cb,g.length,S,y,F);!S&&xe&&(g[ue].providerFactory=Ae),sC(O,f,h.length,0),h.push(x),k.directiveStart++,k.directiveEnd++,S&&(k.providerIndexes+=1048576),g.push(Ae),R.push(Ae)}else sC(O,f,ie>-1?ie:ue,jS(g[S?ue:ie],F,!S&&y));!S&&y&&xe&&g[ue].componentProviders++}}}function sC(f,h,g,y){const S=ko(h),O=function py(f){return!!f.useClass}(h);if(S||O){const F=(O?Je(h.useClass):h).prototype.ngOnDestroy;if(F){const k=f.destroyHooks||(f.destroyHooks=[]);if(!S&&h.multi){const H=k.indexOf(g);-1===H?k.push(g,[y,F]):k[H+1].push(y,F)}else k.push(g,F)}}}function jS(f,h,g){return g&&f.componentProviders++,f.multi.push(h)-1}function lC(f,h,g,y){for(let S=g;S<y;S++)if(h[S]===f)return S;return-1}function cb(f,h,g,y){return uC(this.multi,[])}function db(f,h,g,y){const S=this.multi;let O;if(this.providerFactory){const R=this.providerFactory.componentProviders,x=Mo(g,g[We],this.providerFactory.index,y);O=x.slice(0,R),uC(S,O);for(let F=R;F<x.length;F++)O.push(x[F])}else O=[],uC(S,O);return O}function uC(f,h){for(let g=0;g<f.length;g++)h.push((0,f[g])());return h}function KS(f,h=[]){return g=>{g.providersResolver=(y,S)=>function ub(f,h,g){const y=Ge();if(y.firstCreatePass){const S=vn(f);aC(g,y.data,y.blueprint,S,!0),aC(h,y.data,y.blueprint,S,!1)}}(y,S?S(f):f,h)}}class Hu{}class fb{}class zS extends Hu{constructor(h,g){super(),this._parent=g,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dg(this);const y=function Zr(f,h){const g=f[Sl]||null;if(!g&&!0===h)throw new Error(`Type ${Ht(f)} does not have '\u0275mod' property.`);return g}(h);this._bootstrapComponents=function pi(f){return f instanceof Function?f():f}(y.bootstrap),this._r3Injector=$h(h,g,[{provide:Hu,useValue:this},{provide:Vs,useValue:this.componentFactoryResolver}],Ht(h),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(h)}get injector(){return this._r3Injector}destroy(){const h=this._r3Injector;!h.destroyed&&h.destroy(),this.destroyCbs.forEach(g=>g()),this.destroyCbs=null}onDestroy(h){this.destroyCbs.push(h)}}class cC extends fb{constructor(h){super(),this.moduleType=h}create(h){return new zS(this.moduleType,h)}}function tw(f,h,g,y,S,O){const R=h+g;return zr(f,R,S)?function vi(f,h,g){return f[h]=g}(f,R+1,O?y.call(O,S):y(S)):function Dp(f,h){const g=f[h];return g===st?void 0:g}(f,R+1)}function sw(f,h,g){const y=f+Lt,S=Te(),O=function oo(f,h){return f[h]}(S,y);return function bp(f,h){return f[We].data[h].pure}(S,y)?tw(S,function tn(){const f=ht.lFrame;let h=f.bindingRootIndex;return-1===h&&(h=f.bindingRootIndex=f.tView.bindingStartIndex),h}(),h,O.transform,g,O):O.transform(g)}function pC(f){return h=>{setTimeout(f,void 0,h)}}const Fe=class Hb extends Ve{constructor(h=!1){super(),this.__isAsync=h}emit(h){super.next(h)}subscribe(h,g,y){let S=h,O=g||(()=>null),R=y;if(h&&"object"==typeof h){const F=h;S=F.next?.bind(F),O=F.error?.bind(F),R=F.complete?.bind(F)}this.__isAsync&&(O=pC(O),S&&(S=pC(S)),R&&(R=pC(R)));const x=super.subscribe({next:S,error:O,complete:R});return h instanceof v&&h.add(x),x}};let Hi=(()=>{class f{}return f.__NG_ELEMENT_ID__=zb,f})();function zb(){return function cw(f,h){let g;const y=h[f.index];if(Vr(y))g=y;else{let S;if(8&f.type)S=Ar(y);else{const O=h[yt];S=O.createComment("");const R=yn(f,h);Fo(O,$r(O,R),S,function $_(f,h){return f.nextSibling(h)}(O,R),!1)}h[f.index]=g=function kd(f,h,g,y){return[f,!0,!1,h,null,0,y,g,null,null]}(y,h,S,f),Xs(h,g)}return new lw(g,f,h)}(Or(),Te())}const Yb=Hi,lw=class extends Yb{constructor(h,g,y){super(),this._lContainer=h,this._hostTNode=g,this._hostLView=y}get element(){return Aa(this._hostTNode,this._hostLView)}get injector(){return new ua(this._hostTNode,this._hostLView)}get parentInjector(){const h=nn(this._hostTNode,this._hostLView);if(ms(h)){const g=Vl(h,this._hostLView),y=Cs(h);return new ua(g[We].data[y+8],g)}return new ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(h){const g=uw(this._lContainer);return null!==g&&g[h]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(h,g,y){let S,O;"number"==typeof y?S=y:null!=y&&(S=y.index,O=y.injector);const R=h.createEmbeddedView(g||{},O);return this.insert(R,S),R}createComponent(h,g,y,S,O){const R=h&&!function Os(f){return"function"==typeof f}(h);let x;if(R)x=g;else{const z=g||{};x=z.index,y=z.injector,S=z.projectableNodes,O=z.environmentInjector||z.ngModuleRef}const F=R?h:new Qs(At(h)),k=y||this.parentInjector;if(!O&&null==F.ngModule){const te=(R?k:this.parentInjector).get(Fi,null);te&&(O=te)}const H=F.create(k,S,void 0,O);return this.insert(H.hostView,x),H}insert(h,g){const y=h._lView,S=y[We];if(function Ye(f){return Vr(f[tr])}(y)){const H=this.indexOf(h);if(-1!==H)this.detach(H);else{const z=y[tr],te=new lw(z,z[Sr],z[tr]);te.detach(te.indexOf(h))}}const O=this._adjustIndex(g),R=this._lContainer;!function W_(f,h,g,y){const S=kt+y,O=g.length;y>0&&(g[S-1][gn]=h),y<O-kt?(h[gn]=g[S],va(g,kt+y,h)):(g.push(h),h[gn]=null),h[tr]=g;const R=h[ft];null!==R&&g!==R&&function H_(f,h){const g=f[Ri];h[wr]!==h[tr][tr][wr]&&(f[ls]=!0),null===g?f[Ri]=[h]:g.push(h)}(R,h);const x=h[Qr];null!==x&&x.insertView(f),h[vt]|=64}(S,y,R,O);const x=tu(O,R),F=y[yt],k=$r(F,R[no]);return null!==k&&function B_(f,h,g,y,S,O){y[bi]=S,y[Sr]=h,ba(f,y,g,1,S,O)}(S,R[Sr],F,y,k,x),h.attachToViewContainerRef(),va(hC(R),O,h),h}move(h,g){return this.insert(h,g)}indexOf(h){const g=uw(this._lContainer);return null!==g?g.indexOf(h):-1}remove(h){const g=this._adjustIndex(h,-1),y=td(this._lContainer,g);y&&(Kl(hC(this._lContainer),g),oh(y[We],y))}detach(h){const g=this._adjustIndex(h,-1),y=td(this._lContainer,g);return y&&null!=Kl(hC(this._lContainer),g)?new Zs(y):null}_adjustIndex(h,g=0){return h??this.length+g}};function uw(f){return f[io]}function hC(f){return f[io]||(f[io]=[])}function rv(...f){}const Lw=new at("Application Initializer");let nv=(()=>{class f{constructor(g){this.appInits=g,this.resolve=rv,this.reject=rv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,S)=>{this.resolve=y,this.reject=S})}runInitializers(){if(this.initialized)return;const g=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let S=0;S<this.appInits.length;S++){const O=this.appInits[S]();if(np(O))g.push(O);else if(xm(O)){const R=new Promise((x,F)=>{O.subscribe({complete:x,error:F})});g.push(R)}}Promise.all(g).then(()=>{y()}).catch(S=>{this.reject(S)}),0===g.length&&y(),this.initialized=!0}}return f.\u0275fac=function(g){return new(g||f)(_t(Lw,8))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Rp=new at("AppId",{providedIn:"root",factory:function Fw(){return`${OC()}${OC()}${OC()}`}});function OC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nw=new at("Platform Initializer"),DC=new at("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qo=new at("LocaleId",{providedIn:"root",factory:()=>ta(qo,it.Optional|it.SkipSelf)||function DP(){return typeof $localize<"u"&&$localize.locale||Dt}()}),MP=(()=>Promise.resolve(0))();function bC(f){typeof Zone>"u"?MP.then(()=>{f&&f.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",f)}class Xr{constructor({enableLongStackTrace:h=!1,shouldCoalesceEventChangeDetection:g=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new Ke(908,!1);Zone.assertZonePatched();const S=this;S._nesting=0,S._outer=S._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(S._inner=S._inner.fork(new Zone.TaskTrackingZoneSpec)),h&&Zone.longStackTraceZoneSpec&&(S._inner=S._inner.fork(Zone.longStackTraceZoneSpec)),S.shouldCoalesceEventChangeDetection=!y&&g,S.shouldCoalesceRunChangeDetection=y,S.lastRequestAnimationFrameId=-1,S.nativeRequestAnimationFrame=function AP(){let f=Ut.requestAnimationFrame,h=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&f&&h){const g=f[Zone.__symbol__("OriginalDelegate")];g&&(f=g);const y=h[Zone.__symbol__("OriginalDelegate")];y&&(h=y)}return{nativeRequestAnimationFrame:f,nativeCancelAnimationFrame:h}}().nativeRequestAnimationFrame,function LP(f){const h=()=>{!function IP(f){f.isCheckStableRunning||-1!==f.lastRequestAnimationFrameId||(f.lastRequestAnimationFrameId=f.nativeRequestAnimationFrame.call(Ut,()=>{f.fakeTopEventTask||(f.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{f.lastRequestAnimationFrameId=-1,RC(f),f.isCheckStableRunning=!0,PC(f),f.isCheckStableRunning=!1},void 0,()=>{},()=>{})),f.fakeTopEventTask.invoke()}),RC(f))}(f)};f._inner=f._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(g,y,S,O,R,x)=>{try{return kw(f),g.invokeTask(S,O,R,x)}finally{(f.shouldCoalesceEventChangeDetection&&"eventTask"===O.type||f.shouldCoalesceRunChangeDetection)&&h(),Vw(f)}},onInvoke:(g,y,S,O,R,x,F)=>{try{return kw(f),g.invoke(S,O,R,x,F)}finally{f.shouldCoalesceRunChangeDetection&&h(),Vw(f)}},onHasTask:(g,y,S,O)=>{g.hasTask(S,O),y===S&&("microTask"==O.change?(f._hasPendingMicrotasks=O.microTask,RC(f),PC(f)):"macroTask"==O.change&&(f.hasPendingMacrotasks=O.macroTask))},onHandleError:(g,y,S,O)=>(g.handleError(S,O),f.runOutsideAngular(()=>f.onError.emit(O)),!1)})}(S)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xr.isInAngularZone())throw new Ke(909,!1)}static assertNotInAngularZone(){if(Xr.isInAngularZone())throw new Ke(909,!1)}run(h,g,y){return this._inner.run(h,g,y)}runTask(h,g,y,S){const O=this._inner,R=O.scheduleEventTask("NgZoneEvent: "+S,h,xP,rv,rv);try{return O.runTask(R,g,y)}finally{O.cancelTask(R)}}runGuarded(h,g,y){return this._inner.runGuarded(h,g,y)}runOutsideAngular(h){return this._outer.run(h)}}const xP={};function PC(f){if(0==f._nesting&&!f.hasPendingMicrotasks&&!f.isStable)try{f._nesting++,f.onMicrotaskEmpty.emit(null)}finally{if(f._nesting--,!f.hasPendingMicrotasks)try{f.runOutsideAngular(()=>f.onStable.emit(null))}finally{f.isStable=!0}}}function RC(f){f.hasPendingMicrotasks=!!(f._hasPendingMicrotasks||(f.shouldCoalesceEventChangeDetection||f.shouldCoalesceRunChangeDetection)&&-1!==f.lastRequestAnimationFrameId)}function kw(f){f._nesting++,f.isStable&&(f.isStable=!1,f.onUnstable.emit(null))}function Vw(f){f._nesting--,PC(f)}class FP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(h,g,y){return h.apply(g,y)}runGuarded(h,g,y){return h.apply(g,y)}runOutsideAngular(h){return h()}runTask(h,g,y,S){return h.apply(g,y)}}const Ww=new at(""),iv=new at("");let AC,TC=(()=>{class f{constructor(g,y,S){this._ngZone=g,this.registry=y,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,AC||(function NP(f){AC=f}(S),S.addToWindow(y)),this._watchAngularEvents(),g.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xr.assertNotInAngularZone(),bC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bC(()=>{for(;0!==this._callbacks.length;){let g=this._callbacks.pop();clearTimeout(g.timeoutId),g.doneCb(this._didWork)}this._didWork=!1});else{let g=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(g)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(g=>({source:g.source,creationLocation:g.creationLocation,data:g.data})):[]}addCallback(g,y,S){let O=-1;y&&y>0&&(O=setTimeout(()=>{this._callbacks=this._callbacks.filter(R=>R.timeoutId!==O),g(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:g,timeoutId:O,updateCb:S})}whenStable(g,y,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(g,y,S),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(g){this.registry.registerApplication(g,this)}unregisterApplication(g){this.registry.unregisterApplication(g)}findProviders(g,y,S){return[]}}return f.\u0275fac=function(g){return new(g||f)(_t(Xr),_t(MC),_t(iv))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})(),MC=(()=>{class f{constructor(){this._applications=new Map}registerApplication(g,y){this._applications.set(g,y)}unregisterApplication(g){this._applications.delete(g)}unregisterAllApplications(){this._applications.clear()}getTestability(g){return this._applications.get(g)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(g,y=!0){return AC?.findTestabilityInTree(this,g,y)??null}}return f.\u0275fac=function(g){return new(g||f)},f.\u0275prov=Mt({token:f,factory:f.\u0275fac,providedIn:"platform"}),f})();const Xo=!1;let Ja=null;const Hw=new at("AllowMultipleToken"),xC=new at("PlatformDestroyListeners"),GP=new at("appBootstrapListener");function $w(f,h,g=[]){const y=`Platform: ${h}`,S=new at(y);return(O=[])=>{let R=IC();if(!R||R.injector.get(Hw,!1)){const x=[...g,...O,{provide:S,useValue:!0}];f?f(x):function VP(f){if(Ja&&!Ja.get(Hw,!1))throw new Ke(400,!1);Ja=f;const h=f.get(Kw);(function Uw(f){const h=f.get(Nw,null);h&&h.forEach(g=>g())})(f)}(function jw(f=[],h){return ho.create({name:h,providers:[{provide:md,useValue:"platform"},{provide:xC,useValue:new Set([()=>Ja=null])},...f]})}(x,y))}return function HP(f){const h=IC();if(!h)throw new Ke(401,!1);return h}()}}function IC(){return Ja?.get(Kw)??null}let Kw=(()=>{class f{constructor(g){this._injector=g,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(g,y){const S=function Yw(f,h){let g;return g="noop"===f?new FP:("zone.js"===f?void 0:f)||new Xr(h),g}(y?.ngZone,function zw(f){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!f||!f.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!f||!f.ngZoneRunCoalescing)||!1}}(y)),O=[{provide:Xr,useValue:S}];return S.run(()=>{const R=ho.create({providers:O,parent:this.injector,name:g.moduleType.name}),x=g.create(R),F=x.injector.get(Ho,null);if(!F)throw new Ke(402,!1);return S.runOutsideAngular(()=>{const k=S.onError.subscribe({next:H=>{F.handleError(H)}});x.onDestroy(()=>{ov(this._modules,x),k.unsubscribe()})}),function qw(f,h,g){try{const y=g();return np(y)?y.catch(S=>{throw h.runOutsideAngular(()=>f.handleError(S)),S}):y}catch(y){throw h.runOutsideAngular(()=>f.handleError(y)),y}}(F,S,()=>{const k=x.injector.get(nv);return k.runInitializers(),k.donePromise.then(()=>(function Wi(f){bn(f,"Expected localeId to be defined"),"string"==typeof f&&(qr=f.toLowerCase().replace(/_/g,"-"))}(x.injector.get(qo,Dt)||Dt),this._moduleDoBootstrap(x),x))})})}bootstrapModule(g,y=[]){const S=Xw({},y);return function BP(f,h,g){const y=new cC(g);return Promise.resolve(y)}(0,0,g).then(O=>this.bootstrapModuleFactory(O,S))}_moduleDoBootstrap(g){const y=g.injector.get(LC);if(g._bootstrapComponents.length>0)g._bootstrapComponents.forEach(S=>y.bootstrap(S));else{if(!g.instance.ngDoBootstrap)throw new Ke(-403,!1);g.instance.ngDoBootstrap(y)}this._modules.push(g)}onDestroy(g){this._destroyListeners.push(g)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,!1);this._modules.slice().forEach(y=>y.destroy()),this._destroyListeners.forEach(y=>y());const g=this._injector.get(xC,null);g&&(g.forEach(y=>y()),g.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return f.\u0275fac=function(g){return new(g||f)(_t(ho))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac,providedIn:"platform"}),f})();function Xw(f,h){return Array.isArray(h)?h.reduce(Xw,f):{...f,...h}}let LC=(()=>{class f{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(g,y,S){this._zone=g,this._injector=y,this._exceptionHandler=S,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const O=new Re(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),R=new Re(x=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Xr.assertNotInAngularZone(),bC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Xr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{F.unsubscribe(),k.unsubscribe()}});this.isStable=function Fv(...f){const h=qi(f),g=function Me(f,h){return"number"==typeof cl(f)?f.pop():h}(f,1/0),y=f;return y.length?1===y.length?sr(y[0]):function qu(f=1/0){return dn(_e,f)}(g)(pl(y,h)):es}(O,R.pipe(function Nv(f={}){const{connector:h=(()=>new Ve),resetOnError:g=!0,resetOnComplete:y=!0,resetOnRefCountZero:S=!0}=f;return O=>{let R,x,F,k=0,H=!1,z=!1;const te=()=>{x?.unsubscribe(),x=void 0},ie=()=>{te(),R=F=void 0,H=z=!1},ue=()=>{const ye=R;ie(),ye?.unsubscribe()};return $e((ye,xe)=>{k++,!z&&!H&&te();const Ae=F=F??h();xe.add(()=>{k--,0===k&&!z&&!H&&(x=Eo(ue,S))}),Ae.subscribe(xe),!R&&k>0&&(R=new ee({next:Ue=>Ae.next(Ue),error:Ue=>{z=!0,te(),x=Eo(ie,g,Ue),Ae.error(Ue)},complete:()=>{H=!0,te(),x=Eo(ie,y),Ae.complete()}}),sr(ye).subscribe(R))})(O)}}()))}bootstrap(g,y){const S=g instanceof Vo;if(!this._injector.get(nv).done){!S&&function os(f){const h=At(f)||kr(f)||Jr(f);return null!==h&&h.standalone}(g);throw new Ke(405,Xo)}let R;R=S?g:this._injector.get(Vs).resolveComponentFactory(g),this.componentTypes.push(R.componentType);const x=function kP(f){return f.isBoundToModule}(R)?void 0:this._injector.get(Hu),k=R.create(ho.NULL,[],y||R.selector,x),H=k.location.nativeElement,z=k.injector.get(Ww,null);return z?.registerApplication(H),k.onDestroy(()=>{this.detachView(k.hostView),ov(this.components,k),z?.unregisterApplication(H)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Ke(101,!1);try{this._runningTick=!0;for(let g of this._views)g.detectChanges()}catch(g){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(g))}finally{this._runningTick=!1}}attachView(g){const y=g;this._views.push(y),y.attachToAppRef(this)}detachView(g){const y=g;ov(this._views,y),y.detachFromAppRef()}_loadComponent(g){this.attachView(g.hostView),this.tick(),this.components.push(g);const y=this._injector.get(GP,[]);y.push(...this._bootstrapListeners),y.forEach(S=>S(g))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(g=>g()),this._views.slice().forEach(g=>g.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(g){return this._destroyListeners.push(g),()=>ov(this._destroyListeners,g)}destroy(){if(this._destroyed)throw new Ke(406,!1);const g=this._injector;g.destroy&&!g.destroyed&&g.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return f.\u0275fac=function(g){return new(g||f)(_t(Xr),_t(Fi),_t(Ho))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function ov(f,h){const g=f.indexOf(h);g>-1&&f.splice(g,1)}let $P=(()=>{class f{}return f.__NG_ELEMENT_ID__=jP,f})();function jP(f){return function KP(f,h,g){if(us(f)&&!g){const y=mn(f.index,h);return new Zs(y,y)}return 47&f.type?new Zs(h[wr],h):null}(Or(),Te(),16==(16&f))}const a0=$w(null,"core",[]);let s0=(()=>{class f{constructor(g){}}return f.\u0275fac=function(g){return new(g||f)(_t(LC))},f.\u0275mod=eo({type:f}),f.\u0275inj=Ji({}),f})(),kC=null;function uv(){return kC}class c0{}const mo=new at("DocumentToken");function vO(f,h){h=encodeURIComponent(h);for(const g of f.split(";")){const y=g.indexOf("="),[S,O]=-1==y?[g,""]:[g.slice(0,y),g.slice(y+1)];if(S.trim()===h)return decodeURIComponent(O)}return null}class iR{createSubscription(h,g){return h.subscribe({next:g,error:y=>{throw y}})}dispose(h){h.unsubscribe()}}class oR{createSubscription(h,g){return h.then(g,y=>{throw y})}dispose(h){}}const aR=new oR,sR=new iR;let wO=(()=>{class f{constructor(g){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=g}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(g){return this._obj?g!==this._obj?(this._dispose(),this.transform(g)):this._latestValue:(g&&this._subscribe(g),this._latestValue)}_subscribe(g){this._obj=g,this._strategy=this._selectStrategy(g),this._subscription=this._strategy.createSubscription(g,y=>this._updateLatestValue(g,y))}_selectStrategy(g){if(np(g))return aR;if(bg(g))return sR;throw function ji(f,h){return new Ke(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(g,y){g===this._obj&&(this._latestValue=y,this._ref.markForCheck())}}return f.\u0275fac=function(g){return new(g||f)(lt($P,16))},f.\u0275pipe=fr({name:"async",type:f,pure:!1,standalone:!0}),f})(),bR=(()=>{class f{}return f.\u0275fac=function(g){return new(g||f)},f.\u0275mod=eo({type:f}),f.\u0275inj=Ji({}),f})();class PO{}class nT extends c0{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rE extends nT{static makeCurrent(){!function u0(f){kC||(kC=f)}(new rE)}onAndCancel(h,g,y){return h.addEventListener(g,y,!1),()=>{h.removeEventListener(g,y,!1)}}dispatchEvent(h,g){h.dispatchEvent(g)}remove(h){h.parentNode&&h.parentNode.removeChild(h)}createElement(h,g){return(g=g||this.getDefaultDocument()).createElement(h)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(h){return h.nodeType===Node.ELEMENT_NODE}isShadowRoot(h){return h instanceof DocumentFragment}getGlobalEventTarget(h,g){return"window"===g?window:"document"===g?h:"body"===g?h.body:null}getBaseHref(h){const g=function iT(){return Ip=Ip||document.querySelector("base"),Ip?Ip.getAttribute("href"):null}();return null==g?null:function oT(f){Ev=Ev||document.createElement("a"),Ev.setAttribute("href",f);const h=Ev.pathname;return"/"===h.charAt(0)?h:`/${h}`}(g)}resetBaseElement(){Ip=null}getUserAgent(){return window.navigator.userAgent}getCookie(h){return vO(document.cookie,h)}}let Ev,Ip=null;const xO=new at("TRANSITION_ID"),sT=[{provide:Lw,useFactory:function aT(f,h,g){return()=>{g.get(nv).donePromise.then(()=>{const y=uv(),S=h.querySelectorAll(`style[ng-transition="${f}"]`);for(let O=0;O<S.length;O++)y.remove(S[O])})}},deps:[xO,mo,ho],multi:!0}];let uT=(()=>{class f{build(){return new XMLHttpRequest}}return f.\u0275fac=function(g){return new(g||f)},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();const Sv=new at("EventManagerPlugins");let wv=(()=>{class f{constructor(g,y){this._zone=y,this._eventNameToPlugin=new Map,g.forEach(S=>{S.manager=this}),this._plugins=g.slice().reverse()}addEventListener(g,y,S){return this._findPluginFor(y).addEventListener(g,y,S)}addGlobalEventListener(g,y,S){return this._findPluginFor(y).addGlobalEventListener(g,y,S)}getZone(){return this._zone}_findPluginFor(g){const y=this._eventNameToPlugin.get(g);if(y)return y;const S=this._plugins;for(let O=0;O<S.length;O++){const R=S[O];if(R.supports(g))return this._eventNameToPlugin.set(g,R),R}throw new Error(`No event manager plugin found for event ${g}`)}}return f.\u0275fac=function(g){return new(g||f)(_t(Sv),_t(Xr))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();class IO{constructor(h){this._doc=h}addGlobalEventListener(h,g,y){const S=uv().getGlobalEventTarget(this._doc,h);if(!S)throw new Error(`Unsupported event target ${S} for event ${g}`);return this.addEventListener(S,g,y)}}let LO=(()=>{class f{constructor(){this.usageCount=new Map}addStyles(g){for(const y of g)1===this.changeUsageCount(y,1)&&this.onStyleAdded(y)}removeStyles(g){for(const y of g)0===this.changeUsageCount(y,-1)&&this.onStyleRemoved(y)}onStyleRemoved(g){}onStyleAdded(g){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(g,y){const S=this.usageCount;let O=S.get(g)??0;return O+=y,O>0?S.set(g,O):S.delete(g),O}ngOnDestroy(){for(const g of this.getAllStyles())this.onStyleRemoved(g);this.usageCount.clear()}}return f.\u0275fac=function(g){return new(g||f)},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})(),Lp=(()=>{class f extends LO{constructor(g){super(),this.doc=g,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(g){for(const y of this.hostNodes)this.addStyleToHost(y,g)}onStyleRemoved(g){const y=this.styleRef;y.get(g)?.forEach(O=>O.remove()),y.delete(g)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(g){this.hostNodes.add(g);for(const y of this.getAllStyles())this.addStyleToHost(g,y)}removeHost(g){this.hostNodes.delete(g)}addStyleToHost(g,y){const S=this.doc.createElement("style");S.textContent=y,g.appendChild(S);const O=this.styleRef.get(y);O?O.push(S):this.styleRef.set(y,[S])}resetHostNodes(){const g=this.hostNodes;g.clear(),g.add(this.doc.head)}}return f.\u0275fac=function(g){return new(g||f)(_t(mo))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();const nE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iE=/%COMP%/g,GO=new at("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function BO(f,h){return h.flat(100).map(g=>g.replace(iE,f))}function kO(f){return h=>{if("__ngUnwrap__"===h)return f;!1===f(h)&&(h.preventDefault(),h.returnValue=!1)}}let oE=(()=>{class f{constructor(g,y,S,O){this.eventManager=g,this.sharedStylesHost=y,this.appId=S,this.removeStylesOnCompDestory=O,this.rendererByCompId=new Map,this.defaultRenderer=new aE(g)}createRenderer(g,y){if(!g||!y)return this.defaultRenderer;const S=this.getOrCreateRenderer(g,y);return S instanceof HO?S.applyToHost(g):S instanceof sE&&S.applyStyles(),S}getOrCreateRenderer(g,y){const S=this.rendererByCompId;let O=S.get(y.id);if(!O){const R=this.eventManager,x=this.sharedStylesHost,F=this.removeStylesOnCompDestory;switch(y.encapsulation){case Tn.Emulated:O=new HO(R,x,y,this.appId,F);break;case Tn.ShadowDom:return new vT(R,x,g,y);default:O=new sE(R,x,y,F)}O.onDestroy=()=>S.delete(y.id),S.set(y.id,O)}return O}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return f.\u0275fac=function(g){return new(g||f)(_t(wv),_t(Lp),_t(Rp),_t(GO))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();class aE{constructor(h){this.eventManager=h,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(h,g){return g?document.createElementNS(nE[g]||g,h):document.createElement(h)}createComment(h){return document.createComment(h)}createText(h){return document.createTextNode(h)}appendChild(h,g){(WO(h)?h.content:h).appendChild(g)}insertBefore(h,g,y){h&&(WO(h)?h.content:h).insertBefore(g,y)}removeChild(h,g){h&&h.removeChild(g)}selectRootElement(h,g){let y="string"==typeof h?document.querySelector(h):h;if(!y)throw new Error(`The selector "${h}" did not match any elements`);return g||(y.textContent=""),y}parentNode(h){return h.parentNode}nextSibling(h){return h.nextSibling}setAttribute(h,g,y,S){if(S){g=S+":"+g;const O=nE[S];O?h.setAttributeNS(O,g,y):h.setAttribute(g,y)}else h.setAttribute(g,y)}removeAttribute(h,g,y){if(y){const S=nE[y];S?h.removeAttributeNS(S,g):h.removeAttribute(`${y}:${g}`)}else h.removeAttribute(g)}addClass(h,g){h.classList.add(g)}removeClass(h,g){h.classList.remove(g)}setStyle(h,g,y,S){S&(sn.DashCase|sn.Important)?h.style.setProperty(g,y,S&sn.Important?"important":""):h.style[g]=y}removeStyle(h,g,y){y&sn.DashCase?h.style.removeProperty(g):h.style[g]=""}setProperty(h,g,y){h[g]=y}setValue(h,g){h.nodeValue=g}listen(h,g,y){return"string"==typeof h?this.eventManager.addGlobalEventListener(h,g,kO(y)):this.eventManager.addEventListener(h,g,kO(y))}}function WO(f){return"TEMPLATE"===f.tagName&&void 0!==f.content}class vT extends aE{constructor(h,g,y,S){super(h),this.sharedStylesHost=g,this.hostEl=y,this.shadowRoot=y.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const O=BO(S.id,S.styles);for(const R of O){const x=document.createElement("style");x.textContent=R,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(h){return h===this.hostEl?this.shadowRoot:h}appendChild(h,g){return super.appendChild(this.nodeOrShadowRoot(h),g)}insertBefore(h,g,y){return super.insertBefore(this.nodeOrShadowRoot(h),g,y)}removeChild(h,g){return super.removeChild(this.nodeOrShadowRoot(h),g)}parentNode(h){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(h)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sE extends aE{constructor(h,g,y,S,O=y.id){super(h),this.sharedStylesHost=g,this.removeStylesOnCompDestory=S,this.rendererUsageCount=0,this.styles=BO(O,y.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class HO extends sE{constructor(h,g,y,S,O){const R=S+"-"+y.id;super(h,g,y,O,R),this.contentAttr=function fT(f){return"_ngcontent-%COMP%".replace(iE,f)}(R),this.hostAttr=function hT(f){return"_nghost-%COMP%".replace(iE,f)}(R)}applyToHost(h){this.applyStyles(),this.setAttribute(h,this.hostAttr,"")}createElement(h,g){const y=super.createElement(h,g);return super.setAttribute(y,this.contentAttr,""),y}}let _T=(()=>{class f extends IO{constructor(g){super(g)}supports(g){return!0}addEventListener(g,y,S){return g.addEventListener(y,S,!1),()=>this.removeEventListener(g,y,S)}removeEventListener(g,y,S){return g.removeEventListener(y,S)}}return f.\u0275fac=function(g){return new(g||f)(_t(mo))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();const UO=["alt","control","meta","shift"],yT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mT={alt:f=>f.altKey,control:f=>f.ctrlKey,meta:f=>f.metaKey,shift:f=>f.shiftKey};let CT=(()=>{class f extends IO{constructor(g){super(g)}supports(g){return null!=f.parseEventName(g)}addEventListener(g,y,S){const O=f.parseEventName(y),R=f.eventCallback(O.fullKey,S,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uv().onAndCancel(g,O.domEventName,R))}static parseEventName(g){const y=g.toLowerCase().split("."),S=y.shift();if(0===y.length||"keydown"!==S&&"keyup"!==S)return null;const O=f._normalizeKey(y.pop());let R="",x=y.indexOf("code");if(x>-1&&(y.splice(x,1),R="code."),UO.forEach(k=>{const H=y.indexOf(k);H>-1&&(y.splice(H,1),R+=k+".")}),R+=O,0!=y.length||0===O.length)return null;const F={};return F.domEventName=S,F.fullKey=R,F}static matchEventFullKeyCode(g,y){let S=yT[g.key]||g.key,O="";return y.indexOf("code.")>-1&&(S=g.code,O="code."),!(null==S||!S)&&(S=S.toLowerCase()," "===S?S="space":"."===S&&(S="dot"),UO.forEach(R=>{R!==S&&(0,mT[R])(g)&&(O+=R+".")}),O+=S,O===y)}static eventCallback(g,y,S){return O=>{f.matchEventFullKeyCode(O,g)&&S.runGuarded(()=>y(O))}}static _normalizeKey(g){return"esc"===g?"escape":g}}return f.\u0275fac=function(g){return new(g||f)(_t(mo))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();const OT=$w(a0,"browser",[{provide:DC,useValue:"browser"},{provide:Nw,useValue:function ET(){rE.makeCurrent()},multi:!0},{provide:mo,useFactory:function wT(){return function q_(f){ld=f}(document),document},deps:[]}]),KO=new at(""),zO=[{provide:iv,useClass:class lT{addToWindow(h){Ut.getAngularTestability=(y,S=!0)=>{const O=h.findTestabilityInTree(y,S);if(null==O)throw new Error("Could not find testability for element.");return O},Ut.getAllAngularTestabilities=()=>h.getAllTestabilities(),Ut.getAllAngularRootElements=()=>h.getAllRootElements(),Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(y=>{const S=Ut.getAllAngularTestabilities();let O=S.length,R=!1;const x=function(F){R=R||F,O--,0==O&&y(R)};S.forEach(function(F){F.whenStable(x)})})}findTestabilityInTree(h,g,y){return null==g?null:h.getTestability(g)??(y?uv().isShadowRoot(g)?this.findTestabilityInTree(h,g.host,!0):this.findTestabilityInTree(h,g.parentElement,!0):null)}},deps:[]},{provide:Ww,useClass:TC,deps:[Xr,MC,iv]},{provide:TC,useClass:TC,deps:[Xr,MC,iv]}],YO=[{provide:md,useValue:"root"},{provide:Ho,useFactory:function ST(){return new Ho},deps:[]},{provide:Sv,useClass:_T,multi:!0,deps:[mo,Xr,DC]},{provide:Sv,useClass:CT,multi:!0,deps:[mo]},{provide:oE,useClass:oE,deps:[wv,Lp,Rp,GO]},{provide:hu,useExisting:oE},{provide:LO,useExisting:Lp},{provide:Lp,useClass:Lp,deps:[mo]},{provide:wv,useClass:wv,deps:[Sv,Xr]},{provide:PO,useClass:uT,deps:[]},[]];let DT=(()=>{class f{constructor(g){}static withServerTransition(g){return{ngModule:f,providers:[{provide:Rp,useValue:g.appId},{provide:xO,useExisting:Rp},sT]}}}return f.\u0275fac=function(g){return new(g||f)(_t(KO,12))},f.\u0275mod=eo({type:f}),f.\u0275inj=Ji({providers:[...YO,...zO],imports:[bR,s0]}),f})();function JO(...f){return pl(f,qi(f))}typeof window<"u"&&window;class Ov{}class cE{}class Zo{constructor(h){this.normalizedNames=new Map,this.lazyUpdate=null,h?this.lazyInit="string"==typeof h?()=>{this.headers=new Map,h.split("\n").forEach(g=>{const y=g.indexOf(":");if(y>0){const S=g.slice(0,y),O=S.toLowerCase(),R=g.slice(y+1).trim();this.maybeSetNormalizedName(S,O),this.headers.has(O)?this.headers.get(O).push(R):this.headers.set(O,[R])}})}:()=>{this.headers=new Map,Object.keys(h).forEach(g=>{let y=h[g];const S=g.toLowerCase();"string"==typeof y&&(y=[y]),y.length>0&&(this.headers.set(S,y),this.maybeSetNormalizedName(g,S))})}:this.headers=new Map}has(h){return this.init(),this.headers.has(h.toLowerCase())}get(h){this.init();const g=this.headers.get(h.toLowerCase());return g&&g.length>0?g[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(h){return this.init(),this.headers.get(h.toLowerCase())||null}append(h,g){return this.clone({name:h,value:g,op:"a"})}set(h,g){return this.clone({name:h,value:g,op:"s"})}delete(h,g){return this.clone({name:h,value:g,op:"d"})}maybeSetNormalizedName(h,g){this.normalizedNames.has(g)||this.normalizedNames.set(g,h)}init(){this.lazyInit&&(this.lazyInit instanceof Zo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(h=>this.applyUpdate(h)),this.lazyUpdate=null))}copyFrom(h){h.init(),Array.from(h.headers.keys()).forEach(g=>{this.headers.set(g,h.headers.get(g)),this.normalizedNames.set(g,h.normalizedNames.get(g))})}clone(h){const g=new Zo;return g.lazyInit=this.lazyInit&&this.lazyInit instanceof Zo?this.lazyInit:this,g.lazyUpdate=(this.lazyUpdate||[]).concat([h]),g}applyUpdate(h){const g=h.name.toLowerCase();switch(h.op){case"a":case"s":let y=h.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(h.name,g);const S=("a"===h.op?this.headers.get(g):void 0)||[];S.push(...y),this.headers.set(g,S);break;case"d":const O=h.value;if(O){let R=this.headers.get(g);if(!R)return;R=R.filter(x=>-1===O.indexOf(x)),0===R.length?(this.headers.delete(g),this.normalizedNames.delete(g)):this.headers.set(g,R)}else this.headers.delete(g),this.normalizedNames.delete(g)}}forEach(h){this.init(),Array.from(this.normalizedNames.keys()).forEach(g=>h(this.normalizedNames.get(g),this.headers.get(g)))}}class FT{encodeKey(h){return ZO(h)}encodeValue(h){return ZO(h)}decodeKey(h){return decodeURIComponent(h)}decodeValue(h){return decodeURIComponent(h)}}const GT=/%(\d[a-f0-9])/gi,BT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZO(f){return encodeURIComponent(f).replace(GT,(h,g)=>BT[g]??h)}function Dv(f){return`${f}`}class Qa{constructor(h={}){if(this.updates=null,this.cloneFrom=null,this.encoder=h.encoder||new FT,h.fromString){if(h.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function NT(f,h){const g=new Map;return f.length>0&&f.replace(/^\?/,"").split("&").forEach(S=>{const O=S.indexOf("="),[R,x]=-1==O?[h.decodeKey(S),""]:[h.decodeKey(S.slice(0,O)),h.decodeValue(S.slice(O+1))],F=g.get(R)||[];F.push(x),g.set(R,F)}),g}(h.fromString,this.encoder)}else h.fromObject?(this.map=new Map,Object.keys(h.fromObject).forEach(g=>{const y=h.fromObject[g],S=Array.isArray(y)?y.map(Dv):[Dv(y)];this.map.set(g,S)})):this.map=null}has(h){return this.init(),this.map.has(h)}get(h){this.init();const g=this.map.get(h);return g?g[0]:null}getAll(h){return this.init(),this.map.get(h)||null}keys(){return this.init(),Array.from(this.map.keys())}append(h,g){return this.clone({param:h,value:g,op:"a"})}appendAll(h){const g=[];return Object.keys(h).forEach(y=>{const S=h[y];Array.isArray(S)?S.forEach(O=>{g.push({param:y,value:O,op:"a"})}):g.push({param:y,value:S,op:"a"})}),this.clone(g)}set(h,g){return this.clone({param:h,value:g,op:"s"})}delete(h,g){return this.clone({param:h,value:g,op:"d"})}toString(){return this.init(),this.keys().map(h=>{const g=this.encoder.encodeKey(h);return this.map.get(h).map(y=>g+"="+this.encoder.encodeValue(y)).join("&")}).filter(h=>""!==h).join("&")}clone(h){const g=new Qa({encoder:this.encoder});return g.cloneFrom=this.cloneFrom||this,g.updates=(this.updates||[]).concat(h),g}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(h=>this.map.set(h,this.cloneFrom.map.get(h))),this.updates.forEach(h=>{switch(h.op){case"a":case"s":const g=("a"===h.op?this.map.get(h.param):void 0)||[];g.push(Dv(h.value)),this.map.set(h.param,g);break;case"d":if(void 0===h.value){this.map.delete(h.param);break}{let y=this.map.get(h.param)||[];const S=y.indexOf(Dv(h.value));-1!==S&&y.splice(S,1),y.length>0?this.map.set(h.param,y):this.map.delete(h.param)}}}),this.cloneFrom=this.updates=null)}}class kT{constructor(){this.map=new Map}set(h,g){return this.map.set(h,g),this}get(h){return this.map.has(h)||this.map.set(h,h.defaultValue()),this.map.get(h)}delete(h){return this.map.delete(h),this}has(h){return this.map.has(h)}keys(){return this.map.keys()}}function QO(f){return typeof ArrayBuffer<"u"&&f instanceof ArrayBuffer}function eD(f){return typeof Blob<"u"&&f instanceof Blob}function tD(f){return typeof FormData<"u"&&f instanceof FormData}class Fp{constructor(h,g,y,S){let O;if(this.url=g,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=h.toUpperCase(),function VT(f){switch(f){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||S?(this.body=void 0!==y?y:null,O=S):O=y,O&&(this.reportProgress=!!O.reportProgress,this.withCredentials=!!O.withCredentials,O.responseType&&(this.responseType=O.responseType),O.headers&&(this.headers=O.headers),O.context&&(this.context=O.context),O.params&&(this.params=O.params)),this.headers||(this.headers=new Zo),this.context||(this.context=new kT),this.params){const R=this.params.toString();if(0===R.length)this.urlWithParams=g;else{const x=g.indexOf("?");this.urlWithParams=g+(-1===x?"?":x<g.length-1?"&":"")+R}}else this.params=new Qa,this.urlWithParams=g}serializeBody(){return null===this.body?null:QO(this.body)||eD(this.body)||tD(this.body)||function WT(f){return typeof URLSearchParams<"u"&&f instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tD(this.body)?null:eD(this.body)?this.body.type||null:QO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(h={}){const g=h.method||this.method,y=h.url||this.url,S=h.responseType||this.responseType,O=void 0!==h.body?h.body:this.body,R=void 0!==h.withCredentials?h.withCredentials:this.withCredentials,x=void 0!==h.reportProgress?h.reportProgress:this.reportProgress;let F=h.headers||this.headers,k=h.params||this.params;const H=h.context??this.context;return void 0!==h.setHeaders&&(F=Object.keys(h.setHeaders).reduce((z,te)=>z.set(te,h.setHeaders[te]),F)),h.setParams&&(k=Object.keys(h.setParams).reduce((z,te)=>z.set(te,h.setParams[te]),k)),new Fp(g,y,O,{params:k,headers:F,context:H,reportProgress:x,responseType:S,withCredentials:R})}}var Tr=(()=>((Tr=Tr||{})[Tr.Sent=0]="Sent",Tr[Tr.UploadProgress=1]="UploadProgress",Tr[Tr.ResponseHeader=2]="ResponseHeader",Tr[Tr.DownloadProgress=3]="DownloadProgress",Tr[Tr.Response=4]="Response",Tr[Tr.User=5]="User",Tr))();class dE{constructor(h,g=200,y="OK"){this.headers=h.headers||new Zo,this.status=void 0!==h.status?h.status:g,this.statusText=h.statusText||y,this.url=h.url||null,this.ok=this.status>=200&&this.status<300}}class pE extends dE{constructor(h={}){super(h),this.type=Tr.ResponseHeader}clone(h={}){return new pE({headers:h.headers||this.headers,status:void 0!==h.status?h.status:this.status,statusText:h.statusText||this.statusText,url:h.url||this.url||void 0})}}class bv extends dE{constructor(h={}){super(h),this.type=Tr.Response,this.body=void 0!==h.body?h.body:null}clone(h={}){return new bv({body:void 0!==h.body?h.body:this.body,headers:h.headers||this.headers,status:void 0!==h.status?h.status:this.status,statusText:h.statusText||this.statusText,url:h.url||this.url||void 0})}}class rD extends dE{constructor(h){super(h,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${h.url||"(unknown url)"}`:`Http failure response for ${h.url||"(unknown url)"}: ${h.status} ${h.statusText}`,this.error=h.error||null}}function fE(f,h){return{body:h,headers:f.headers,context:f.context,observe:f.observe,params:f.params,reportProgress:f.reportProgress,responseType:f.responseType,withCredentials:f.withCredentials}}let HT=(()=>{class f{constructor(g){this.handler=g}request(g,y,S={}){let O;if(g instanceof Fp)O=g;else{let F,k;F=S.headers instanceof Zo?S.headers:new Zo(S.headers),S.params&&(k=S.params instanceof Qa?S.params:new Qa({fromObject:S.params})),O=new Fp(g,y,void 0!==S.body?S.body:null,{headers:F,context:S.context,params:k,reportProgress:S.reportProgress,responseType:S.responseType||"json",withCredentials:S.withCredentials})}const R=JO(O).pipe(function IT(f,h){return n(h)?dn(f,h,1):dn(f,1)}(F=>this.handler.handle(F)));if(g instanceof Fp||"events"===S.observe)return R;const x=R.pipe(function LT(f,h){return $e((g,y)=>{let S=0;g.subscribe(Et(y,O=>f.call(h,O,S++)&&y.next(O)))})}(F=>F instanceof bv));switch(S.observe||"body"){case"body":switch(O.responseType){case"arraybuffer":return x.pipe(jt(F=>{if(null!==F.body&&!(F.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return F.body}));case"blob":return x.pipe(jt(F=>{if(null!==F.body&&!(F.body instanceof Blob))throw new Error("Response is not a Blob.");return F.body}));case"text":return x.pipe(jt(F=>{if(null!==F.body&&"string"!=typeof F.body)throw new Error("Response is not a string.");return F.body}));default:return x.pipe(jt(F=>F.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${S.observe}}`)}}delete(g,y={}){return this.request("DELETE",g,y)}get(g,y={}){return this.request("GET",g,y)}head(g,y={}){return this.request("HEAD",g,y)}jsonp(g,y){return this.request("JSONP",g,{params:(new Qa).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(g,y={}){return this.request("OPTIONS",g,y)}patch(g,y,S={}){return this.request("PATCH",g,fE(S,y))}post(g,y,S={}){return this.request("POST",g,fE(S,y))}put(g,y,S={}){return this.request("PUT",g,fE(S,y))}}return f.\u0275fac=function(g){return new(g||f)(_t(Ov))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();function nD(f,h){return h(f)}function UT(f,h){return(g,y)=>h.intercept(g,{handle:S=>f(S,y)})}const jT=new at("HTTP_INTERCEPTORS"),Np=new at("HTTP_INTERCEPTOR_FNS");function KT(){let f=null;return(h,g)=>(null===f&&(f=(ta(jT,{optional:!0})??[]).reduceRight(UT,nD)),f(h,g))}let iD=(()=>{class f extends Ov{constructor(g,y){super(),this.backend=g,this.injector=y,this.chain=null}handle(g){if(null===this.chain){const y=Array.from(new Set(this.injector.get(Np)));this.chain=y.reduceRight((S,O)=>function $T(f,h,g){return(y,S)=>g.runInContext(()=>h(y,O=>f(O,S)))}(S,O,this.injector),nD)}return this.chain(g,y=>this.backend.handle(y))}}return f.\u0275fac=function(g){return new(g||f)(_t(cE),_t(Fi))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();const XT=/^\)\]\}',?\n/;let aD=(()=>{class f{constructor(g){this.xhrFactory=g}handle(g){if("JSONP"===g.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Re(y=>{const S=this.xhrFactory.build();if(S.open(g.method,g.urlWithParams),g.withCredentials&&(S.withCredentials=!0),g.headers.forEach((ie,ue)=>S.setRequestHeader(ie,ue.join(","))),g.headers.has("Accept")||S.setRequestHeader("Accept","application/json, text/plain, */*"),!g.headers.has("Content-Type")){const ie=g.detectContentTypeHeader();null!==ie&&S.setRequestHeader("Content-Type",ie)}if(g.responseType){const ie=g.responseType.toLowerCase();S.responseType="json"!==ie?ie:"text"}const O=g.serializeBody();let R=null;const x=()=>{if(null!==R)return R;const ie=S.statusText||"OK",ue=new Zo(S.getAllResponseHeaders()),ye=function JT(f){return"responseURL"in f&&f.responseURL?f.responseURL:/^X-Request-URL:/m.test(f.getAllResponseHeaders())?f.getResponseHeader("X-Request-URL"):null}(S)||g.url;return R=new pE({headers:ue,status:S.status,statusText:ie,url:ye}),R},F=()=>{let{headers:ie,status:ue,statusText:ye,url:xe}=x(),Ae=null;204!==ue&&(Ae=typeof S.response>"u"?S.responseText:S.response),0===ue&&(ue=Ae?200:0);let Ue=ue>=200&&ue<300;if("json"===g.responseType&&"string"==typeof Ae){const Pe=Ae;Ae=Ae.replace(XT,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(tt){Ae=Pe,Ue&&(Ue=!1,Ae={error:tt,text:Ae})}}Ue?(y.next(new bv({body:Ae,headers:ie,status:ue,statusText:ye,url:xe||void 0})),y.complete()):y.error(new rD({error:Ae,headers:ie,status:ue,statusText:ye,url:xe||void 0}))},k=ie=>{const{url:ue}=x(),ye=new rD({error:ie,status:S.status||0,statusText:S.statusText||"Unknown Error",url:ue||void 0});y.error(ye)};let H=!1;const z=ie=>{H||(y.next(x()),H=!0);let ue={type:Tr.DownloadProgress,loaded:ie.loaded};ie.lengthComputable&&(ue.total=ie.total),"text"===g.responseType&&S.responseText&&(ue.partialText=S.responseText),y.next(ue)},te=ie=>{let ue={type:Tr.UploadProgress,loaded:ie.loaded};ie.lengthComputable&&(ue.total=ie.total),y.next(ue)};return S.addEventListener("load",F),S.addEventListener("error",k),S.addEventListener("timeout",k),S.addEventListener("abort",k),g.reportProgress&&(S.addEventListener("progress",z),null!==O&&S.upload&&S.upload.addEventListener("progress",te)),S.send(O),y.next({type:Tr.Sent}),()=>{S.removeEventListener("error",k),S.removeEventListener("abort",k),S.removeEventListener("load",F),S.removeEventListener("timeout",k),g.reportProgress&&(S.removeEventListener("progress",z),null!==O&&S.upload&&S.upload.removeEventListener("progress",te)),S.readyState!==S.DONE&&S.abort()}})}}return f.\u0275fac=function(g){return new(g||f)(_t(PO))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();const hE=new at("XSRF_ENABLED"),sD=new at("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),lD=new at("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class uD{}let eM=(()=>{class f{constructor(g,y,S){this.doc=g,this.platform=y,this.cookieName=S,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const g=this.doc.cookie||"";return g!==this.lastCookieString&&(this.parseCount++,this.lastToken=vO(g,this.cookieName),this.lastCookieString=g),this.lastToken}}return f.\u0275fac=function(g){return new(g||f)(_t(mo),_t(DC),_t(sD))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();function tM(f,h){const g=f.url.toLowerCase();if(!ta(hE)||"GET"===f.method||"HEAD"===f.method||g.startsWith("http://")||g.startsWith("https://"))return h(f);const y=ta(uD).getToken(),S=ta(lD);return null!=y&&!f.headers.has(S)&&(f=f.clone({headers:f.headers.set(S,y)})),h(f)}var yr=(()=>((yr=yr||{})[yr.Interceptors=0]="Interceptors",yr[yr.LegacyInterceptors=1]="LegacyInterceptors",yr[yr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",yr[yr.NoXsrfProtection=3]="NoXsrfProtection",yr[yr.JsonpSupport=4]="JsonpSupport",yr[yr.RequestsMadeViaParent=5]="RequestsMadeViaParent",yr))();function ju(f,h){return{\u0275kind:f,\u0275providers:h}}function rM(...f){const h=[HT,aD,iD,{provide:Ov,useExisting:iD},{provide:cE,useExisting:aD},{provide:Np,useValue:tM,multi:!0},{provide:hE,useValue:!0},{provide:uD,useClass:eM}];for(const g of f)h.push(...g.\u0275providers);return function cy(f){return{\u0275providers:f}}(h)}const cD=new at("LEGACY_INTERCEPTOR_FN");let iM=(()=>{class f{}return f.\u0275fac=function(g){return new(g||f)},f.\u0275mod=eo({type:f}),f.\u0275inj=Ji({providers:[rM(ju(yr.LegacyInterceptors,[{provide:cD,useFactory:KT},{provide:Np,useExisting:cD,multi:!0}]))]}),f})();var sl=e(898);let dD=(()=>{class f extends sl.vA3{constructor(g){super(),this._ngZone=g}setEmitterUsedCallback(g){this.isEmitterUsed=g}setTimeout(g,y){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{g()},y)}):window.setTimeout(()=>{g()},y)}setInterval(g,y){return new sl.j_S(S=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{S(window.setInterval(()=>{g()},y))}):S(window.setInterval(()=>{g()},y))})}addEventListener(g,y,S,O){this.isOutsideAngular(y)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{g.addEventListener(y,S,O)}):g.addEventListener(y,S,O)}dispatchEvent(g,y,S=!1){this.isOutsideAngular(g)?this._ngZone?this._ngZone.runOutsideAngular(y):y():(this.isEmitterUsed(g)||S)&&(!Xr.isInAngularZone()&&this._ngZone?this._ngZone.run(y):y())}isFrameworkComponent(g){if(!g)return!1;const y=g.prototype;return y&&"agInit"in y}}return f.\u0275fac=function(g){return new(g||f)(_t(Xr))},f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})(),pD=(()=>{class f extends sl.Nk3{setViewContainerRef(g){this.viewContainerRef=g}setComponentFactoryResolver(g){this.componentFactoryResolver=g}createWrapper(g){let y=this,O=new class S extends oM{init(x){super.init(x),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return y.createComponent(g)}hasMethod(x){return null!=O.getFrameworkComponentInstance()[x]}callMethod(x,F){const k=this.getFrameworkComponentInstance();return O.getFrameworkComponentInstance()[x].apply(k,F)}addMethod(x,F){O[x]=F}};return O}createComponent(g){let y=this.componentFactoryResolver.resolveComponentFactory(g);return this.viewContainerRef.createComponent(y)}}return f.\u0275fac=function(){let h;return function(y){return(h||(h=function xc(f){return ai(()=>{const h=f.prototype.constructor,g=h[Vn]||Ic(h),y=Object.prototype;let S=Object.getPrototypeOf(f.prototype).constructor;for(;S&&S!==y;){const O=S[Vn]||Ic(S);if(O&&O!==g)return O;S=Object.getPrototypeOf(S)}return O=>new O})}(f)))(y||f)}}(),f.\u0275prov=Mt({token:f,factory:f.\u0275fac}),f})();class oM{init(h){this._params=h,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let fD=(()=>{class f{constructor(g,y,S,O,R){this.viewContainerRef=y,this.angularFrameworkOverrides=S,this.frameworkComponentWrapper=O,this.componentFactoryResolver=R,this._initialised=!1,this._destroyed=!1,this._fullyReady=sl.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.groupRowsSticky=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.serverSideStoreType=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new Fe,this.toolPanelSizeChanged=new Fe,this.pasteStart=new Fe,this.pasteEnd=new Fe,this.columnVisible=new Fe,this.columnPinned=new Fe,this.columnResized=new Fe,this.columnMoved=new Fe,this.columnValueChanged=new Fe,this.columnPivotModeChanged=new Fe,this.columnPivotChanged=new Fe,this.columnGroupOpened=new Fe,this.newColumnsLoaded=new Fe,this.gridColumnsChanged=new Fe,this.displayedColumnsChanged=new Fe,this.virtualColumnsChanged=new Fe,this.columnEverythingChanged=new Fe,this.componentStateChanged=new Fe,this.cellValueChanged=new Fe,this.cellEditRequest=new Fe,this.rowValueChanged=new Fe,this.cellEditingStarted=new Fe,this.cellEditingStopped=new Fe,this.rowEditingStarted=new Fe,this.rowEditingStopped=new Fe,this.undoStarted=new Fe,this.undoEnded=new Fe,this.redoStarted=new Fe,this.redoEnded=new Fe,this.filterOpened=new Fe,this.filterChanged=new Fe,this.filterModified=new Fe,this.chartCreated=new Fe,this.chartRangeSelectionChanged=new Fe,this.chartOptionsChanged=new Fe,this.chartDestroyed=new Fe,this.cellKeyDown=new Fe,this.cellKeyPress=new Fe,this.gridReady=new Fe,this.firstDataRendered=new Fe,this.gridSizeChanged=new Fe,this.modelUpdated=new Fe,this.virtualRowRemoved=new Fe,this.viewportChanged=new Fe,this.bodyScroll=new Fe,this.bodyScrollEnd=new Fe,this.dragStarted=new Fe,this.dragStopped=new Fe,this.paginationChanged=new Fe,this.rowDragEnter=new Fe,this.rowDragMove=new Fe,this.rowDragLeave=new Fe,this.rowDragEnd=new Fe,this.columnRowGroupChanged=new Fe,this.rowGroupOpened=new Fe,this.expandOrCollapseAll=new Fe,this.pinnedRowDataChanged=new Fe,this.rowDataChanged=new Fe,this.rowDataUpdated=new Fe,this.asyncTransactionsFlushed=new Fe,this.cellClicked=new Fe,this.cellDoubleClicked=new Fe,this.cellFocused=new Fe,this.cellMouseOver=new Fe,this.cellMouseOut=new Fe,this.cellMouseDown=new Fe,this.rowClicked=new Fe,this.rowDoubleClicked=new Fe,this.rowSelected=new Fe,this.selectionChanged=new Fe,this.cellContextMenu=new Fe,this.rangeSelectionChanged=new Fe,this.sortChanged=new Fe,this.columnRowGroupChangeRequest=new Fe,this.columnPivotChangeRequest=new Fe,this.columnValueChangeRequest=new Fe,this.columnAggFuncChangeRequest=new Fe,this._nativeElement=g.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=sl.plv.copyAttributesToGridOptions(this.gridOptions,this),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},new sl.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,g=>g)}ngOnChanges(g){this._initialised&&sl.plv.processOnChange(g,this.api)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(g){const y=this[g],S=!!y&&y.observers&&y.observers.length>0,O=`on${g.charAt(0).toUpperCase()}${g.substring(1)}`;return S||!!this.gridOptions&&!!this.gridOptions[O]}globalEventListener(g,y){if(this._destroyed)return;const S=this[g];S&&this.isEmitterUsed(g)&&("gridReady"===g?this._fullyReady.then(O=>{S.emit(y)}):S.emit(y))}}return f.\u0275fac=function(g){return new(g||f)(lt(Wo),lt(Hi),lt(dD),lt(pD),lt(Vs))},f.\u0275cmp=si({type:f,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",groupRowsSticky:"groupRowsSticky",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",serverSideStoreType:"serverSideStoreType",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[KS([dD,pD]),ve],decls:0,vars:0,template:function(g,y){},encapsulation:2}),f})(),aM=(()=>{class f{}return f.\u0275fac=function(g){return new(g||f)},f.\u0275mod=eo({type:f}),f.\u0275inj=Ji({}),f})();e(241);const hD=f=>{f=1831565813+(f|=0)|0;let h=Math.imul(f^f>>>15,1|f);return h=h+Math.imul(h^h>>>7,61|h)^h,((h^h>>>14)>>>0)/4294967296};class sM{constructor(h){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:g,separator:y,dictionaries:S,style:O,seed:R}=h;this.dictionaries=S,this.separator=y,this.length=g,this.style=O,this.seed=R}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.\nLength provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let h=this.seed;return this.dictionaries.slice(0,this.length).reduce((g,y)=>{let S;h?(S=(R=>{if("string"==typeof R){const x=R.split("").map(k=>k.charCodeAt(0)).reduce((k,H)=>k+H,1),F=Math.floor(Number(x));return hD(F)}return hD(R)})(h),h=4294967296*S):S=Math.random();let O=y[Math.floor(S*y.length)]||"";if("lowerCase"===this.style)O=O.toLowerCase();else if("capital"===this.style){const[R,...x]=O.split("");O=R.toUpperCase()+x.join("")}else"upperCase"===this.style&&(O=O.toUpperCase());return g?`${g}${this.separator}${O}`:`${O}`},"")}}const gD={separator:"_",dictionaries:[]};var uM=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blind","blonde","bloody","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","capitalist","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","crazy","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deaf","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","filthy","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","gay","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handicapped","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homeless","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","imperial","implicit","important","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","male","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","naked","narrow","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","olympic","only","open","operational","opposite","optimistic","oral","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","political","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","socialist","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","soviet","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","stupid","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","tory","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xenophobic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],cM=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"],dM=["amaranth","amber","amethyst","apricot","aqua","aquamarine","azure","beige","black","blue","blush","bronze","brown","chocolate","coffee","copper","coral","crimson","cyan","emerald","fuchsia","gold","gray","green","harlequin","indigo","ivory","jade","lavender","lime","magenta","maroon","moccasin","olive","orange","peach","pink","plum","purple","red","rose","salmon","sapphire","scarlet","silver","tan","teal","tomato","turquoise","violet","white","yellow"];let gE=(()=>{class f{generateAccounts$(){return JO(Array.from({length:3e4}).map((g,y)=>({id:y,name:this.generateName()})))}generateGroups(){return Array.from({length:5e3}).map((g,y)=>{const S=0===y?"Penguin":this.generateName();return{id:y,name:S,groupHierarchy:[S],type:""}})}generateGroupsWithPaths(){return this.generateGroups().map((y,S,O)=>0===S||(S+1)%10==0?(y.type="folder",y):(y.groupHierarchy=[O[S-1].groupHierarchy[0],this.generateName()],y))}generateName(){return(f=>{const h=[...f&&f.dictionaries||gD.dictionaries],g={...gD,...f,length:f&&f.length||h.length,dictionaries:h};if(!f||!f.dictionaries||!f.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new sM(g).generate()})({dictionaries:[dM,cM,uM]})}}return f.\u0275fac=function(g){return new(g||f)},f.\u0275prov=Mt({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),pM=(()=>{class f{constructor(){this.id=0,this.name=""}agInit(g){const{data:y}=g;this.id=y.id,this.name=y.name,this.params=g}onDragStart(g){window,g.dataTransfer.setData("text/plain","Dragged item with ID: "+this.params.node.data.id)}refresh(g){return!1}}return f.\u0275fac=function(g){return new(g||f)},f.\u0275cmp=si({type:f,selectors:[["app-account-cell"]],decls:5,vars:2,consts:[["draggable","true",3,"dragstart"],[1,"account-id"],[1,"account-name"]],template:function(g,y){1&g&&(Yr(0,"div",0),_i("dragstart",function(O){return y.onDragStart(O)}),Yr(1,"span",1),qa(2),On(),Yr(3,"span",2),qa(4),On()()),2&g&&($s(2),Bu(y.id),$s(2),Bu(y.name))},styles:[".account-id[_ngcontent-%COMP%]{margin-right:1rem}"]}),f})(),fM=(()=>{class f{constructor(g){this.dataService=g,this.columnDefs=[{rowDrag:!0,field:"account",cellRenderer:pM,checkboxSelection:!0,width:400,getQuickFilterText:function(y){return y.data.id}}],this.rowData$=this.dataService.generateAccounts$()}onGridReady(g){this.gridApi=g.api}onFilterTextBoxChanged(){this.gridApi.setQuickFilter(document.getElementById("search-text-box").value)}}return f.\u0275fac=function(g){return new(g||f)(lt(gE))},f.\u0275cmp=si({type:f,selectors:[["app-accounts-grid"]],decls:5,vars:7,consts:[[1,"accounts-grid"],[1,"search-input"],["type","text","id","search-text-box","placeholder","Filter...",2,"width","392px",3,"input"],[1,"ag-theme-alpine",2,"width","400px","height","600px",3,"rowData","headerHeight","columnDefs","rowSelection","rowMultiSelectWithClick","gridReady"]],template:function(g,y){1&g&&(Yr(0,"div",0)(1,"div",1)(2,"input",2),_i("input",function(){return y.onFilterTextBoxChanged()}),On()(),Yr(3,"ag-grid-angular",3),_i("gridReady",function(O){return y.onGridReady(O)}),function aw(f,h){const g=Ge();let y;const S=f+Lt;g.firstCreatePass?(y=function Gb(f,h){if(h)for(let g=h.length-1;g>=0;g--){const y=h[g];if(f===y.name)return y}}(h,g.pipeRegistry),g.data[S]=y,y.onDestroy&&(g.destroyHooks||(g.destroyHooks=[])).push(S,y.onDestroy)):y=g.data[S];const O=y.factory||(y.factory=Vt(y.type)),R=Pn(lt);try{const x=Ss(!1),F=O();return Ss(x),function Tm(f,h,g,y){g>=f.data.length&&(f.data[g]=null,f.blueprint[g]=null),h[g]=y}(g,Te(),S,F),F}finally{Pn(R)}}(4,"async"),On()()),2&g&&($s(3),Tu("rowData",sw(4,5,y.rowData$))("headerHeight",0)("columnDefs",y.columnDefs)("rowSelection","multiple")("rowMultiSelectWithClick",!0))},dependencies:[fD,wO],styles:[".search-input[_ngcontent-%COMP%]{margin-bottom:1rem}.accounts-grid[_ngcontent-%COMP%]{padding:1rem;border-radius:.5rem;border:1px solid black}"]}),f})();function vD(f,h,g){const y=h.data.groupHierarchy,S=y[y.length-1],O=f.slice();O.push(S),h.data.groupHierarchy=O,g.push(h.data),h.childrenAfterGroup&&h.childrenAfterGroup.forEach(function(R){vD(O,R,g)})}function _D(f,h){let g=[...f.childrenAfterGroup||[]];if(!h)return!1;for(;g.length;){const y=g.shift();if(y){if(y.key===h.key)return!0;y.childrenAfterGroup&&y.childrenAfterGroup.length&&g.push(...y.childrenAfterGroup)}}return!1}function yD(f){var h=[];const g=f.childrenAfterGroup||[];for(var y=0;y<g.length;y++)h=h.concat(yD(g[y]));return f.data?h.concat([f.data]):h}function mD(f,h){var g=[],y=h.concat([f.key]);f.data&&(f.data.groupHierarchy=y);for(var S=f.childrenAfterGroup||[],O=0;O<S.length;O++){var R=mD(S[O],y);g=g.concat(R)}return f.data?g.concat([f.data]):g}let gM=(()=>{class f{constructor(g){this.dataService=g,this.columnDefs=[],this.autoGroupColumnDef={rowDrag:!0,headerName:"Financial groups",minWidth:392,cellRendererParams:{checkbox:!0,suppressCount:!0}},this.gridOptions={getDataPath:this.getDataPath},this.rowData=this.dataService.generateGroupsWithPaths()}getDataPath(g){return g.groupHierarchy}onFilterTextBoxChanged(){this.gridApi.setQuickFilter(document.getElementById("filter-text-box").value)}onGridReady(g){this.gridApi=g.api}onRowDragEnd(g){const y=g.overNode;if(console.log("OVER_NODE",y),!y)return;const S="folder"===y.data.type?y:y.parent,R=S.data?S.data.groupHierarchy:[],x=!function hM(f,h){if(f.length!==h.length)return!1;let g=!0;return f.forEach(function(y,S){h[S]!==y&&(g=!1)}),g}(R,g.node.data.groupHierarchy),F=_D(g.node,S);if(F&&console.log("invalid move"),x&&!F){const k=[];vD(R,g.node,k),this.gridApi.applyTransaction({update:k}),this.gridApi.clearFocusedCell()}}addNewGroup(){this.gridApi.applyTransaction({add:[{id:999999,groupHierarchy:["Penguin","Gentoo"],name:"Gentoo",type:""}]})}removeSelected(){var g=this.gridApi.getSelectedNodes()[0];g?this.gridApi.applyTransaction({remove:yD(g)}):console.warn("No nodes selected!")}moveSelectedNodeToTarget(g){var y=this.gridApi.getSelectedNodes()[0];if(y){var S=this.gridApi.getRowNode(g);if(y.key===S.key||_D(y,S))console.warn("Invalid selection - must not be parent or same as target!");else{var R=mD(y,S.data.groupHierarchy);this.gridApi.applyTransaction({update:R})}}else console.warn("No nodes selected!")}}return f.\u0275fac=function(g){return new(g||f)(lt(gE))},f.\u0275cmp=si({type:f,selectors:[["app-groups-grid"]],decls:11,vars:8,consts:[[1,"grid-container"],[1,"action-buttons"],[3,"click"],[1,"search-input"],["type","text","id","filter-text-box","placeholder","Filter...",2,"width","392px",3,"input"],[1,"ag-theme-alpine",2,"width","400px","height","562px",3,"rowData","treeData","columnDefs","autoGroupColumnDef","animateRows","gridOptions","rowSelection","rowMultiSelectWithClick","gridReady","rowDragEnd"]],template:function(g,y){1&g&&(Yr(0,"div",0)(1,"div",1)(2,"button",2),_i("click",function(){return y.addNewGroup()}),qa(3,"Assign account"),On(),Yr(4,"button",2),_i("click",function(){return y.moveSelectedNodeToTarget("0")}),qa(5," Reassign to Penguins "),On(),Yr(6,"button",2),_i("click",function(){return y.removeSelected()}),qa(7,"Unassign account"),On()(),Yr(8,"div",3)(9,"input",4),_i("input",function(){return y.onFilterTextBoxChanged()}),On()(),Yr(10,"ag-grid-angular",5),_i("gridReady",function(O){return y.onGridReady(O)})("rowDragEnd",function(O){return y.onRowDragEnd(O)}),On()()),2&g&&($s(10),Tu("rowData",y.rowData)("treeData",!0)("columnDefs",y.columnDefs)("autoGroupColumnDef",y.autoGroupColumnDef)("animateRows",!0)("gridOptions",y.gridOptions)("rowSelection","multiple")("rowMultiSelectWithClick",!0))},dependencies:[fD],styles:[".grid-container[_ngcontent-%COMP%]{border:1px solid black;padding:1rem;border-radius:.5rem}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem}.search-input[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),f})(),vM=(()=>{class f{constructor(g){this.dataService=g}ngOnInit(){console.log("DATA",this.dataService.generateGroupsWithPaths())}}return f.\u0275fac=function(g){return new(g||f)(lt(gE))},f.\u0275cmp=si({type:f,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(g,y){1&g&&(Yr(0,"div",0),ep(1,"app-accounts-grid")(2,"app-groups-grid"),On())},dependencies:[fM,gM],styles:["[_nghost-%COMP%]  .ag-row{border-color:transparent!important;background-color:#fff}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;gap:4rem}"]}),f})(),_M=(()=>{class f{}return f.\u0275fac=function(g){return new(g||f)},f.\u0275mod=eo({type:f,bootstrap:[vM]}),f.\u0275inj=Ji({imports:[DT,iM,aM]}),f})();OT().bootstrapModule(_M).catch(f=>console.error(f))},898:(l,t,e)=>{function n(p){return null==p||""===p?null:p}function o(p,i){return void 0===i&&(i=!1),null!=p&&(""!==p||i)}function s(p){return!o(p)}function d(p){return null==p||0===p.length}function v(p){return null!=p&&"function"==typeof p.toString?p.toString():null}function C(p){if(void 0!==p){if(null===p||""===p)return null;if("number"==typeof p)return isNaN(p)?void 0:p;var i=parseInt(p,10);return isNaN(i)?void 0:i}}function m(p){if(void 0!==p)return null!==p&&""!==p&&("boolean"==typeof p?p:/true/i.test(p))}function A(p){if(p instanceof Set||p instanceof Map){var i=[];return p.forEach(function(r){return i.push(r)}),i}return Object.values(p)}e.d(t,{$j7:()=>Xt,$zI:()=>Fa,AGU:()=>ps,AS9:()=>Me,BxR:()=>Ks,CPJ:()=>Xy,Cvn:()=>jc,D_6:()=>xr,Dkq:()=>st,EHG:()=>nC,F$j:()=>Jg,FXL:()=>ze,FiY:()=>gt,Fxk:()=>ot,GXE:()=>ke,Gxm:()=>pi,H1u:()=>Yh,IFn:()=>Yg,INo:()=>Td,IUB:()=>eC,J8Z:()=>Mi,KTm:()=>Qt,LQq:()=>ho,Lm6:()=>uo,MQo:()=>Nl,Nk3:()=>CS,NlK:()=>js,NqP:()=>ce,O3h:()=>qe,O_3:()=>jy,POd:()=>zi,QVL:()=>kl,Qk6:()=>gu,RXH:()=>To,StC:()=>xi,VDZ:()=>ve,Vu6:()=>Le,WD6:()=>wd,WKU:()=>_p,WU2:()=>Fg,YaM:()=>qg,ZST:()=>fs,_:()=>Ye,aCu:()=>ku,aVm:()=>yp,at1:()=>an,cqo:()=>be,d2Z:()=>Vm,eHy:()=>ts,fKL:()=>Pd,fQL:()=>iu,fsG:()=>$,h7_:()=>Kh,hhW:()=>Bm,jMC:()=>Xg,jUB:()=>rr,j_S:()=>en,jkc:()=>Ta,nN0:()=>yu,nPL:()=>Ea,plv:()=>Eo,rjZ:()=>cp,rvo:()=>Wr,rwP:()=>Zt,sJC:()=>La,sO1:()=>km,sgG:()=>Wt,vA3:()=>og,wA2:()=>Ge,wGv:()=>Dc,wSp:()=>Ad,z0n:()=>vp,zW2:()=>J});var I=Object.freeze({__proto__:null,makeNull:n,exists:o,missing:s,missingOrEmpty:d,toStringOrNull:v,attrToNumber:C,attrToBoolean:m,attrToString:function w(p){if(null!=p&&""!==p)return p},referenceCompare:function D(p,i){return null==p&&null==i||!(null==p&&null!=i||null!=p&&null==i)&&p===i},jsonEquals:function b(p,i){return(p?JSON.stringify(p):null)===(i?JSON.stringify(i):null)},defaultComparator:function T(p,i,r){void 0===r&&(r=!1);var a=null==p,u=null==i;if(p&&p.toNumber&&(p=p.toNumber()),i&&i.toNumber&&(i=i.toNumber()),a&&u)return 0;if(a)return-1;if(u)return 1;function c(_,E){return _>E?1:_<E?-1:0}if("string"!=typeof p||!r)return c(p,i);try{return p.localeCompare(i)}catch{return c(p,i)}},values:A}),N=function(){function p(){this.existingKeys={}}return p.prototype.addExistingKeys=function(i){for(var r=0;r<i.length;r++)this.existingKeys[i[r]]=!0},p.prototype.getUniqueKey=function(i,r){i=v(i);for(var a=0;;){var u=void 0;if(i?(u=i,0!==a&&(u+="_"+a)):r?(u=r,0!==a&&(u+="_"+a)):u=""+a,!this.existingKeys[u])return this.existingKeys[u]=!0,u;a++}},p}();function G(p,i){null!=p&&(Array.isArray(p)?p.forEach(function(r,a){return i(""+a,r)}):Object.keys(p).forEach(function(r){return i(r,p[r])}))}function V(p){for(var i={},r=Object.keys(p),a=0;a<r.length;a++){var u=r[a];i[u]=p[u]}return i}function j(p,i){if(p){var r=p,a={};return Object.keys(r).forEach(function(u){if(!(i&&i.indexOf(u)>=0)){var c=r[u],_=Ee(c)&&c.constructor===Object;a[u]=_?j(c):c}}),a}}function K(p,i){return p[i]}function Y(p,i,r){p[i]=r}function q(p,i,r,a){var u=K(p,r);void 0!==u&&Y(i,r,a?a(u):u)}function Z(p){var i={};return p.filter(function(r){return null!=r}).forEach(function(r){Object.keys(r).forEach(function(a){return i[a]=null})}),Object.keys(i)}function ee(p){if(!p)return[];var i=Object;if("function"==typeof i.values)return i.values(p);var r=[];for(var a in p)p.hasOwnProperty(a)&&p.propertyIsEnumerable(a)&&r.push(p[a]);return r}function ne(p,i,r,a){void 0===r&&(r=!0),void 0===a&&(a=!1),o(i)&&G(i,function(u,c){var _=p[u];_!==c&&(a&&null==_&&null!=c&&"object"==typeof c&&c.constructor===Object&&(p[u]=_={}),Ee(c)&&Ee(_)&&!Array.isArray(_)?ne(_,c,r,a):(r||void 0!==c)&&(p[u]=c))})}function he(p,i,r){if(i&&p){if(!r)return p[i];for(var a=i.split("."),u=p,c=0;c<a.length;c++){if(null==u)return;u=u[a[c]]}return u}}function _e(p,i){Object.keys(p).forEach(function(u){"object"==typeof p[u]&&(p[u]=void 0)});var r=Object.getPrototypeOf(p),a={};Object.keys(r).forEach(function(u){"function"==typeof r[u]&&(a[u]={value:function(){console.warn("AG Grid: "+i+" function "+u+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(p,a)}function Ee(p){return"object"==typeof p&&null!==p}var Se=Object.freeze({__proto__:null,iterateObject:G,cloneObject:V,deepCloneObject:function W(p){return JSON.parse(JSON.stringify(p))},deepCloneDefinition:j,getProperty:K,setProperty:Y,copyPropertiesIfPresent:function re(p,i){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];r.forEach(function(u){return q(p,i,u)})},copyPropertyIfPresent:q,getAllKeysInObjects:Z,getAllValuesInObject:ee,mergeDeep:ne,missingOrEmptyObject:function se(p){return s(p)||0===Object.keys(p).length},get:function ae(p,i,r){if(null==p)return r;for(var a=i.split("."),u=p;a.length>1;)if(null==(u=u[a.shift()]))return r;return u[a[0]]??r},set:function pe(p,i,r){if(null!=p){var a=i.split("."),u=p;a.forEach(function(c,_){u[c]||(u[c]={}),_<a.length-1&&(u=u[c])}),u[a[a.length-1]]=r}},getValueUsingField:he,removeAllReferences:_e,isNonNullObject:Ee}),Re={};function Ce(p,i){Re[i]||(p(),Re[i]=!0)}function De(p){if(p.name)return p.name;var i=/function\s+([^\(]+)/.exec(p.toString());return i&&2===i.length?i[1].trim():null}function Ne(p){return!!(p&&p.constructor&&p.call&&p.apply)}function we(p){$e(p,400)}var Ve=[],je=!1;function rt(p){Ve.push(p),!je&&(je=!0,window.setTimeout(function(){var i=Ve.slice();Ve.length=0,je=!1,i.forEach(function(r){return r()})},0))}function $e(p,i){void 0===i&&(i=0),p.length>0&&window.setTimeout(function(){return p.forEach(function(r){return r()})},i)}function Et(p,i){var r;return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=this;window.clearTimeout(r),r=window.setTimeout(function(){p.apply(c,a)},i)}}function xt(p,i){var r=0;return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var _=(new Date).getTime();_-r<i||(r=_,p.apply(this,a))}}function jt(p,i,r,a){void 0===r&&(r=100);var u=(new Date).getTime(),c=null,_=!1,E=function(){var P=(new Date).getTime()-u>r;(p()||P)&&(i(),_=!0,null!=c&&(window.clearInterval(c),c=null),P&&a&&console.warn(a))};E(),_||(c=window.setInterval(E,10))}function Ft(p){p&&p()}var Yt=Object.freeze({__proto__:null,doOnce:Ce,getFunctionName:De,isFunction:Ne,executeInAWhile:we,executeNextVMTurn:rt,executeAfter:$e,debounce:Et,throttle:xt,waitUntil:jt,compose:function Qe(){for(var p=[],i=0;i<arguments.length;i++)p[i]=arguments[i];return function(r){return p.reduce(function(a,u){return u(a)},r)}},callIfPresent:Ft,noop:function(){}}),Cr=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},or=function(){function p(i,r){if(this.beanWrappers={},this.destroyed=!1,i&&i.beanClasses){this.contextParams=i,this.logger=r,this.logger.log(">> creating ag-Application Context"),this.createBeans();var a=this.getBeanInstances();this.wireBeans(a),this.logger.log(">> ag-Application Context ready - component is alive")}}return p.prototype.getBeanInstances=function(){return A(this.beanWrappers).map(function(i){return i.beanInstance})},p.prototype.createBean=function(i,r){if(!i)throw Error("Can't wire to bean since it is null");return this.wireBeans([i],r),i},p.prototype.wireBeans=function(i,r){this.autoWireBeans(i),this.methodWireBeans(i),this.callLifeCycleMethods(i,"preConstructMethods"),o(r)&&i.forEach(r),this.callLifeCycleMethods(i,"postConstructMethods")},p.prototype.createBeans=function(){var i=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),G(this.beanWrappers,function(a,u){var c;u.bean.__agBeanMetaData&&u.bean.__agBeanMetaData.autowireMethods&&u.bean.__agBeanMetaData.autowireMethods.agConstructor&&(c=u.bean.__agBeanMetaData.autowireMethods.agConstructor);var _=i.getBeansForParameters(c,u.bean.name),E=new(u.bean.bind.apply(u.bean,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Cr(arguments[i]));return p}([null],_)));u.beanInstance=E});var r=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+r)},p.prototype.createBeanWrapper=function(i){var r=i.__agBeanMetaData;if(!r){var a;return a=i.prototype.constructor?De(i.prototype.constructor):""+i,void console.error("Context item "+a+" is not a bean")}this.beanWrappers[r.beanName]={bean:i,beanInstance:null,beanName:r.beanName}},p.prototype.autoWireBeans=function(i){var r=this;i.forEach(function(a){r.forEachMetaDataInHierarchy(a,function(u,c){var _=u.agClassAttributes;_&&_.forEach(function(E){var P=r.lookupBeanInstance(c,E.beanName,E.optional);a[E.attributeName]=P})})})},p.prototype.methodWireBeans=function(i){var r=this;i.forEach(function(a){r.forEachMetaDataInHierarchy(a,function(u,c){G(u.autowireMethods,function(_,E){if("agConstructor"!==_){var P=r.getBeansForParameters(E,c);a[_].apply(a,P)}})})})},p.prototype.forEachMetaDataInHierarchy=function(i,r){for(var a=Object.getPrototypeOf(i);null!=a;){var u=a.constructor;u.hasOwnProperty("__agBeanMetaData")&&r(u.__agBeanMetaData,this.getBeanName(u)),a=Object.getPrototypeOf(a)}},p.prototype.getBeanName=function(i){if(i.__agBeanMetaData&&i.__agBeanMetaData.beanName)return i.__agBeanMetaData.beanName;var r=i.toString();return r.substring(9,r.indexOf("("))},p.prototype.getBeansForParameters=function(i,r){var a=this,u=[];return i&&G(i,function(c,_){var E=a.lookupBeanInstance(r,_);u[Number(c)]=E}),u},p.prototype.lookupBeanInstance=function(i,r,a){if(void 0===a&&(a=!1),"context"===r)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(r))return this.contextParams.providedBeanInstances[r];var u=this.beanWrappers[r];return u?u.beanInstance:(a||console.error("AG Grid: unable to find bean reference "+r+" while initialising "+i),null)},p.prototype.callLifeCycleMethods=function(i,r){var a=this;i.forEach(function(u){return a.callLifeCycleMethodsOnBean(u,r)})},p.prototype.callLifeCycleMethodsOnBean=function(i,r,a){var u={};this.forEachMetaDataInHierarchy(i,function(_){var E=_[r];E&&E.forEach(function(P){P!=a&&(u[P]=!0)})}),Object.keys(u).forEach(function(_){return i[_]()})},p.prototype.getBean=function(i){return this.lookupBeanInstance("getBean",i,!0)},p.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var i=this.getBeanInstances();this.destroyBeans(i),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},p.prototype.destroyBean=function(i){i&&this.destroyBeans([i])},p.prototype.destroyBeans=function(i){var r=this;return i?(i.forEach(function(a){r.callLifeCycleMethodsOnBean(a,"preDestroyMethods","destroy"),"function"==typeof a.destroy&&a.destroy()}),[]):[]},p}();function Xt(p,i,r){var a=Ki(p.constructor);a.preConstructMethods||(a.preConstructMethods=[]),a.preConstructMethods.push(i)}function ce(p,i,r){var a=Ki(p.constructor);a.postConstructMethods||(a.postConstructMethods=[]),a.postConstructMethods.push(i)}function ze(p,i,r){var a=Ki(p.constructor);a.preDestroyMethods||(a.preDestroyMethods=[]),a.preDestroyMethods.push(i)}function Le(p){return function(i){Ki(i).beanName=p}}function $(p){return function(i,r,a){ri(i,p,!1,0,r,null)}}function gt(p){return function(i,r,a){ri(i,p,!0,0,r,null)}}function ri(p,i,r,a,u,c){if(null!==i)if("number"!=typeof c){var _=Ki(p.constructor);_.agClassAttributes||(_.agClassAttributes=[]),_.agClassAttributes.push({attributeName:u,beanName:i,optional:r})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function ar(p){return function(i,r,a){var c,u="function"==typeof i?i:i.constructor;if("number"==typeof a){var _=void 0;r?(c=Ki(u),_=r):(c=Ki(u),_="agConstructor"),c.autowireMethods||(c.autowireMethods={}),c.autowireMethods[_]||(c.autowireMethods[_]={}),c.autowireMethods[_][a]=p}}}function Ki(p){return p.hasOwnProperty("__agBeanMetaData")||(p.__agBeanMetaData={}),p.__agBeanMetaData}var Gp=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ku=function(p,i){return function(r,a){i(r,a,p)}},zi=function(){function p(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return p.prototype.setBeans=function(i,r,a,u){if(void 0===u&&(u=null),this.frameworkOverrides=a,this.gridOptionsService=r,u){var c=r.useAsyncEvents();this.addGlobalListener(u,c)}},p.prototype.getListeners=function(i,r,a){var u=r?this.allAsyncListeners:this.allSyncListeners,c=u.get(i);return!c&&a&&u.set(i,c=new Set),c},p.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},p.prototype.addEventListener=function(i,r,a){void 0===a&&(a=!1),this.getListeners(i,a,!0).add(r)},p.prototype.removeEventListener=function(i,r,a){void 0===a&&(a=!1);var u=this.getListeners(i,a,!1);u&&(u.delete(r),0===u.size)&&(a?this.allAsyncListeners:this.allSyncListeners).delete(i)},p.prototype.addGlobalListener=function(i,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).add(i)},p.prototype.removeGlobalListener=function(i,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).delete(i)},p.prototype.dispatchEvent=function(i){var r=i;if(this.gridOptionsService){var a=this.gridOptionsService,c=a.columnApi,_=a.context;r.api=a.api,r.columnApi=c,r.context=_}this.dispatchToListeners(r,!0),this.dispatchToListeners(r,!1),this.firedEvents[r.type]=!0},p.prototype.dispatchEventOnce=function(i){this.firedEvents[i.type]||this.dispatchEvent(i)},p.prototype.dispatchToListeners=function(i,r){var a=this,u=i.type;if(r&&"event"in i){var c=i.event;c instanceof Event&&(i.eventPath=c.composedPath())}var E=this.getListeners(u,r,!1);E&&E.forEach(function(L){r?a.dispatchAsync(function(){return L(i)}):L(i)}),(r?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(M){r?a.dispatchAsync(function(){return a.frameworkOverrides.dispatchEvent(u,function(){return M(u,i)},!0)}):a.frameworkOverrides.dispatchEvent(u,function(){return M(u,i)},!0)})},p.prototype.dispatchAsync=function(i){this.asyncFunctionsQueue.push(i),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},p.prototype.flushAsyncQueue=function(){this.scheduled=!1;var i=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],i.forEach(function(r){return r()})},Gp([Ku(0,ar("loggerFactory")),Ku(1,ar("gridOptionsService")),Ku(2,ar("frameworkOverrides")),Ku(3,ar("globalEventListener"))],p.prototype,"setBeans",null),Gp([Le("eventService")],p)}(),ke=(()=>{return(p=ke||(ke={})).CommunityCoreModule="@ag-grid-community/core",p.CommunityAllModules="@ag-grid-community/all",p.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",p.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",p.CsvExportModule="@ag-grid-community/csv-export",p.EnterpriseCoreModule="@ag-grid-enterprise/core",p.EnterpriseAllModules="@ag-grid-enterprise/all",p.RowGroupingModule="@ag-grid-enterprise/row-grouping",p.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",p.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",p.MenuModule="@ag-grid-enterprise/menu",p.SetFilterModule="@ag-grid-enterprise/set-filter",p.MultiFilterModule="@ag-grid-enterprise/multi-filter",p.StatusBarModule="@ag-grid-enterprise/status-bar",p.SideBarModule="@ag-grid-enterprise/side-bar",p.RangeSelectionModule="@ag-grid-enterprise/range-selection",p.MasterDetailModule="@ag-grid-enterprise/master-detail",p.RichSelectModule="@ag-grid-enterprise/rich-select",p.GridChartsModule="@ag-grid-enterprise/charts",p.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",p.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",p.ExcelExportModule="@ag-grid-enterprise/excel-export",p.ClipboardModule="@ag-grid-enterprise/clipboard",p.SparklinesModule="@ag-grid-enterprise/sparklines",p.AngularModule="@ag-grid-community/angular",p.ReactModule="@ag-grid-community/react",p.VueModule="@ag-grid-community/vue",p.PolymerModule="@ag-grid-community/polymer",ke;var p})(),qe=function(){function p(){}return p.register=function(i,r){void 0===r&&(r=!0),p.runVersionChecks(i),p.modulesMap[i.moduleName]=i,p.setModuleBased(r)},p.runVersionChecks=function(i){if(p.currentModuleVersion||(p.currentModuleVersion=i.version),i.version?i.version!==p.currentModuleVersion&&console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+i.moduleName+"' is version "+i.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+i.moduleName+"' is incompatible. Please update all modules to the same version."),i.validate){var r=i.validate();r.isValid||console.error("AG Grid: "+r.message)}},p.setModuleBased=function(i){void 0===p.moduleBased?p.moduleBased=i:p.moduleBased!==i&&Ce(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},p.setIsBundled=function(){p.isBundled=!0},p.registerModules=function(i,r){void 0===r&&(r=!0),p.setModuleBased(r),i&&i.forEach(function(a){return p.register(a,r)})},p.assertRegistered=function(i,r){var a;if(this.isRegistered(i))return!0;var c,u=r+i;if(p.isBundled)c="AG Grid: unable to use "+r+" as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise";else if(p.moduleBased||void 0===p.moduleBased){var _=null===(a=Object.entries(ke).find(function(E){var P=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c}(E,2);return P[1]===i}))||void 0===a?void 0:a[0];c="AG Grid: unable to use "+r+" as the "+_+" is not registered. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { "+_+" } from '"+i+"';\n    \n    ModuleRegistry.registerModules([ "+_+" ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/"}else c="AG Grid: unable to use "+r+" as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/";return Ce(function(){console.warn(c)},u),!1},p.isRegistered=function(i){return!!p.modulesMap[i]},p.getRegisteredModules=function(){return A(p.modulesMap)},p.isPackageBased=function(){return!p.moduleBased},p.modulesMap={},p}(),Bp=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Pv=0;function Rv(){return Pv++}var Wt=function(){function p(i,r,a,u){this.instanceId=Rv(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new zi,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=i,this.userProvidedColDef=r,this.colId=a,this.primary=u,this.setState(i)}return p.prototype.getInstanceId=function(){return this.instanceId},p.prototype.setState=function(i){void 0!==i.sort?("asc"===i.sort||"desc"===i.sort)&&(this.sort=i.sort):("asc"===i.initialSort||"desc"===i.initialSort)&&(this.sort=i.initialSort);var r=C(i.sortIndex),a=C(i.initialSortIndex);void 0!==r?null!==r&&(this.sortIndex=r):null!==a&&(this.sortIndex=a);var u=m(i.hide),c=m(i.initialHide);this.visible=void 0!==u?!u:!c,this.setPinned(void 0!==i.pinned?i.pinned:i.initialPinned);var _=C(i.flex),E=C(i.initialFlex);void 0!==_?this.flex=_:void 0!==E&&(this.flex=E)},p.prototype.setColDef=function(i,r){this.colDef=i,this.userProvidedColDef=r,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},p.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},p.prototype.setParent=function(i){this.parent=i},p.prototype.getParent=function(){return this.parent},p.prototype.setOriginalParent=function(i){this.originalParent=i},p.prototype.getOriginalParent=function(){return this.originalParent},p.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},p.prototype.initDotNotation=function(){var i=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=o(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=o(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!i},p.prototype.initMinAndMaxWidths=function(){var i=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(i),this.maxWidth=this.columnUtils.calculateColMaxWidth(i)},p.prototype.resetActualWidth=function(i){void 0===i&&(i="api");var r=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(r,i,!0)},p.prototype.isEmptyGroup=function(){return!1},p.prototype.isRowGroupDisplayed=function(i){return!(s(this.colDef)||s(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==i)},p.prototype.isPrimary=function(){return this.primary},p.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},p.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},p.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},p.prototype.validate=function(){var c,i=this.colDef;function r(E,P,M){Ce(function(){M?console.warn(E,M):Ce(function(){return console.warn(E)},P)},P)}(this.gridOptionsService.isRowModelType("clientSide")&&!qe.isRegistered(ke.RowGroupingModule)&&(c=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(function(E){return o(i[E])})).length>0&&qe.assertRegistered(ke.RowGroupingModule,c.map(function(E){return"colDef."+E}).join(", ")),("agRichSelect"===this.colDef.cellEditor||"agRichSelectCellEditor"===this.colDef.cellEditor)&&qe.assertRegistered(ke.RichSelectModule,this.colDef.cellEditor),this.gridOptionsService.isTreeData())&&((c=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(function(P){return o(i[P])})).length>0&&r("AG Grid: "+c.join()+" is not possible when doing tree data, your column definition should not have "+c.join(),"TreeDataCannotRowGroup"));o(i.menuTabs)&&qe.assertRegistered(ke.MenuModule,"menuTabs"),o(i.columnsMenuParams)&&qe.assertRegistered(ke.MenuModule,"columnsMenuParams"),o(i.columnsMenuParams)&&qe.assertRegistered(ke.ColumnToolPanelModule,"columnsMenuParams"),o(this.colDef.width)&&"number"!=typeof this.colDef.width&&r("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),(i.pinnedRowCellRenderer||i.pinnedRowCellRendererParams||i.pinnedRowCellRendererFramework)&&r("AG Grid: pinnedRowCellRenderer[Params,Framework] no longer exist. Use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned.","colDef.pinnedRowCellRenderer-deprecated"),o(i.columnGroupShow)&&"closed"!==i.columnGroupShow&&"open"!==i.columnGroupShow&&r("AG Grid: '"+i.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed'","columnGroupShow_invalid")},p.prototype.addEventListener=function(i,r){this.eventService.addEventListener(i,r)},p.prototype.removeEventListener=function(i,r){this.eventService.removeEventListener(i,r)},p.prototype.createColumnFunctionCallbackParams=function(i){return{node:i,data:i.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},p.prototype.isSuppressNavigable=function(i){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var r=this.createColumnFunctionCallbackParams(i);return(0,this.colDef.suppressNavigable)(r)}return!1},p.prototype.isCellEditable=function(i){return!(i.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(i,this.colDef.editable)},p.prototype.isSuppressFillHandle=function(){return!!m(this.colDef.suppressFillHandle)},p.prototype.isAutoHeight=function(){return!!m(this.colDef.autoHeight)},p.prototype.isAutoHeaderHeight=function(){return!!m(this.colDef.autoHeaderHeight)},p.prototype.isRowDrag=function(i){return this.isColumnFunc(i,this.colDef.rowDrag)},p.prototype.isDndSource=function(i){return this.isColumnFunc(i,this.colDef.dndSource)},p.prototype.isCellCheckboxSelection=function(i){return this.isColumnFunc(i,this.colDef.checkboxSelection)},p.prototype.isSuppressPaste=function(i){return this.isColumnFunc(i,this.colDef?this.colDef.suppressPaste:null)},p.prototype.isResizable=function(){return!!m(this.colDef.resizable)},p.prototype.isColumnFunc=function(i,r){return"boolean"==typeof r?r:"function"==typeof r&&r(this.createColumnFunctionCallbackParams(i))},p.prototype.setMoving=function(i,r){void 0===r&&(r="api"),this.moving=i,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",r))},p.prototype.createColumnEvent=function(i,r){return{type:i,column:this,columns:[this],source:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},p.prototype.isMoving=function(){return this.moving},p.prototype.getSort=function(){return this.sort},p.prototype.setSort=function(i,r){void 0===r&&(r="api"),this.sort!==i&&(this.sort=i,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",r)))},p.prototype.setMenuVisible=function(i,r){void 0===r&&(r="api"),this.menuVisible!==i&&(this.menuVisible=i,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",r)))},p.prototype.isMenuVisible=function(){return this.menuVisible},p.prototype.isSortAscending=function(){return"asc"===this.sort},p.prototype.isSortDescending=function(){return"desc"===this.sort},p.prototype.isSortNone=function(){return s(this.sort)},p.prototype.isSorting=function(){return o(this.sort)},p.prototype.getSortIndex=function(){return this.sortIndex},p.prototype.setSortIndex=function(i){this.sortIndex=i},p.prototype.setAggFunc=function(i){this.aggFunc=i},p.prototype.getAggFunc=function(){return this.aggFunc},p.prototype.getLeft=function(){return this.left},p.prototype.getOldLeft=function(){return this.oldLeft},p.prototype.getRight=function(){return this.left+this.actualWidth},p.prototype.setLeft=function(i,r){void 0===r&&(r="api"),this.oldLeft=this.left,this.left!==i&&(this.left=i,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",r)))},p.prototype.isFilterActive=function(){return this.filterActive},p.prototype.setFilterActive=function(i,r,a){void 0===r&&(r="api"),this.filterActive!==i&&(this.filterActive=i,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",r)));var u=this.createColumnEvent("filterChanged",r);a&&ne(u,a),this.eventService.dispatchEvent(u)},p.prototype.setPinned=function(i){this.pinned=!0===i||"left"===i?"left":"right"===i?"right":null},p.prototype.setFirstRightPinned=function(i,r){void 0===r&&(r="api"),this.firstRightPinned!==i&&(this.firstRightPinned=i,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",r)))},p.prototype.setLastLeftPinned=function(i,r){void 0===r&&(r="api"),this.lastLeftPinned!==i&&(this.lastLeftPinned=i,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",r)))},p.prototype.isFirstRightPinned=function(){return this.firstRightPinned},p.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},p.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},p.prototype.isPinnedLeft=function(){return"left"===this.pinned},p.prototype.isPinnedRight=function(){return"right"===this.pinned},p.prototype.getPinned=function(){return this.pinned},p.prototype.setVisible=function(i,r){void 0===r&&(r="api");var a=!0===i;this.visible!==a&&(this.visible=a,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",r)))},p.prototype.isVisible=function(){return this.visible},p.prototype.getColDef=function(){return this.colDef},p.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},p.prototype.getColId=function(){return this.colId},p.prototype.getId=function(){return this.getColId()},p.prototype.getUniqueId=function(){return this.getId()},p.prototype.getDefinition=function(){return this.colDef},p.prototype.getActualWidth=function(){return this.actualWidth},p.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},p.prototype.setAutoHeaderHeight=function(i){var r=i!==this.autoHeaderHeight;return this.autoHeaderHeight=i,r},p.prototype.createBaseColDefParams=function(i){return{node:i,data:i.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},p.prototype.getColSpan=function(i){if(s(this.colDef.colSpan))return 1;var r=this.createBaseColDefParams(i),a=this.colDef.colSpan(r);return Math.max(a,1)},p.prototype.getRowSpan=function(i){if(s(this.colDef.rowSpan))return 1;var r=this.createBaseColDefParams(i),a=this.colDef.rowSpan(r);return Math.max(a,1)},p.prototype.setActualWidth=function(i,r,a){void 0===r&&(r="api"),void 0===a&&(a=!1),null!=this.minWidth&&(i=Math.max(i,this.minWidth)),null!=this.maxWidth&&(i=Math.min(i,this.maxWidth)),this.actualWidth!==i&&(this.actualWidth=i,this.flex&&"flex"!==r&&"gridInitializing"!==r&&(this.flex=null),a||this.fireColumnWidthChangedEvent(r))},p.prototype.fireColumnWidthChangedEvent=function(i){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",i))},p.prototype.isGreaterThanMax=function(i){return null!=this.maxWidth&&i>this.maxWidth},p.prototype.getMinWidth=function(){return this.minWidth},p.prototype.getMaxWidth=function(){return this.maxWidth},p.prototype.getFlex=function(){return this.flex||0},p.prototype.setFlex=function(i){this.flex!==i&&(this.flex=i)},p.prototype.setMinimum=function(i){void 0===i&&(i="api"),o(this.minWidth)&&this.setActualWidth(this.minWidth,i)},p.prototype.setRowGroupActive=function(i,r){void 0===r&&(r="api"),this.rowGroupActive!==i&&(this.rowGroupActive=i,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",r)))},p.prototype.isRowGroupActive=function(){return this.rowGroupActive},p.prototype.setPivotActive=function(i,r){void 0===r&&(r="api"),this.pivotActive!==i&&(this.pivotActive=i,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",r)))},p.prototype.isPivotActive=function(){return this.pivotActive},p.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},p.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},p.prototype.setValueActive=function(i,r){void 0===r&&(r="api"),this.aggregationActive!==i&&(this.aggregationActive=i,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",r)))},p.prototype.isValueActive=function(){return this.aggregationActive},p.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},p.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},p.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},p.prototype.getMenuTabs=function(i){var r=this.getColDef().menuTabs;return null==r&&(r=i),r},p.EVENT_MOVING_CHANGED="movingChanged",p.EVENT_LEFT_CHANGED="leftChanged",p.EVENT_WIDTH_CHANGED="widthChanged",p.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",p.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",p.EVENT_VISIBLE_CHANGED="visibleChanged",p.EVENT_FILTER_CHANGED="filterChanged",p.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",p.EVENT_SORT_CHANGED="sortChanged",p.EVENT_COL_DEF_CHANGED="colDefChanged",p.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",p.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",p.EVENT_PIVOT_CHANGED="columnPivotChanged",p.EVENT_VALUE_CHANGED="columnValueChanged",Bp([$("gridOptionsService")],p.prototype,"gridOptionsService",void 0),Bp([$("columnUtils")],p.prototype,"columnUtils",void 0),Bp([ce],p.prototype,"initialise",null),p}(),Qt=function(){function p(i,r,a,u){this.localEventService=new zi,this.expandable=!1,this.instanceId=Rv(),this.expandableListenerRemoveCallback=null,this.colGroupDef=i,this.groupId=r,this.expanded=!!i&&!!i.openByDefault,this.padding=a,this.level=u}return p.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},p.prototype.reset=function(i,r){this.colGroupDef=i,this.level=r,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},p.prototype.getInstanceId=function(){return this.instanceId},p.prototype.setOriginalParent=function(i){this.originalParent=i},p.prototype.getOriginalParent=function(){return this.originalParent},p.prototype.getLevel=function(){return this.level},p.prototype.isVisible=function(){return!!this.children&&this.children.some(function(i){return i.isVisible()})},p.prototype.isPadding=function(){return this.padding},p.prototype.setExpanded=function(i){this.expanded=void 0!==i&&i,this.localEventService.dispatchEvent({type:p.EVENT_EXPANDED_CHANGED})},p.prototype.isExpandable=function(){return this.expandable},p.prototype.isExpanded=function(){return this.expanded},p.prototype.getGroupId=function(){return this.groupId},p.prototype.getId=function(){return this.getGroupId()},p.prototype.setChildren=function(i){this.children=i},p.prototype.getChildren=function(){return this.children},p.prototype.getColGroupDef=function(){return this.colGroupDef},p.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},p.prototype.addLeafColumns=function(i){this.children&&this.children.forEach(function(r){r instanceof Wt?i.push(r):r instanceof p&&r.addLeafColumns(i)})},p.prototype.getColumnGroupShow=function(){var i=this.colGroupDef;if(i)return i.columnGroupShow},p.prototype.setupExpandable=function(){var i=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var r=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(a){return a.addEventListener("visibleChanged",r)}),this.expandableListenerRemoveCallback=function(){i.getLeafColumns().forEach(function(a){return a.removeEventListener("visibleChanged",r)}),i.expandableListenerRemoveCallback=null}},p.prototype.setExpandable=function(){if(!this.isPadding()){for(var i=!1,r=!1,a=!1,u=this.findChildrenRemovingPadding(),c=0,_=u.length;c<_;c++){var E=u[c];if(E.isVisible()){var P=E.getColumnGroupShow();"open"===P?(i=!0,a=!0):"closed"===P?(r=!0,a=!0):(i=!0,r=!0)}}var M=i&&r&&a;this.expandable!==M&&(this.expandable=M,this.localEventService.dispatchEvent({type:p.EVENT_EXPANDABLE_CHANGED}))}},p.prototype.findChildrenRemovingPadding=function(){var i=[],r=function(a){a.forEach(function(u){u instanceof p&&u.isPadding()?r(u.children):i.push(u)})};return r(this.children),i},p.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},p.prototype.addEventListener=function(i,r){this.localEventService.addEventListener(i,r)},p.prototype.removeEventListener=function(i,r){this.localEventService.removeEventListener(i,r)},p.EVENT_EXPANDED_CHANGED="expandedChanged",p.EVENT_EXPANDABLE_CHANGED="expandableChanged",function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ze],p.prototype,"destroy",null),p}(),_E={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Tv(){for(var p=[],i=0;i<arguments.length;i++)p[i]=arguments[i];for(var r=0;r<p.length;r++){var a=p[r];if(o(a))return a}return null}function Rt(p){if(p&&p.length)return p[p.length-1]}function Yi(p,i,r){return null==p&&null==i||null!=p&&null!=i&&p.length===i.length&&p.every(function(a,u){return r?r(a,i[u]):i[u]===a})}function zu(p){return p.sort(function(i,r){return i-r})}function Gr(p,i){var r=p.indexOf(i);r>=0&&p.splice(r,1)}function ll(p,i){i.forEach(function(r){return Gr(p,r)})}function Qo(p,i,r){p.splice(r,0,i)}function ul(p,i,r){ll(p,i),i.slice().reverse().forEach(function(a){return Qo(p,a,r)})}function sr(p,i){return p.indexOf(i)>-1}function Hp(p){return[].concat.apply([],p)}function Yu(p,i){null==i||null==p||i.forEach(function(r){return p.push(r)})}var Up=Object.freeze({__proto__:null,firstExistingValue:Tv,existsAndNotEmpty:function yE(p){return null!=p&&p.length>0},last:Rt,areEqual:Yi,shallowCompare:function kp(p,i){return Yi(p,i)},sortNumerically:zu,removeRepeatsFromArray:function Vp(p,i){if(p)for(var r=p.length-2;r>=0;r--)p[r]===i&&p[r+1]===i&&p.splice(r+1,1)},removeFromArray:Gr,removeAllFromArray:ll,insertIntoArray:Qo,insertArrayIntoArray:function Wp(p,i,r){if(null!=p&&null!=i)for(var a=i.length-1;a>=0;a--)Qo(p,i[a],r)},moveInArray:ul,includes:sr,flatten:Hp,pushAll:Yu,toStrings:function Mv(p){return p.map(v)},forEachReverse:function Av(p,i){if(null!=p)for(var r=p.length-1;r>=0;r--)i(p[r],r)}}),$p="__ag_Grid_Stop_Propagation",xv=["touchstart","touchend","touchmove","touchcancel","scroll"],ni={};function ea(p){p[$p]=!0}function dn(p){return!0===p[$p]}var p,qu=(p={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(r){if("boolean"==typeof ni[r])return ni[r];var a=document.createElement(p[r]||"div");return ni[r="on"+r]=r in a});function es(p,i,r){for(var a=i.target;a;){var u=p.getDomData(a,r);if(u)return u;a=a.parentElement}return null}function Xu(p,i){return!(!i||!p)&&Kp(i).indexOf(p)>=0}function jp(p){for(var i=[],r=p.target;r;)i.push(r),r=r.parentElement;return i}function Kp(p){var i=p;return i.path?i.path:i.composedPath?i.composedPath():jp(i)}function cl(p,i,r,a){var u=sr(xv,r);p&&p.addEventListener&&p.addEventListener(i,r,a,u?{passive:!0}:void 0)}var mE=Object.freeze({__proto__:null,stopPropagationForAgGrid:ea,isStopPropagationForAgGrid:dn,isEventSupported:qu,getCtrlForEvent:es,isElementInEventPath:Xu,createEventPath:jp,getEventPath:Kp,addSafePassiveEventListener:cl}),qi=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Me=function(){function p(){var i=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!i.destroyed}}return p.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},p.prototype.getContext=function(){return this.context},p.prototype.destroy=function(){this.destroyFunctions.forEach(function(i){return i()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:p.EVENT_DESTROYED})},p.prototype.addEventListener=function(i,r){this.localEventService||(this.localEventService=new zi),this.localEventService.addEventListener(i,r)},p.prototype.removeEventListener=function(i,r){this.localEventService&&this.localEventService.removeEventListener(i,r)},p.prototype.dispatchEventAsync=function(i){var r=this;window.setTimeout(function(){return r.dispatchEvent(i)},0)},p.prototype.dispatchEvent=function(i){this.localEventService&&this.localEventService.dispatchEvent(i)},p.prototype.addManagedListener=function(i,r,a){var u=this;if(!this.destroyed){i instanceof HTMLElement?cl(this.getFrameworkOverrides(),i,r,a):i.addEventListener(r,a);var c=function(){return i.removeEventListener(r,a),u.destroyFunctions=u.destroyFunctions.filter(function(_){return _!==c}),null};return this.destroyFunctions.push(c),c}},p.prototype.addManagedPropertyListener=function(i,r){var a=this;if(!this.destroyed){this.gridOptionsService.addEventListener(i,r);var u=function(){return a.gridOptionsService.removeEventListener(i,r),a.destroyFunctions=a.destroyFunctions.filter(function(c){return c!==u}),null};return this.destroyFunctions.push(u),u}},p.prototype.addDestroyFunc=function(i){this.isAlive()?this.destroyFunctions.push(i):i()},p.prototype.createManagedBean=function(i,r){var a=this.createBean(i,r);return this.addDestroyFunc(this.destroyBean.bind(this,i,r)),a},p.prototype.createBean=function(i,r,a){return(r||this.getContext()).createBean(i,a)},p.prototype.destroyBean=function(i,r){return(r||this.getContext()).destroyBean(i)},p.prototype.destroyBeans=function(i,r){var a=this;return i&&i.forEach(function(u){return a.destroyBean(u,r)}),[]},p.EVENT_DESTROYED="destroyed",qi([$("frameworkOverrides")],p.prototype,"frameworkOverrides",void 0),qi([$("context")],p.prototype,"context",void 0),qi([$("eventService")],p.prototype,"eventService",void 0),qi([$("gridOptionsService")],p.prototype,"gridOptionsService",void 0),qi([$("localeService")],p.prototype,"localeService",void 0),qi([$("environment")],p.prototype,"environment",void 0),qi([ze],p.prototype,"destroy",null),p}(),zp=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),dl=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Iv=function(p,i){return function(r,a){i(r,a,p)}},Lv=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return zp(i,p),i.prototype.setBeans=function(r){this.logger=r.create("ColumnFactory")},i.prototype.createColumnTree=function(r,a,u){var c=new N,_=this.extractExistingTreeData(u),E=_.existingCols,P=_.existingGroups;c.addExistingKeys(_.existingColKeys);var L=this.recursivelyCreateColumns(r,0,a,E,c,P),B=this.findMaxDept(L,0);this.logger.log("Number of levels for grouped columns is "+B);var U=this.balanceColumnTree(L,0,B,c);return this.columnUtils.depthFirstOriginalTreeSearch(null,U,function(Q,oe){Q instanceof Qt&&Q.setupExpandable(),Q.setOriginalParent(oe)}),{columnTree:U,treeDept:B}},i.prototype.extractExistingTreeData=function(r){var a=[],u=[],c=[];return r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(_){if(_ instanceof Qt)u.push(_);else{var P=_;c.push(P.getId()),a.push(P)}}),{existingCols:a,existingGroups:u,existingColKeys:c}},i.prototype.createForAutoGroups=function(r,a){var u=this;return r.map(function(c){return u.createAutoGroupTreeItem(a,c)})},i.prototype.createAutoGroupTreeItem=function(r,a){for(var c=a,_=this.findDepth(r)-1;_>=0;_--){var E=new Qt(null,"FAKE_PATH_"+a.getId()+"}_"+_,!0,_);this.createBean(E),E.setChildren([c]),c.setOriginalParent(E),c=E}return c},i.prototype.findDepth=function(r){for(var a=0,u=r;u&&u[0]&&u[0]instanceof Qt;)a++,u=u[0].getChildren();return a},i.prototype.balanceColumnTree=function(r,a,u,c){for(var _=[],E=0;E<r.length;E++){var P=r[E];if(P instanceof Qt){var M=P,L=this.balanceColumnTree(M.getChildren(),a+1,u,c);M.setChildren(L),_.push(M)}else{for(var B=void 0,U=void 0,X=u-1;X>=a;X--){var Q=c.getUniqueKey(null,null),oe=this.createMergedColGroupDef(null),le=new Qt(oe,Q,!0,a);this.createBean(le),U&&U.setChildren([le]),U=le,B||(B=U)}if(B&&U){if(_.push(B),r.some(function(de){return de instanceof Qt})){U.setChildren([P]);continue}U.setChildren(r);break}_.push(P)}}return _},i.prototype.findMaxDept=function(r,a){for(var u=a,c=0;c<r.length;c++){var _=r[c];if(_ instanceof Qt){var P=this.findMaxDept(_.getChildren(),a+1);u<P&&(u=P)}}return u},i.prototype.recursivelyCreateColumns=function(r,a,u,c,_,E){var P=this;return(r||[]).map(function(M){return P.isColumnGroup(M)?P.createColumnGroup(u,M,a,c,_,E):P.createColumn(u,M,c,_)})},i.prototype.createColumnGroup=function(r,a,u,c,_,E){var B,P=this.createMergedColGroupDef(a),M=_.getUniqueKey(P.groupId||null,null),L=this.findExistingGroup(a,E);L?((B=L).reset(P,u),Gr(E,L)):(B=new Qt(P,M,!1,u),this.createBean(B));var U=this.recursivelyCreateColumns(P.children,u+1,r,c,_,E);return B.setChildren(U),B},i.prototype.createMergedColGroupDef=function(r){var a={};return Object.assign(a,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(a,r),a},i.prototype.createColumn=function(r,a,u,c){var _=this.mergeColDefs(a),E=this.findExistingColumn(a,u);if(u&&E&&Gr(u,E),E)E.setColDef(_,a),this.applyColumnState(E,_);else{var P=c.getUniqueKey(_.colId,_.field);E=new Wt(_,a,P,r),this.context.createBean(E)}return E},i.prototype.applyColumnState=function(r,a){var u=C(a.flex);if(void 0!==u&&r.setFlex(u),r.getFlex()<=0){var _=C(a.width);if(null!=_)r.setActualWidth(_);else{var E=r.getActualWidth();r.setActualWidth(E)}}void 0!==a.sort&&r.setSort("asc"==a.sort||"desc"==a.sort?a.sort:void 0);var P=C(a.sortIndex);void 0!==P&&r.setSortIndex(P);var M=m(a.hide);void 0!==M&&r.setVisible(!M),void 0!==a.pinned&&r.setPinned(a.pinned)},i.prototype.findExistingColumn=function(r,a){return(a||[]).find(function(u){var c=u.getUserProvidedColDef();if(!c)return!1;var E=null!=r.field;return null!=r.colId?u.getId()===r.colId:E?c.field===r.field:c===r})},i.prototype.findExistingGroup=function(r,a){return a.find(function(u){return!(!u.getColGroupDef()||null==r.groupId||u.getId()!==r.groupId)})},i.prototype.mergeColDefs=function(r){var a={},u=this.gridOptionsService.get("defaultColDef");ne(a,u,!1,!0);var c=r.type;c||(c=u&&u.type),c&&this.assignColumnTypes(c,a),ne(a,r,!1,!0);var _=this.gridOptionsService.get("autoGroupColumnDef"),E=this.gridOptionsService.isColumnsSortingCoupledToGroup();return r.rowGroup&&_&&E&&ne(a,{sort:_.sort,initialSort:_.initialSort},!1,!0),a},i.prototype.assignColumnTypes=function(r,a){var u=[];if(r instanceof Array)r.some(function(P){return"string"!=typeof P})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):u=r;else{if("string"!=typeof r)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");u=r.split(",")}var _=Object.assign({},_E);G(this.gridOptionsService.get("columnTypes")||{},function(P,M){P in _?console.warn("AG Grid: the column type '"+P+"' is a default column type and cannot be overridden."):_[P]=M}),u.forEach(function(P){var M=_[P.trim()];M?ne(a,M,!1,!0):console.warn("AG Grid: colDef.type '"+P+"' does not correspond to defined gridOptions.columnTypes")})},i.prototype.isColumnGroup=function(r){return void 0!==r.children},dl([$("columnUtils")],i.prototype,"columnUtils",void 0),dl([Iv(0,ar("loggerFactory"))],i.prototype,"setBeans",null),dl([Le("columnFactory")],i)}(Me),Yp=function(){function p(){}return p.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentFramework:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellRendererFramework:void 0,cellEditor:void 0,cellEditorFramework:void 0,cellEditorParams:void 0,filterFramework:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentFramework:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,floatingFilterComponentFramework:void 0,tooltipComponentParams:void 0,tooltipComponentFramework:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0},p.ALL_PROPERTIES=Object.keys(p.ColDefPropertyMap),p.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],p}(),J=function(){function p(){}return p.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",p.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",p.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",p.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",p.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",p.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",p.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",p.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",p.EVENT_COLUMN_MOVED="columnMoved",p.EVENT_COLUMN_VISIBLE="columnVisible",p.EVENT_COLUMN_PINNED="columnPinned",p.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",p.EVENT_COLUMN_RESIZED="columnResized",p.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",p.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",p.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",p.EVENT_ROW_GROUP_OPENED="rowGroupOpened",p.EVENT_ROW_DATA_CHANGED="rowDataChanged",p.EVENT_ROW_DATA_UPDATED="rowDataUpdated",p.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",p.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",p.EVENT_CHART_CREATED="chartCreated",p.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",p.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",p.EVENT_CHART_DESTROYED="chartDestroyed",p.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",p.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",p.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED="internalToolPanelVisibleChanged",p.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",p.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",p.EVENT_MODEL_UPDATED="modelUpdated",p.EVENT_PASTE_START="pasteStart",p.EVENT_PASTE_END="pasteEnd",p.EVENT_FILL_START="fillStart",p.EVENT_FILL_END="fillEnd",p.EVENT_UNDO_STARTED="undoStarted",p.EVENT_UNDO_ENDED="undoEnded",p.EVENT_REDO_STARTED="redoStarted",p.EVENT_REDO_ENDED="redoEnded",p.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",p.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",p.EVENT_CELL_CLICKED="cellClicked",p.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",p.EVENT_CELL_MOUSE_DOWN="cellMouseDown",p.EVENT_CELL_CONTEXT_MENU="cellContextMenu",p.EVENT_CELL_VALUE_CHANGED="cellValueChanged",p.EVENT_CELL_EDIT_REQUEST="cellEditRequest",p.EVENT_ROW_VALUE_CHANGED="rowValueChanged",p.EVENT_CELL_FOCUSED="cellFocused",p.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",p.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",p.EVENT_ROW_SELECTED="rowSelected",p.EVENT_SELECTION_CHANGED="selectionChanged",p.EVENT_CELL_KEY_DOWN="cellKeyDown",p.EVENT_CELL_KEY_PRESS="cellKeyPress",p.EVENT_CELL_MOUSE_OVER="cellMouseOver",p.EVENT_CELL_MOUSE_OUT="cellMouseOut",p.EVENT_FILTER_CHANGED="filterChanged",p.EVENT_FILTER_MODIFIED="filterModified",p.EVENT_FILTER_OPENED="filterOpened",p.EVENT_SORT_CHANGED="sortChanged",p.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",p.EVENT_ROW_CLICKED="rowClicked",p.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",p.EVENT_GRID_READY="gridReady",p.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",p.EVENT_VIEWPORT_CHANGED="viewportChanged",p.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",p.EVENT_FIRST_DATA_RENDERED="firstDataRendered",p.EVENT_DRAG_STARTED="dragStarted",p.EVENT_DRAG_STOPPED="dragStopped",p.EVENT_CHECKBOX_CHANGED="checkboxChanged",p.EVENT_ROW_EDITING_STARTED="rowEditingStarted",p.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",p.EVENT_CELL_EDITING_STARTED="cellEditingStarted",p.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",p.EVENT_BODY_SCROLL="bodyScroll",p.EVENT_BODY_SCROLL_END="bodyScrollEnd",p.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",p.EVENT_PAGINATION_CHANGED="paginationChanged",p.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",p.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",p.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",p.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",p.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",p.EVENT_FLASH_CELLS="flashCells",p.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",p.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",p.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",p.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",p.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",p.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",p.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",p.EVENT_ROW_DRAG_ENTER="rowDragEnter",p.EVENT_ROW_DRAG_MOVE="rowDragMove",p.EVENT_ROW_DRAG_LEAVE="rowDragLeave",p.EVENT_ROW_DRAG_END="rowDragEnd",p.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",p.EVENT_POPUP_TO_FRONT="popupToFront",p.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",p.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",p.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",p.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",p.EVENT_KEYBOARD_FOCUS="keyboardFocus",p.EVENT_MOUSE_FOCUS="mouseFocus",p.EVENT_STORE_UPDATED="storeUpdated",p}(),qp=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Xp=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(qp(arguments[i]));return p},ii=function(){function p(){}return p.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],p.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],p.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],p.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],p.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter"],p.FUNCTION_PROPERTIES=Xp(p.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupOrderComparator","rowDragText","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],p.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"]),p.ALL_PROPERTIES=Xp(p.ARRAY_PROPERTIES,p.OBJECT_PROPERTIES,p.STRING_PROPERTIES,p.NUMBER_PROPERTIES,p.FUNCTION_PROPERTIES,p.BOOLEAN_PROPERTIES),p.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],p}(),pl=function(){return pl=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},pl.apply(this,arguments)},Fv=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Eo=function(){function p(){}return p.getCallbackForEvent=function(i){return!i||i.length<2?i:"on"+i[0].toUpperCase()+i.substr(1)},p.getCoercionLookup=function(){var i={};return function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Fv(arguments[i]));return p}(p.ARRAY_PROPERTIES,p.OBJECT_PROPERTIES,p.STRING_PROPERTIES,p.FUNCTION_PROPERTIES,p.EVENT_CALLBACKS).forEach(function(r){return i[r]="none"}),p.BOOLEAN_PROPERTIES.forEach(function(r){return i[r]="boolean"}),p.NUMBER_PROPERTIES.forEach(function(r){return i[r]="number"}),i},p.getValue=function(i,r){var a=p.coercionLookup[i];if(a){var u=r;switch(a){case"number":u=p.toNumber(r);break;case"boolean":u=p.toBoolean(r);break;case"none":"groupAggFiltering"===i&&"function"!=typeof r&&(u=p.toBoolean(r))}return u}},p.getGridOptionKeys=function(i,r){return Object.keys(r?p.coercionLookup:i)},p.copyAttributesToGridOptions=function(i,r,a){void 0===a&&(a=!1),"object"!=typeof i&&(i={});var u=i;return p.getGridOptionKeys(r,a).forEach(function(_){var E=r[_];if(typeof E<"u"){var P=p.getValue(_,E);void 0!==P&&(u[_]=P)}}),i},p.processOnChange=function(i,r){if(i&&0!==Object.keys(i).length){var a=pl({},i);a.columnTypes&&(r.setColumnTypes(a.columnTypes.currentValue,"gridOptionsChanged"),delete a.columnTypes),a.autoGroupColumnDef&&(r.setAutoGroupColumnDef(a.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete a.autoGroupColumnDef),a.defaultColDef&&(r.setDefaultColDef(a.defaultColDef.currentValue,"gridOptionsChanged"),delete a.defaultColDef),a.columnDefs&&(r.setColumnDefs(a.columnDefs.currentValue,"gridOptionsChanged"),delete a.columnDefs),Object.keys(a).forEach(function(c){var _=c,E=p.getValue(_,a[_].currentValue);r.__setProperty(_,E)});var u={type:J.EVENT_COMPONENT_STATE_CHANGED};G(i,function(c,_){u[c]=_}),r.dispatchEvent(u)}},p.toBoolean=function(i){return"boolean"==typeof i?i:"string"==typeof i&&("TRUE"===i.toUpperCase()||""==i)},p.toNumber=function(i){return"number"==typeof i?i:"string"==typeof i?Number(i):void 0},p.EVENTS=A(J),p.EXCLUDED_INTERNAL_EVENTS=[J.EVENT_SCROLLBAR_WIDTH_CHANGED,J.EVENT_CHECKBOX_CHANGED,J.EVENT_HEIGHT_SCALE_CHANGED,J.EVENT_BODY_HEIGHT_CHANGED,J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,J.EVENT_SCROLL_VISIBILITY_CHANGED,J.EVENT_COLUMN_HOVER_CHANGED,J.EVENT_FLASH_CELLS,J.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,J.EVENT_DISPLAYED_ROWS_CHANGED,J.EVENT_LEFT_PINNED_WIDTH_CHANGED,J.EVENT_RIGHT_PINNED_WIDTH_CHANGED,J.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,J.EVENT_POPUP_TO_FRONT,J.EVENT_KEYBOARD_FOCUS,J.EVENT_MOUSE_FOCUS,J.EVENT_STORE_UPDATED,J.EVENT_COLUMN_PANEL_ITEM_DRAG_START,J.EVENT_COLUMN_PANEL_ITEM_DRAG_END,J.EVENT_FILL_START,J.EVENT_FILL_END,J.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,J.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,J.EVENT_FULL_WIDTH_ROW_FOCUSED,J.EVENT_HEADER_HEIGHT_CHANGED,J.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,J.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,J.EVENT_CELL_FOCUS_CLEARED,J.EVENT_GRID_STYLES_CHANGED],p.PUBLIC_EVENTS=p.EVENTS.filter(function(i){return!sr(p.EXCLUDED_INTERNAL_EVENTS,i)}),p.EVENT_CALLBACKS=p.EVENTS.map(function(i){return p.getCallbackForEvent(i)}),p.STRING_PROPERTIES=ii.STRING_PROPERTIES,p.OBJECT_PROPERTIES=ii.OBJECT_PROPERTIES,p.ARRAY_PROPERTIES=ii.ARRAY_PROPERTIES,p.NUMBER_PROPERTIES=ii.NUMBER_PROPERTIES,p.BOOLEAN_PROPERTIES=ii.BOOLEAN_PROPERTIES,p.FUNCTION_PROPERTIES=ii.FUNCTION_PROPERTIES,p.ALL_PROPERTIES=ii.ALL_PROPERTIES,p.ALL_PROPERTIES_SET=new Set(ii.ALL_PROPERTIES),p.coercionLookup=p.getCoercionLookup(),p}();function Nt(p,i,r){var a={},u=p.filter(function(c){return!i.some(function(_){return _===c})});return u.length>0&&u.forEach(function(c){return a[c]=fl(c,r)}),a}function fl(p,i,r){var a=i.map(function(u){return{value:u,relevance:Ht(p.toLowerCase(),u.toLocaleLowerCase())}});return a.sort(function(u,c){return c.relevance-u.relevance}),r&&(a=a.filter(function(u){return 0!==u.relevance})),a.map(function(u){return u.value})}function Ht(p,i){for(var r=p.replace(/\s/g,""),a=i.replace(/\s/g,""),u=0,c=-1,_=0;_<r.length;_++){var E=a.indexOf(r[_],c+1);-1!==E&&(u+=100-100*(c=E)/1e4*100)}return u}var Ju=Object.freeze({__proto__:null,fuzzyCheckStrings:Nt,fuzzySuggestions:fl}),hl=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},gl=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Je=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(gl(arguments[i]));return p};function lr(p,i,r,a){var u=r?"Please use '"+r+"' instead. ":"";Ce(function(){return console.warn("AG Grid: since v"+p+", '"+i+"' is deprecated. "+u+(a??""))},"Deprecated_"+i)}var Zu=function(){function p(){this.deprecatedProperties={serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},suppressEnterpriseResetOnNewColumns:{version:"25",message:"Now that it is possible to dynamically change columns in the grid, this is no longer needed."},suppressColumnStateEvents:{version:"25",message:'Events should be ignored based on the `event.source`, which will be "api" if the event was due to setting column state via the API.'},defaultExportParams:{version:"25.2",message:"The property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`"},stopEditingWhenGridLosesFocus:{version:"25.2.2",newProp:"stopEditingWhenCellsLoseFocus",copyToNewProp:!0},applyColumnDefOrder:{version:"26",message:"The property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"},groupMultiAutoColumn:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"multipleColumns"},groupUseEntireRow:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"groupRows"},defaultGroupSortComparator:{version:"26",newProp:"initialGroupOrderComparator"},enableMultiRowDragging:{version:"26.1",newProp:"rowDragMultiRow",copyToNewProp:!0},colWidth:{version:"26.1",newProp:"defaultColDef.width"},minColWidth:{version:"26.1",newProp:"defaultColDef.minWidth"},maxColWidth:{version:"26.1",newProp:"defaultColDef.maxWidth"},reactUi:{version:"26.1",message:"React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."},suppressCellSelection:{version:"27",newProp:"suppressCellFocus",copyToNewProp:!0},clipboardDeliminator:{version:"27.1",newProp:"clipboardDelimiter",copyToNewProp:!0},getRowNodeId:{version:"27.1",newProp:"getRowId",message:"The difference: if getRowId() is implemented then immutable data is enabled by default."},defaultGroupOrderComparator:{version:"27.2",newProp:"initialGroupOrderComparator"},groupRowAggNodes:{version:"27.2",newProp:"getGroupRowAgg"},postSort:{version:"27.2",newProp:"postSortRows"},isFullWidthCell:{version:"27.2",newProp:"isFullWidthRow"},localeTextFunc:{version:"27.2",newProp:"getLocaleText"},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideFilterAllLevels",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."}}}return p.prototype.pickOneWarning=function(i,r){console.warn("AG Grid: "+i+" and "+r+" do not work with each other, you need to pick one.")},p.prototype.init=function(){var i=this;if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&("multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.isRowModelType("serverSide")&&console.warn("AG Grid: group selects children is NOT supported for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){var r=function(u,c){return"AG Grid: '"+u+"' is not supported on the Server-Side Row Model."+(c?" Please use "+c+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(r("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&console.warn(r("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(r("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?qe.assertRegistered(ke.RangeSelectionModule,"enableRangeSelection"):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var a=function(u,c){return i.gridOptionsService.exists(u)&&qe.assertRegistered(c,u)};a("sideBar",ke.SideBarModule),a("statusBar",ke.StatusBarModule),a("enableCharts",ke.GridChartsModule),a("getMainMenuItems",ke.MenuModule),a("getContextMenuItems",ke.MenuModule),a("allowContextMenuWithControlKey",ke.MenuModule),this.gridOptionsService.is("groupRowsSticky")&&(this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRowsSticky","groupHideOpenParents"),this.gridOptionsService.is("masterDetail")&&this.pickOneWarning("groupRowsSticky","masterDetail"),this.gridOptionsService.is("pagination")&&this.pickOneWarning("groupRowsSticky","pagination"))},p.prototype.checkColumnDefProperties=function(){var i=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(r){var a=Object.getOwnPropertyNames(r),u=Je(Yp.ALL_PROPERTIES,Yp.FRAMEWORK_PROPERTIES);i.checkProperties(a,u,u,"colDef","https://www.ag-grid.com/javascript-data-grid/column-properties/")})},p.prototype.checkGridOptionsProperties=function(){var i=Object.getOwnPropertyNames(this.gridOptions),r=Je(ii.ALL_PROPERTIES,ii.FRAMEWORK_PROPERTIES,Eo.EVENT_CALLBACKS),a=Je(r,["api","columnApi"],Object.keys(this.deprecatedProperties));this.checkProperties(i,a,r,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},p.prototype.checkProperties=function(i,r,a,u,c){var _=Nt(i,r,a);G(_,function(E,P){console.warn("AG Grid: invalid "+u+" property '"+E+"' did you mean any of these: "+P.slice(0,8).join(", "))}),Object.keys(_).length>0&&console.warn("AG Grid: to see all the valid "+u+" properties please check: "+c)},p.prototype.checkForDeprecated=function(){var i=this.gridOptions;if(Object.entries(this.deprecatedProperties).forEach(function(a){var u,c=gl(a,2),_=c[0],E=c[1],P=i[_];P&&(lr(E.version,_,E.newProp,E.message),E.copyToNewProp&&E.newProp&&null==i[E.newProp]&&(i[E.newProp]=null!==(u=E.newPropValue)&&void 0!==u?u:P))}),i.groupSuppressAutoColumn){var r=i.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+r+" = 'custom'`"),i[r]="custom"}i.immutableData&&(i.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),i.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),i.suppressServerSideInfiniteScroll="partial"!==i.serverSideStoreType)},p.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},p.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},hl([$("gridOptions")],p.prototype,"gridOptions",void 0),hl([$("gridOptionsService")],p.prototype,"gridOptionsService",void 0),hl([ce],p.prototype,"init",null),hl([Le("gridOptionsValidator")],p)}();function Jp(p,i){var r=["groupRows","multipleColumns","custom","singleColumn"];return r.indexOf(i)<0?(console.warn("AG Grid: '"+i+"' is not a valid groupDisplayType value - possible values are: '"+r.join("', '")+"'"),!1):i===p}var Mr=function(){function p(i,r,a,u){this.displayedChildren=[],this.localEventService=new zi,this.groupId=r,this.partId=a,this.providedColumnGroup=i,this.pinned=u}return p.createUniqueId=function(i,r){return i+"_"+r},p.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},p.prototype.getParent=function(){return this.parent},p.prototype.setParent=function(i){this.parent=i},p.prototype.getUniqueId=function(){return p.createUniqueId(this.groupId,this.partId)},p.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},p.prototype.isMoving=function(){var i=this.getProvidedColumnGroup().getLeafColumns();return!(!i||0===i.length)&&i.every(function(r){return r.isMoving()})},p.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(u){u instanceof p&&u.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var r=Rt(this.displayedChildren).getLeft();this.setLeft(r)}else{var a=this.displayedChildren[0].getLeft();this.setLeft(a)}else this.setLeft(null)},p.prototype.getLeft=function(){return this.left},p.prototype.getOldLeft=function(){return this.oldLeft},p.prototype.setLeft=function(i){this.oldLeft=i,this.left!==i&&(this.left=i,this.localEventService.dispatchEvent(this.createAgEvent(p.EVENT_LEFT_CHANGED)))},p.prototype.getPinned=function(){return this.pinned},p.prototype.createAgEvent=function(i){return{type:i}},p.prototype.addEventListener=function(i,r){this.localEventService.addEventListener(i,r)},p.prototype.removeEventListener=function(i,r){this.localEventService.removeEventListener(i,r)},p.prototype.getGroupId=function(){return this.groupId},p.prototype.getPartId=function(){return this.partId},p.prototype.isChildInThisGroupDeepSearch=function(i){var r=!1;return this.children.forEach(function(a){i===a&&(r=!0),a instanceof p&&a.isChildInThisGroupDeepSearch(i)&&(r=!0)}),r},p.prototype.getActualWidth=function(){var i=0;return this.displayedChildren&&this.displayedChildren.forEach(function(r){i+=r.getActualWidth()}),i},p.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var i=!1;return this.displayedChildren.forEach(function(r){r.isResizable()&&(i=!0)}),i},p.prototype.getMinWidth=function(){var i=0;return this.displayedChildren.forEach(function(r){i+=r.getMinWidth()||0}),i},p.prototype.addChild=function(i){this.children||(this.children=[]),this.children.push(i)},p.prototype.getDisplayedChildren=function(){return this.displayedChildren},p.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},p.prototype.getDisplayedLeafColumns=function(){var i=[];return this.addDisplayedLeafColumns(i),i},p.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},p.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},p.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},p.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},p.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},p.prototype.setExpanded=function(i){this.providedColumnGroup.setExpanded(i)},p.prototype.addDisplayedLeafColumns=function(i){this.displayedChildren.forEach(function(r){r instanceof Wt?i.push(r):r instanceof p&&r.addDisplayedLeafColumns(i)})},p.prototype.addLeafColumns=function(i){this.children.forEach(function(r){r instanceof Wt?i.push(r):r instanceof p&&r.addLeafColumns(i)})},p.prototype.getChildren=function(){return this.children},p.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},p.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},p.prototype.getOriginalColumnGroup=function(){return lr("27","getOriginalColumnGroup","getProvidedColumnGroup"),this.getProvidedColumnGroup()},p.prototype.getPaddingLevel=function(){var i=this.getParent();return this.isPadding()&&i&&i.isPadding()?1+i.getPaddingLevel():0},p.prototype.calculateDisplayedColumns=function(){var i=this;this.displayedChildren=[];for(var r=this;null!=r&&r.isPadding();)r=r.getParent();if(!r||!r.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(p.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(u){if(!(u instanceof p)||u.displayedChildren&&u.displayedChildren.length)switch(u.getColumnGroupShow()){case"open":r.providedColumnGroup.isExpanded()&&i.displayedChildren.push(u);break;case"closed":r.providedColumnGroup.isExpanded()||i.displayedChildren.push(u);break;default:i.displayedChildren.push(u)}}),this.localEventService.dispatchEvent(this.createAgEvent(p.EVENT_DISPLAYED_CHILDREN_CHANGED))},p.EVENT_LEFT_CHANGED="leftChanged",p.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([$("gridOptionsService")],p.prototype,"gridOptionsService",void 0),p}(),ct=function(){function p(){this.existingIds={}}return p.prototype.getInstanceIdForKey=function(i){var a,r=this.existingIds[i];return this.existingIds[i]=a="number"!=typeof r?0:r+1,a},p}(),It=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Qu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ts="ag-Grid-AutoColumn",Gv=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return It(i,p),i.prototype.createAutoGroupColumns=function(r,a){var u=this,c=[],_=this.gridOptionsService.isTreeData(),E=this.gridOptionsService.isGroupMultiAutoColumn();return _&&E&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),E=!1),E?a.forEach(function(P,M){c.push(u.createOneAutoGroupColumn(r,P,M))}):c.push(this.createOneAutoGroupColumn(r)),c},i.prototype.createOneAutoGroupColumn=function(r,a,u){var _,c=this.generateDefaultColDef(a);_=a?ts+"-"+a.getId():ts,ne(c,this.gridOptionsService.get("autoGroupColumnDef")),(c=this.columnFactory.mergeColDefs(c)).colId=_,this.gridOptionsService.isTreeData()||s(c.field)&&s(c.valueGetter)&&s(c.filterValueGetter)&&"agGroupColumnFilter"!==c.filter&&(c.filter=!1),u&&u>0&&(c.headerCheckboxSelection=!1);var M=r.find(function(U){return U.getId()==_});if(M)return M.setColDef(c,null),this.columnFactory.applyColumnState(M,c),M;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&(c.sort||c.initialSort)&&!c.field&&ne(c,{sort:null,initialSort:null},!0,!0);var B=new Wt(c,null,_,!0);return this.context.createBean(B),B},i.prototype.generateDefaultColDef=function(r){var a=this.gridOptionsService.get("autoGroupColumnDef"),c={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(a&&(a.cellRenderer||a.cellRendererFramework||a.cellRendererSelector)||(c.cellRenderer="agGroupCellRenderer"),r){var E=r.getColDef();Object.assign(c,{headerName:this.columnModel.getDisplayNameForColumn(r,"header"),headerValueGetter:E.headerValueGetter}),(E.cellRenderer||E.cellRendererFramework)&&Object.assign(c,{cellRendererParams:{innerRenderer:E.cellRenderer,innerRendererFramework:E.cellRendererFramework,innerRendererParams:E.cellRendererParams}}),c.showRowGroup=r.getColId()}else c.showRowGroup=!0;return c},Qu([$("columnModel")],i.prototype,"columnModel",void 0),Qu([$("columnFactory")],i.prototype,"columnFactory",void 0),Qu([Le("autoGroupColService")],i)}(Me),vl=/[&<>"']/g,pn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Qp(p){return p[0].toUpperCase()+p.substr(1).toLowerCase()}function wi(p,i){if(null==p)return null;var r=p.toString().toString();return i?r:r.replace(vl,function(a){return pn[a]})}function Oi(p){return p&&null!=p?p.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(function(u){return u.substring(0,1).toUpperCase()+(u.length>1?u.substring(1,u.length):"")}).join(" "):null}var EE=Object.freeze({__proto__:null,utf8_encode:function CE(p){var i=String.fromCharCode;function u(B,U){return i(B>>U&63|128)}function c(B){if(B>=0&&B<=31&&10!==B)return"_x"+B.toString(16).toUpperCase().padStart(4,"0")+"_";if(!(4294967168&B))return i(B);var Q="";return 4294965248&B?4294901760&B?4292870144&B||(Q=i(B>>18&7|240),Q+=u(B,12),Q+=u(B,6)):(function a(B){if(B>=55296&&B<=57343)throw Error("Lone surrogate U+"+B.toString(16).toUpperCase()+" is not a scalar value")}(B),Q=i(B>>12&15|224),Q+=u(B,6)):Q=i(B>>6&31|192),Q+i(63&B|128)}for(var _=function r(B){var U=[];if(!B)return[];for(var oe,le,X=B.length,Q=0;Q<X;)(oe=B.charCodeAt(Q++))>=55296&&oe<=56319&&Q<X?56320==(64512&(le=B.charCodeAt(Q++)))?U.push(((1023&oe)<<10)+(1023&le)+65536):(U.push(oe),Q--):U.push(oe);return U}(p),E=_.length,P=-1,L="";++P<E;)L+=c(_[P]);return L},capitalise:Qp,escapeString:wi,camelCaseToHumanText:Oi});function Xi(p){var i=new Map;return p.forEach(function(r){return i.set(r[0],r[1])}),i}var Bv=Object.freeze({__proto__:null,convertToMap:Xi,mapById:function SE(p,i){var r=new Map;return p.forEach(function(a){return r.set(i(a),a)}),r},keys:function wE(p){var i=[];return p.forEach(function(r,a){return i.push(a)}),i}}),OE=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Er=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},DE=function(p,i){return function(r,a){i(r,a,p)}},Tt=function(p){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&p[i],a=0;if(r)return r.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},bE=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},_l=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(bE(arguments[i]));return p},PE=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.primaryHeaderRowCount=0,r.secondaryHeaderRowCount=0,r.gridHeaderRowCount=0,r.displayedColumnsLeft=[],r.displayedColumnsRight=[],r.displayedColumnsCenter=[],r.displayedColumns=[],r.displayedColumnsAndGroupsMap={},r.viewportColumns=[],r.viewportColumnsHash="",r.headerViewportColumns=[],r.viewportColumnsCenter=[],r.headerViewportColumnsCenter=[],r.autoHeightActiveAtLeastOnce=!1,r.rowGroupColumns=[],r.valueColumns=[],r.pivotColumns=[],r.ready=!1,r.autoGroupsNeedBuilding=!1,r.forceRecreateAutoGroups=!1,r.pivotMode=!1,r.bodyWidth=0,r.leftWidth=0,r.rightWidth=0,r.bodyWidthDirty=!0,r.flexColsCalculatedAtLestOnce=!1,r}return OE(i,p),i.prototype.init=function(){var r=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var a=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(a)&&(this.pivotMode=a),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",function(){return r.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return r.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("defaultColDef",function(u){return r.onSharedColDefChanged(u.source)}),this.addManagedPropertyListener("columnTypes",function(u){return r.onSharedColDefChanged(u.source)})},i.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},i.prototype.onSharedColDefChanged=function(r){void 0===r&&(r="api"),this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,r)},i.prototype.setColumnDefs=function(r,a){void 0===a&&(a="api");var u=!!this.columnDefs;this.columnDefs=r,this.createColumnsFromColumnDefs(u,a)},i.prototype.destroyOldColumns=function(r,a){var u={};if(r){this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(_){u[_.getInstanceId()]=_}),a&&this.columnUtils.depthFirstOriginalTreeSearch(null,a,function(_){u[_.getInstanceId()]=null});var c=Object.values(u).filter(function(_){return null!=_});this.destroyBeans(c)}},i.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},i.prototype.createColumnsFromColumnDefs=function(r,a){var u=this;void 0===a&&(a="api");var c=r?this.compareColumnStatesAndDispatchEvents(a):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var _=this.primaryColumns,P=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.destroyOldColumns(this.primaryColumnTree,P.columnTree),this.primaryColumnTree=P.columnTree,this.primaryHeaderRowCount=P.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(B){return u.primaryColumnsMap[B.getId()]=B}),this.extractRowGroupColumns(a,_),this.extractPivotColumns(a,_),this.extractValueColumns(a,_),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),r&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(a),this.checkViewportColumns()),this.dispatchEverythingChanged(a),c&&c(),this.dispatchNewColumnsLoaded()},i.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:J.EVENT_NEW_COLUMNS_LOADED})},i.prototype.dispatchEverythingChanged=function(r){void 0===r&&(r="api"),this.eventService.dispatchEvent({type:J.EVENT_COLUMN_EVERYTHING_CHANGED,source:r})},i.prototype.orderGridColumnsLikePrimary=function(){var r=this,a=this.primaryColumns;a&&(this.gridColumns.sort(function(u,c){var _=a.indexOf(u),E=a.indexOf(c),P=_>=0,M=E>=0;return P&&M?_-E:P?1:M?-1:r.gridColumns.indexOf(u)-r.gridColumns.indexOf(c)}),this.gridColumns=this.placeLockedColumns(this.gridColumns))},i.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},i.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},i.prototype.getDisplayedColumnsStartingAt=function(r){for(var a=r,u=[];null!=a;)u.push(a),a=this.getDisplayedColAfter(a);return u},i.prototype.checkViewportColumns=function(){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:J.EVENT_VIRTUAL_COLUMNS_CHANGED})},i.prototype.setViewportPosition=function(r,a){(r!==this.scrollWidth||a!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=r,this.scrollPosition=a,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},i.prototype.isPivotMode=function(){return this.pivotMode},i.prototype.isPivotSettingAllowed=function(r){return!r||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},i.prototype.setPivotMode=function(r,a){void 0===a&&(a="api"),r!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=r,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(a),this.eventService.dispatchEvent({type:J.EVENT_COLUMN_PIVOT_MODE_CHANGED}))},i.prototype.getSecondaryPivotColumn=function(r,a){if(s(this.secondaryColumns))return null;var u=this.getPrimaryColumn(a),c=null;return this.secondaryColumns.forEach(function(_){var E=_.getColDef().pivotKeys,P=_.getColDef().pivotValueColumn;Yi(E,r)&&P===u&&(c=_)}),c},i.prototype.setBeans=function(r){this.logger=r.create("columnModel")},i.prototype.setFirstRightAndLastLeftPinned=function(r){var a,u;this.gridOptionsService.is("enableRtl")?(a=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,u=this.displayedColumnsRight?Rt(this.displayedColumnsRight):null):(a=this.displayedColumnsLeft?Rt(this.displayedColumnsLeft):null,u=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(c){c.setLastLeftPinned(c===a,r),c.setFirstRightPinned(c===u,r)})},i.prototype.autoSizeColumns=function(r){var a=this,u=r.columns,c=r.skipHeader,_=r.skipHeaderGroups,E=r.stopAtGroup,P=r.source,M=void 0===P?"api":P;this.animationFrameService.flushAllFrames();for(var L=[],B=-1,U=c??this.gridOptionsService.is("skipHeaderOnAutoSize"),X=_??U;0!==B;)B=0,this.actionOnGridColumns(u,function(Q){if(L.indexOf(Q)>=0)return!1;var oe=a.autoWidthCalculator.getPreferredWidthForColumn(Q,U);if(oe>0){var le=a.normaliseColumnWidth(Q,oe);Q.setActualWidth(le,M),L.push(Q),B++}return!0},M);X||this.autoSizeColumnGroupsByColumns(u,E),this.dispatchColumnResizedEvent(L,!0,"autosizeColumns")},i.prototype.dispatchColumnResizedEvent=function(r,a,u,c){void 0===c&&(c=null),r&&r.length&&this.eventService.dispatchEvent({type:J.EVENT_COLUMN_RESIZED,columns:r,column:1===r.length?r[0]:null,flexColumns:c,finished:a,source:u})},i.prototype.dispatchColumnChangedEvent=function(r,a,u){this.eventService.dispatchEvent({type:r,columns:a,column:a&&1==a.length?a[0]:null,source:u})},i.prototype.dispatchColumnMovedEvent=function(r){var a=r.movedColumns;this.eventService.dispatchEvent({type:J.EVENT_COLUMN_MOVED,columns:a,column:a&&1===a.length?a[0]:null,toIndex:r.toIndex,finished:r.finished,source:r.source})},i.prototype.dispatchColumnPinnedEvent=function(r,a){if(r.length){var u=1===r.length?r[0]:null,c=this.getCommonValue(r,function(E){return E.getPinned()});this.eventService.dispatchEvent({type:J.EVENT_COLUMN_PINNED,pinned:c??null,columns:r,column:u,source:a})}},i.prototype.dispatchColumnVisibleEvent=function(r,a){if(r.length){var u=1===r.length?r[0]:null,c=this.getCommonValue(r,function(E){return E.isVisible()});this.eventService.dispatchEvent({type:J.EVENT_COLUMN_VISIBLE,visible:c,columns:r,column:u,source:a})}},i.prototype.autoSizeColumn=function(r,a,u){void 0===u&&(u="api"),r&&this.autoSizeColumns({columns:[r],skipHeader:a,skipHeaderGroups:!0,source:u})},i.prototype.autoSizeColumnGroupsByColumns=function(r,a){var u,c,_,E,L,P=new Set;this.getGridColumns(r).forEach(function(de){for(var Oe=de.getParent();Oe&&Oe!=a;)Oe.isPadding()||P.add(Oe),Oe=Oe.getParent()});try{for(var U=Tt(P),X=U.next();!X.done;X=U.next()){var Q=X.value;try{for(var oe=(_=void 0,Tt(this.ctrlsService.getHeaderRowContainerCtrls())),le=oe.next();!le.done&&!(L=le.value.getHeaderCtrlForColumn(Q));le=oe.next());}catch(de){_={error:de}}finally{try{le&&!le.done&&(E=oe.return)&&E.call(oe)}finally{if(_)throw _.error}}L&&L.resizeLeafColumnsToFit()}}catch(de){u={error:de}}finally{try{X&&!X.done&&(c=U.return)&&c.call(U)}finally{if(u)throw u.error}}return[]},i.prototype.autoSizeAllColumns=function(r,a){void 0===a&&(a="api");var u=this.getAllDisplayedColumns();this.autoSizeColumns({columns:u,skipHeader:r,source:a})},i.prototype.getColumnsFromTree=function(r){var a=[],u=function(c){for(var _=0;_<c.length;_++){var E=c[_];E instanceof Wt?a.push(E):E instanceof Qt&&u(E.getChildren())}};return u(r),a},i.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},i.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},i.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},i.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},i.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},i.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},i.prototype.isColumnDisplayed=function(r){return this.getAllDisplayedColumns().indexOf(r)>=0},i.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},i.prototype.getViewportColumns=function(){return this.viewportColumns},i.prototype.getDisplayedLeftColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsLeft):this.displayedColumnsLeft},i.prototype.getDisplayedRightColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsRight):this.displayedColumnsRight},i.prototype.getDisplayedColumnsForRow=function(r,a,u,c){for(var M,_=[],E=null,P=function(B){var de,U=a[B],X=a.length-B,Q=Math.min(U.getColSpan(r),X),oe=[U];if(Q>1){for(var le=Q-1,fe=1;fe<=le;fe++)oe.push(a[B+fe]);B+=le}u?(de=!1,oe.forEach(function(Ie){u(Ie)&&(de=!0)})):de=!0,de&&(0===_.length&&E&&c&&c(U)&&_.push(E),_.push(U)),E=U,M=B},L=0;L<a.length;L++)P(L),L=M;return _},i.prototype.getViewportCenterColumnsForRow=function(r){var a=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var c=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(r,this.displayedColumnsCenter,c,function(_){var E=_.getLeft();return o(E)&&E>a.viewportLeft})},i.prototype.getAriaColumnIndex=function(r){return this.getAllGridColumns().indexOf(r)+1},i.prototype.isColumnInHeaderViewport=function(r){return!!r.isAutoHeaderHeight()||this.isColumnInRowViewport(r)},i.prototype.isColumnInRowViewport=function(r){if(r.isAutoHeight())return!0;var a=r.getLeft()||0,u=a+r.getActualWidth(),c=this.viewportLeft-200,_=this.viewportRight+200;return!(a<c&&u<c||a>_&&u>_)},i.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},i.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},i.prototype.updatePrimaryColumnList=function(r,a,u,c,_,E){var P=this;if(void 0===E&&(E="api"),r&&!d(r)){var M=!1;r.forEach(function(B){var U=P.getPrimaryColumn(B);if(U){if(u){if(a.indexOf(U)>=0)return;a.push(U)}else{if(a.indexOf(U)<0)return;Gr(a,U)}c(U),M=!0}}),M&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(E),this.eventService.dispatchEvent({type:_,columns:a,column:1===a.length?a[0]:null,source:E}))}},i.prototype.setRowGroupColumns=function(r,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(r,this.rowGroupColumns,J.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),a)},i.prototype.setRowGroupActive=function(r,a,u){r!==a.isRowGroupActive()&&(a.setRowGroupActive(r,u),r&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(a,!1,u),!r&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(a,!0,u))},i.prototype.addRowGroupColumn=function(r,a){void 0===a&&(a="api"),r&&this.addRowGroupColumns([r],a)},i.prototype.addRowGroupColumns=function(r,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),J.EVENT_COLUMN_ROW_GROUP_CHANGED,a)},i.prototype.removeRowGroupColumns=function(r,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),J.EVENT_COLUMN_ROW_GROUP_CHANGED,a)},i.prototype.removeRowGroupColumn=function(r,a){void 0===a&&(a="api"),r&&this.removeRowGroupColumns([r],a)},i.prototype.addPivotColumns=function(r,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!0,function(u){return u.setPivotActive(!0,a)},J.EVENT_COLUMN_PIVOT_CHANGED,a)},i.prototype.setPivotColumns=function(r,a){void 0===a&&(a="api"),this.setPrimaryColumnList(r,this.pivotColumns,J.EVENT_COLUMN_PIVOT_CHANGED,function(u,c){c.setPivotActive(u,a)},a)},i.prototype.addPivotColumn=function(r,a){void 0===a&&(a="api"),this.addPivotColumns([r],a)},i.prototype.removePivotColumns=function(r,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!1,function(u){return u.setPivotActive(!1,a)},J.EVENT_COLUMN_PIVOT_CHANGED,a)},i.prototype.removePivotColumn=function(r,a){void 0===a&&(a="api"),this.removePivotColumns([r],a)},i.prototype.setPrimaryColumnList=function(r,a,u,c,_){var E=this;a.length=0,o(r)&&r.forEach(function(P){var M=E.getPrimaryColumn(P);M&&a.push(M)}),(this.primaryColumns||[]).forEach(function(P){var M=a.indexOf(P)>=0;c(M,P)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(_),this.dispatchColumnChangedEvent(u,a,_)},i.prototype.setValueColumns=function(r,a){void 0===a&&(a="api"),this.setPrimaryColumnList(r,this.valueColumns,J.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),a)},i.prototype.setValueActive=function(r,a,u){if(r!==a.isValueActive()&&(a.setValueActive(r,u),r&&!a.getAggFunc())){var c=this.aggFuncService.getDefaultAggFunc(a);a.setAggFunc(c)}},i.prototype.addValueColumns=function(r,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(r,this.valueColumns,!0,this.setValueActive.bind(this,!0),J.EVENT_COLUMN_VALUE_CHANGED,a)},i.prototype.addValueColumn=function(r,a){void 0===a&&(a="api"),r&&this.addValueColumns([r],a)},i.prototype.removeValueColumn=function(r,a){void 0===a&&(a="api"),this.removeValueColumns([r],a)},i.prototype.removeValueColumns=function(r,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(r,this.valueColumns,!1,this.setValueActive.bind(this,!1),J.EVENT_COLUMN_VALUE_CHANGED,a)},i.prototype.normaliseColumnWidth=function(r,a){var u=r.getMinWidth();o(u)&&a<u&&(a=u);var c=r.getMaxWidth();return o(c)&&r.isGreaterThanMax(a)&&(a=c),a},i.prototype.getPrimaryOrGridColumn=function(r){return this.getPrimaryColumn(r)||this.getGridColumn(r)},i.prototype.setColumnWidths=function(r,a,u,c){var _=this;void 0===c&&(c="api");var E=[];r.forEach(function(P){var M=_.getPrimaryOrGridColumn(P.key);if(M&&(E.push({width:P.newWidth,ratios:[1],columns:[M]}),"shift"===_.gridOptionsService.get("colResizeDefault")&&(a=!a),a)){var B=_.getDisplayedColAfter(M);if(!B)return;var U=M.getActualWidth()-P.newWidth,X=B.getActualWidth()+U;E.push({width:X,ratios:[1],columns:[B]})}}),0!==E.length&&this.resizeColumnSets({resizeSets:E,finished:u,source:c})},i.prototype.checkMinAndMaxWidthsForSet=function(r){var u=r.width,c=0,_=0,E=!0;return r.columns.forEach(function(L){var B=L.getMinWidth();c+=B||0;var U=L.getMaxWidth();o(U)&&U>0?_+=U:E=!1}),u>=c&&(!E||u<=_)},i.prototype.resizeColumnSets=function(r){var a=this,u=r.resizeSets,c=r.finished,_=r.source;if(!u||u.every(function(Q){return a.checkMinAndMaxWidthsForSet(Q)})){var M=[],L=[];u.forEach(function(Q){var oe=Q.width,le=Q.columns,fe=Q.ratios,de={},Oe={};le.forEach(function(He){return L.push(He)});for(var Ie=!0,Be=0,Xe=function(){if(++Be>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";Ie=!1;var He=[],nt=0,dt=oe;le.forEach(function(St,pr){Oe[St.getId()]?dt-=de[St.getId()]:(He.push(St),nt+=fe[pr])});var Dt=1/nt;He.forEach(function(St,pr){var pt;pr===He.length-1?pt=dt:(pt=Math.round(fe[pr]*oe*Dt),dt-=pt);var Bt=St.getMinWidth(),qr=St.getMaxWidth();o(Bt)&&pt<Bt?(pt=Bt,Oe[St.getId()]=!0,Ie=!0):o(qr)&&qr>0&&pt>qr&&(pt=qr,Oe[St.getId()]=!0,Ie=!0),de[St.getId()]=pt})};Ie&&"break"!==Xe(););le.forEach(function(He){var nt=de[He.getId()];He.getActualWidth()!==nt&&(He.setActualWidth(nt,_),M.push(He))})});var B=M.length>0,U=[];B&&(U=this.refreshFlexedColumns({resizingCols:L,skipSetLeft:!0}),this.setLeftValues(_),this.updateBodyWidths(),this.checkViewportColumns());var X=L.concat(U);(B||c)&&this.dispatchColumnResizedEvent(X,c,_,U)}else c&&this.dispatchColumnResizedEvent(u&&u.length>0?u[0].columns:null,c,_)},i.prototype.setColumnAggFunc=function(r,a,u){if(void 0===u&&(u="api"),r){var c=this.getPrimaryColumn(r);c&&(c.setAggFunc(a),this.dispatchColumnChangedEvent(J.EVENT_COLUMN_VALUE_CHANGED,[c],u))}},i.prototype.moveRowGroupColumn=function(r,a,u){void 0===u&&(u="api");var c=this.rowGroupColumns[r];this.rowGroupColumns.splice(r,1),this.rowGroupColumns.splice(a,0,c),this.eventService.dispatchEvent({type:J.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:u})},i.prototype.moveColumns=function(r,a,u,c){if(void 0===u&&(u="api"),void 0===c&&(c=!0),this.columnAnimationService.start(),a>this.gridColumns.length-r.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+a),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var _=this.getGridColumns(r);!this.doesMovePassRules(_,a)||(ul(this.gridColumns,_,a),this.updateDisplayedColumns(u),this.dispatchColumnMovedEvent({movedColumns:_,source:u,toIndex:a,finished:c}),this.columnAnimationService.finish())},i.prototype.doesMovePassRules=function(r,a){var u=this.getProposedColumnOrder(r,a);return this.doesOrderPassRules(u)},i.prototype.doesOrderPassRules=function(r){return!(!this.doesMovePassMarryChildren(r)||!this.doesMovePassLockedPositions(r))},i.prototype.getProposedColumnOrder=function(r,a){var u=this.gridColumns.slice();return ul(u,r,a),u},i.prototype.sortColumnsLikeGridColumns=function(r){var a=this;!r||r.length<=1||r.filter(function(c){return a.gridColumns.indexOf(c)<0}).length>0||r.sort(function(c,_){return a.gridColumns.indexOf(c)-a.gridColumns.indexOf(_)})},i.prototype.doesMovePassLockedPositions=function(r){var a=0,u=!0;return r.forEach(function(_){var E=function(_){return _?!0===_||"left"===_?0:2:1}(_.getColDef().lockPosition);E<a&&(u=!1),a=E}),u},i.prototype.doesMovePassMarryChildren=function(r){var a=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){if(u instanceof Qt){var c=u,_=c.getColGroupDef();if(_&&_.marryChildren){var P=[];c.getLeafColumns().forEach(function(X){var Q=r.indexOf(X);P.push(Q)}),Math.max.apply(Math,P)-Math.min.apply(Math,P)>c.getLeafColumns().length-1&&(a=!1)}}}),a},i.prototype.moveColumn=function(r,a,u){void 0===u&&(u="api"),this.moveColumns([r],a,u)},i.prototype.moveColumnByIndex=function(r,a,u){void 0===u&&(u="api"),this.moveColumn(this.gridColumns[r],a,u)},i.prototype.getColumnDefs=function(){var r=this;if(this.primaryColumns){var a=this.primaryColumns.slice();return this.gridColsArePrimary?a.sort(function(u,c){return r.gridColumns.indexOf(u)-r.gridColumns.indexOf(c)}):this.lastPrimaryOrder&&a.sort(function(u,c){return r.lastPrimaryOrder.indexOf(u)-r.lastPrimaryOrder.indexOf(c)}),this.columnDefFactory.buildColumnDefs(a,this.rowGroupColumns,this.pivotColumns)}},i.prototype.getBodyContainerWidth=function(){return this.bodyWidth},i.prototype.getContainerWidth=function(r){switch(r){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},i.prototype.updateBodyWidths=function(){var r=this.getWidthOfColsInList(this.displayedColumnsCenter),a=this.getWidthOfColsInList(this.displayedColumnsLeft),u=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==r,(this.bodyWidth!==r||this.leftWidth!==a||this.rightWidth!==u)&&(this.bodyWidth=r,this.leftWidth=a,this.rightWidth=u,this.eventService.dispatchEvent({type:J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))},i.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},i.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},i.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},i.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},i.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},i.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},i.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},i.prototype.getDisplayedColumns=function(r){switch(r){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},i.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},i.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},i.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},i.prototype.getAllGridColumns=function(){return this.gridColumns},i.prototype.isEmpty=function(){return d(this.gridColumns)},i.prototype.isRowGroupEmpty=function(){return d(this.rowGroupColumns)},i.prototype.setColumnVisible=function(r,a,u){void 0===u&&(u="api"),this.setColumnsVisible([r],a,u)},i.prototype.setColumnsVisible=function(r,a,u){void 0===a&&(a=!1),void 0===u&&(u="api"),this.applyColumnState({state:r.map(function(c){return{colId:"string"==typeof c?c:c.getColId(),hide:!a}})},u)},i.prototype.setColumnPinned=function(r,a,u){void 0===u&&(u="api"),r&&this.setColumnsPinned([r],a,u)},i.prototype.setColumnsPinned=function(r,a,u){var c;void 0===u&&(u="api"),this.gridOptionsService.isDomLayout("print")?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),c=!0===a||"left"===a?"left":"right"===a?"right":null,this.actionOnGridColumns(r,function(_){return _.getPinned()!==c&&(_.setPinned(c),!0)},u,function(){return{type:J.EVENT_COLUMN_PINNED,pinned:c,column:null,columns:null,source:u}}),this.columnAnimationService.finish())},i.prototype.actionOnGridColumns=function(r,a,u,c){var _=this;if(!d(r)){var E=[];if(r.forEach(function(M){var L=_.getGridColumn(M);L&&!1!==a(L)&&E.push(L)}),E.length&&(this.updateDisplayedColumns(u),o(c)&&c)){var P=c();P.columns=E,P.column=1===E.length?E[0]:null,this.eventService.dispatchEvent(P)}}},i.prototype.getDisplayedColBefore=function(r){var a=this.getAllDisplayedColumns(),u=a.indexOf(r);return u>0?a[u-1]:null},i.prototype.getDisplayedColAfter=function(r){var a=this.getAllDisplayedColumns(),u=a.indexOf(r);return u<a.length-1?a[u+1]:null},i.prototype.getDisplayedGroupAfter=function(r){return this.getDisplayedGroupAtDirection(r,"After")},i.prototype.getDisplayedGroupBefore=function(r){return this.getDisplayedGroupAtDirection(r,"Before")},i.prototype.getDisplayedGroupAtDirection=function(r,a){for(var u=r.getProvidedColumnGroup().getLevel()+r.getPaddingLevel(),c=r.getDisplayedLeafColumns(),_="After"===a?Rt(c):c[0],E="getDisplayedCol"+a;;){var P=this[E](_);if(!P)return null;var M=this.getColumnGroupAtLevel(P,u);if(M!==r)return M}},i.prototype.getColumnGroupAtLevel=function(r,a){for(var u=r.getParent();!(u.getProvidedColumnGroup().getLevel()+u.getPaddingLevel()<=a);)u=u.getParent();return u},i.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},i.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},i.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var r;return(r=[]).concat.apply(r,_l([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},i.prototype.createStateItemFromColumn=function(r){var a=r.isRowGroupActive()?this.rowGroupColumns.indexOf(r):null,u=r.isPivotActive()?this.pivotColumns.indexOf(r):null,c=r.isValueActive()?r.getAggFunc():null,_=null!=r.getSort()?r.getSort():null,E=null!=r.getSortIndex()?r.getSortIndex():null,P=null!=r.getFlex()&&r.getFlex()>0?r.getFlex():null;return{colId:r.getColId(),width:r.getActualWidth(),hide:!r.isVisible(),pinned:r.getPinned(),sort:_,sortIndex:E,aggFunc:c,rowGroup:r.isRowGroupActive(),rowGroupIndex:a,pivot:r.isPivotActive(),pivotIndex:u,flex:P}},i.prototype.getColumnState=function(){if(s(this.primaryColumns)||!this.isAlive())return[];var a=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(a),a},i.prototype.orderColumnStateList=function(r){var a=Xi(this.gridColumns.map(function(u,c){return[u.getColId(),c]}));r.sort(function(u,c){return(a.has(u.colId)?a.get(u.colId):-1)-(a.has(c.colId)?a.get(c.colId):-1)})},i.prototype.resetColumnState=function(r){void 0===r&&(r="api");var a=this.getColumnsFromTree(this.primaryColumnTree),u=[],c=1e3,_=1e3,E=[];this.groupAutoColumns&&(E=E.concat(this.groupAutoColumns)),a&&(E=E.concat(a)),E.forEach(function(P){var M=function(me,He){return me??He??null},L=P.getColDef(),B=M(L.sort,L.initialSort),U=M(L.sortIndex,L.initialSortIndex),X=M(L.hide,L.initialHide),Q=M(L.pinned,L.initialPinned),oe=M(L.width,L.initialWidth),le=M(L.flex,L.initialFlex),fe=M(L.rowGroupIndex,L.initialRowGroupIndex),de=M(L.rowGroup,L.initialRowGroup);null==fe&&(null==de||0==de)&&(fe=null,de=null);var Oe=M(L.pivotIndex,L.initialPivotIndex),Ie=M(L.pivot,L.initialPivot);null==Oe&&(null==Ie||0==Ie)&&(Oe=null,Ie=null);var Be=M(L.aggFunc,L.initialAggFunc),Xe={colId:P.getColId(),sort:B,sortIndex:U,hide:X,pinned:Q,width:oe,flex:le,rowGroup:de,rowGroupIndex:fe,pivot:Ie,pivotIndex:Oe,aggFunc:Be};s(fe)&&de&&(Xe.rowGroupIndex=c++),s(Oe)&&Ie&&(Xe.pivotIndex=_++),u.push(Xe)}),this.applyColumnState({state:u,applyOrder:!0},r)},i.prototype.applyColumnState=function(r,a){var u=this;if(d(this.primaryColumns))return!1;if(r&&r.state&&!r.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var c=function(M,L,B){var U=u.compareColumnStatesAndDispatchEvents(a);u.autoGroupsNeedBuilding=!0;var X=L.slice(),Q={},oe={},le=[],fe=[],de=0,Oe=u.rowGroupColumns.slice(),Ie=u.pivotColumns.slice();M.forEach(function(He){var nt=He.colId||"";if(nt.startsWith(ts))return le.push(He),void fe.push(He);var Dt=B(nt);Dt?(u.syncColumnWithStateItem(Dt,He,r.defaultState,Q,oe,!1,a),Gr(X,Dt)):(fe.push(He),de+=1)});var Be=function(He){return u.syncColumnWithStateItem(He,null,r.defaultState,Q,oe,!1,a)};X.forEach(Be);var Xe=function(He,nt,dt,Dt){var St=He[dt.getId()],pr=He[Dt.getId()],Fr=null!=St,pt=null!=pr;if(Fr&&pt)return St-pr;if(Fr)return-1;if(pt)return 1;var Bt=nt.indexOf(dt),qr=nt.indexOf(Dt),Wi=Bt>=0;return Wi&&qr>=0?Bt-qr:Wi?-1:1};u.rowGroupColumns.sort(Xe.bind(u,Q,Oe)),u.pivotColumns.sort(Xe.bind(u,oe,Ie)),u.updateGridColumns();var me=u.groupAutoColumns?u.groupAutoColumns.slice():[];return le.forEach(function(He){var nt=u.getAutoColumn(He.colId);Gr(me,nt),u.syncColumnWithStateItem(nt,He,r.defaultState,null,null,!0,a)}),me.forEach(Be),u.applyOrderAfterApplyState(r),u.updateDisplayedColumns(a),u.dispatchEverythingChanged(a),U(),{unmatchedAndAutoStates:fe,unmatchedCount:de}};this.columnAnimationService.start();var _=c(r.state||[],this.primaryColumns||[],function(M){return u.getPrimaryColumn(M)}),E=_.unmatchedAndAutoStates,P=_.unmatchedCount;return(E.length>0||o(r.defaultState))&&(P=c(E,this.secondaryColumns||[],function(M){return u.getSecondaryColumn(M)}).unmatchedCount),this.columnAnimationService.finish(),0===P},i.prototype.applyOrderAfterApplyState=function(r){var a=this;if(r.applyOrder&&r.state){var u=[],c={};r.state.forEach(function(E){if(E.colId&&!c[E.colId]){var P=a.gridColumnsMap[E.colId];P&&(u.push(P),c[E.colId]=!0)}});var _=0;if(this.gridColumns.forEach(function(E){var P=E.getColId();null!=c[P]||(P.startsWith(ts)?Qo(u,E,_++):u.push(E))}),u=this.placeLockedColumns(u),!this.doesMovePassMarryChildren(u))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=u}},i.prototype.compareColumnStatesAndDispatchEvents=function(r){var a=this,u={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},c=this.getColumnState(),_={};return c.forEach(function(E){_[E.colId]=E}),function(){var E=a.getPrimaryAndSecondaryAndAutoColumns(),P=function(fe,de,Oe,Ie){Yi(de.map(Ie),Oe.map(Ie))||a.eventService.dispatchEvent({type:fe,columns:Oe,column:1===Oe.length?Oe[0]:null,source:r})},M=function(fe){var de=[];return E.forEach(function(Oe){var Ie=_[Oe.getColId()];Ie&&fe(Ie,Oe)&&de.push(Oe)}),de},L=function(fe){return fe.getColId()};P(J.EVENT_COLUMN_ROW_GROUP_CHANGED,u.rowGroupColumns,a.rowGroupColumns,L),P(J.EVENT_COLUMN_PIVOT_CHANGED,u.pivotColumns,a.pivotColumns,L),M(function(fe,de){var Oe=null!=fe.aggFunc,Ie=Oe!=de.isValueActive(),Be=Oe&&fe.aggFunc!=de.getAggFunc();return Ie||Be}).length>0&&a.dispatchColumnChangedEvent(J.EVENT_COLUMN_VALUE_CHANGED,a.valueColumns,r),a.dispatchColumnResizedEvent(M(function(fe,de){return fe.width!=de.getActualWidth()}),!0,r),a.dispatchColumnPinnedEvent(M(function(fe,de){return fe.pinned!=de.getPinned()}),r),a.dispatchColumnVisibleEvent(M(function(fe,de){return fe.hide==de.isVisible()}),r),M(function(fe,de){return fe.sort!=de.getSort()||fe.sortIndex!=de.getSortIndex()}).length>0&&a.sortController.dispatchSortChangedEvents(r),a.normaliseColumnMovedEventForColumnState(c,r)}},i.prototype.getCommonValue=function(r,a){if(r&&0!=r.length){for(var u=a(r[0]),c=1;c<r.length;c++)if(u!==a(r[c]))return;return u}},i.prototype.normaliseColumnMovedEventForColumnState=function(r,a){var u=this,c=this.getColumnState(),_={};c.forEach(function(B){return _[B.colId]=B});var E={};r.forEach(function(B){_[B.colId]&&(E[B.colId]=!0)});var P=r.filter(function(B){return E[B.colId]}),M=c.filter(function(B){return E[B.colId]}),L=[];M.forEach(function(B,U){var X=P&&P[U];if(X&&X.colId!==B.colId){var Q=u.getGridColumn(X.colId);Q&&L.push(Q)}}),L.length&&this.dispatchColumnMovedEvent({movedColumns:L,source:a,finished:!0})},i.prototype.syncColumnWithStateItem=function(r,a,u,c,_,E,P){if(r){var M=function(nt,dt){var Dt={value1:void 0,value2:void 0},St=!1;return a&&(void 0!==a[nt]&&(Dt.value1=a[nt],St=!0),o(dt)&&void 0!==a[dt]&&(Dt.value2=a[dt],St=!0)),!St&&u&&(void 0!==u[nt]&&(Dt.value1=u[nt]),o(dt)&&void 0!==u[dt]&&(Dt.value2=u[dt])),Dt},L=M("hide").value1;void 0!==L&&r.setVisible(!L,P);var B=M("pinned").value1;void 0!==B&&r.setPinned(B);var U=this.columnUtils.calculateColMinWidth(r.getColDef()),X=M("flex").value1;if(void 0!==X&&r.setFlex(X),r.getFlex()<=0){var oe=M("width").value1;null!=oe&&null!=U&&oe>=U&&r.setActualWidth(oe,P)}var le=M("sort").value1;void 0!==le&&r.setSort("desc"===le||"asc"===le?le:void 0,P);var fe=M("sortIndex").value1;if(void 0!==fe&&r.setSortIndex(fe),!E&&r.isPrimary()){var de=M("aggFunc").value1;void 0!==de&&("string"==typeof de?(r.setAggFunc(de),r.isValueActive()||(r.setValueActive(!0,P),this.valueColumns.push(r))):(o(de)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),r.isValueActive()&&(r.setValueActive(!1,P),Gr(this.valueColumns,r))));var Oe=M("rowGroup","rowGroupIndex"),Ie=Oe.value1,Be=Oe.value2;(void 0!==Ie||void 0!==Be)&&("number"==typeof Be||Ie?(r.isRowGroupActive()||(r.setRowGroupActive(!0,P),this.rowGroupColumns.push(r)),c&&"number"==typeof Be&&(c[r.getId()]=Be)):r.isRowGroupActive()&&(r.setRowGroupActive(!1,P),Gr(this.rowGroupColumns,r)));var Xe=M("pivot","pivotIndex"),me=Xe.value1,He=Xe.value2;(void 0!==me||void 0!==He)&&("number"==typeof He||me?(r.isPivotActive()||(r.setPivotActive(!0,P),this.pivotColumns.push(r)),_&&"number"==typeof He&&(_[r.getId()]=He)):r.isPivotActive()&&(r.setPivotActive(!1,P),Gr(this.pivotColumns,r)))}}},i.prototype.getGridColumns=function(r){return this.getColumns(r,this.getGridColumn.bind(this))},i.prototype.getColumns=function(r,a){var u=[];return r&&r.forEach(function(c){var _=a(c);_&&u.push(_)}),u},i.prototype.getColumnWithValidation=function(r){if(null==r)return null;var a=this.getGridColumn(r);return a||console.warn("AG Grid: could not find column "+r),a},i.prototype.getPrimaryColumn=function(r){return this.primaryColumns?this.getColumn(r,this.primaryColumns,this.primaryColumnsMap):null},i.prototype.getGridColumn=function(r){return this.getColumn(r,this.gridColumns,this.gridColumnsMap)},i.prototype.getSecondaryColumn=function(r){return this.secondaryColumns?this.getColumn(r,this.secondaryColumns,this.secondaryColumnsMap):null},i.prototype.getColumn=function(r,a,u){if(!r)return null;if("string"==typeof r&&u[r])return u[r];for(var c=0;c<a.length;c++)if(this.columnsMatch(a[c],r))return a[c];return this.getAutoColumn(r)},i.prototype.getSourceColumnsForGroupColumn=function(r){var a=r.getColDef().showRowGroup;if(!a)return null;if(!0===a)return this.rowGroupColumns.slice(0);var u=this.getPrimaryColumn(a);return u?[u]:null},i.prototype.getAutoColumn=function(r){var a=this;return this.groupAutoColumns&&o(this.groupAutoColumns)&&!s(this.groupAutoColumns)&&this.groupAutoColumns.find(function(u){return a.columnsMatch(u,r)})||null},i.prototype.columnsMatch=function(r,a){var u=r===a,c=r.getColDef()===a,_=r.getColId()==a;return u||c||_},i.prototype.getDisplayNameForColumn=function(r,a,u){if(void 0===u&&(u=!1),!r)return null;var c=this.getHeaderName(r.getColDef(),r,null,null,a);return u?this.wrapHeaderNameWithAggFunc(r,c):c},i.prototype.getDisplayNameForProvidedColumnGroup=function(r,a,u){var c=a?a.getColGroupDef():null;return c?this.getHeaderName(c,null,r,a,u):null},i.prototype.getDisplayNameForColumnGroup=function(r,a){return this.getDisplayNameForProvidedColumnGroup(r,r.getProvidedColumnGroup(),a)},i.prototype.getHeaderName=function(r,a,u,c,_){var E=r.headerValueGetter;if(E){var P={colDef:r,column:a,columnGroup:u,providedColumnGroup:c,location:_,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof E?E(P):"string"==typeof E?this.expressionService.evaluate(E,P):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=r.headerName?r.headerName:r.field?Oi(r.field):""},i.prototype.wrapHeaderNameWithAggFunc=function(r,a){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return a;var E,u=r.getColDef().pivotValueColumn,_=null;if(o(u)){var P=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,M=void 0!==r.getColDef().pivotTotalColumnIds;if(P&&!M)return a;_=u?u.getAggFunc():null,E=!0}else{var L=r.isValueActive(),B=this.pivotMode||!this.isRowGroupEmpty();L&&B?(_=r.getAggFunc(),E=!0):E=!1}if(E){var U="string"==typeof _?_:"func";return this.localeService.getLocaleTextFunc()(U,U)+"("+a+")"}return a},i.prototype.getColumnGroup=function(r,a){if(!r)return null;if(r instanceof Mr)return r;var u=this.getAllDisplayedTrees(),c="number"==typeof a,_=null;return this.columnUtils.depthFirstAllColumnTreeSearch(u,function(E){if(E instanceof Mr){var P=E;(c?r===P.getGroupId()&&a===P.getPartId():r===P.getGroupId())&&(_=P)}}),_},i.prototype.isReady=function(){return this.ready},i.prototype.extractValueColumns=function(r,a){this.valueColumns=this.extractColumns(a,this.valueColumns,function(u,c){return u.setValueActive(c,r)},function(){},function(){},function(u){var c=u.aggFunc;return null===c||""===c?null:void 0!==c?!!c:void 0},function(u){return null!=u.initialAggFunc&&""!=u.initialAggFunc}),this.valueColumns.forEach(function(u){var c=u.getColDef();null!=c.aggFunc&&""!=c.aggFunc?u.setAggFunc(c.aggFunc):u.getAggFunc()||u.setAggFunc(c.initialAggFunc)})},i.prototype.extractRowGroupColumns=function(r,a){this.rowGroupColumns=this.extractColumns(a,this.rowGroupColumns,function(u,c){return u.setRowGroupActive(c,r)},function(u){return u.rowGroupIndex},function(u){return u.initialRowGroupIndex},function(u){return u.rowGroup},function(u){return u.initialRowGroup})},i.prototype.extractColumns=function(r,a,u,c,_,E,P){void 0===r&&(r=[]),void 0===a&&(a=[]);var M=[],L=[];(this.primaryColumns||[]).forEach(function(X){var Q=r.indexOf(X)<0,oe=X.getColDef(),le=m(E(oe)),fe=m(P(oe)),de=C(c(oe)),Oe=C(_(oe));(void 0!==le?le:void 0!==de?null!==de&&de>=0:Q?void 0!==fe?fe:void 0!==Oe&&null!=Oe&&Oe>=0:a.indexOf(X)>=0)&&((Q?null!=de||null!=Oe:null!=de)?M.push(X):L.push(X))});var B=function(X){var Q=c(X.getColDef()),oe=_(X.getColDef());return Q??oe};M.sort(function(X,Q){var oe=B(X),le=B(Q);return oe===le?0:oe<le?-1:1});var U=[].concat(M);return a.forEach(function(X){L.indexOf(X)>=0&&U.push(X)}),L.forEach(function(X){U.indexOf(X)<0&&U.push(X)}),a.forEach(function(X){U.indexOf(X)<0&&u(X,!1)}),U.forEach(function(X){a.indexOf(X)<0&&u(X,!0)}),U},i.prototype.extractPivotColumns=function(r,a){this.pivotColumns=this.extractColumns(a,this.pivotColumns,function(u,c){return u.setPivotActive(c,r)},function(u){return u.pivotIndex},function(u){return u.initialPivotIndex},function(u){return u.pivot},function(u){return u.initialPivot})},i.prototype.resetColumnGroupState=function(r){void 0===r&&(r="api");var a=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(u){if(u instanceof Qt){var c=u.getColGroupDef(),_={groupId:u.getGroupId(),open:c?c.openByDefault:void 0};a.push(_)}}),this.setColumnGroupState(a,r)},i.prototype.getColumnGroupState=function(){var r=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(a){a instanceof Qt&&r.push({groupId:a.getGroupId(),open:a.isExpanded()})}),r},i.prototype.setColumnGroupState=function(r,a){var u=this;void 0===a&&(a="api"),this.columnAnimationService.start();var c=[];r.forEach(function(_){var P=_.open,M=u.getProvidedColumnGroup(_.groupId);M&&M.isExpanded()!==P&&(u.logger.log("columnGroupOpened("+M.getGroupId()+","+P+")"),M.setExpanded(P),c.push(M))}),this.updateGroupsAndDisplayedColumns(a),this.setFirstRightAndLastLeftPinned(a),c.forEach(function(_){u.eventService.dispatchEvent({type:J.EVENT_COLUMN_GROUP_OPENED,columnGroup:_})}),this.columnAnimationService.finish()},i.prototype.setColumnGroupOpened=function(r,a,u){var c;void 0===u&&(u="api"),c=r instanceof Qt?r.getId():r||"",this.setColumnGroupState([{groupId:c,open:a}],u)},i.prototype.getProvidedColumnGroup=function(r){"string"!=typeof r&&console.error("AG Grid: group key must be a string");var a=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){u instanceof Qt&&u.getId()===r&&(a=u)}),a},i.prototype.calculateColumnsForDisplay=function(){var r=this;return this.pivotMode&&s(this.secondaryColumns)?this.gridColumns.filter(function(u){var c=r.groupAutoColumns&&sr(r.groupAutoColumns,u),_=r.valueColumns&&sr(r.valueColumns,u);return c||_}):this.gridColumns.filter(function(u){return r.groupAutoColumns&&sr(r.groupAutoColumns,u)||u.isVisible()})},i.prototype.checkColSpanActiveInCols=function(r){var a=!1;return r.forEach(function(u){o(u.getColDef().colSpan)&&(a=!0)}),a},i.prototype.calculateColumnsForGroupDisplay=function(){var r=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var a=function(u){var c=u.getColDef(),_=c.showRowGroup;c&&o(_)&&(r.groupDisplayColumns.push(u),"string"==typeof _?r.groupDisplayColumnsMap[_]=u:!0===_&&r.getRowGroupColumns().forEach(function(E){r.groupDisplayColumnsMap[E.getId()]=u}))};this.gridColumns.forEach(a),this.groupAutoColumns&&this.groupAutoColumns.forEach(a)},i.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},i.prototype.getGroupDisplayColumnForGroup=function(r){return this.groupDisplayColumnsMap[r]},i.prototype.updateDisplayedColumns=function(r){var a=this.calculateColumnsForDisplay();this.buildDisplayedTrees(a),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r)},i.prototype.isSecondaryColumnsPresent=function(){return o(this.secondaryColumns)},i.prototype.setSecondaryColumns=function(r,a){var u=this;void 0===a&&(a="api");var c=r&&r.length>0;if(c||!s(this.secondaryColumns)){if(c){this.processSecondaryColumnDefinitions(r);var _=this.columnFactory.createColumnTree(r,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,_.columnTree),this.secondaryBalancedTree=_.columnTree,this.secondaryHeaderRowCount=_.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(E){return u.secondaryColumnsMap[E.getId()]=E}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(a)}},i.prototype.processSecondaryColumnDefinitions=function(r){var a=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),u=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(a||u){var c=function(_){_.forEach(function(E){if(o(E.children)){var M=E;u&&u(M),c(M.children)}else a&&a(E)})};r&&c(r)}},i.prototype.updateGridColumns=function(){var r=this,a=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var u=void 0;if(this.secondaryColumns&&this.secondaryBalancedTree){var c=this.secondaryColumns.every(function(M){return void 0!==r.gridColumnsMap[M.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,c&&(u=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,u=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&u){var E=Xi(this.groupAutoColumns.map(function(M){return[M,!0]}));u=u.filter(function(M){return!E.has(M)}),u=_l(this.groupAutoColumns,u)}this.addAutoGroupToGridColumns(),this.orderGridColsLike(u),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(M){return r.gridColumnsMap[M.getId()]=M}),this.setAutoHeightActive(),Yi(a,this.gridBalancedTree)||this.eventService.dispatchEvent({type:J.EVENT_GRID_COLUMNS_CHANGED})},i.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(c){return c.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var r=this.rowModel.getType();"clientSide"!==r&&"serverSide"!==r&&Ce(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},i.prototype.orderGridColsLike=function(r){if(!s(r)){var a=Xi(r.map(function(L,B){return[L,B]})),u=!0;if(this.gridColumns.forEach(function(L){a.has(L)&&(u=!1)}),!u){var c=Xi(this.gridColumns.map(function(L){return[L,!0]})),_=r.filter(function(L){return c.has(L)}),E=Xi(_.map(function(L){return[L,!0]})),P=this.gridColumns.filter(function(L){return!E.has(L)}),M=_.slice();P.forEach(function(L){var B=L.getOriginalParent();if(B){for(var U=[];!U.length&&B;)B.getLeafColumns().forEach(function(le){var fe=M.indexOf(le)>=0,de=U.indexOf(le)<0;fe&&de&&U.push(le)}),B=B.getOriginalParent();if(U.length){var Q=U.map(function(le){return M.indexOf(le)}),oe=Math.max.apply(Math,_l(Q));Qo(M,L,oe+1)}else M.push(L)}else M.push(L)}),this.gridColumns=M}}},i.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},i.prototype.refreshQuickFilterColumns=function(){var r,a;this.groupAutoColumns?a=(null!==(r=this.primaryColumns)&&void 0!==r?r:[]).concat(this.groupAutoColumns):this.primaryColumns&&(a=this.primaryColumns),a=a??[],this.columnsForQuickFilter=this.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")?a.filter(function(u){return u.isVisible()}):a},i.prototype.placeLockedColumns=function(r){var a=[],u=[],c=[];return r.forEach(function(_){var E=_.getColDef().lockPosition;"right"===E?c.push(_):"left"===E||!0===E?a.push(_):u.push(_)}),_l(a,u,c)},i.prototype.addAutoGroupToGridColumns=function(){if(s(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var r=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,r),this.groupAutoColsBalancedTree=r,this.gridBalancedTree=r.concat(this.gridBalancedTree)},i.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},i.prototype.updateGroupsAndDisplayedColumns=function(r){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(r),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:J.EVENT_DISPLAYED_COLUMNS_CHANGED})},i.prototype.deriveDisplayedColumns=function(r){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(r),this.displayedAutoHeightCols=this.displayedColumns.filter(function(a){return a.isAutoHeight()})},i.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},i.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},i.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsService.is("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},i.prototype.setLeftValues=function(r){this.setLeftValuesOfColumns(r),this.setLeftValuesOfGroups()},i.prototype.setLeftValuesOfColumns=function(r){var a=this;if(this.primaryColumns){var u=this.primaryColumns.slice(0),c=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(_){if(c){var E=a.getWidthOfColsInList(_);_.forEach(function(M){E-=M.getActualWidth(),M.setLeft(E,r)})}else{var P=0;_.forEach(function(M){M.setLeft(P,r),P+=M.getActualWidth()})}ll(u,_)}),u.forEach(function(_){_.setLeft(null,r)})}},i.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(r){r.forEach(function(a){a instanceof Mr&&a.checkLeft()})})},i.prototype.derivedDisplayedColumnsFromDisplayedTree=function(r,a){a.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(r,function(u){u instanceof Wt&&a.push(u)})},i.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},i.prototype.getVirtualHeaderGroupRow=function(r,a){var u;switch(r){case"left":u=this.viewportRowLeft[a];break;case"right":u=this.viewportRowRight[a];break;default:u=this.viewportRowCenter[a]}return s(u)&&(u=[]),u},i.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var r={};this.headerViewportColumns.forEach(function(u){return r[u.getId()]=!0});var a=function(u,c,_){for(var E=!1,P=0;P<u.length;P++){var M=u[P],L=!1;if(M instanceof Wt)L=!0===r[M.getId()];else{var U=M.getDisplayedChildren();U&&(L=a(U,c,_+1))}L&&(E=!0,c[_]||(c[_]=[]),c[_].push(M))}return E};a(this.displayedTreeLeft,this.viewportRowLeft,0),a(this.displayedTreeRight,this.viewportRowRight,0),a(this.displayedTreeCentre,this.viewportRowCenter,0)},i.prototype.extractViewport=function(){this.extractViewportColumns();var a=this.viewportColumns.map(function(c){return c.getId()+"-"+(c.getPinned()||"normal")}).join("#"),u=this.viewportColumnsHash!==a;return u&&(this.viewportColumnsHash=a,this.calculateHeaderRows()),u},i.prototype.refreshFlexedColumns=function(r){var a=this;void 0===r&&(r={});var u=r.source?r.source:"flex";if(null!=r.viewportWidth&&(this.flexViewportWidth=r.viewportWidth),!this.flexViewportWidth)return[];var c=-1;r.resizingCols&&r.resizingCols.forEach(function(Ie){var Be=a.displayedColumnsCenter.indexOf(Ie);c<Be&&(c=Be)});var _=function(Ie){var Be=a.displayedColumnsCenter.indexOf(Ie)>c;return Ie.getFlex()&&Be},E=this.displayedColumnsCenter.filter(function(Ie){return!_(Ie)}),P=this.displayedColumnsCenter.filter(function(Ie){return _(Ie)}),M=[];if(!P.length)return[];var B,L=[];e:for(;;){var U=P.reduce(function(Ie,Be){return Ie+Be.getFlex()},0);B=this.flexViewportWidth-this.getWidthOfColsInList(E);for(var X=0;X<P.length;X++){var Q=P[X],oe=B*Q.getFlex()/U,le=0,fe=Q.getMinWidth(),de=Q.getMaxWidth();if(o(fe)&&oe<fe?le=fe:o(de)&&oe>de&&(le=de),le){Q.setActualWidth(le,u),Gr(P,Q),M.push(Q),E.push(Q);continue e}L[X]=Math.round(oe)}break}var Oe=B;return P.forEach(function(Ie,Be){Ie.setActualWidth(Math.min(L[Be],Oe),u),M.push(Ie),Oe-=L[Be]}),r.skipSetLeft||this.setLeftValues(u),r.updateBodyWidths&&this.updateBodyWidths(),r.fireResizedEvent&&this.dispatchColumnResizedEvent(M,!0,u,P),this.flexColsCalculatedAtLestOnce||(this.gridOptionsService.isRowModelType("clientSide")&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),P},i.prototype.sizeColumnsToFit=function(r,a,u,c){var _,E,P,M,L;void 0===a&&(a="sizeColumnsToFit");var B={};c&&(null===(_=c?.columnLimits)||void 0===_||_.forEach(function(Bt){var qr=Bt.key,Wi=function(p,i){var r={};for(var a in p)Object.prototype.hasOwnProperty.call(p,a)&&i.indexOf(a)<0&&(r[a]=p[a]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(a=Object.getOwnPropertySymbols(p);u<a.length;u++)i.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(p,a[u])&&(r[a[u]]=p[a[u]])}return r}(Bt,["key"]);B["string"==typeof qr?qr:qr.getColId()]=Wi}));var U=this.getAllDisplayedColumns(),X=r===this.getWidthOfColsInList(U);if(!(r<=0||!U.length||X)){var Q=[],oe=[];U.forEach(function(Bt){!0===Bt.getColDef().suppressSizeToFit?oe.push(Bt):Q.push(Bt)});var le=Q.slice(0),fe=!1,de=function(Bt){Gr(Q,Bt),oe.push(Bt)};for(Q.forEach(function(Bt){return Bt.resetActualWidth(a)});!fe;){fe=!0;var Oe=r-this.getWidthOfColsInList(oe);if(Oe<=0)Q.forEach(function(Bt){var qr,Wi,Wu=null!==(Wi=null===(qr=B?.[Bt.getId()])||void 0===qr?void 0:qr.minWidth)&&void 0!==Wi?Wi:c?.defaultMinWidth;"number"!=typeof Wu?Bt.setMinimum(a):Bt.setActualWidth(Wu)});else for(var Ie=Oe/this.getWidthOfColsInList(Q),Be=Oe,Xe=Q.length-1;Xe>=0;Xe--){var me=Q[Xe],He=B?.[me.getId()],nt=null!==(E=He?.minWidth)&&void 0!==E?E:c?.defaultMinWidth,dt=null!==(P=He?.maxWidth)&&void 0!==P?P:c?.defaultMaxWidth,Dt=null!==(M=me.getMinWidth())&&void 0!==M?M:0,St=null!==(L=me.getMaxWidth())&&void 0!==L?L:Number.MAX_VALUE,pr="number"==typeof nt&&nt>Dt?nt:me.getMinWidth(),Fr="number"==typeof dt&&dt<St?dt:me.getMaxWidth(),pt=Math.round(me.getActualWidth()*Ie);o(pr)&&pt<pr?(pt=pr,de(me),fe=!1):o(Fr)&&pt>Fr?(pt=Fr,de(me),fe=!1):0===Xe&&(pt=Be),me.setActualWidth(pt,a,!0),Be-=pt}}le.forEach(function(Bt){Bt.fireColumnWidthChangedEvent(a)}),this.setLeftValues(a),this.updateBodyWidths(),!u&&this.dispatchColumnResizedEvent(le,!0,a)}},i.prototype.buildDisplayedTrees=function(r){var a=[],u=[],c=[];r.forEach(function(E){switch(E.getPinned()){case"left":a.push(E);break;case"right":u.push(E);break;default:c.push(E)}});var _=new ct;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(a,this.gridBalancedTree,_,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(u,this.gridBalancedTree,_,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,_,null,this.displayedTreeCentre),this.updateDisplayedMap()},i.prototype.updateDisplayedMap=function(){var r=this;this.displayedColumnsAndGroupsMap={};var a=function(u){r.displayedColumnsAndGroupsMap[u.getUniqueId()]=u};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,a),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,a),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,a)},i.prototype.isDisplayed=function(r){return this.displayedColumnsAndGroupsMap[r.getUniqueId()]===r},i.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var r=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(r,function(a){a instanceof Mr&&a.calculateDisplayedColumns()})},i.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},i.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),a=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||a||r)this.groupAutoColumns=null;else{var E=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);if(!this.autoColsEqual(E,this.groupAutoColumns)||this.forceRecreateAutoGroups)return this.groupAutoColumns=E,!0}return!1},i.prototype.isGroupSuppressAutoColumn=function(){var r=this.gridOptionsService.get("groupDisplayType");if(r&&Jp("custom",r))return!0;var u=this.gridOptionsService.get("treeDataDisplayType");return!!u&&function Zp(p,i){var r=["auto","custom"];return r.indexOf(i)<0?(console.warn("AG Grid: '"+i+"' is not a valid treeDataDisplayType value - possible values are: '"+r.join("', '")+"'"),!1):i===p}("custom",u)},i.prototype.autoColsEqual=function(r,a){return Yi(r,a,function(u,c){return u.getColId()===c.getColId()})},i.prototype.getWidthOfColsInList=function(r){return r.reduce(function(a,u){return a+u.getActualWidth()},0)},i.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},i.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(a){return a.getColDef().floatingFilter})},i.prototype.getFirstDisplayedColumn=function(){var r=this.gridOptionsService.is("enableRtl"),a=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];r&&a.reverse();for(var u=0;u<a.length;u++){var c=this[a[u]]();if(c.length)return r?Rt(c):c[0]}return null},i.prototype.setColumnHeaderHeight=function(r,a){r.setAutoHeaderHeight(a)&&this.eventService.dispatchEvent({type:J.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:r,columns:[r],source:"autosizeColumnHeaderHeight"})},i.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},i.prototype.getColumnHeaderRowHeight=function(){var r=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),a=this.getAllDisplayedColumns().filter(function(u){return u.isAutoHeaderHeight()}).map(function(u){return u.getAutoHeaderHeight()||0});return Math.max.apply(Math,_l([r],a))},i.prototype.getHeaderHeight=function(){var r;return null!==(r=this.gridOptionsService.getNum("headerHeight"))&&void 0!==r?r:this.environment.getFromTheme(25,"headerHeight")},i.prototype.getFloatingFiltersHeight=function(){var r;return null!==(r=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==r?r:this.getHeaderHeight()},i.prototype.getGroupHeaderHeight=function(){var r;return null!==(r=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==r?r:this.getHeaderHeight()},i.prototype.getPivotHeaderHeight=function(){var r;return null!==(r=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==r?r:this.getHeaderHeight()},i.prototype.getPivotGroupHeaderHeight=function(){var r;return null!==(r=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==r?r:this.getGroupHeaderHeight()},Er([$("expressionService")],i.prototype,"expressionService",void 0),Er([$("columnFactory")],i.prototype,"columnFactory",void 0),Er([$("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),Er([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Er([$("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),Er([$("columnUtils")],i.prototype,"columnUtils",void 0),Er([$("columnAnimationService")],i.prototype,"columnAnimationService",void 0),Er([$("autoGroupColService")],i.prototype,"autoGroupColService",void 0),Er([gt("aggFuncService")],i.prototype,"aggFuncService",void 0),Er([gt("valueCache")],i.prototype,"valueCache",void 0),Er([gt("animationFrameService")],i.prototype,"animationFrameService",void 0),Er([$("rowModel")],i.prototype,"rowModel",void 0),Er([$("sortController")],i.prototype,"sortController",void 0),Er([$("columnDefFactory")],i.prototype,"columnDefFactory",void 0),Er([ce],i.prototype,"init",null),Er([ze],i.prototype,"destroyColumns",null),Er([DE(0,ar("loggerFactory"))],i.prototype,"setBeans",null),Er([Le("columnModel")],i)}(Me),Mt=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ji=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Mt(i,p),i.prototype.calculateColMinWidth=function(r){return null!=r.minWidth?r.minWidth:this.environment.getMinColWidth()},i.prototype.calculateColMaxWidth=function(r){return null!=r.maxWidth?r.maxWidth:Number.MAX_SAFE_INTEGER},i.prototype.calculateColInitialWidth=function(r){var a=this.calculateColMinWidth(r),u=this.calculateColMaxWidth(r),_=C(r.width),E=C(r.initialWidth);return Math.max(Math.min(null!=_?_:null!=E?E:200,u),a)},i.prototype.getOriginalPathForColumn=function(r,a){var u=[],c=!1,_=function(E,P){for(var M=0;M<E.length;M++){if(c)return;var L=E[M];L instanceof Qt?(_(L.getChildren(),P+1),u[P]=L):L===r&&(c=!0)}};return _(a,0),c?u:null},i.prototype.depthFirstOriginalTreeSearch=function(r,a,u){var c=this;a&&a.forEach(function(_){_ instanceof Qt&&c.depthFirstOriginalTreeSearch(_,_.getChildren(),u),u(_,r)})},i.prototype.depthFirstAllColumnTreeSearch=function(r,a){var u=this;r&&r.forEach(function(c){c instanceof Mr&&u.depthFirstAllColumnTreeSearch(c.getChildren(),a),a(c)})},i.prototype.depthFirstDisplayedColumnTreeSearch=function(r,a){var u=this;r&&r.forEach(function(c){c instanceof Mr&&u.depthFirstDisplayedColumnTreeSearch(c.getDisplayedChildren(),a),a(c)})},i=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le("columnUtils")],i),i}(Me),yl=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ef=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return yl(i,p),i.prototype.createDisplayedGroups=function(r,a,u,c,_){var M,L,E=this,P=[],B=this.mapOldGroupsById(_);return r.forEach(function(U){for(var X=E.getOriginalPathForColumn(a,U),Q=[],oe=!L,le=0;le<X.length;le++)if(oe||X[le]!==L[le]){var fe=E.createColumnGroup(X[le],u,B,c);Q[le]=fe,0==le?P.push(fe):Q[le-1].addChild(fe)}else Q[le]=M[le];0===Q.length?P.push(U):Rt(Q).addChild(U),M=Q,L=X}),this.setupParentsIntoColumns(P,null),P},i.prototype.createColumnGroup=function(r,a,u,c){var _=r.getGroupId(),E=a.getInstanceIdForKey(_),M=u[Mr.createUniqueId(_,E)];return M&&M.getProvidedColumnGroup()!==r&&(M=null),o(M)?M.reset():(M=new Mr(r,_,E,c),this.context.createBean(M)),M},i.prototype.mapOldGroupsById=function(r){var a={},u=function(c){c.forEach(function(_){if(_ instanceof Mr){var E=_;a[_.getUniqueId()]=E,u(E.getChildren())}})};return r&&u(r),a},i.prototype.setupParentsIntoColumns=function(r,a){var u=this;r.forEach(function(c){if(c.setParent(a),c instanceof Mr){var _=c;u.setupParentsIntoColumns(_.getChildren(),_)}})},i.prototype.getOriginalPathForColumn=function(r,a){var u=[],c=!1,_=function(E,P){for(var M=0;M<E.length;M++){if(c)return;var L=E[M];L instanceof Qt?(_(L.getChildren(),P+1),u[P]=L):L===a&&(c=!0)}};return _(r,0),c?u:(console.warn("AG Grid: could not get path"),null)},i=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le("displayedGroupCreator")],i),i}(Me),kv=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),tf=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.componentsMappedByName={},r}return kv(i,p),i.prototype.setupComponents=function(r){var a=this;r&&r.forEach(function(u){return a.addComponent(u)})},i.prototype.addComponent=function(r){var u=r.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[u]=r.componentClass},i.prototype.getComponentClass=function(r){return this.componentsMappedByName[r]},i=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le("agStackComponentsRegistry")],i),i}(Me);function er(p,i,r){p.setAttribute(ec(i),r.toString())}function oi(p,i){p.removeAttribute(ec(i))}function ec(p){return"aria-"+p}function Br(p,i){i?p.setAttribute("role",i):p.removeAttribute("role")}function it(p){return"asc"===p?"ascending":"desc"===p?"descending":"mixed"===p?"other":"none"}function ml(p){return parseInt(p.getAttribute("aria-level"),10)}function rf(p){return parseInt(p.getAttribute("aria-posinset"),10)}function Zi(p,i){var r="label";null!=i&&""!==i?er(p,r,i):oi(p,r)}function nf(p,i){var r="labelledby";i?er(p,r,i):oi(p,r)}function Ut(p,i){var r="description";i?er(p,r,i):oi(p,r)}function of(p,i){var r="describedby";i?er(p,r,i):oi(p,r)}function Wv(p,i){er(p,"level",i)}function af(p,i){er(p,"disabled",i)}function Qi(p,i){i?er(p,"hidden",!0):oi(p,"hidden")}function fn(p,i){er(p,"expanded",i)}function rs(p){oi(p,"expanded")}function tc(p,i){er(p,"setsize",i)}function rc(p,i){er(p,"posinset",i)}function sf(p,i){er(p,"multiselectable",i)}function nc(p,i){er(p,"rowcount",i)}function So(p,i){er(p,"rowindex",i)}function wo(p,i){er(p,"colcount",i)}function ic(p,i){er(p,"colindex",i)}function _t(p,i){er(p,"colspan",i)}function oc(p,i){er(p,"sort",i)}function ta(p){oi(p,"sort")}function Di(p,i){var r="selected";i?er(p,r,i):oi(p,r)}function Cl(p,i){er(p,"checked",void 0===i?"mixed":i)}var ac,El,sc,ai,Rn,Tn,kn,bt,ns=Object.freeze({__proto__:null,setAriaRole:Br,getAriaSortState:it,getAriaLevel:ml,getAriaPosInSet:rf,getAriaDescribedBy:function Pn(p){return p.getAttribute("aria-describedby")||""},setAriaLabel:Zi,setAriaLabelledBy:nf,setAriaDescription:Ut,setAriaDescribedBy:of,setAriaLevel:Wv,setAriaDisabled:af,setAriaHidden:Qi,setAriaExpanded:fn,removeAriaExpanded:rs,setAriaSetSize:tc,setAriaPosInSet:rc,setAriaMultiSelectable:sf,setAriaRowCount:nc,setAriaRowIndex:So,setAriaColCount:wo,setAriaColIndex:ic,setAriaColSpan:_t,setAriaSort:oc,removeAriaSort:ta,setAriaSelected:Di,setAriaChecked:Cl});function hn(){return void 0===ac&&(ac=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ac}function is(){if(void 0===El)if(hn()){var p=navigator.userAgent.match(/version\/(\d+)/i);p&&(El=null!=p[1]?parseFloat(p[1]):0)}else El=0;return El}function Oo(){if(void 0===sc){var p=window;sc=!!p.chrome&&(!!p.chrome.webstore||!!p.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return sc}function Sl(){return void 0===ai&&(ai=/(firefox)/i.test(navigator.userAgent)),ai}function Vn(){return void 0===Rn&&(Rn=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Rn}function Mn(){return void 0===Tn&&(Tn=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Tn}function wl(){return!hn()||is()>=15}function si(p){if(!p)return null;var i=p.tabIndex,r=p.getAttribute("tabIndex");return-1!==i||null!==r&&(""!==r||Sl())?i.toString():null}function lf(){if(!document.body)return-1;var p=1e6,i=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){var a=2*p;if(r.style.height=a+"px",a>i||r.clientHeight!==a)break;p=a}return document.body.removeChild(r),p}function lc(){var p,i,r;return null!==(i=null===(p=document.body)||void 0===p?void 0:p.clientWidth)&&void 0!==i?i:window.innerHeight||(null===(r=document.documentElement)||void 0===r?void 0:r.clientWidth)||-1}function uc(){var p,i,r;return null!==(i=null===(p=document.body)||void 0===p?void 0:p.clientHeight)&&void 0!==i?i:window.innerHeight||(null===(r=document.documentElement)||void 0===r?void 0:r.clientHeight)||-1}function eo(){return null==bt&&uf(),bt}function uf(){var p=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.opacity="0",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",i.style.position="absolute",p.appendChild(i);var r=i.offsetWidth-i.clientWidth;0===r&&0===i.clientWidth&&(r=null),i.parentNode&&i.parentNode.removeChild(i),null!=r&&(bt=r,kn=0===r)}function ra(){return null==kn&&uf(),kn}var An=Object.freeze({__proto__:null,isBrowserSafari:hn,getSafariVersion:is,isBrowserChrome:Oo,isBrowserFirefox:Sl,isMacOsUserAgent:Vn,isIOSUserAgent:Mn,browserSupportsPreventScroll:wl,getTabIndex:si,getMaxDivHeight:lf,getBodyWidth:lc,getBodyHeight:uc,getScrollbarWidth:eo,isInvisibleScrollbar:ra});function fr(p,i){return p.toString().padStart(i,"0")}function At(p,i){for(var r=[],a=p;a<=i;a++)r.push(a);return r}function Zr(p,i,r){return"number"!=typeof p?"":p.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i)}var tr=Object.freeze({__proto__:null,padStartWidthZeros:fr,createArrayOfNumbers:At,cleanNumber:function kr(p){return"string"==typeof p&&(p=parseInt(p,10)),"number"==typeof p?Math.floor(p):null},decToHex:function Jr(p,i){for(var r="",a=0;a<i;a++)r+=String.fromCharCode(255&p),p>>>=8;return r},formatNumberTwoDecimalPlacesAndCommas:function os(p,i,r){return"number"!=typeof p?"":Zr(Math.round(100*p)/100,i,r)},formatNumberCommas:Zr,sum:function bi(p){return null==p?null:p.reduce(function(i,r){return i+r},0)},zeroOrGreater:function We(p,i){return p>=0?p:i},oneOrGreater:function vt(p,i){var r=parseInt(p,10);return!isNaN(r)&&isFinite(r)&&r>0?r:i}}),gn=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c};function Wn(p,i,r){if(void 0===i&&(i=!0),void 0===r&&(r="-"),!p)return null;var a=[p.getFullYear(),p.getMonth()+1,p.getDate()].map(function(u){return fr(u,2)}).join(r);return i&&(a+=" "+[p.getHours(),p.getMinutes(),p.getSeconds()].map(function(u){return fr(u,2)}).join(":")),a}var Sr=function(p){if(p>3&&p<21)return"th";switch(p%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Pi(p,i){void 0===i&&(i="YYYY-MM-DD");var r=fr(p.getFullYear(),4),a=["January","February","March","April","May","June","July","August","September","October","November","December"],u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c={YYYY:function(){return r.slice(r.length-4,r.length)},YY:function(){return r.slice(r.length-2,r.length)},Y:function(){return""+p.getFullYear()},MMMM:function(){return a[p.getMonth()]},MMM:function(){return a[p.getMonth()].slice(0,3)},MM:function(){return fr(p.getMonth()+1,2)},Mo:function(){return""+(p.getMonth()+1)+Sr(p.getMonth()+1)},M:function(){return""+(p.getMonth()+1)},Do:function(){return""+p.getDate()+Sr(p.getDate())},DD:function(){return fr(p.getDate(),2)},D:function(){return""+p.getDate()},dddd:function(){return u[p.getDay()]},ddd:function(){return u[p.getDay()].slice(0,3)},dd:function(){return u[p.getDay()].slice(0,2)},do:function(){return""+p.getDay()+Sr(p.getDay())},d:function(){return""+p.getDay()}},_=new RegExp(Object.keys(c).join("|"),"g");return i.replace(_,function(E){return E in c?c[E]():E})}function Gt(p){if(!p)return null;var i=gn(p.split(" "),2),r=i[0],a=i[1];if(!r)return null;var u=r.split("-").map(function(Q){return parseInt(Q,10)});if(3!==u.filter(function(Q){return!isNaN(Q)}).length)return null;var c=gn(u,3),_=c[0],E=c[1],P=c[2],M=new Date(_,E-1,P);if(M.getFullYear()!==_||M.getMonth()!==E-1||M.getDate()!==P)return null;if(!a||"00:00:00"===a)return M;var L=gn(a.split(":").map(function(Q){return parseInt(Q,10)}),3),B=L[0],U=L[1],X=L[2];return B>=0&&B<24&&M.setHours(B),U>=0&&U<60&&M.setMinutes(U),X>=0&&X<60&&M.setSeconds(X),M}var na,Ol=Object.freeze({__proto__:null,serialiseDate:Wn,dateToFormattedString:Pi,parseDateTimeFromString:Gt}),Dl=function(p){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&p[i],a=0;if(r)return r.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},cc="[tabindex], input, select, button, textarea, [href]",to=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *";function wr(p){var i=Element.prototype.matches||Element.prototype.msMatchesSelector,a=i.call(p,"input, select, button, textarea"),u=i.call(p,to),c=Vr(p);return a&&!u&&c}function ft(p,i,r){void 0===r&&(r={});var a=r.skipAriaHidden;p.classList.toggle("ag-hidden",!i),a||Qi(p,!i)}function Do(p,i,r){void 0===r&&(r={});var a=r.skipAriaHidden;p.classList.toggle("ag-invisible",!i),a||Qi(p,!i)}function Qr(p,i){var r="disabled",a=i?function(u){return u.setAttribute(r,"")}:function(u){return u.removeAttribute(r)};a(p),Tl(p.querySelectorAll("input"),function(u){return a(u)})}function Hn(p,i,r){for(var a=0;p;){if(p.classList.contains(i))return!0;if(p=p.parentElement,"number"==typeof r){if(++a>r)break}else if(p===r)break}return!1}function ro(p){var i=window.getComputedStyle(p),a=i.width,u=i.paddingTop,c=i.paddingRight,_=i.paddingBottom,E=i.paddingLeft,P=i.marginTop,M=i.marginRight,L=i.marginBottom,B=i.marginLeft,U=i.boxSizing;return{height:parseFloat(i.height),width:parseFloat(a),paddingTop:parseFloat(u),paddingRight:parseFloat(c),paddingBottom:parseFloat(_),paddingLeft:parseFloat(E),marginTop:parseFloat(P),marginRight:parseFloat(M),marginBottom:parseFloat(L),marginLeft:parseFloat(B),boxSizing:U}}function Lt(p){var i=ro(p);return"border-box"===i.boxSizing?i.height-i.paddingTop-i.paddingBottom:i.height}function dc(p){var i=ro(p);return"border-box"===i.boxSizing?i.width-i.paddingLeft-i.paddingRight:i.width}function ss(p){var i=ro(p);return Math.ceil(p.offsetHeight+(i.marginBottom+i.marginTop))}function ls(p){var i=ro(p);return Math.ceil(p.offsetWidth+(i.marginLeft+i.marginRight))}function no(){if("boolean"==typeof na)return na;var p=document.createElement("div");return p.style.direction="rtl",p.style.width="1px",p.style.height="1px",p.style.position="fixed",p.style.top="0px",p.style.overflow="hidden",p.dir="rtl",p.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(p),p.scrollLeft=1,na=0===Math.floor(p.scrollLeft),document.body.removeChild(p),na}function io(p,i){var r=p.scrollLeft;return i&&(r=Math.abs(r),Oo()&&!no()&&(r=p.scrollWidth-p.clientWidth-r)),r}function Ri(p,i,r){r&&(no()?i*=-1:(hn()||Oo())&&(i=p.scrollWidth-p.clientWidth-i)),p.scrollLeft=i}function kt(p){for(;p&&p.firstChild;)p.removeChild(p.firstChild)}function hr(p){p&&p.parentNode&&p.parentNode.removeChild(p)}function Vr(p){return null!==p.offsetParent}function gr(p){var i=document.createElement("div");return i.innerHTML=(p||"").trim(),i.firstChild}function vn(p){return p&&p.clientHeight?p.clientHeight:0}function pc(p){return p&&p.clientWidth?p.clientWidth:0}function cf(p,i,r){if(!r||r.nextSibling!==i){var a=document.activeElement,u=i.contains(a);r?r.nextSibling?p.insertBefore(i,r.nextSibling):p.appendChild(i):p.firstChild&&p.firstChild!==i&&p.insertAdjacentElement("afterbegin",i),u&&a&&wl()&&a.focus({preventScroll:!0})}}function fc(p,i){for(var r=0;r<i.length;r++){var a=i[r],u=p.children[r];u!==a&&p.insertBefore(a,u)}}function df(p,i,r){r?r.insertAdjacentElement("afterend",i):p.firstChild?p.insertAdjacentElement("afterbegin",i):p.appendChild(i)}function pf(p,i){var r,a;if(i)try{for(var u=Dl(Object.entries(i)),c=u.next();!c.done;c=u.next()){var _=yt(c.value,2),E=_[0],P=_[1];if(E&&E.length&&null!=P){var M=E.replace(/[A-Z]/g,function(X){return"-"+X.toLocaleLowerCase()}),L=P.toString(),B=L.replace(/\s*!important/g,"");p.style.setProperty(M,P,B.length!=L.length?"important":void 0)}}}catch(X){r={error:X}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}}function ff(p){return p.clientWidth<p.scrollWidth}function Hv(p){return p.clientHeight<p.scrollHeight}function Pl(p,i){"flex"===i?(p.style.removeProperty("width"),p.style.removeProperty("minWidth"),p.style.removeProperty("maxWidth"),p.style.flex="1 1 auto"):Un(p,i)}function Un(p,i){i=hf(i),p.style.width=i.toString(),p.style.maxWidth=i.toString(),p.style.minWidth=i.toString()}function ia(p,i){i=hf(i),p.style.height=i.toString(),p.style.maxHeight=i.toString(),p.style.minHeight=i.toString()}function hf(p){return"number"==typeof p?p+"px":p}function Rl(p){return p instanceof Node||p instanceof HTMLElement}function Uv(p){if(null==p)return[];var i=[];return Tl(p,function(r){return i.push(r)}),i}function $v(p,i){if(p)for(var r=0;r<p.length;r++){var a=p[r];i(a.name,a.value)}}function oa(p,i,r){null==r?p.removeAttribute(i):p.setAttribute(i,r.toString())}function Tl(p,i){if(null!=p)for(var r=0;r<p.length;r++)i(p[r])}var IE=Object.freeze({__proto__:null,radioCssClass:function as(p,i,r){for(var a=p.parentElement,u=a&&a.firstChild;u;)i&&u.classList.toggle(i,u===p),r&&u.classList.toggle(r,u!==p),u=u.nextSibling},FOCUSABLE_SELECTOR:cc,FOCUSABLE_EXCLUDE:to,isFocusableFormField:wr,setDisplayed:ft,setVisible:Do,setDisabled:Qr,isElementChildOfClass:Hn,getElementSize:ro,getInnerHeight:Lt,getInnerWidth:dc,getAbsoluteHeight:ss,getAbsoluteWidth:ls,isRtlNegativeScroll:no,getScrollLeft:io,setScrollLeft:Ri,clearElement:kt,removeElement:function ME(p,i){hr(p.querySelector(i))},removeFromParent:hr,isVisible:Vr,loadTemplate:gr,appendHtml:function us(p,i){p.lastChild?p.insertAdjacentHTML("afterbegin",i):p.innerHTML=i},getElementAttribute:function bl(p,i){return p.attributes&&p.attributes[i]?p.attributes[i].value:null},offsetHeight:vn,offsetWidth:pc,ensureDomOrder:cf,setDomChildOrder:fc,insertWithDomOrder:df,prependDC:function AE(p,i){o(p.firstChild)?p.insertBefore(i,p.firstChild):p.appendChild(i)},addStylesToElement:pf,isHorizontalScrollShowing:ff,isVerticalScrollShowing:Hv,setElementWidth:Pl,setFixedWidth:Un,setElementHeight:function xE(p,i){"flex"===i?(p.style.removeProperty("height"),p.style.removeProperty("minHeight"),p.style.removeProperty("maxHeight"),p.style.flex="1 1 auto"):ia(p,i)},setFixedHeight:ia,formatSize:hf,isNodeOrElement:Rl,copyNodeList:Uv,iterateNamedNodeMap:$v,addOrRemoveAttribute:oa,nodeListForEach:Tl}),jv={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function $n(p,i,r){var a=Vt(p,i,r);if(a&&a.className.indexOf("ag-icon")>-1)return a;var u=document.createElement("span");return u.appendChild(a),u}function Vt(p,i,r,a){var u=null,c=r&&r.getColDef().icons;if(c&&(u=c[p]),i&&!u){var _=i.get("icons");_&&(u=_[p])}if(!u){var P=document.createElement("span"),M=jv[p];return M||(a?M=p:(console.warn("AG Grid: Did not find icon "+p),M="")),P.setAttribute("class","ag-icon ag-icon-"+M),P.setAttribute("unselectable","on"),Br(P,"presentation"),P}var E=void 0;if("function"==typeof u)E=u();else{if("string"!=typeof u)throw new Error("icon from grid options needs to be a string or a function");E=u}return"string"==typeof E?gr(E):Rl(E)?E:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Kv=Object.freeze({__proto__:null,iconNameClassMap:jv,createIcon:$n,createIconNoSpan:Vt}),ve=function(){function p(){}return p.BACKSPACE="Backspace",p.TAB="Tab",p.ENTER="Enter",p.ESCAPE="Escape",p.SPACE=" ",p.LEFT="ArrowLeft",p.UP="ArrowUp",p.RIGHT="ArrowRight",p.DOWN="ArrowDown",p.DELETE="Delete",p.F2="F2",p.PAGE_UP="PageUp",p.PAGE_DOWN="PageDown",p.PAGE_HOME="Home",p.PAGE_END="End",p.A="KeyA",p.C="KeyC",p.D="KeyD",p.V="KeyV",p.X="KeyX",p.Y="KeyY",p.Z="KeyZ",p}(),gf=65,zv=67,Yv=86,vf=68,_f=90,qv=89;function Ml(p){return!(p.altKey||p.ctrlKey||p.metaKey)&&1===p.key.length}function Al(p,i,r,a,u){var c=a?a.getColDef().suppressKeyboardEvent:void 0;if(!c)return!1;var _={event:i,editing:u,column:a,api:p.api,node:r,data:r.data,colDef:a.getColDef(),context:p.context,columnApi:p.columnApi};return!(!c||!c(_))}function _n(p,i,r,a){var u=a.getDefinition(),c=u&&u.suppressHeaderKeyboardEvent;return!!o(c)&&!!c({api:p.api,columnApi:p.columnApi,context:p.context,colDef:u,column:a,headerRowIndex:r,event:i})}function hc(p){var r;switch(p.keyCode){case gf:r=ve.A;break;case zv:r=ve.C;break;case Yv:r=ve.V;break;case vf:r=ve.D;break;case _f:r=ve.Z;break;case qv:r=ve.Y;break;default:r=p.code}return r}function gc(p,i){return void 0===i&&(i=!1),p===ve.DELETE||!i&&p===ve.BACKSPACE&&Vn()}var Ar=Object.freeze({__proto__:null,isEventFromPrintableCharacter:Ml,isUserSuppressingKeyboardEvent:Al,isUserSuppressingHeaderKeyboardEvent:_n,normaliseQwertyAzerty:hc,isDeleteKey:gc});function vc(p,i,r){if(0===r)return!1;var a=Math.abs(p.clientX-i.clientX),u=Math.abs(p.clientY-i.clientY);return Math.max(a,u)<=r}var xl=Object.freeze({__proto__:null,areEventsNear:vc}),yf=Object.freeze({__proto__:null,sortRowNodesByOrder:function yn(p,i){if(!p)return!1;for(var r=function(E,P){var M=i[E.id],L=i[P.id],B=void 0!==M,U=void 0!==L;return B&&U?M-L:B||U?B?1:-1:E.__objectId-P.__objectId},c=!1,_=0;_<p.length-1;_++)if(r(p[_],p[_+1])>0){c=!0;break}return!!c&&(p.sort(r),!0)},traverseNodesWithKey:function Xv(p,i){var r=[];!function a(u){u&&u.forEach(function(c){if(c.group||c.hasChildren()){r.push(c.key);var _=r.join("|");i(c,_),a(c.childrenAfterGroup),r.pop()}})}(p)}});function oo(p){var i=new Set;return p.forEach(function(r){return i.add(r)}),i}var mn=Object.freeze({__proto__:null,convertToSet:oo}),ur=function(){return ur=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},ur.apply(this,arguments)},Ye=ur(ur(ur(ur(ur(ur(ur(ur(ur(ur(ur(ur(ur(ur(ur(ur(ur(ur({},ns),Up),An),Ol),IE),mE),Yt),Ju),I),Kv),Ar),Bv),xl),tr),Se),yf),mn),EE),an=function(){function p(i,r){void 0===i&&(i=0),void 0===r&&(r=1),this.nextValue=i,this.step=r}return p.prototype.next=function(){var i=this.nextValue;return this.nextValue+=this.step,i},p.prototype.peek=function(){return this.nextValue},p.prototype.skip=function(i){this.nextValue+=i},p}(),ao=(()=>(function(p){p[p.IN_PROGRESS=0]="IN_PROGRESS",p[p.RESOLVED=1]="RESOLVED"}(ao||(ao={})),ao))(),en=function(){function p(i){var r=this;this.status=ao.IN_PROGRESS,this.resolution=null,this.waiters=[],i(function(a){return r.onDone(a)},function(a){return r.onReject(a)})}return p.all=function(i){return new p(function(r){var a=i.length,u=new Array(a);i.forEach(function(c,_){c.then(function(E){u[_]=E,0==--a&&r(u)})})})},p.resolve=function(i){return void 0===i&&(i=null),new p(function(r){return r(i)})},p.prototype.then=function(i){var r=this;return new p(function(a){r.status===ao.RESOLVED?a(i(r.resolution)):r.waiters.push(function(u){return a(i(u))})})},p.prototype.resolveNow=function(i,r){return this.status===ao.RESOLVED?r(this.resolution):i},p.prototype.onDone=function(i){this.status=ao.RESOLVED,this.resolution=i,this.waiters.forEach(function(r){return r(i)})},p.prototype.onReject=function(i){console.warn("TBI")},p}(),mf=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Cf=function(){return Cf=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Cf.apply(this,arguments)},cs=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},xn=(()=>(function(p){p[p.NOTHING=0]="NOTHING",p[p.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",p[p.SHOWING=2]="SHOWING"}(xn||(xn={})),xn))(),yc=function(p){function i(r){var a=p.call(this)||this;return a.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,a.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,a.SHOW_QUICK_TOOLTIP_DIFF=1e3,a.FADE_OUT_TOOLTIP_TIMEOUT=1e3,a.state=xn.NOTHING,a.tooltipInstanceCount=0,a.tooltipMouseTrack=!1,a.parentComp=r,a}return mf(i,p),i.prototype.postConstruct=function(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var r=this.parentComp.getGui();this.addManagedListener(r,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(r,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this))},i.prototype.destroy=function(){this.setToDoNothing(),p.prototype.destroy.call(this)},i.prototype.onMouseEnter=function(r){if(!Mn()&&this.state==xn.NOTHING){var a=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),a),this.lastMouseEvent=r,this.state=xn.WAITING_TO_SHOW}},i.prototype.onMouseLeave=function(){this.setToDoNothing()},i.prototype.onKeyDown=function(){this.setToDoNothing()},i.prototype.setToDoNothing=function(){this.state===xn.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=xn.NOTHING},i.prototype.onMouseMove=function(r){this.lastMouseEvent=r,this.tooltipMouseTrack&&this.state===xn.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},i.prototype.onMouseDown=function(){this.setToDoNothing()},i.prototype.getTooltipDelay=function(r){var a=this.gridOptionsService.getNum("tooltipShowDelay"),u=this.gridOptionsService.getNum("tooltipHideDelay"),c="show"===r?a:u,_=Qp(r);return o(c)?(c<0&&Ce(function(){return console.warn("AG Grid: tooltip"+_+"Delay should not be lower than 0")},"tooltip"+_+"DelayWarn"),Math.max(200,c)):null},i.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),i.lastTooltipHideTime=(new Date).getTime()),this.state=xn.NOTHING},i.prototype.destroyTooltipComp=function(){var r=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var a=this.tooltipPopupDestroyFunc,u=this.tooltipComp;window.setTimeout(function(){a(),r.getContext().destroyBean(u)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},i.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-i.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},i.prototype.showTooltip=function(){var r=Cf({},this.parentComp.getTooltipParams());if(o(r.value)){this.state=xn.SHOWING,this.tooltipInstanceCount++;var a=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(r).newAgStackInstance().then(a)}else this.setToDoNothing()},i.prototype.newTooltipComponentCallback=function(r,a){if(this.state!==xn.SHOWING||this.tooltipInstanceCount!==r)this.getContext().destroyBean(a);else{var c=a.getGui();this.tooltipComp=a,c.classList.contains("ag-tooltip")||c.classList.add("ag-tooltip-custom");var _=this.localeService.getLocaleTextFunc(),E=this.popupService.addPopup({eChild:c,ariaLabel:_("ariaLabelTooltip","Tooltip")});E&&(this.tooltipPopupDestroyFunc=E.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},i.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},i.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},cs([$("popupService")],i.prototype,"popupService",void 0),cs([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),cs([$("columnApi")],i.prototype,"columnApi",void 0),cs([$("gridApi")],i.prototype,"gridApi",void 0),cs([ce],i.prototype,"postConstruct",null),i}(Me),Ef=function(){function p(i){this.cssClassStates={},this.getGui=i}return p.prototype.addCssClass=function(i){var r=this,a=(i||"").split(" ");if(a.length>1)a.forEach(function(_){return r.addCssClass(_)});else if(!0!==this.cssClassStates[i]&&i.length){var c=this.getGui();c&&c.classList.add(i),this.cssClassStates[i]=!0}},p.prototype.removeCssClass=function(i){var r=this,a=(i||"").split(" ");if(a.length>1)a.forEach(function(_){return r.removeCssClass(_)});else if(!1!==this.cssClassStates[i]&&i.length){var c=this.getGui();c&&c.classList.remove(i),this.cssClassStates[i]=!1}},p.prototype.containsCssClass=function(i){var r=this.getGui();return!!r&&r.classList.contains(i)},p.prototype.addOrRemoveCssClass=function(i,r){var a=this;if(i){if(i.indexOf(" ")>=0){var u=(i||"").split(" ");if(u.length>1)return void u.forEach(function(E){return a.addOrRemoveCssClass(E,r)})}if(this.cssClassStates[i]!==r&&i.length){var _=this.getGui();_&&_.classList.toggle(i,r),this.cssClassStates[i]=r}}},p}(),Jv=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),mc=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Te=new an,Ge=function(p){function i(r){var a=p.call(this)||this;return a.displayed=!0,a.visible=!0,a.compId=Te.next(),a.cssClassManager=new Ef(function(){return a.eGui}),r&&a.setTemplate(r),a}return Jv(i,p),i.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},i.prototype.getCompId=function(){return this.compId},i.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},i.prototype.setTooltip=function(r){var a=this;this.tooltipText!=r&&(this.tooltipText&&(a.usingBrowserTooltips?a.getGui().removeAttribute("title"):a.tooltipFeature=a.destroyBean(a.tooltipFeature)),null!=r&&(this.tooltipText=r,this.tooltipText&&(a.usingBrowserTooltips?a.getGui().setAttribute("title",a.tooltipText):a.tooltipFeature=a.createBean(new yc(a)))))},i.prototype.createChildComponentsFromTags=function(r,a){var u=this;Uv(r.childNodes).forEach(function(_){if(_ instanceof HTMLElement){var E=u.createComponentFromElement(_,function(M){M.getGui()&&u.copyAttributesFromNode(_,M.getGui())},a);if(E){if(E.addItems&&_.children.length){u.createChildComponentsFromTags(_,a);var P=Array.prototype.slice.call(_.children);E.addItems(P)}u.swapComponentForNode(E,r,_)}else _.childNodes&&u.createChildComponentsFromTags(_,a)}})},i.prototype.createComponentFromElement=function(r,a,u){var c=r.nodeName,_=u?u[r.getAttribute("ref")]:void 0,E=this.agStackComponentsRegistry.getComponentClass(c);if(E){i.elementGettingCreated=r;var P=new E(_);return P.setParentComponent(this),this.createBean(P,null,a),P}return null},i.prototype.copyAttributesFromNode=function(r,a){$v(r.attributes,function(u,c){return a.setAttribute(u,c)})},i.prototype.swapComponentForNode=function(r,a,u){var c=r.getGui();a.replaceChild(c,u),a.insertBefore(document.createComment(u.nodeName),c),this.addDestroyFunc(this.destroyBean.bind(this,r)),this.swapInComponentForQuerySelectors(r,u)},i.prototype.swapInComponentForQuerySelectors=function(r,a){var u=this;this.iterateOverQuerySelectors(function(c){u[c.attributeName]===a&&(u[c.attributeName]=r)})},i.prototype.iterateOverQuerySelectors=function(r){for(var a=Object.getPrototypeOf(this);null!=a;){var u=a.__agComponentMetaData,c=De(a.constructor);u&&u[c]&&u[c].querySelectors&&u[c].querySelectors.forEach(function(_){return r(_)}),a=Object.getPrototypeOf(a)}},i.prototype.setTemplate=function(r,a){var u=gr(r);this.setTemplateFromElement(u,a)},i.prototype.setTemplateFromElement=function(r,a){this.eGui=r,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),a)},i.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},i.prototype.wireQuerySelectors=function(){var r=this;if(this.eGui){var a=this;this.iterateOverQuerySelectors(function(u){var c=function(P){return a[u.attributeName]=P};if(u.refSelector&&r.eGui.getAttribute("ref")===u.refSelector)c(r.eGui);else{var E=r.eGui.querySelector(u.querySelector);E&&c(E.__agComponent||E)}})}},i.prototype.getGui=function(){return this.eGui},i.prototype.getFocusableElement=function(){return this.eGui},i.prototype.setParentComponent=function(r){this.parentComponent=r},i.prototype.getParentComponent=function(){return this.parentComponent},i.prototype.setGui=function(r){this.eGui=r},i.prototype.queryForHtmlElement=function(r){return this.eGui.querySelector(r)},i.prototype.queryForHtmlInputElement=function(r){return this.eGui.querySelector(r)},i.prototype.appendChild=function(r,a){null!=r&&(a||(a=this.eGui),Rl(r)?a.appendChild(r):a.appendChild(r.getGui()))},i.prototype.isDisplayed=function(){return this.displayed},i.prototype.setVisible=function(r,a){void 0===a&&(a={}),r!==this.visible&&(this.visible=r,Do(this.eGui,r,{skipAriaHidden:a.skipAriaHidden}))},i.prototype.setDisplayed=function(r,a){void 0===a&&(a={}),r!==this.displayed&&(this.displayed=r,ft(this.eGui,r,{skipAriaHidden:a.skipAriaHidden}),this.dispatchEvent({type:i.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},i.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var r=this.eGui;r&&r.__agComponent&&(r.__agComponent=void 0),p.prototype.destroy.call(this)},i.prototype.addGuiEventListener=function(r,a,u){var c=this;this.eGui.addEventListener(r,a,u),this.addDestroyFunc(function(){return c.eGui.removeEventListener(r,a)})},i.prototype.addCssClass=function(r){this.cssClassManager.addCssClass(r)},i.prototype.removeCssClass=function(r){this.cssClassManager.removeCssClass(r)},i.prototype.containsCssClass=function(r){return this.cssClassManager.containsCssClass(r)},i.prototype.addOrRemoveCssClass=function(r,a){this.cssClassManager.addOrRemoveCssClass(r,a)},i.prototype.getAttribute=function(r){var a=this.eGui;return a?a.getAttribute(r):null},i.prototype.getRefElement=function(r){return this.queryForHtmlElement('[ref="'+r+'"]')},i.EVENT_DISPLAYED_CHANGED="displayedChanged",mc([$("agStackComponentsRegistry")],i.prototype,"agStackComponentsRegistry",void 0),mc([Xt],i.prototype,"preConstructOnComponent",null),mc([Xt],i.prototype,"createChildComponentsPreConstruct",null),i}(Me);function be(p){return Or.bind(this,"[ref="+p+"]",p)}function Or(p,i,r,a,u){null!==p?"number"!=typeof u?function Sf(p,i,r){var a=function ds(p,i){return p.__agComponentMetaData||(p.__agComponentMetaData={}),p.__agComponentMetaData[i]||(p.__agComponentMetaData[i]={}),p.__agComponentMetaData[i]}(p,De(p.constructor));a[i]||(a[i]=[]),a[i].push(r)}(r,"querySelectors",{attributeName:a,querySelector:p,refSelector:i}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var li=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ll=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Cc=function(p){function i(){return p.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return li(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.init=function(r){this.params=r;var a=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),u=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(a+" "+u("ariaFilterInput","Filter Input"))},i.prototype.onParentModelChanged=function(r){var a=this;r?this.params.parentFilterInstance(function(u){if(u.getModelAsString){var c=u.getModelAsString(r);a.eFloatingFilterText.setValue(c)}}):this.eFloatingFilterText.setValue("")},Ll([be("eFloatingFilterText")],i.prototype,"eFloatingFilterText",void 0),Ll([$("columnModel")],i.prototype,"columnModel",void 0),i}(Ge),wf=function(){function p(i,r,a,u){var c=this;this.alive=!0,this.context=i,this.eParent=u,r.getDateCompDetails(a).newAgStackInstance().then(function(P){c.alive?(c.dateComp=P,P&&(u.appendChild(P.getGui()),P.afterGuiAttached&&P.afterGuiAttached(),c.tempValue&&P.setDate(c.tempValue),null!=c.disabled&&c.setDateCompDisabled(c.disabled))):i.destroyBean(P)})}return p.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},p.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},p.prototype.setDate=function(i){this.dateComp?this.dateComp.setDate(i):this.tempValue=i},p.prototype.setDisabled=function(i){this.dateComp?this.setDateCompDisabled(i):this.disabled=i},p.prototype.setDisplayed=function(i){ft(this.eParent,i)},p.prototype.setInputPlaceholder=function(i){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(i)},p.prototype.setInputAriaLabel=function(i){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(i)},p.prototype.afterGuiAttached=function(i){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(i)},p.prototype.setDateCompDisabled=function(i){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(i)},p}(),Of=function(){return Of=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Of.apply(this,arguments)},Ec=function(){function p(){this.customFilterOptions={}}return p.prototype.init=function(i,r){this.filterOptions=i.filterOptions||r,this.mapCustomOptions(),this.selectDefaultItem(i),this.checkForDeprecatedParams()},p.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},p.prototype.getFilterOptions=function(){return this.filterOptions},p.prototype.mapCustomOptions=function(){var i=this;this.filterOptions&&this.filterOptions.forEach(function(r){if("string"!=typeof r){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(E){return!!E.some(function(P){return null!=r[P]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+E+"'"),!1)}))return void(i.filterOptions=i.filterOptions.filter(function(E){return E===r})||[]);var c=r.test,_=Of({},r);null!=c&&null==r.predicate&&(_.predicate=function(E,P){return c(E[0],P)},delete _.test),_.hideFilterInput&&null==_.numberOfInputs&&(_.numberOfInputs=0,delete _.hideFilterInput),i.customFilterOptions[r.displayKey]=_}})},p.prototype.selectDefaultItem=function(i){if(i.defaultOption)this.defaultOption=i.defaultOption;else if(this.filterOptions.length>=1){var r=this.filterOptions[0];"string"==typeof r?this.defaultOption=r:r.displayKey?this.defaultOption=r.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},p.prototype.getDefaultOption=function(){return this.defaultOption},p.prototype.getCustomOption=function(i){return this.customFilterOptions[i]},p}(),tn={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Ti=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Fl=function(){return Fl=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Fl.apply(this,arguments)},bo=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},xr=function(p){function i(r,a){void 0===a&&(a={});var u=p.call(this)||this;return u.eFocusableElement=r,u.callbacks=a,u.callbacks=Fl({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(c){if(!c.defaultPrevented){var _=u.focusService.findNextFocusableElement(u.eFocusableElement,!1,c.shiftKey);_&&(_.focus(),c.preventDefault())}}},a),u}return Ti(i,p),i.prototype.postConstruct=function(){this.eFocusableElement.classList.add(i.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},i.prototype.addKeyDownListeners=function(r){var a=this;this.addManagedListener(r,"keydown",function(u){if(!u.defaultPrevented&&!dn(u)){if(a.callbacks.shouldStopEventPropagation(u))return void ea(u);u.key===ve.TAB?a.callbacks.onTabKeyDown(u):a.callbacks.handleKeyDown&&a.callbacks.handleKeyDown(u)}})},i.FOCUS_MANAGED_CLASS="ag-focus-managed",bo([$("focusService")],i.prototype,"focusService",void 0),bo([ce],i.prototype,"postConstruct",null),i}(Me),Zv=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Sc=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ps=function(p){function i(r){var a=p.call(this)||this;return a.filterNameKey=r,a.applyActive=!1,a.hidePopup=null,a.appliedModel=null,a}return Zv(i,p),i.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new xr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},i.prototype.handleKeyDown=function(r){},i.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},i.prototype.isFilterActive=function(){return!!this.appliedModel},i.prototype.resetTemplate=function(r){var a=this.getGui();a&&a.removeEventListener("submit",this.onFormSubmit);var u='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(u,r),(a=this.getGui())&&a.addEventListener("submit",this.onFormSubmit)},i.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},i.prototype.init=function(r){var a=this;this.setParams(r),this.resetUiToDefaults(!0).then(function(){a.updateUiVisibility(),a.setupOnBtApplyDebounce()})},i.prototype.setParams=function(r){this.providedFilterParams=r,this.applyActive=i.isUseApplyButton(r),this.createButtonPanel()},i.prototype.createButtonPanel=function(){var r=this,a=this.providedFilterParams.buttons;if(!(!a||a.length<1||this.isReadOnly())){var u=document.createElement("div");u.classList.add("ag-filter-apply-panel"),oo(a).forEach(function(_){return function(_){var E,P;switch(_){case"apply":E=r.translate("applyFilter"),P=function(B){return r.onBtApply(!1,!1,B)};break;case"clear":E=r.translate("clearFilter"),P=function(){return r.onBtClear()};break;case"reset":E=r.translate("resetFilter"),P=function(){return r.onBtReset()};break;case"cancel":E=r.translate("cancelFilter"),P=function(B){r.onBtCancel(B)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var L=gr('<button\n                    type="'+("apply"===_?"submit":"button")+'"\n                    ref="'+_+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+E+"\n                </button>");u.appendChild(L),r.addManagedListener(L,"click",P)}(_)}),this.getGui().appendChild(u)}},i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.setupOnBtApplyDebounce=function(){var r=i.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Et(this.onBtApply.bind(this),r)},i.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},i.prototype.setModel=function(r){var a=this;return(null!=r?this.setModelIntoUi(r):this.resetUiToDefaults()).then(function(){a.updateUiVisibility(),a.applyModel("api")})},i.prototype.onBtCancel=function(r){var a=this,u=this.getModel(),c=function(){a.onUiChanged(!1,"prevent"),a.providedFilterParams.closeOnApply&&a.close(r)};null!=u?this.setModelIntoUi(u).then(c):this.resetUiToDefaults().then(c)},i.prototype.onBtClear=function(){var r=this;this.resetUiToDefaults().then(function(){return r.onUiChanged()})},i.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},i.prototype.applyModel=function(r){var a=this.getModelFromUi();if(!this.isModelValid(a))return!1;var u=this.appliedModel;return this.appliedModel=a,!this.areModelsEqual(u,a)},i.prototype.isModelValid=function(r){return!0},i.prototype.onFormSubmit=function(r){r.preventDefault()},i.prototype.onBtApply=function(r,a,u){void 0===r&&(r=!1),void 0===a&&(a=!1),u&&u.preventDefault(),this.applyModel(a?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:r,afterDataChange:a}),this.providedFilterParams.closeOnApply&&this.applyActive&&!r&&!a&&this.close(u)},i.prototype.onNewRowsLoaded=function(){},i.prototype.close=function(r){if(this.hidePopup){var c,u=r&&r.key;("Enter"===u||"Space"===u)&&(c={keyboardEvent:r}),this.hidePopup(c),this.hidePopup=null}},i.prototype.onUiChanged=function(r,a){if(void 0===r&&(r=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var u=this.isModelValid(this.getModelFromUi());Qr(this.getRefElement("applyFilterButton"),!u)}r&&!a||"immediately"===a?this.onBtApply(r):(!this.applyActive&&!a||"debounce"===a)&&this.onBtApplyDebounce()},i.prototype.afterGuiAttached=function(r){null!=r&&(this.hidePopup=r.hidePopup)},i.getDebounceMs=function(r,a){return i.isUseApplyButton(r)?(null!=r.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=r.debounceMs?r.debounceMs:a},i.isUseApplyButton=function(r){return!!r.buttons&&r.buttons.indexOf("apply")>=0},i.prototype.destroy=function(){var r=this.getGui();r&&r.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,p.prototype.destroy.call(this)},i.prototype.translate=function(r){return this.localeService.getLocaleTextFunc()(r,tn[r])},i.prototype.getCellValue=function(r){var a=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:a.api,colDef:a.colDef,column:a.column,columnApi:a.columnApi,context:a.context,data:r.data,getValue:function(M){return r.data[M]},node:r})},Sc([$("rowModel")],i.prototype,"rowModel",void 0),Sc([ce],i.prototype,"postConstruct",null),i}(Ge),Qv=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),fs=function(p){function i(r,a){var u=p.call(this,a)||this;return u.labelSeparator="",u.labelAlignment="left",u.disabled=!1,u.label="",u.config=r||{},u}return Qv(i,p),i.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var r=this.config,a=r.labelSeparator,u=r.label,c=r.labelWidth,_=r.labelAlignment;null!=a&&this.setLabelSeparator(a),null!=u&&this.setLabel(u),null!=c&&this.setLabelWidth(c),this.setLabelAlignment(_||this.labelAlignment),this.refreshLabel()},i.prototype.refreshLabel=function(){kt(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(ft(this.eLabel,!1),Br(this.eLabel,"presentation")):(ft(this.eLabel,!0),Br(this.eLabel,null))},i.prototype.setLabelSeparator=function(r){return this.labelSeparator===r||(this.labelSeparator=r,null!=this.label&&this.refreshLabel()),this},i.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},i.prototype.getLabel=function(){return this.label},i.prototype.setLabel=function(r){return this.label===r||(this.label=r,this.refreshLabel()),this},i.prototype.setLabelAlignment=function(r){var u=this.getGui().classList;return u.toggle("ag-label-align-left","left"===r),u.toggle("ag-label-align-right","right"===r),u.toggle("ag-label-align-top","top"===r),this},i.prototype.setLabelEllipsis=function(r){return this.eLabel.classList.toggle("ag-label-ellipsis",r),this},i.prototype.setLabelWidth=function(r){return null==this.label||Pl(this.eLabel,r),this},i.prototype.setDisabled=function(r){r=!!r;var a=this.getGui();return Qr(a,r),a.classList.toggle("ag-disabled",r),this.disabled=r,this},i.prototype.isDisabled=function(){return!!this.disabled},function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ce],i.prototype,"postConstruct",null),i}(Ge),Df=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Mi=function(p){function i(r,a,u){var c=p.call(this,r,a)||this;return c.className=u,c}return Df(i,p),i.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},i.prototype.onValueChange=function(r){var a=this;return this.addManagedListener(this,i.EVENT_CHANGED,function(){return r(a.getValue())}),this},i.prototype.getWidth=function(){return this.getGui().clientWidth},i.prototype.setWidth=function(r){return Un(this.getGui(),r),this},i.prototype.getPreviousValue=function(){return this.previousValue},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(r,a){return this.value===r||(this.previousValue=this.value,this.value=r,a||this.dispatchEvent({type:i.EVENT_CHANGED})),this},i.EVENT_CHANGED="valueChange",i}(fs),e_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),hs=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Nl=function(p){function i(r,a,u,c){var _=p.call(this,r,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(c?'role="'+c+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',a)||this;return _.pickerIcon=u,_.isPickerDisplayed=!1,_.isDestroyingPicker=!1,_.skipClick=!1,_}return e_(i,p),i.prototype.postConstruct=function(){var r=this;p.prototype.postConstruct.call(this);var a=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",a),of(this.eWrapper,a);var u=function(){r.skipClick?r.skipClick=!1:r.isDisabled()||(r.pickerComponent=r.showPicker())},c=this.getGui();if(this.addManagedListener(c,"mousedown",function(E){!r.skipClick&&r.pickerComponent&&r.pickerComponent.isAlive()&&Vr(r.pickerComponent.getGui())&&c.contains(E.target)&&(r.skipClick=!0)}),this.addManagedListener(c,"keydown",function(E){switch(E.key){case ve.UP:case ve.DOWN:case ve.ENTER:case ve.SPACE:u();case ve.ESCAPE:r.isPickerDisplayed&&E.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",u),this.addManagedListener(this.eLabel,"click",u),this.pickerIcon){var _=Vt(this.pickerIcon,this.gridOptionsService);_&&this.eIcon.appendChild(_)}},i.prototype.refreshLabel=function(){o(this.getLabel())?nf(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),p.prototype.refreshLabel.call(this)},i.prototype.setAriaLabel=function(r){return Zi(this.eWrapper,r),this},i.prototype.setInputWidth=function(r){return Pl(this.eWrapper,r),this},i.prototype.getFocusableElement=function(){return this.eWrapper},hs([be("eLabel")],i.prototype,"eLabel",void 0),hs([be("eWrapper")],i.prototype,"eWrapper",void 0),hs([be("eDisplayField")],i.prototype,"eDisplayField",void 0),hs([be("eIcon")],i.prototype,"eIcon",void 0),i}(Mi),bf=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Oc=function(p){function i(r){void 0===r&&(r="default");var a=p.call(this,'<div class="ag-list ag-'+r+'-list" role="listbox"></div>')||this;return a.cssIdentifier=r,a.options=[],a.itemEls=[],a}return bf(i,p),i.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},i.prototype.handleKeyDown=function(r){var a=r.key;switch(a){case ve.ENTER:if(this.highlightedEl){var u=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(u)}else this.setValue(this.getValue());break;case ve.DOWN:case ve.UP:var c=a===ve.DOWN,_=void 0;if(r.preventDefault(),this.highlightedEl){var P=this.itemEls.indexOf(this.highlightedEl)+(c?1:-1);P=Math.min(Math.max(P,0),this.itemEls.length-1),_=this.itemEls[P]}else _=this.itemEls[c?0:this.itemEls.length-1];this.highlightItem(_)}},i.prototype.addOptions=function(r){var a=this;return r.forEach(function(u){return a.addOption(u)}),this},i.prototype.addOption=function(r){var a=r.value,c=wi(r.text||a);return this.options.push({value:a,text:c}),this.renderOption(a,c),this.updateIndices(),this},i.prototype.updateIndices=function(){var r=this.getGui().querySelectorAll(".ag-list-item");r.forEach(function(a,u){rc(a,u+1),tc(a,r.length)})},i.prototype.renderOption=function(r,a){var u=this,c=document.createElement("div");Br(c,"option"),c.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),c.innerHTML="<span>"+a+"</span>",c.tabIndex=-1,this.itemEls.push(c),this.addManagedListener(c,"mouseover",function(){return u.highlightItem(c)}),this.addManagedListener(c,"mouseleave",function(){return u.clearHighlighted()}),this.addManagedListener(c,"click",function(){return u.setValue(r)}),this.getGui().appendChild(c)},i.prototype.setValue=function(r,a){if(this.value===r)return this.fireItemSelected(),this;if(null==r)return this.reset(),this;var u=this.options.findIndex(function(_){return _.value===r});if(-1!==u){var c=this.options[u];this.value=c.value,this.displayValue=null!=c.text?c.text:c.value,this.highlightItem(this.itemEls[u]),a||this.fireChangeEvent()}return this},i.prototype.setValueByIndex=function(r){return this.setValue(this.options[r].value)},i.prototype.getValue=function(){return this.value},i.prototype.getDisplayValue=function(){return this.displayValue},i.prototype.refreshHighlighted=function(){var r=this;this.clearHighlighted();var a=this.options.findIndex(function(u){return u.value===r.value});-1!==a&&this.highlightItem(this.itemEls[a])},i.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},i.prototype.highlightItem=function(r){r.offsetParent&&(this.clearHighlighted(),this.highlightedEl=r,this.highlightedEl.classList.add(i.ACTIVE_CLASS),Di(this.highlightedEl,!0),this.highlightedEl.focus())},i.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(i.ACTIVE_CLASS),Di(this.highlightedEl,!1),this.highlightedEl=null)},i.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Mi.EVENT_CHANGED}),this.fireItemSelected()},i.prototype.fireItemSelected=function(){this.dispatchEvent({type:i.EVENT_ITEM_SELECTED})},i.EVENT_ITEM_SELECTED="selectedItem",i.ACTIVE_CLASS="ag-active-item",function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ce],i.prototype,"init",null),i}(Ge),Rf=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Gl=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Dc=function(p){function i(r){return p.call(this,r,"ag-select","smallDown","listbox")||this}return Rf(i,p),i.prototype.init=function(){var r=this;this.listComponent=this.createBean(new Oc("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Oc.EVENT_ITEM_SELECTED,function(){r.hideList&&r.hideList()}),this.listComponent.addManagedListener(this.listComponent,Mi.EVENT_CHANGED,function(){r.setValue(r.listComponent.getValue(),!1,!0),r.hideList&&r.hideList()})},i.prototype.showPicker=function(){var r=this,a=this.listComponent.getGui(),u=this.gridOptionsService.getDocument(),c=this.addManagedListener(u.body,"wheel",function(M){!a.contains(M.target)&&r.hideList&&r.hideList()}),_=this.addManagedListener(a,"focusout",function(M){!a.contains(M.relatedTarget)&&r.hideList&&r.hideList()}),E=this.localeService.getLocaleTextFunc(),P=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(){r.hideList=null,r.isPickerDisplayed=!1,_(),c(),r.isAlive()&&(fn(r.eWrapper,!1),r.getFocusableElement().focus())},ariaLabel:E("ariaLabelSelectField","Select Field")});return P&&(this.hideList=P.hideFunc),this.isPickerDisplayed=!0,Pl(a,ls(this.eWrapper)),fn(this.eWrapper,!0),a.style.maxHeight=Lt(this.popupService.getPopupParent())+"px",a.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:a,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},i.prototype.addOptions=function(r){var a=this;return r.forEach(function(u){return a.addOption(u)}),this},i.prototype.addOption=function(r){return this.listComponent.addOption(r),this},i.prototype.setValue=function(r,a,u){return this.value===r?this:(u||this.listComponent.setValue(r,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),p.prototype.setValue.call(this,r,a)))},i.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),p.prototype.destroy.call(this)},Gl([$("popupService")],i.prototype,"popupService",void 0),Gl([ce],i.prototype,"init",null),i}(Nl),t_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ir=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},rn=function(p){function i(r,a,u,c){void 0===u&&(u="text"),void 0===c&&(c="input");var _=p.call(this,r,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+c+' ref="eInput" class="ag-input-field-input"></'+c+">\n                </div>\n            </div>",a)||this;return _.inputType=u,_.displayFieldTag=c,_}return t_(i,p),i.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var r=this.config,a=r.width,u=r.value;null!=a&&this.setWidth(a),null!=u&&this.setValue(u),this.addInputListeners()},i.prototype.refreshLabel=function(){o(this.getLabel())?nf(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),p.prototype.refreshLabel.call(this)},i.prototype.addInputListeners=function(){var r=this;this.addManagedListener(this.eInput,"input",function(a){return r.setValue(a.target.value)})},i.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},i.prototype.getInputElement=function(){return this.eInput},i.prototype.setInputWidth=function(r){return Pl(this.eWrapper,r),this},i.prototype.setInputName=function(r){return this.getInputElement().setAttribute("name",r),this},i.prototype.getFocusableElement=function(){return this.eInput},i.prototype.setMaxLength=function(r){return this.eInput.maxLength=r,this},i.prototype.setInputPlaceholder=function(r){return oa(this.eInput,"placeholder",r),this},i.prototype.setInputAriaLabel=function(r){return Zi(this.eInput,r),this},i.prototype.setDisabled=function(r){return Qr(this.eInput,r),p.prototype.setDisabled.call(this,r)},Ir([be("eLabel")],i.prototype,"eLabel",void 0),Ir([be("eWrapper")],i.prototype,"eWrapper",void 0),Ir([be("eInput")],i.prototype,"eInput",void 0),i}(Mi),Jt=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Po=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Lr=(()=>(function(p){p[p.One=0]="One",p[p.Two=1]="Two"}(Lr||(Lr={})),Lr))(),bc=function(){function p(i,r){this.localeService=i,this.optionsFactory=r}return p.prototype.getModelAsString=function(i){if(!i)return null;if(null!=i.operator){var a=i,u=a||{},_=u.condition2,E=this.getModelAsString(u.condition1),P=this.getModelAsString(_);return[E,a.operator,P].join(" ")}if(i.type===Kt.BLANK||i.type===Kt.NOT_BLANK)return this.localeService.getLocaleTextFunc()(i.type,i.type);var L=i,B=this.optionsFactory.getCustomOption(L.type),U=B||{},X=U.displayKey,Q=U.displayName;return X&&Q&&0===U.numberOfInputs?(this.localeService.getLocaleTextFunc()(X,Q),Q):this.conditionToString(L,B)},p}(),Kt=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Jt(i,p),i.prototype.getNumberOfInputs=function(r){var a=this.optionsFactory.getCustomOption(r);return a?a.numberOfInputs??1:r&&[i.EMPTY,i.NOT_BLANK,i.BLANK].indexOf(r)>=0?0:r===i.IN_RANGE?2:1},i.prototype.onFloatingFilterChanged=function(r,a){this.setTypeFromFloatingFilter(r),this.setValueFromFloatingFilter(a),this.onUiChanged(!0)},i.prototype.setTypeFromFloatingFilter=function(r){this.eType1.setValue(r),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},i.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Lr.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Lr.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Lr.One),condition2:this.createCondition(Lr.Two)}:this.createCondition(Lr.One):null},i.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},i.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},i.prototype.areModelsEqual=function(r,a){if(!r&&!a)return!0;if(!r&&a||r&&!a)return!1;var E,u=!r.operator,c=!a.operator;if(!u&&c||u&&!c)return!1;if(u)E=this.areSimpleModelsEqual(r,a);else{var L=r,B=a;E=L.operator===B.operator&&this.areSimpleModelsEqual(L.condition1,B.condition1)&&this.areSimpleModelsEqual(L.condition2,B.condition2)}return E},i.prototype.setModelIntoUi=function(r){if(r.operator){var u=r,c="OR"===u.operator;this.eJoinOperatorAnd.setValue(!c),this.eJoinOperatorOr.setValue(c),this.eType1.setValue(u.condition1.type),this.eType2.setValue(u.condition2.type),this.setConditionIntoUi(u.condition1,Lr.One),this.setConditionIntoUi(u.condition2,Lr.Two)}else{var _=r;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(_.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(_,Lr.One),this.setConditionIntoUi(null,Lr.Two)}return en.resolve()},i.prototype.doesFilterPass=function(r){var a=this,u=this.getModel();if(null==u)return!0;var c=u.operator,_=[];return c?_.push(u.condition1,u.condition2):_.push(u),_[c&&"OR"===c?"some":"every"](function(M){return a.individualConditionPasses(r,M)})},i.prototype.setParams=function(r){p.prototype.setParams.call(this,r),this.optionsFactory=new Ec,this.optionsFactory.init(r,this.getDefaultFilterOptions()),this.allowTwoConditions=!r.suppressAndOrCondition,this.alwaysShowBothConditions=!!r.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(r.defaultJoinOperator),this.filterPlaceholder=r.filterPlaceholder,this.putOptionsIntoDropdown(),this.addChangedListeners()},i.prototype.getDefaultJoinOperator=function(r){return sr(["AND","OR"],r)?r:"AND"},i.prototype.putOptionsIntoDropdown=function(){var r=this,a=this.optionsFactory.getFilterOptions(),u=[this.eType1,this.eType2];a.forEach(function(c){var _="string"==typeof c?r.createBoilerplateListOption(c):r.createCustomListOption(c);u.forEach(function(E){return E.addOption(_)})}),u.forEach(function(c){return c.setDisabled(a.length<=1)})},i.prototype.createBoilerplateListOption=function(r){return{value:r,text:this.translate(r)}},i.prototype.createCustomListOption=function(r){var a=r.displayKey,u=this.optionsFactory.getCustomOption(r.displayKey);return{value:a,text:u?this.localeService.getLocaleTextFunc()(u.displayKey,u.displayName):this.translate(a)}},i.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},i.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Lr.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Lr.Two)},i.prototype.getCssIdentifier=function(){return"simple-filter"},i.prototype.updateUiVisibility=function(){var r=this,u=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(c,_){var E=r.isConditionVisible(_),P=r.isConditionDisabled(_);c.forEach(function(M){M instanceof rn||M instanceof Dc?(M.setDisabled(P),M.setDisplayed(E)):(Qr(M,P),ft(M,E))})}),u.forEach(function(c,_){ft(c,r.isConditionBodyVisible(_))}),this.forEachInput(function(c,_,E,P){r.setElementDisplayed(c,_<P),r.setElementDisabled(c,r.isConditionDisabled(E))}),this.resetPlaceholder()},i.prototype.afterGuiAttached=function(r){if(p.prototype.afterGuiAttached.call(this,r),this.resetPlaceholder(),!r||!r.suppressFocus&&!this.isReadOnly()){var a=this.getInputs()[0][0];if(!a)return;a instanceof rn&&a.getInputElement().focus()}},i.prototype.getPlaceholderText=function(r,a){var u=this.translate(r);if(Ne(this.filterPlaceholder)){var c=this.filterPlaceholder,_=0===a?this.eType1.getValue():this.eType2.getValue();u=c({filterOptionKey:_,filterOption:this.translate(_),placeholder:u})}else"string"==typeof this.filterPlaceholder&&(u=this.filterPlaceholder);return u},i.prototype.resetPlaceholder=function(){var r=this,a=this.localeService.getLocaleTextFunc();this.forEachInput(function(u,c,_,E){if(u instanceof rn){var P=0===c&&E>1?"inRangeStart":0===c?"filterOoo":"inRangeEnd",M=0===c&&E>1?a("ariaFilterFromValue","Filter from value"):0===c?a("ariaFilterValue","Filter Value"):a("ariaFilterToValue","Filter to Value");u.setInputPlaceholder(r.getPlaceholderText(P,_)),u.setInputAriaLabel(M)}})},i.prototype.setElementValue=function(r,a,u){r instanceof rn&&r.setValue(null!=a?String(a):null,u)},i.prototype.setElementDisplayed=function(r,a){r instanceof Ge&&ft(r.getGui(),a)},i.prototype.setElementDisabled=function(r,a){r instanceof Ge&&Qr(r.getGui(),a)},i.prototype.attachElementOnChange=function(r,a){r instanceof rn&&r.onValueChange(a)},i.prototype.forEachInput=function(r){var a=this,u=this.getInputs();this.getConditionTypes().forEach(function(c,_){for(var E=a.getNumberOfInputs(c),P=0;P<u[_].length;P++){var M=u[_][P];null!=M&&r(M,P,_,E)}})},i.prototype.isConditionVisible=function(r){return 0===r||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(r):!!this.alwaysShowBothConditions||this.isConditionUiComplete(r-1))},i.prototype.isConditionDisabled=function(r){return!(!this.isReadOnly()&&this.isConditionVisible(r))||0!==r&&!this.isConditionUiComplete(r-1)},i.prototype.isConditionBodyVisible=function(r){if(!this.isConditionVisible(r))return!1;var a=this.getConditionTypes()[r];return this.getNumberOfInputs(a)>0},i.prototype.isConditionUiComplete=function(r){return!(this.getConditionTypes()[r]===i.EMPTY||this.getValues(r).some(function(u){return null==u}))},i.prototype.resetUiToDefaults=function(r){var a=this,c=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),_="ag-simple-filter-and-or-"+this.getCompId(),E=this.optionsFactory.getDefaultOption();return this.eType1.setValue(E,r).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),r).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),r).setName(_).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),r).setName(_).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(P){a.setElementValue(P,null,r),a.setElementDisabled(P,a.isReadOnly())}),this.resetPlaceholder(),en.resolve()},i.prototype.setConditionIntoUi=function(r,a){var u=this,c=this.mapValuesFromModel(r);this.forEachInput(function(_,E,P,M){P===a&&u.setElementValue(_,null!=c[E]?c[E]:null)})},i.prototype.setValueFromFloatingFilter=function(r){var a=this;this.forEachInput(function(u,c,_,E){a.setElementValue(u,0===c&&0===_?r:null)})},i.prototype.isDefaultOperator=function(r){return r===this.defaultJoinOperator},i.prototype.addChangedListeners=function(){var r=this;if(!this.isReadOnly()){var a=function(){return r.onUiChanged()};this.eType1.onValueChange(a),this.eType2.onValueChange(a),this.eJoinOperatorOr.onValueChange(a),this.eJoinOperatorAnd.onValueChange(a),this.forEachInput(function(u){r.attachElementOnChange(u,a)})}},i.prototype.individualConditionPasses=function(r,a){var u=this.getCellValue(r.node),c=this.mapValuesFromModel(a),_=this.optionsFactory.getCustomOption(a.type);return this.evaluateCustomFilter(_,c,u)??(null==u?this.evaluateNullValue(a.type):this.evaluateNonNullValue(c,u,a,r))},i.prototype.evaluateCustomFilter=function(r,a,u){if(null!=r){var c=r.predicate;if(null!=c&&!a.some(function(_){return null==_}))return c(a,u)}},i.prototype.isBlank=function(r){return null==r||"string"==typeof r&&0===r.trim().length},i.EMPTY="empty",i.BLANK="blank",i.NOT_BLANK="notBlank",i.EQUALS="equals",i.NOT_EQUAL="notEqual",i.LESS_THAN="lessThan",i.LESS_THAN_OR_EQUAL="lessThanOrEqual",i.GREATER_THAN="greaterThan",i.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",i.IN_RANGE="inRange",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.STARTS_WITH="startsWith",i.ENDS_WITH="endsWith",Po([be("eOptions1")],i.prototype,"eType1",void 0),Po([be("eOptions2")],i.prototype,"eType2",void 0),Po([be("eJoinOperatorPanel")],i.prototype,"eJoinOperatorPanel",void 0),Po([be("eJoinOperatorAnd")],i.prototype,"eJoinOperatorAnd",void 0),Po([be("eJoinOperatorOr")],i.prototype,"eJoinOperatorOr",void 0),Po([be("eCondition1Body")],i.prototype,"eCondition1Body",void 0),Po([be("eCondition2Body")],i.prototype,"eCondition2Body",void 0),i}(ps),r_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Dr=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return r_(i,p),i.prototype.setParams=function(r){p.prototype.setParams.call(this,r),this.scalarFilterParams=r},i.prototype.evaluateNullValue=function(r){switch(r){case i.EQUALS:case i.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case i.GREATER_THAN:case i.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case i.LESS_THAN:case i.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case i.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case i.BLANK:return!0;case i.NOT_BLANK:return!1}return!1},i.prototype.evaluateNonNullValue=function(r,a,u){var c=this.comparator(),_=null!=r[0]?c(r[0],a):0;switch(u.type){case i.EQUALS:return 0===_;case i.NOT_EQUAL:return 0!==_;case i.GREATER_THAN:return _>0;case i.GREATER_THAN_OR_EQUAL:return _>=0;case i.LESS_THAN:return _<0;case i.LESS_THAN_OR_EQUAL:return _<=0;case i.IN_RANGE:var E=c(r[1],a);return this.scalarFilterParams.inRangeInclusive?_>=0&&E<=0:_>0&&E<0;case i.BLANK:return this.isBlank(a);case i.NOT_BLANK:return!this.isBlank(a);default:return console.warn('AG Grid: Unexpected type of filter "'+u.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},i}(Kt),gs=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),aa=function(){return aa=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},aa.apply(this,arguments)},so=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Bl=1e3,Pc=1/0,Tf=function(p){function i(r,a,u){var c=p.call(this,a,u)||this;return c.dateFilterParams=r,c}return gs(i,p),i.prototype.conditionToString=function(r,a){var u=r.type,_=u==Kt.IN_RANGE||2===(a||{}).numberOfInputs,E=Gt(r.dateFrom),P=Gt(r.dateTo),M=this.dateFilterParams.inRangeFloatingFilterDateFormat;return _?(null!==E?Pi(E,M):"null")+"-"+(null!==P?Pi(P,M):"null"):null!=E?Pi(E,M):""+u},i}(bc),Ro=function(p){function i(){var r=p.call(this,"dateFilter")||this;return r.minValidYear=Bl,r.maxValidYear=Pc,r}return gs(i,p),i.prototype.afterGuiAttached=function(r){p.prototype.afterGuiAttached.call(this,r),this.dateCondition1FromComp.afterGuiAttached(r)},i.prototype.mapValuesFromModel=function(r){var a=r||{},u=a.dateFrom,c=a.dateTo,_=a.type;return[u&&Gt(u)||null,c&&Gt(c)||null].slice(0,this.getNumberOfInputs(_))},i.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},i.prototype.defaultComparator=function(r,a){return null==a||a<r?-1:a>r?1:0},i.prototype.setParams=function(r){p.prototype.setParams.call(this,r),this.dateFilterParams=r;var a=function(u,c){if(null!=r[u]){if(!isNaN(r[u]))return null==r[u]?c:Number(r[u]);console.warn("AG Grid: DateFilter "+u+" is not a number")}return c};this.minValidYear=a("minValidYear",Bl),this.maxValidYear=a("maxValidYear",Pc),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents(),this.filterModelFormatter=new Tf(this.dateFilterParams,this.localeService,this.optionsFactory)},i.prototype.createDateComponents=function(){var r=this,a=function(u){return new wf(r.getContext(),r.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:r.dateFilterParams},u)};this.dateCondition1FromComp=a(this.eCondition1PanelFrom),this.dateCondition1ToComp=a(this.eCondition1PanelTo),this.dateCondition2FromComp=a(this.eCondition2PanelFrom),this.dateCondition2ToComp=a(this.eCondition2PanelTo),this.addDestroyFunc(function(){r.forEachInput(function(u){return u.destroy()})})},i.prototype.setElementValue=function(r,a,u){r.setDate(a)},i.prototype.setElementDisplayed=function(r,a){r.setDisplayed(a)},i.prototype.setElementDisabled=function(r,a){r.setDisabled(a)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(r){var a=r===Lr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+a+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+a+'PanelTo"></div>\n            </div>'},i.prototype.isConditionUiComplete=function(r){var a=this;if(!p.prototype.isConditionUiComplete.call(this,r))return!1;var c=!0;return this.forEachInput(function(_,E,P,M){P!==r||!c||E>=M||(c=c&&function(_){return null!=_&&_.getUTCFullYear()>=a.minValidYear&&_.getUTCFullYear()<=a.maxValidYear}(_.getDate()))}),c},i.prototype.areSimpleModelsEqual=function(r,a){return r.dateFrom===a.dateFrom&&r.dateTo===a.dateTo&&r.type===a.type},i.prototype.getFilterType=function(){return"date"},i.prototype.createCondition=function(r){var a=this.getConditionTypes()[r],u={},c=this.getValues(r);return c.length>0&&(u.dateFrom=Wn(c[0])),c.length>1&&(u.dateTo=Wn(c[1])),aa({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:a},u)},i.prototype.resetPlaceholder=function(){var r=this.localeService.getLocaleTextFunc(),a=this.translate("dateFormatOoo"),u=r("ariaFilterValue","Filter Value");this.forEachInput(function(c){c.setInputPlaceholder(a),c.setInputAriaLabel(u)})},i.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},i.prototype.getValues=function(r){var a=[];return this.forEachInput(function(u,c,_,E){r===_&&c<E&&a.push(u.getDate())}),a},i.prototype.getModelAsString=function(r){var a;return null!==(a=this.filterModelFormatter.getModelAsString(r))&&void 0!==a?a:""},i.DEFAULT_FILTER_OPTIONS=[Dr.EQUALS,Dr.GREATER_THAN,Dr.LESS_THAN,Dr.NOT_EQUAL,Dr.IN_RANGE,Dr.BLANK,Dr.NOT_BLANK],so([be("eCondition1PanelFrom")],i.prototype,"eCondition1PanelFrom",void 0),so([be("eCondition1PanelTo")],i.prototype,"eCondition1PanelTo",void 0),so([be("eCondition2PanelFrom")],i.prototype,"eCondition2PanelFrom",void 0),so([be("eCondition2PanelTo")],i.prototype,"eCondition2PanelTo",void 0),so([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),i}(Dr),vs=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Mf=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return vs(i,p),i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.isEventFromFloatingFilter=function(r){return r&&r.afterFloatingFilter},i.prototype.isEventFromDataChange=function(r){return r?.afterDataChange},i.prototype.getLastType=function(){return this.lastType},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setLastTypeFromModel=function(r){r?this.lastType=(r.operator?r.condition1:r).type:this.lastType=this.optionsFactory.getDefaultOption()},i.prototype.canWeEditAfterModelFromParentFilter=function(r){return r?!r.operator&&this.isTypeEditable(r.type):this.isTypeEditable(this.lastType)},i.prototype.init=function(r){this.optionsFactory=new Ec,this.optionsFactory.init(r.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!r.filterParams.readOnly;var a=this.isTypeEditable(this.lastType);this.setEditable(a)},i.prototype.doesFilterHaveSingleInput=function(r){var u=(this.optionsFactory.getCustomOption(r)||{}).numberOfInputs;return null==u||1==u},i.prototype.isTypeEditable=function(r){var a=[Kt.IN_RANGE,Kt.EMPTY,Kt.BLANK,Kt.NOT_BLANK];return!!r&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(r)&&a.indexOf(r)<0},i}(Ge),FE=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_s=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},NE=function(p){function i(){return p.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return FE(i,p),i.prototype.getDefaultFilterOptions=function(){return Ro.DEFAULT_FILTER_OPTIONS},i.prototype.init=function(r){p.prototype.init.call(this,r),this.params=r,this.filterParams=r.filterParams,this.createDateComponent();var a=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(a("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new Tf(this.filterParams,this.localeService,this.optionsFactory)},i.prototype.setEditable=function(r){ft(this.eDateWrapper,r),ft(this.eReadOnlyText.getGui(),!r)},i.prototype.onParentModelChanged=function(r,a){if(!this.isEventFromFloatingFilter(a)&&!this.isEventFromDataChange(a)){p.prototype.setLastTypeFromModel.call(this,r);var u=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(r);this.setEditable(u),u?(this.dateComp.setDate(r?Gt(r.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(r)),this.dateComp.setDate(null))}},i.prototype.onDateChanged=function(){var r=this,u=Wn(this.dateComp.getDate());this.params.parentFilterInstance(function(c){if(c){var _=Gt(u);c.onFloatingFilterChanged(r.getLastType()||null,_)}})},i.prototype.createDateComponent=function(){var r=this,a=ps.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),u={onDateChanged:Et(this.onDateChanged.bind(this),a),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new wf(this.getContext(),this.userComponentFactory,u,this.eDateWrapper),this.addDestroyFunc(function(){return r.dateComp.destroy()})},i.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},_s([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),_s([be("eReadOnlyText")],i.prototype,"eReadOnlyText",void 0),_s([be("eDateWrapper")],i.prototype,"eDateWrapper",void 0),i}(Mf),n_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),GE=function(p){function i(){return p.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return n_(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.init=function(r){var a=this,u=this.gridOptionsService.getDocument(),c=this.eDateInput.getInputElement(),_=this.shouldUseBrowserDatePicker(r);_&&(c.type="date");var E=_&&hn();this.addManagedListener(c,"mousedown",function(){a.eDateInput.isDisabled()||E||c.focus()}),this.addManagedListener(c,"input",function(B){B.target===u.activeElement&&(a.eDateInput.isDisabled()||r.onDateChanged())});var P=r.filterParams||{},M=P.minValidYear,L=P.maxValidYear;M&&(c.min=M+"-01-01"),L&&(c.max=L+"-12-31")},i.prototype.getDate=function(){return Gt(this.eDateInput.getValue())},i.prototype.setDate=function(r){this.eDateInput.setValue(Wn(r,!1))},i.prototype.setInputPlaceholder=function(r){this.eDateInput.setInputPlaceholder(r)},i.prototype.setDisabled=function(r){this.eDateInput.setDisabled(r)},i.prototype.afterGuiAttached=function(r){(!r||!r.suppressFocus)&&this.eDateInput.getInputElement().focus()},i.prototype.shouldUseBrowserDatePicker=function(r){return r.filterParams&&null!=r.filterParams.browserDatePicker?r.filterParams.browserDatePicker:Oo()||Sl()||hn()&&is()>=14.1},function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([be("eDateInput")],i.prototype,"eDateInput",void 0),i}(Ge),o_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),sa=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Rc=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return o_(i,p),i.prototype.conditionToString=function(r,a){return r.type==Kt.IN_RANGE||2===(a||{}).numberOfInputs?r.filter+"-"+r.filterTo:null!=r.filter?""+r.filter:""+r.type},i}(bc),Tc=function(p){function i(){return p.call(this,"numberFilter")||this}return o_(i,p),i.prototype.mapValuesFromModel=function(r){var a=r||{};return[a.filter??null,a.filterTo??null].slice(0,this.getNumberOfInputs(a.type))},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.comparator=function(){return function(r,a){return r===a?0:r<a?1:-1}},i.prototype.setParams=function(r){this.numberFilterParams=r;var a=this.getAllowedCharPattern();if(a){var u={allowedCharPattern:a};this.resetTemplate({"eValue-index0-1":u,"eValue-index1-1":u,"eValue-index0-2":u,"eValue-index1-2":u})}p.prototype.setParams.call(this,r),this.filterModelFormatter=new Rc(this.localeService,this.optionsFactory)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(r){var a=r===Lr.One?"1":"2",c=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body" role="presentation">\n                <'+c+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+a+'"></'+c+">\n                <"+c+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+a+'"></'+c+">\n            </div>"},i.prototype.getValues=function(r){var a=this,u=[];return this.forEachInput(function(c,_,E,P){r===E&&_<P&&u.push(a.stringToFloat(c.getValue()))}),u},i.prototype.areSimpleModelsEqual=function(r,a){return r.filter===a.filter&&r.filterTo===a.filterTo&&r.type===a.type},i.prototype.getFilterType=function(){return"number"},i.prototype.stringToFloat=function(r){if("number"==typeof r)return r;var a=n(r);return null!=a&&""===a.trim()&&(a=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(a):null==a||"-"===a.trim()?null:parseFloat(a)},i.prototype.createCondition=function(r){var a=this.getConditionTypes()[r],u={filterType:this.getFilterType(),type:a},c=this.getValues(r);return c.length>0&&(u.filter=c[0]),c.length>1&&(u.filterTo=c[1]),u},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Oo()?null:"\\d\\-\\.")},i.prototype.getModelAsString=function(r){var a;return null!==(a=this.filterModelFormatter.getModelAsString(r))&&void 0!==a?a:""},i.DEFAULT_FILTER_OPTIONS=[Dr.EQUALS,Dr.NOT_EQUAL,Dr.LESS_THAN,Dr.LESS_THAN_OR_EQUAL,Dr.GREATER_THAN,Dr.GREATER_THAN_OR_EQUAL,Dr.IN_RANGE,Dr.BLANK,Dr.NOT_BLANK],sa([be("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),sa([be("eValue-index1-1")],i.prototype,"eValueTo1",void 0),sa([be("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),sa([be("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(Dr),la=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ys=function(){return ys=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},ys.apply(this,arguments)},ms=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Cs=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return la(i,p),i.prototype.conditionToString=function(r,a){return r.type==Kt.IN_RANGE||2===(a||{}).numberOfInputs?r.filter+"-"+r.filterTo:null!=r.filter?""+r.filter:""+r.type},i}(bc),kl=function(p){function i(){return p.call(this,"textFilter")||this}return la(i,p),i.trimInput=function(r){var a=r&&r.trim();return""===a?r:a},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.setParams=function(r){p.prototype.setParams.call(this,r),this.textFilterParams=r,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?i.DEFAULT_FORMATTER:i.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Cs(this.localeService,this.optionsFactory)},i.prototype.getTextMatcher=function(){var r=this.textFilterParams.textCustomComparator;return r?(Ye.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(a){return r(a.filterOption,a.value,a.filterText)}):this.textFilterParams.textMatcher||i.DEFAULT_MATCHER},i.prototype.createCondition=function(r){var a=this.getConditionTypes()[r],u={filterType:this.getFilterType(),type:a},c=this.getValues(r);return c.length>0&&(u.filter=c[0]),c.length>1&&(u.filterTo=c[1]),u},i.prototype.getFilterType=function(){return"text"},i.prototype.areSimpleModelsEqual=function(r,a){return r.filter===a.filter&&r.filterTo===a.filterTo&&r.type===a.type},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getValues=function(r){var a=this,u=[];return this.forEachInput(function(c,_,E,P){if(r===E&&_<P){var M=n(c.getValue()),L=(a.textFilterParams.trimInput?i.trimInput(M):M)||null;u.push(L),c.setValue(L,!0)}}),u},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(r){var a=r===Lr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+a+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+a+'"></ag-input-text-field>\n            </div>'},i.prototype.mapValuesFromModel=function(r){var a=r||{};return[a.filter||null,a.filterTo||null].slice(0,this.getNumberOfInputs(a.type))},i.prototype.evaluateNullValue=function(r){return!!r&&[Kt.NOT_EQUAL,Kt.NOT_CONTAINS,Kt.BLANK].indexOf(r)>=0},i.prototype.evaluateNonNullValue=function(r,a,u,c){var _=this,E=r.map(function(fe){return _.formatter(fe)})||[],P=this.formatter(a),M=this.textFilterParams,L=M.api,B=M.colDef,U=M.column,X=M.columnApi,Q=M.context,oe=M.textFormatter;if(u.type===Kt.BLANK)return this.isBlank(a);if(u.type===Kt.NOT_BLANK)return!this.isBlank(a);var le={api:L,colDef:B,column:U,columnApi:X,context:Q,node:c.node,data:c.data,filterOption:u.type,value:P,textFormatter:oe};return E.some(function(fe){return _.matcher(ys(ys({},le),{filterText:fe}))})},i.prototype.getModelAsString=function(r){var a;return null!==(a=this.filterModelFormatter.getModelAsString(r))&&void 0!==a?a:""},i.DEFAULT_FILTER_OPTIONS=[Kt.CONTAINS,Kt.NOT_CONTAINS,Kt.EQUALS,Kt.NOT_EQUAL,Kt.STARTS_WITH,Kt.ENDS_WITH,Kt.BLANK,Kt.NOT_BLANK],i.DEFAULT_FORMATTER=function(r){return r},i.DEFAULT_LOWERCASE_FORMATTER=function(r){return null==r?null:r.toString().toLowerCase()},i.DEFAULT_MATCHER=function(r){var u=r.value,c=r.filterText;if(null==c)return!1;switch(r.filterOption){case i.CONTAINS:return u.indexOf(c)>=0;case i.NOT_CONTAINS:return u.indexOf(c)<0;case i.EQUALS:return u===c;case i.NOT_EQUAL:return u!=c;case i.STARTS_WITH:return 0===u.indexOf(c);case i.ENDS_WITH:var _=u.lastIndexOf(c);return _>=0&&_===u.length-c.length;default:return!1}},ms([be("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),ms([be("eValue-index1-1")],i.prototype,"eValueTo1",void 0),ms([be("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),ms([be("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(Kt),Vl=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Es=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ss=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Vl(i,p),i.prototype.postConstruct=function(){this.resetTemplate()},i.prototype.resetTemplate=function(r){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',r)},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.onParentModelChanged=function(r,a){this.isEventFromFloatingFilter(a)||this.isEventFromDataChange(a)||(this.setLastTypeFromModel(r),this.eFloatingFilterInput.setValue(this.getFilterModelFormatter().getModelAsString(r)),this.setEditable(this.canWeEditAfterModelFromParentFilter(r)))},i.prototype.init=function(r){p.prototype.init.call(this,r),this.params=r,this.applyActive=ps.isUseApplyButton(this.params.filterParams);var a=this.params.filterParams.allowedCharPattern;if(null!=a&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:a}}),!this.isReadOnly()){var u=ps.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),c=Et(this.syncUpWithParentFilter.bind(this),u),_=this.eFloatingFilterInput.getGui();this.addManagedListener(_,"input",c),this.addManagedListener(_,"keypress",c),this.addManagedListener(_,"keydown",c)}var E=r.column.getDefinition();(this.isReadOnly()||E.filterParams&&E.filterParams.filterOptions&&1===E.filterParams.filterOptions.length&&"inRange"===E.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var P=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),M=this.localeService.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(P+" "+M("ariaFilterInput","Filter Input"))},i.prototype.syncUpWithParentFilter=function(r){var a=this;if(!this.applyActive||r.key===ve.ENTER){var c=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(c=kl.trimInput(c),this.eFloatingFilterInput.setValue(c,!0)),this.params.parentFilterInstance(function(_){_&&_.onFloatingFilterChanged(a.getLastType()||null,c||null)})}},i.prototype.setEditable=function(r){this.eFloatingFilterInput.setDisabled(!r)},Es([$("columnModel")],i.prototype,"columnModel",void 0),Es([be("eFloatingFilterInput")],i.prototype,"eFloatingFilterInput",void 0),Es([ce],i.prototype,"postConstruct",null),i}(Mf),BE=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Af=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return BE(i,p),i.prototype.init=function(r){p.prototype.init.call(this,r),this.filterModelFormatter=new Rc(this.localeService,this.optionsFactory)},i.prototype.getDefaultFilterOptions=function(){return Tc.DEFAULT_FILTER_OPTIONS},i.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},i}(Ss),xf=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),a_=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return xf(i,p),i.prototype.init=function(r){p.prototype.init.call(this,r),this.filterModelFormatter=new Cs(this.localeService,this.optionsFactory)},i.prototype.getDefaultFilterOptions=function(){return kl.DEFAULT_FILTER_OPTIONS},i.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},i}(Ss),Zt=function(){function p(i,r){var a=this;void 0===r&&(r=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new zi,this.eElement=i,this.preventMouseClick=r;var u=this.onTouchStart.bind(this),c=this.onTouchMove.bind(this),_=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",u,{passive:!0}),this.eElement.addEventListener("touchmove",c,{passive:!0}),this.eElement.addEventListener("touchend",_,{passive:!1}),this.destroyFuncs.push(function(){a.eElement.removeEventListener("touchstart",u,{passive:!0}),a.eElement.removeEventListener("touchmove",c,{passive:!0}),a.eElement.removeEventListener("touchend",_,{passive:!1})})}return p.prototype.getActiveTouch=function(i){for(var r=0;r<i.length;r++)if(i[r].identifier===this.touchStart.identifier)return i[r];return null},p.prototype.addEventListener=function(i,r){this.eventService.addEventListener(i,r)},p.prototype.removeEventListener=function(i,r){this.eventService.removeEventListener(i,r)},p.prototype.onTouchStart=function(i){var r=this;if(!this.touching){this.touchStart=i.touches[0],this.touching=!0,this.moved=!1;var a=this.touchStart;window.setTimeout(function(){r.touching&&r.touchStart===a&&!r.moved&&(r.moved=!0,r.eventService.dispatchEvent({type:p.EVENT_LONG_TAP,touchStart:r.touchStart,touchEvent:i}))},500)}},p.prototype.onTouchMove=function(i){if(this.touching){var r=this.getActiveTouch(i.touches);r&&!vc(r,this.touchStart,4)&&(this.moved=!0)}},p.prototype.onTouchEnd=function(i){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:p.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&i.cancelable&&i.preventDefault(),this.touching=!1)},p.prototype.checkForDoubleTap=function(){var i=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&i-this.lastTapTime>p.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:p.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=i},p.prototype.destroy=function(){this.destroyFuncs.forEach(function(i){return i()})},p.EVENT_TAP="tap",p.EVENT_DOUBLE_TAP="doubleTap",p.EVENT_LONG_TAP="longTap",p.DOUBLE_TAP_MILLIS=500,p}(),s_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ui=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ws=function(p){function i(r){var a=p.call(this)||this;return r||a.setTemplate(i.TEMPLATE),a}return s_(i,p),i.prototype.attachCustomElements=function(r,a,u,c,_){this.eSortOrder=r,this.eSortAsc=a,this.eSortDesc=u,this.eSortMixed=c,this.eSortNone=_},i.prototype.setupSort=function(r,a){var u=this;void 0===a&&(a=!1),this.column=r,this.suppressOrder=a,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,r),this.addInIcon("sortDescending",this.eSortDesc,r),this.addInIcon("sortUnSort",this.eSortNone,r),this.addManagedListener(this.eventService,J.EVENT_SORT_CHANGED,function(){return u.onSortChanged()}),this.addManagedListener(this.eventService,J.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return u.onSortChanged()}),this.onSortChanged())},i.prototype.addInIcon=function(r,a,u){if(null!=a){var c=Vt(r,this.gridOptionsService,u);c&&a.appendChild(c)}},i.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},i.prototype.updateIcons=function(){var r=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&ft(this.eSortAsc,"asc"===r,{skipAriaHidden:!0}),this.eSortDesc&&ft(this.eSortDesc,"desc"===r,{skipAriaHidden:!0}),this.eSortNone){var c=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon");ft(this.eSortNone,!c&&null==r,{skipAriaHidden:!0})}},i.prototype.setupMultiSortIndicator=function(){var r=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var a=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&a&&(this.addManagedListener(this.eventService,J.EVENT_SORT_CHANGED,function(){return r.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,J.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},i.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var r="mixed"===this.sortController.getDisplaySortForColumn(this.column);ft(this.eSortMixed,r,{skipAriaHidden:!0})}},i.prototype.updateSortOrder=function(){var a,r=this;if(this.eSortOrder){var u=this.sortController.getColumnsWithSortingOrdered(),c=null!==(a=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==a?a:-1,_=u.some(function(P){var M;return null!==(M=r.sortController.getDisplaySortIndexForColumn(P))&&void 0!==M&&M});ft(this.eSortOrder,c>=0&&_,{skipAriaHidden:!0}),c>=0?this.eSortOrder.innerHTML=(c+1).toString():kt(this.eSortOrder)}},i.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',ui([be("eSortOrder")],i.prototype,"eSortOrder",void 0),ui([be("eSortAsc")],i.prototype,"eSortAsc",void 0),ui([be("eSortDesc")],i.prototype,"eSortDesc",void 0),ui([be("eSortMixed")],i.prototype,"eSortMixed",void 0),ui([be("eSortNone")],i.prototype,"eSortNone",void 0),ui([$("columnModel")],i.prototype,"columnModel",void 0),ui([$("sortController")],i.prototype,"sortController",void 0),i}(Ge),If=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),nn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Mc=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.lastMovingChanged=0,r}return If(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.refresh=function(r){return this.params=r,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(r),!0)},i.prototype.workOutTemplate=function(){var r=Tv(this.params.template,i.TEMPLATE);return r&&r.trim?r.trim():r},i.prototype.init=function(r){this.params=r,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(r.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(r)},i.prototype.setDisplayName=function(r){if(this.currentDisplayName!=r.displayName){this.currentDisplayName=r.displayName;var a=wi(this.currentDisplayName);this.eText&&(this.eText.innerHTML=a)}},i.prototype.setupIcons=function(r){this.addInIcon("menu",this.eMenu,r),this.addInIcon("filter",this.eFilter,r)},i.prototype.addInIcon=function(r,a,u){if(null!=a){var c=Vt(r,this.gridOptionsService,u);c&&a.appendChild(c)}},i.prototype.setupTap=function(){var r=this,a=this.gridOptionsService;if(!a.is("suppressTouch")){var u=new Zt(this.getGui(),!0),c=a.is("suppressMenuHide"),_=c&&o(this.eMenu),E=_?new Zt(this.eMenu,!0):u;this.params.enableMenu&&this.addManagedListener(E,Zt[_?"EVENT_TAP":"EVENT_LONG_TAP"],function(B){a.api.showColumnMenuAfterMouseClick(r.params.column,B.touchStart)}),this.params.enableSorting&&this.addManagedListener(u,Zt.EVENT_TAP,function(B){c&&r.eMenu.contains(B.touchStart.target)||r.sortController.progressSort(r.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return u.destroy()}),_&&this.addDestroyFunc(function(){return E.destroy()})}},i.prototype.workOutShowMenu=function(){var r=!this.gridOptionsService.is("suppressMenuHide"),a=Mn()&&r;return this.params.enableMenu&&!a},i.prototype.setMenu=function(){var r=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void hr(this.eMenu);var a=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",function(){return r.showMenu(r.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",a)}},i.prototype.showMenu=function(r){r||(r=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,r,"columnMenu")},i.prototype.workOutSort=function(){return this.params.enableSorting},i.prototype.setupSort=function(){var r=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new ws(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var a="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,Wt.EVENT_MOVING_CHANGED,function(){r.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(c){var _=r.params.column.isMoving(),E=(new Date).getTime();_||E-r.lastMovingChanged<50||r.params.progressSort(a?c.ctrlKey||c.metaKey:c.shiftKey)});var u=function(){if(r.addOrRemoveCssClass("ag-header-cell-sorted-asc",r.params.column.isSortAscending()),r.addOrRemoveCssClass("ag-header-cell-sorted-desc",r.params.column.isSortDescending()),r.addOrRemoveCssClass("ag-header-cell-sorted-none",r.params.column.isSortNone()),r.params.column.getColDef().showRowGroup){var _=r.columnModel.getSourceColumnsForGroupColumn(r.params.column)?.every(function(P){return r.params.column.getSort()==P.getSort()});r.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!_)}};this.addManagedListener(this.eventService,J.EVENT_SORT_CHANGED,u),this.addManagedListener(this.eventService,J.EVENT_COLUMN_ROW_GROUP_CHANGED,u)}},i.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Wt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},i.prototype.onFilterChanged=function(){var r=this.params.column.isFilterActive();ft(this.eFilter,r,{skipAriaHidden:!0})},i.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',nn([$("sortController")],i.prototype,"sortController",void 0),nn([$("menuFactory")],i.prototype,"menuFactory",void 0),nn([$("columnModel")],i.prototype,"columnModel",void 0),nn([be("eFilter")],i.prototype,"eFilter",void 0),nn([be("eSortIndicator")],i.prototype,"eSortIndicator",void 0),nn([be("eMenu")],i.prototype,"eMenu",void 0),nn([be("eLabel")],i.prototype,"eLabel",void 0),nn([be("eText")],i.prototype,"eText",void 0),nn([be("eSortOrder")],i.prototype,"eSortOrder",void 0),nn([be("eSortAsc")],i.prototype,"eSortAsc",void 0),nn([be("eSortDesc")],i.prototype,"eSortDesc",void 0),nn([be("eSortMixed")],i.prototype,"eSortMixed",void 0),nn([be("eSortNone")],i.prototype,"eSortNone",void 0),i}(Ge),l_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Wl=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Lf=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return l_(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.init=function(r){this.params=r,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},i.prototype.checkWarnings=function(){this.params.template&&Ce(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},i.prototype.setupExpandIcons=function(){var r=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var a=function(_){if(!dn(_)){var E=!r.params.columnGroup.isExpanded();r.columnModel.setColumnGroupOpened(r.params.columnGroup.getProvidedColumnGroup(),E,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,a),this.addTouchAndClickListeners(this.eOpenIcon,a);var u=function(_){ea(_)};this.addManagedListener(this.eCloseIcon,"dblclick",u),this.addManagedListener(this.eOpenIcon,"dblclick",u),this.addManagedListener(this.getGui(),"dblclick",a),this.updateIconVisibility();var c=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(c,Qt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(c,Qt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},i.prototype.addTouchAndClickListeners=function(r,a){var u=new Zt(r,!0);this.addManagedListener(u,Zt.EVENT_TAP,a),this.addDestroyFunc(function(){return u.destroy()}),this.addManagedListener(r,"click",a)},i.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var a=this.params.columnGroup.isExpanded();ft(this.eOpenIcon,a),ft(this.eCloseIcon,!a)}else ft(this.eOpenIcon,!1),ft(this.eCloseIcon,!1)},i.prototype.addInIcon=function(r,a){var u=Vt(r,this.gridOptionsService,null);u&&this.getRefElement(a).appendChild(u)},i.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return ft(this.eOpenIcon,!1),void ft(this.eCloseIcon,!1)},i.prototype.setupLabel=function(){var r=this.params.displayName;if(o(r)){var a=wi(r);this.getRefElement("agLabel").innerHTML=a}},i.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Wl([$("columnModel")],i.prototype,"columnModel",void 0),Wl([be("agOpened")],i.prototype,"eOpenIcon",void 0),Wl([be("agClosed")],i.prototype,"eCloseIcon",void 0),i}(Ge),Ff=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),To=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Ff(i,p),i.prototype.isPopup=function(){return!0},i.prototype.setParentComponent=function(r){r.addCssClass("ag-has-popup"),p.prototype.setParentComponent.call(this,r)},i.prototype.destroy=function(){var r=this.parentComponent;r&&r.isAlive()&&r.getGui().classList.remove("ag-has-popup"),p.prototype.destroy.call(this)},i}(Ge),u_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Mo=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return u_(i,p),i.prototype.init=function(r){this.params=r,this.focusAfterAttached=r.cellStartedEdit,this.eTextArea.setMaxLength(r.maxLength||200).setCols(r.cols||60).setRows(r.rows||10),o(r.value,!0)&&this.eTextArea.setValue(r.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},i.prototype.onKeyDown=function(r){var a=r.key;(a===ve.LEFT||a===ve.UP||a===ve.RIGHT||a===ve.DOWN||r.shiftKey&&a===ve.ENTER)&&r.stopPropagation()},i.prototype.afterGuiAttached=function(){var r=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},i.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},i.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([be("eTextArea")],i.prototype,"eTextArea",void 0),i}(To),c_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ac=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Nf=function(p){function i(){var r=p.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return r.startedByEnter=!1,r}return c_(i,p),i.prototype.init=function(r){var a=this;if(this.focusAfterAttached=r.cellStartedEdit,s(r.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=r.eventKey&&r.eventKey===ve.ENTER;var u=!1;r.values.forEach(function(c){var _={value:c},E=a.valueFormatterService.formatValue(r.column,null,c);_.text=null!=E?E:c,a.eSelect.addOption(_),u=u||r.value===c}),u?this.eSelect.setValue(r.value,!0):r.values.length&&this.eSelect.setValue(r.values[0],!0),"fullRow"!==this.gridOptionsService.get("editType")&&this.eSelect.onValueChange(function(){return r.stopEditing()})}},i.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},i.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},i.prototype.getValue=function(){return this.eSelect.getValue()},i.prototype.isPopup=function(){return!1},Ac([$("valueFormatterService")],i.prototype,"valueFormatterService",void 0),Ac([be("eSelect")],i.prototype,"eSelect",void 0),i}(To),ua=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),xc=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return ua(i,p),i.prototype.init=function(r){this.params=r;var u,a=this.eInput;r.cellStartedEdit?(this.focusAfterAttached=!0,r.eventKey===ve.BACKSPACE||r.eventKey===ve.DELETE?u="":r.charPress?u=r.charPress:(u=this.getStartValue(r),r.eventKey!==ve.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,u=this.getStartValue(r)),null!=u&&a.setValue(u,!0),null!=r.maxLength&&a.setMaxLength(r.maxLength),this.addManagedListener(a.getGui(),"keydown",function(c){var _=c.key;(_===ve.PAGE_UP||_===ve.PAGE_DOWN)&&c.preventDefault()})},i.prototype.afterGuiAttached=function(){var r=this.localeService.getLocaleTextFunc(),a=this.eInput;if(a.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached){hn()||a.getFocusableElement().focus();var u=a.getInputElement();if(this.highlightAllOnFocus)u.select();else{var c=a.getValue(),_=o(c)&&c.length||0;_&&u.setSelectionRange(_,_)}}},i.prototype.focusIn=function(){var r=this.eInput,a=r.getFocusableElement(),u=r.getInputElement();a.focus(),u.select()},i.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},i.prototype.getStartValue=function(r){return r.useFormatter||r.column.getColDef().refData?r.formatValue(r.value):r.value},i.prototype.isPopup=function(){return!1},i.TEMPLATE='<div class="ag-cell-edit-wrapper">\n            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>\n        </div>',function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([be("eInput")],i.prototype,"eInput",void 0),i}(To),Ic=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ca=function(p){function i(){var r=p.call(this,i.TEMPLATE)||this;return r.refreshCount=0,r}return Ic(i,p),i.prototype.init=function(r){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(r)},i.prototype.showDelta=function(r,a){var u=Math.abs(a),c=r.formatValue(u),_=o(c)?c:u,E=a>=0;this.eDelta.innerHTML=E?"\u2191"+_:"\u2193"+_,this.eDelta.classList.toggle("ag-value-change-delta-up",E),this.eDelta.classList.toggle("ag-value-change-delta-down",!E)},i.prototype.setTimerToRemoveDelta=function(){var r=this;this.refreshCount++;var a=this.refreshCount;window.setTimeout(function(){a===r.refreshCount&&r.hideDeltaValue()},2e3)},i.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),kt(this.eDelta)},i.prototype.refresh=function(r){var a=r.value;return a!==this.lastValue&&(o(r.valueFormatted)?this.eValue.innerHTML=r.valueFormatted:o(r.value)?this.eValue.innerHTML=a:kt(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof a&&"number"==typeof this.lastValue&&this.showDelta(r,a-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=a,!0)},i.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([$("filterManager")],i.prototype,"filterManager",void 0),i}(Ge),da=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Bf=function(p){function i(){var r=p.call(this,i.TEMPLATE)||this;return r.refreshCount=0,r.eCurrent=r.queryForHtmlElement(".ag-value-slide-current"),r}return da(i,p),i.prototype.init=function(r){this.refresh(r)},i.prototype.addSlideAnimation=function(){var r=this;this.refreshCount++;var a=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=gr('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){a===r.refreshCount&&r.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){a===r.refreshCount&&(r.getGui().removeChild(r.ePrevious),r.ePrevious=null)},3e3)},i.prototype.refresh=function(r){var a=r.value;return s(a)&&(a=""),a!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=a,o(r.valueFormatted)?this.eCurrent.innerHTML=r.valueFormatted:o(r.value)?this.eCurrent.innerHTML=a:kt(this.eCurrent),!0)},i.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([$("filterManager")],i.prototype,"filterManager",void 0),i}(Ge),fa=function(){return fa=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},fa.apply(this,arguments)},ot=function(){function p(i){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=p.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=i}return p.prototype.setData=function(i){this.setDataCommon(i,!1)},p.prototype.updateData=function(i){this.setDataCommon(i,!0)},p.prototype.setDataCommon=function(i,r){var a=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var u=this.createDataChangedEvent(i,a,r);this.dispatchLocalEvent(u)},p.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},p.prototype.createDataChangedEvent=function(i,r,a){return{type:p.EVENT_DATA_CHANGED,node:this,oldData:r,newData:i,update:a}},p.prototype.createLocalRowEvent=function(i){return{type:i,node:this}},p.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},p.prototype.createDaemonNode=function(){var i=new p(this.beans);return i.id=this.id,i.data=this.data,i.__daemon=!0,i.selected=this.selected,i.level=this.level,i},p.prototype.setDataAndId=function(i,r){var a=o(this.id)?this.createDaemonNode():null,u=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(r),this.beans.selectionService.syncInRowNode(this,a),this.checkRowSelectable();var c=this.createDataChangedEvent(i,u,!1);this.dispatchLocalEvent(c)},p.prototype.checkRowSelectable=function(){var i=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!i||i(this))},p.prototype.setRowSelectable=function(i){if(this.selectable!==i&&(this.selectable=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){var a=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:a??!1,source:"selectableChanged"})}},p.prototype.setId=function(i){var r=this.beans.gridOptionsService.getRowIdFunc();if(r)if(this.data){var a=this.getGroupKeys(!0);this.id=r({data:this.data,parentKeys:a.length>0?a:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(p.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+p.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=i},p.prototype.getGroupKeys=function(i){void 0===i&&(i=!1);var r=[],a=this;for(i&&(a=a.parent);a&&a.level>=0;)r.push(a.key),a=a.parent;return r.reverse(),r},p.prototype.isPixelInRange=function(i){return!(!o(this.rowTop)||!o(this.rowHeight))&&i>=this.rowTop&&i<this.rowTop+this.rowHeight},p.prototype.setFirstChild=function(i){this.firstChild!==i&&(this.firstChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_FIRST_CHILD_CHANGED)))},p.prototype.setLastChild=function(i){this.lastChild!==i&&(this.lastChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_LAST_CHILD_CHANGED)))},p.prototype.setChildIndex=function(i){this.childIndex!==i&&(this.childIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_CHILD_INDEX_CHANGED)))},p.prototype.setRowTop=function(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_TOP_CHANGED)),this.setDisplayed(null!==i))},p.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},p.prototype.setDisplayed=function(i){this.displayed!==i&&(this.displayed=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_DISPLAYED_CHANGED)))},p.prototype.setDragging=function(i){this.dragging!==i&&(this.dragging=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_DRAGGING_CHANGED)))},p.prototype.setHighlighted=function(i){i!==this.highlighted&&(this.highlighted=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_HIGHLIGHT_CHANGED)))},p.prototype.setAllChildrenCount=function(i){this.allChildrenCount!==i&&(this.allChildrenCount=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},p.prototype.setMaster=function(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_MASTER_CHANGED)))},p.prototype.setGroup=function(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_GROUP_CHANGED)))},p.prototype.setRowHeight=function(i,r){void 0===r&&(r=!1),this.rowHeight=i,this.rowHeightEstimated=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_HEIGHT_CHANGED))},p.prototype.setRowAutoHeight=function(i,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=i,null!=i&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Et(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},p.prototype.checkAutoHeights=function(){var i=!1,r=!0,a=0,u=this.__autoHeights;if(null!=u&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(E){var P=u[E.getId()];null!=P?(r=!1,P>a&&(a=P)):i=!0}),!i&&((r||a<10)&&(a=this.beans.gridOptionsService.getRowHeightForNode(this).height),a!=this.rowHeight))){this.setRowHeight(a);var _=this.beans.rowModel;_.onRowHeightChangedDebounced&&_.onRowHeightChangedDebounced()}},p.prototype.setRowIndex=function(i){this.rowIndex!==i&&(this.rowIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_ROW_INDEX_CHANGED)))},p.prototype.setUiLevel=function(i){this.uiLevel!==i&&(this.uiLevel=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_UI_LEVEL_CHANGED)))},p.prototype.setExpanded=function(i,r){if(this.expanded!==i){this.expanded=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_EXPANDED_CHANGED));var a=Object.assign({},this.createGlobalRowEvent(J.EVENT_ROW_GROUP_OPENED),{expanded:i,event:r||null});this.beans.rowNodeEventThrottle.dispatchExpanded(a),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},p.prototype.createGlobalRowEvent=function(i){return{type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},p.prototype.dispatchLocalEvent=function(i){this.eventService&&this.eventService.dispatchEvent(i)},p.prototype.setDataValue=function(i,r,a){var u=this.beans.columnModel.getPrimaryColumn(i),c=this.beans.valueService.getValue(u,this);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(u,c,r,a),!1;var _=this.beans.valueService.setValue(this,u,r,a);return this.dispatchCellChangedEvent(u,r,c),this.checkRowSelectable(),_},p.prototype.dispatchEventForSaveValueReadOnly=function(i,r,a,u){var c={type:J.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:i,colDef:i.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:r,newValue:a,value:a,source:u};this.beans.eventService.dispatchEvent(c)},p.prototype.setGroupValue=function(i,r){var a=this.beans.columnModel.getGridColumn(i);s(this.groupData)&&(this.groupData={});var u=a.getColId(),c=this.groupData[u];c!==r&&(this.groupData[u]=r,this.dispatchCellChangedEvent(a,r,c))},p.prototype.setAggData=function(i){var r=this,a=Z([this.aggData,i]),u=this.aggData;this.aggData=i,this.eventService&&a.forEach(function(c){var _=r.beans.columnModel.getGridColumn(c);r.dispatchCellChangedEvent(_,r.aggData?r.aggData[c]:void 0,u?u[c]:void 0)})},p.prototype.updateHasChildren=function(){var i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var a=this.beans.gridOptionsService.isTreeData(),u=this.beans.gridOptionsService.get("isServerSideGroup");i=!this.stub&&!this.footer&&(a?!!u&&u(this.data):!!this.group)}i!==this.__hasChildren&&(this.__hasChildren=!!i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_HAS_CHILDREN_CHANGED)))},p.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},p.prototype.isEmptyRowGroupNode=function(){return this.group&&d(this.childrenAfterGroup)},p.prototype.dispatchCellChangedEvent=function(i,r,a){this.dispatchLocalEvent({type:p.EVENT_CELL_CHANGED,node:this,column:i,newValue:r,oldValue:a})},p.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},p.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},p.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},p.prototype.depthFirstSearch=function(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(r){return r.depthFirstSearch(i)}),i(this)},p.prototype.calculateSelectedFromChildren=function(){var i,r=!1,a=!1,u=!1;if(null===(i=this.childrenAfterGroup)||void 0===i||!i.length)return this.selectable?this.selected:null;for(var c=0;c<this.childrenAfterGroup.length;c++){var _=this.childrenAfterGroup[c],E=_.isSelected();if(!_.selectable){var P=_.calculateSelectedFromChildren();if(null===P)continue;E=P}switch(E){case!0:r=!0;break;case!1:a=!0;break;default:u=!0}}return u||r&&a?void 0:!!r||!a&&(this.selectable?this.selected:null)},p.prototype.setSelectedInitialValue=function(i){this.selected=i},p.prototype.setSelected=function(i,r,a,u){void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===u&&(u="api"),this.setSelectedParams({newValue:i,clearSelection:r,suppressFinishActions:a,rangeSelect:!1,source:u})},p.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},p.prototype.setSelectedParams=function(i){var r,a,u=this.beans.gridOptionsService.is("groupSelectsChildren"),c=!0===i.newValue,_=!0===i.clearSelection,E=!0===i.suppressFinishActions,P=!0===i.rangeSelect,M=u&&!0===i.groupSelectsFiltered,L=null!==(r=i.source)&&void 0!==r?r:"api";if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(i);if(P&&this.beans.selectionService.getLastSelectedNode()){var B=this.beans.selectionService.getLastSelectedNode()!==this,U="multiple"===this.beans.gridOptionsService.get("rowSelection");if(B&&U){var X=this.doRowRangeSelection(i.newValue,L);return this.beans.selectionService.setLastSelectedNode(this),X}}var Q=0;return M&&this.group||this.selectThisNode(c,i.event,L)&&Q++,u&&!(null===(a=this.childrenAfterGroup)||void 0===a)&&a.length&&(Q+=this.selectChildNodes(c,M,L)),E||(c&&(_||"multiple"!==this.beans.gridOptionsService.get("rowSelection"))&&(Q+=this.beans.selectionService.clearOtherNodes(this,L)),Q>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(L),this.beans.eventService.dispatchEvent({type:J.EVENT_SELECTION_CHANGED,source:L})),c&&this.beans.selectionService.setLastSelectedNode(this)),Q},p.prototype.doRowRangeSelection=function(i,r){var a=this;void 0===i&&(i=!0);var u=this.beans.gridOptionsService.is("groupSelectsChildren"),c=this.beans.selectionService.getLastSelectedNode(),_=this.beans.rowModel.getNodesInRangeForSelection(this,c),E=0;return _.forEach(function(M){M.group&&u||!1===i&&a===M||M.selectThisNode(i,void 0,r)&&E++}),this.beans.selectionService.updateGroupsFromChildrenSelections(r),this.beans.eventService.dispatchEvent({type:J.EVENT_SELECTION_CHANGED,source:r}),E},p.prototype.isParentOfNode=function(i){for(var r=this.parent;r;){if(r===i)return!0;r=r.parent}return!1},p.prototype.selectThisNode=function(i,r,a){if(void 0===a&&(a="api"),!this.selectable&&i||this.selected===i)return!1;this.selected=i,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(p.EVENT_ROW_SELECTED));var _=fa(fa({},this.createGlobalRowEvent(J.EVENT_ROW_SELECTED)),{event:r||null,source:a});return this.beans.eventService.dispatchEvent(_),!0},p.prototype.selectChildNodes=function(i,r,a){var u=r?this.childrenAfterAggFilter:this.childrenAfterGroup;if(s(u))return 0;for(var c=0,_=0;_<u.length;_++)c+=u[_].setSelectedParams({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:a});return c},p.prototype.addEventListener=function(i,r){this.eventService||(this.eventService=new zi),this.eventService.addEventListener(i,r)},p.prototype.removeEventListener=function(i,r){this.eventService&&(this.eventService.removeEventListener(i,r),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},p.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(p.EVENT_MOUSE_ENTER))},p.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(p.EVENT_MOUSE_LEAVE))},p.prototype.getFirstChildOfFirstChild=function(i){for(var r=this,a=!0,u=!1,c=null;a&&!u;){var _=r.parent;o(_)&&r.firstChild?_.rowGroupColumn===i&&(u=!0,c=_):a=!1,r=_}return u?c:null},p.prototype.isFullWidthCell=function(){var i=this.getIsFullWidthCellFunc();return!!i&&i({rowNode:this})},p.prototype.getIsFullWidthCellFunc=function(){var i=this.beans.gridOptionsService.getCallback("isFullWidthRow");if(i)return i;var r=this.beans.gridOptionsService.get("isFullWidthCell");return r?function(a){return r(a.rowNode)}:void 0},p.prototype.getRoute=function(){if(null!=this.key){for(var i=[],r=this;null!=r.key;)i.push(r.key),r=r.parent;return i.reverse()}},p.prototype.createFooter=function(){var i=this;if(!this.sibling){var r=new p(this.beans);Object.keys(this).forEach(function(a){r[a]=i[a]}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,r.id="rowGroupFooter_"+this.id,r.sibling=this,this.sibling=r}},p.ID_PREFIX_ROW_GROUP="row-group-",p.ID_PREFIX_TOP_PINNED="t-",p.ID_PREFIX_BOTTOM_PINNED="b-",p.OBJECT_ID_SEQUENCE=0,p.EVENT_ROW_SELECTED="rowSelected",p.EVENT_DATA_CHANGED="dataChanged",p.EVENT_CELL_CHANGED="cellChanged",p.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",p.EVENT_MASTER_CHANGED="masterChanged",p.EVENT_GROUP_CHANGED="groupChanged",p.EVENT_MOUSE_ENTER="mouseEnter",p.EVENT_MOUSE_LEAVE="mouseLeave",p.EVENT_HEIGHT_CHANGED="heightChanged",p.EVENT_TOP_CHANGED="topChanged",p.EVENT_DISPLAYED_CHANGED="displayedChanged",p.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",p.EVENT_LAST_CHILD_CHANGED="lastChildChanged",p.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",p.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",p.EVENT_EXPANDED_CHANGED="expandedChanged",p.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",p.EVENT_SELECTABLE_CHANGED="selectableChanged",p.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",p.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",p.EVENT_DRAGGING_CHANGED="draggingChanged",p}(),kE=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ul=function(){return Ul=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Ul.apply(this,arguments)},at=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},f_=function(p){function i(){return p.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return kE(i,p),i.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},i.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},i.prototype.onDataChanged=function(){this.onSelectionChanged()},i.prototype.onSelectableChanged=function(){this.showOrHideSelect()},i.prototype.onSelectionChanged=function(){var r=this.localeService.getLocaleTextFunc(),a=this.rowNode.isSelected(),u=void 0===a?r("ariaIndeterminate","indeterminate"):!0===a?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),c=r("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(a,!0),this.eCheckbox.setInputAriaLabel(c+" ("+u+")")},i.prototype.onCheckedClicked=function(r){var a=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:a,event:r,source:"checkboxSelected"})},i.prototype.onUncheckedClicked=function(r){var a=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:r.shiftKey,groupSelectsFiltered:a,event:r,source:"checkboxSelected"})},i.prototype.init=function(r){var a=this;if(this.rowNode=r.rowNode,this.column=r.column,this.overrides=r.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(E){ea(E)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(E){ea(E);var P=a.eCheckbox.getValue();void 0===a.eCheckbox.getPreviousValue()||void 0===P?0===a.onUncheckedClicked(E||{})&&a.onCheckedClicked(E):P?a.onCheckedClicked(E):a.onUncheckedClicked(E||{})}),this.addManagedListener(this.rowNode,ot.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var _=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,_),this.addManagedListener(this.rowNode,ot.EVENT_DATA_CHANGED,_),this.addManagedListener(this.rowNode,ot.EVENT_CELL_CHANGED,_),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},i.prototype.showOrHideSelect=function(){var r,a,u,c,_=this.rowNode.selectable,E=this.getIsVisible();if(_)if("function"==typeof E){var P=null===(r=this.overrides)||void 0===r?void 0:r.callbackParams,M=null===(a=this.column)||void 0===a?void 0:a.createColumnFunctionCallbackParams(this.rowNode);_=!!M&&E(Ul(Ul({},P),M))}else _=E??!1;if(null===(u=this.column)||void 0===u?void 0:u.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!_),this.setVisible(!0),void this.setDisplayed(!0);null!==(c=this.overrides)&&void 0!==c&&c.removeHidden?this.setDisplayed(_):this.setVisible(_)},i.prototype.getIsVisible=function(){var r,a;return this.overrides?this.overrides.isVisible:null===(a=null===(r=this.column)||void 0===r?void 0:r.getColDef())||void 0===a?void 0:a.checkboxSelection},at([be("eCheckbox")],i.prototype,"eCheckbox",void 0),at([ce],i.prototype,"postConstruct",null),i}(Ge),VE=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ha=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Fc=function(p){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&p[i],a=0;if(r)return r.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Wr=(()=>(function(p){p[p.ToolPanel=0]="ToolPanel",p[p.HeaderCell=1]="HeaderCell",p[p.RowDrag=2]="RowDrag",p[p.ChartPanel=3]="ChartPanel"}(Wr||(Wr={})),Wr))(),ga=(()=>(function(p){p[p.Up=0]="Up",p[p.Down=1]="Down"}(ga||(ga={})),ga))(),ci=(()=>(function(p){p[p.Left=0]="Left",p[p.Right=1]="Right"}(ci||(ci={})),ci))(),rr=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.dragSourceAndParamsList=[],a.dropTargets=[],a}var r;return VE(i,p),r=i,i.prototype.init=function(){this.ePinnedIcon=$n("columnMovePin",this.gridOptionsService,null),this.eHideIcon=$n("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=$n("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=$n("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=$n("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=$n("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=$n("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=$n("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=$n("dropNotAllowed",this.gridOptionsService,null)},i.prototype.addDragSource=function(a,u){void 0===u&&(u=!1);var c={eElement:a.eElement,dragStartPixels:a.dragStartPixels,onDragStart:this.onDragStart.bind(this,a),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:c,dragSource:a}),this.dragService.addDragSource(c,u)},i.prototype.removeDragSource=function(a){var u=this.dragSourceAndParamsList.find(function(c){return c.dragSource===a});u&&(this.dragService.removeDragSource(u.params),Gr(this.dragSourceAndParamsList,u))},i.prototype.clearDragSourceParamsList=function(){var a=this;this.dragSourceAndParamsList.forEach(function(u){return a.dragService.removeDragSource(u.params)}),this.dragSourceAndParamsList.length=0},i.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},i.prototype.onDragStart=function(a,u){this.dragging=!0,this.dragSource=a,this.eventLastTime=u,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},i.prototype.onDragStop=function(a){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var u=this.createDropTargetEvent(this.lastDropTarget,a,null,null,!1);this.lastDropTarget.onDragStop(u)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},i.prototype.onDragging=function(a,u){var _,E,P,M,c=this,L=this.getHorizontalDirection(a),B=this.getVerticalDirection(a);this.eventLastTime=a,this.positionGhost(a);var U=this.dropTargets.filter(function(oe){return c.isMouseOnDropTarget(a,oe)}),X=this.findCurrentDropTarget(a,U);if(X!==this.lastDropTarget)this.leaveLastTargetIfExists(a,L,B,u),null!==this.lastDropTarget&&null===X&&(null===(E=(_=this.dragSource).onGridExit)||void 0===E||E.call(_,this.dragItem)),null===this.lastDropTarget&&null!==X&&(null===(M=(P=this.dragSource).onGridEnter)||void 0===M||M.call(P,this.dragItem)),this.enterDragTargetIfExists(X,a,L,B,u),this.lastDropTarget=X;else if(X&&X.onDragging){var Q=this.createDropTargetEvent(X,a,L,B,u);X.onDragging(Q)}},i.prototype.getAllContainersFromDropTarget=function(a){var u=a.getSecondaryContainers?a.getSecondaryContainers():null,c=[[a.getContainer()]];return u?c.concat(u):c},i.prototype.allContainersIntersect=function(a,u){var c,_;try{for(var E=Fc(u),P=E.next();!P.done;P=E.next()){var L=P.value.getBoundingClientRect();if(0===L.width||0===L.height)return!1;if(!(a.clientX>=L.left&&a.clientX<L.right&&a.clientY>=L.top&&a.clientY<L.bottom))return!1}}catch(X){c={error:X}}finally{try{P&&!P.done&&(_=E.return)&&_.call(E)}finally{if(c)throw c.error}}return!0},i.prototype.isMouseOnDropTarget=function(a,u){var c,_,E=this.getAllContainersFromDropTarget(u),P=!1;try{for(var M=Fc(E),L=M.next();!L.done;L=M.next())if(this.allContainersIntersect(a,L.value)){P=!0;break}}catch(U){c={error:U}}finally{try{L&&!L.done&&(_=M.return)&&_.call(M)}finally{if(c)throw c.error}}return!(u.targetContainsSource&&!u.getContainer().contains(this.dragSource.eElement))&&P&&u.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},i.prototype.findCurrentDropTarget=function(a,u){var c,_,E,P,M=u.length;if(0===M)return null;if(1===M)return u[0];var B=this.gridOptionsService.getRootNode().elementsFromPoint(a.clientX,a.clientY);try{for(var U=Fc(B),X=U.next();!X.done;X=U.next()){var Q=X.value;try{for(var oe=(E=void 0,Fc(u)),le=oe.next();!le.done;le=oe.next()){var fe=le.value;if(-1!==Hp(this.getAllContainersFromDropTarget(fe)).indexOf(Q))return fe}}catch(Oe){E={error:Oe}}finally{try{le&&!le.done&&(P=oe.return)&&P.call(oe)}finally{if(E)throw E.error}}}}catch(Oe){c={error:Oe}}finally{try{X&&!X.done&&(_=U.return)&&_.call(U)}finally{if(c)throw c.error}}return null},i.prototype.enterDragTargetIfExists=function(a,u,c,_,E){if(a){if(a.onDragEnter){var P=this.createDropTargetEvent(a,u,c,_,E);a.onDragEnter(P)}this.setGhostIcon(a.getIconName?a.getIconName():null)}},i.prototype.leaveLastTargetIfExists=function(a,u,c,_){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var E=this.createDropTargetEvent(this.lastDropTarget,a,u,c,_);this.lastDropTarget.onDragLeave(E)}this.setGhostIcon(null)}},i.prototype.addDropTarget=function(a){this.dropTargets.push(a)},i.prototype.removeDropTarget=function(a){this.dropTargets=this.dropTargets.filter(function(u){return u.getContainer()!==a.getContainer()})},i.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(a){return a.external})},i.prototype.findExternalZone=function(a){return this.dropTargets.filter(function(c){return c.external}).find(function(c){return c.getContainer()===a.getContainer()})||null},i.prototype.getHorizontalDirection=function(a){var u=this.eventLastTime&&this.eventLastTime.clientX,c=a.clientX;return u===c?null:u>c?ci.Left:ci.Right},i.prototype.getVerticalDirection=function(a){var u=this.eventLastTime&&this.eventLastTime.clientY,c=a.clientY;return u===c?null:u>c?ga.Up:ga.Down},i.prototype.createDropTargetEvent=function(a,u,c,_,E){var P=a.getContainer(),M=P.getBoundingClientRect(),L=this;return{event:u,x:u.clientX-M.left,y:u.clientY-M.top,vDirection:_,hDirection:c,dragSource:L.dragSource,fromNudge:E,dragItem:L.dragItem,api:L.gridApi,columnApi:L.columnApi,dropZoneTarget:P}},i.prototype.positionGhost=function(a){var u=this.eGhost;if(u){var _=u.getBoundingClientRect().height,E=lc()-2,P=uc()-2,M=a.pageY-_/2,L=a.pageX-10,B=this.gridOptionsService.getDocument(),U=B.defaultView||window,X=U.pageYOffset||B.documentElement.scrollTop,Q=U.pageXOffset||B.documentElement.scrollLeft;E>0&&L+u.clientWidth>E+Q&&(L=E+Q-u.clientWidth),L<0&&(L=0),P>0&&M+u.clientHeight>P+X&&(M=P+X-u.clientHeight),M<0&&(M=0),u.style.left=L+"px",u.style.top=M+"px"}},i.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},i.prototype.createGhost=function(){this.eGhost=gr(r.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var a=this.environment.getTheme().theme;a&&this.eGhost.classList.add(a),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var u=this.eGhost.querySelector(".ag-dnd-ghost-label"),c=this.dragSource.dragItemName;Ne(c)&&(c=c()),u.innerHTML=wi(c)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var _=this.gridOptionsService.getDocument(),E=null;try{E=_.fullscreenElement}catch{}finally{if(!E){var P=this.gridOptionsService.getRootNode();E=P.querySelector("body")||(P instanceof ShadowRoot?P:P?.documentElement)}}this.eGhostParent=E,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},i.prototype.setGhostIcon=function(a,u){void 0===u&&(u=!1),kt(this.eGhostIcon);var c=null;switch(a||(a=this.dragSource.defaultIconName||r.ICON_NOT_ALLOWED),a){case r.ICON_PINNED:c=this.ePinnedIcon;break;case r.ICON_MOVE:c=this.eMoveIcon;break;case r.ICON_LEFT:c=this.eLeftIcon;break;case r.ICON_RIGHT:c=this.eRightIcon;break;case r.ICON_GROUP:c=this.eGroupIcon;break;case r.ICON_AGGREGATE:c=this.eAggregateIcon;break;case r.ICON_PIVOT:c=this.ePivotIcon;break;case r.ICON_NOT_ALLOWED:c=this.eDropNotAllowedIcon;break;case r.ICON_HIDE:c=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",u),(c!==this.eHideIcon||!this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&c&&this.eGhostIcon.appendChild(c)},i.ICON_PINNED="pinned",i.ICON_MOVE="move",i.ICON_LEFT="left",i.ICON_RIGHT="right",i.ICON_GROUP="group",i.ICON_AGGREGATE="aggregate",i.ICON_PIVOT="pivot",i.ICON_NOT_ALLOWED="notAllowed",i.ICON_HIDE="hide",i.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',ha([$("dragService")],i.prototype,"dragService",void 0),ha([$("mouseEventService")],i.prototype,"mouseEventService",void 0),ha([$("columnApi")],i.prototype,"columnApi",void 0),ha([$("gridApi")],i.prototype,"gridApi",void 0),ha([ce],i.prototype,"init",null),ha([ze],i.prototype,"clearDragSourceParamsList",null),r=ha([Le("dragAndDropService")],i)}(Me),Nc=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),$l=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},nr=function(p){function i(r,a,u,c,_,E){var P=p.call(this)||this;return P.cellValueFn=r,P.rowNode=a,P.column=u,P.customGui=c,P.dragStartPixels=_,P.suppressVisibilityChange=E,P.dragSource=null,P}return Nc(i,p),i.prototype.isCustomGui=function(){return null!=this.customGui},i.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Vt("rowDrag",this.beans.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var r=this.beans.gridOptionsService.is("rowDragManaged")?new h_(this,this.beans,this.rowNode,this.column):new Os(this,this.beans,this.rowNode,this.column);this.createManagedBean(r,this.beans.context)}},i.prototype.setDragElement=function(r,a){this.setTemplateFromElement(r),this.addDragSource(a)},i.prototype.getSelectedNodes=function(){if(!this.beans.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];var a=this.beans.selectionService.getSelectedNodes();return-1!==a.indexOf(this.rowNode)?a:[this.rowNode]},i.prototype.checkCompatibility=function(){var r=this.beans.gridOptionsService.is("rowDragManaged");this.beans.gridOptionsService.isTreeData()&&r&&Ce(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},i.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},i.prototype.getRowDragText=function(r){if(r){var a=r.getColDef();if(a.rowDragText)return a.rowDragText}return this.gridOptionsService.get("rowDragText")},i.prototype.addDragSource=function(r){var a=this;void 0===r&&(r=4),this.dragSource&&this.removeDragSource();var u=this.getRowDragText(this.column),c=this.localeService.getLocaleTextFunc();this.dragSource={type:Wr.RowDrag,eElement:this.getGui(),dragItemName:function(){var _,E=a.getDragItem(),P=(null===(_=E.rowNodes)||void 0===_?void 0:_.length)||1;return u?u(E,P):1===P?a.cellValueFn():P+" "+c("rowDragRows","rows")},getDragItem:function(){return a.getDragItem()},dragStartPixels:r,dragSourceDomDataKey:this.beans.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},i.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},$l([$("beans")],i.prototype,"beans",void 0),$l([ce],i.prototype,"postConstruct",null),$l([ze],i.prototype,"removeDragSource",null),i}(Ge),jl=function(p){function i(r,a,u){var c=p.call(this)||this;return c.parent=r,c.rowNode=a,c.column=u,c}return Nc(i,p),i.prototype.setDisplayedOrVisible=function(r){var a={skipAriaHidden:!0};if(r)this.parent.setDisplayed(!1,a);else{var u=!0,c=!1;this.column&&(u=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),c=Ne(this.column.getColDef().rowDrag)),c?(this.parent.setDisplayed(!0,a),this.parent.setVisible(u,a)):(this.parent.setDisplayed(u,a),this.parent.setVisible(!0,a))}},i}(Me),Os=function(p){function i(r,a,u,c){var _=p.call(this,r,u,c)||this;return _.beans=a,_}return Nc(i,p),i.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,J.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var r=this.beans.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(r)},$l([ce],i.prototype,"postConstruct",null),i}(jl),h_=function(p){function i(r,a,u,c){var _=p.call(this,r,u,c)||this;return _.beans=a,_}return Nc(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,J.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,J.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,J.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,J.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var a=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),u=a&&a.shouldPreventRowMove(),c=this.beans.gridOptionsService.is("suppressRowDrag"),_=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(u&&!_||c)},$l([ce],i.prototype,"postConstruct",null),i}(jl),In=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),di=function(){return di=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},di.apply(this,arguments)},va=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Kl=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return In(i,p),i.prototype.init=function(r,a,u,c,_,E,P){this.params=P,this.eGui=a,this.eCheckbox=u,this.eExpanded=c,this.eContracted=_,this.comp=r,this.compClass=E;var M=this.isTopLevelFooter(),L=this.isEmbeddedRowMismatch(),B=null==P.value&&!P.node.master,U=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){var X=P.node;X.footer&&(U=(P.colDef&&P.colDef.showRowGroup)!==(X.rowGroupColumn&&X.rowGroupColumn.getColId()))}this.cellIsBlank=!M&&(L||B&&!P.node.master||U),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},i.prototype.destroy=function(){p.prototype.destroy.call(this),this.expandListener=null},i.prototype.refreshAriaExpanded=function(){var r=this.params,a=r.node,u=r.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var c=function(){fn(u,!!a.expanded)};this.expandListener=this.addManagedListener(a,ot.EVENT_EXPANDED_CHANGED,c)||null,c()}else rs(u)},i.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;var r=this.params.colDef;if(null==r||!0===r.showRowGroup)return!0;var u=this.columnModel.getRowGroupColumns();return!u||0===u.length||u[0].getId()===r.showRowGroup},i.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var r="left"===this.params.pinned,a="right"===this.params.pinned,u=!r&&!a;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!a:!u:this.columnModel.isPinningLeft()?!r:!u},i.prototype.findDisplayedGroupNode=function(){var r=this.params.column,a=this.params.node;if(this.showingValueForOpenedParent)for(var u=a.parent;null!=u;){if(u.rowGroupColumn&&r.isRowGroupDisplayed(u.rowGroupColumn.getId())){this.displayedGroupNode=u;break}u=u.parent}s(this.displayedGroupNode)&&(this.displayedGroupNode=a)},i.prototype.setupShowingValueForOpenedParent=function(){var r=this.params.node,a=this.params.column;if(this.gridOptionsService.is("groupHideOpenParents"))if(r.groupData){if(null!=r.rowGroupColumn){var c=r.rowGroupColumn.getId();if(a.isRowGroupDisplayed(c))return void(this.showingValueForOpenedParent=!1)}var E=null!=r.groupData[a.getId()];this.showingValueForOpenedParent=E}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},i.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},i.prototype.addGroupValue=function(){var r=this.adjustParamsWithDetailsFromRelatedColumn(),a=this.getInnerCompDetails(r),c=r.value,_=r.valueFormatted;null==_&&(_=""===c&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):c),this.comp.setInnerRenderer(a,_)},i.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var r=this.displayedGroupNode.rowGroupColumn,a=this.params.column;if(!r)return this.params;if(null!=a&&!a.isRowGroupDisplayed(r.getId()))return this.params;var _=this.params,E=this.params,L=this.valueFormatterService.formatValue(r,E.node,E.value);return di(di({},_),{valueFormatted:L})},i.prototype.addFooterValue=function(){var r=this.params.footerValueGetter,a="";if(r){var u=V(this.params);u.value=this.params.value,"function"==typeof r?a=r(u):"string"==typeof r?a=this.expressionService.evaluate(r,u):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else a="Total "+(null!=this.params.value?this.params.value:"");var c=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(c,a)},i.prototype.getInnerCompDetails=function(r){var a=this;if(r.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),r);var u=this.userComponentFactory.getInnerRendererDetails(r,r),c=function(L){return L&&L.componentClass==a.compClass};if(u&&!c(u))return u;var _=this.displayedGroupNode.rowGroupColumn,E=_?_.getColDef():void 0;if(E){var P=this.userComponentFactory.getCellRendererDetails(E,r);if(P&&!c(P))return P;if(c(P)&&E.cellRendererParams&&E.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(E.cellRendererParams,r)}},i.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ot.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},i.prototype.updateChildCount=function(){var r=this.displayedGroupNode.allChildrenCount,a=this.isShowRowGroupForThisRow();this.comp.setChildCount(a&&null!=r&&r>=0?"("+r+")":"")},i.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.isTreeData())return!0;var r=this.displayedGroupNode.rowGroupColumn;if(!r)return!1;var a=this.params.column;return null==a||a.isRowGroupDisplayed(r.getId())},i.prototype.addExpandAndContract=function(){var r=this.params,a=Vt("groupExpanded",this.gridOptionsService,null),u=Vt("groupContracted",this.gridOptionsService,null);a&&this.eExpanded.appendChild(a),u&&this.eContracted.appendChild(u);var c=r.eGridCell;!this.gridOptionsService.is("enableGroupEdit")&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(c,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(c,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,ot.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var _=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ot.EVENT_ALL_CHILDREN_COUNT_CHANGED,_),this.addManagedListener(this.displayedGroupNode,ot.EVENT_MASTER_CHANGED,_),this.addManagedListener(this.displayedGroupNode,ot.EVENT_GROUP_CHANGED,_),this.addManagedListener(this.displayedGroupNode,ot.EVENT_HAS_CHILDREN_CHANGED,_)},i.prototype.onExpandClicked=function(r){dn(r)||(ea(r),this.onExpandOrContract(r))},i.prototype.onExpandOrContract=function(r){var a=this.displayedGroupNode,u=!a.expanded;!u&&a.sticky&&this.scrollToStickyNode(a),a.setExpanded(u,r)},i.prototype.scrollToStickyNode=function(r){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(r.rowTop-r.stickyRowTop)},i.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var r=this.displayedGroupNode,a=this.columnModel.isPivotMode()&&r.leafGroup;if(!r.isExpandable()||r.footer||a)return!1;var c=this.params.column;return null==c||"string"!=typeof c.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},i.prototype.showExpandAndContractIcons=function(){var r=this,u=r.displayedGroupNode,c=r.columnModel,_=r.params.node,E=this.isExpandable();if(E){var P=!!this.showingValueForOpenedParent||_.expanded;this.comp.setExpandedDisplayed(P),this.comp.setContractedDisplayed(!P)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var M=c.isPivotMode(),L=M&&u.leafGroup,B=E&&!L,U=_.footer&&-1===_.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",B),this.comp.addOrRemoveCssClass("ag-row-group",B),M?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",L):U||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!B)},i.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},i.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,ot.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},i.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var r=this.params,a=r.node,u=!!r.colDef,c=this.gridOptionsService.isTreeData(),E=!u||c||!0===r.colDef.showRowGroup?a.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+E,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},i.prototype.addFullWidthRowDraggerIfNeeded=function(){var r=this;if(this.params.fullWidth&&this.params.rowDrag){var a=new nr(function(){return r.params.value},this.params.node);this.createManagedBean(a,this.context),this.eGui.insertAdjacentElement("afterbegin",a.getGui())}},i.prototype.isUserWantsSelected=function(){var r=this.params.checkbox;return"function"==typeof r||!0===r},i.prototype.addCheckboxIfNeeded=function(){var r=this,a=this.displayedGroupNode,u=this.isUserWantsSelected()&&!a.footer&&!a.rowPinned&&!a.detail;if(u){var c=new f_;this.getContext().createBean(c),c.init({rowNode:a,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(c.getGui()),this.addDestroyFunc(function(){return r.getContext().destroyBean(c)})}this.comp.setCheckboxVisible(u)},i.prototype.onKeyDown=function(r){r.key!==ve.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(r)},i.prototype.onCellDblClicked=function(r){dn(r)||Xu(this.eExpanded,r)||Xu(this.eContracted,r)||this.onExpandOrContract(r)},va([$("expressionService")],i.prototype,"expressionService",void 0),va([$("valueFormatterService")],i.prototype,"valueFormatterService",void 0),va([$("columnModel")],i.prototype,"columnModel",void 0),va([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),va([$("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(Me),Ds=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),bs=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},g_=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return Ds(i,p),i.prototype.init=function(r){var a=this,u={setInnerRenderer:function(P,M){return a.setRenderDetails(P,M)},setChildCount:function(P){return a.eChildCount.innerHTML=P},addOrRemoveCssClass:function(P,M){return a.addOrRemoveCssClass(P,M)},setContractedDisplayed:function(P){return ft(a.eContracted,P)},setExpandedDisplayed:function(P){return ft(a.eExpanded,P)},setCheckboxVisible:function(P){return a.eCheckbox.classList.toggle("ag-invisible",!P)}},c=this.createManagedBean(new Kl),_=!r.colDef,E=this.getGui();c.init(u,E,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,r),_&&Br(E,"gridcell")},i.prototype.setRenderDetails=function(r,a){var u=this;if(r){var c=r.newAgStackInstance();if(!c)return;c.then(function(_){if(_){var E=function(){return u.context.destroyBean(_)};u.isAlive()?(u.eValue.appendChild(_.getGui()),u.addDestroyFunc(E)):E()}})}else this.eValue.innerText=a},i.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),p.prototype.destroy.call(this)},i.prototype.refresh=function(){return!1},i.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',bs([be("eExpanded")],i.prototype,"eExpanded",void 0),bs([be("eContracted")],i.prototype,"eContracted",void 0),bs([be("eCheckbox")],i.prototype,"eCheckbox",void 0),bs([be("eValue")],i.prototype,"eValue",void 0),bs([be("eChildCount")],i.prototype,"eChildCount",void 0),i}(Ge),v_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),__=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Cn=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return v_(i,p),i.prototype.init=function(r){r.node.failedLoad?this.setupFailed():this.setupLoading()},i.prototype.setupFailed=function(){var r=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=r("loadingError","ERR")},i.prototype.setupLoading=function(){var r=Vt("groupLoading",this.gridOptionsService,null);r&&this.eLoadingIcon.appendChild(r);var a=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=a("loadingOoo","Loading")},i.prototype.refresh=function(r){return!1},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',__([be("eLoadingIcon")],i.prototype,"eLoadingIcon",void 0),__([be("eLoadingText")],i.prototype,"eLoadingText",void 0),i}(Ge),Gc=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ya=function(p){function i(){return p.call(this)||this}return Gc(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.init=function(r){var a,u=null!==(a=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==a?a:i.DEFAULT_LOADING_OVERLAY_TEMPLATE,c=this.localeService.getLocaleTextFunc(),_=u.replace("[LOADING...]",c("loadingOoo","Loading..."));this.setTemplate(_)},i.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',i}(Ge),WE=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),kf=function(p){function i(){return p.call(this)||this}return WE(i,p),i.prototype.destroy=function(){p.prototype.destroy.call(this)},i.prototype.init=function(r){var a,u=null!==(a=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==a?a:i.DEFAULT_NO_ROWS_TEMPLATE,c=this.localeService.getLocaleTextFunc(),_=u.replace("[NO_ROWS_TO_SHOW]",c("noRowsToShow","No Rows To Show"));this.setTemplate(_)},i.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',i}(Ge),y_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),m_=function(p){function i(){return p.call(this,'<div class="ag-tooltip"></div>')||this}return y_(i,p),i.prototype.init=function(r){var a=r.value;this.getGui().innerHTML=wi(a)},i}(To),C_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Bc=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},E_=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.agGridDefaults={agDateInput:GE,agColumnHeader:Mc,agColumnGroupHeader:Lf,agSortIndicator:ws,agTextColumnFloatingFilter:a_,agNumberColumnFloatingFilter:Af,agDateColumnFloatingFilter:NE,agReadOnlyFloatingFilter:Cc,agAnimateShowChangeCellRenderer:ca,agAnimateSlideCellRenderer:Bf,agGroupCellRenderer:g_,agGroupRowRenderer:g_,agLoadingCellRenderer:Cn,agCellEditor:xc,agTextCellEditor:xc,agSelectCellEditor:Nf,agLargeTextCellEditor:Mo,agTextColumnFilter:kl,agNumberColumnFilter:Tc,agDateColumnFilter:Ro,agLoadingOverlay:ya,agNoRowsOverlay:kf,agTooltipComponent:m_},r.enterpriseAgDefaultCompsModule={agSetColumnFilter:ke.SetFilterModule,agSetColumnFloatingFilter:ke.SetFilterModule,agMultiColumnFilter:ke.MultiFilterModule,agMultiColumnFloatingFilter:ke.MultiFilterModule,agGroupColumnFilter:ke.RowGroupingModule,agGroupColumnFloatingFilter:ke.RowGroupingModule,agRichSelect:ke.RichSelectModule,agRichSelectCellEditor:ke.RichSelectModule,agDetailCellRenderer:ke.MasterDetailModule,agSparklineCellRenderer:ke.SparklinesModule},r.deprecatedAgGridDefaults={agPopupTextCellEditor:'AG Grid: Since v27.1 The agPopupTextCellEditor is deprecated. Instead use { cellEditor: "agTextCellEditor", cellEditorPopup: true }',agPopupSelectCellEditor:'AG Grid: Since v27.1 the agPopupSelectCellEditor is deprecated. Instead use { cellEditor: "agSelectCellEditor", cellEditorPopup: true }'},r.jsComps={},r.fwComps={},r}return C_(i,p),i.prototype.init=function(){var r=this;null!=this.gridOptions.components&&G(this.gridOptions.components,function(a,u){return r.registerJsComponent(a,u)}),null!=this.gridOptions.frameworkComponents&&G(this.gridOptions.frameworkComponents,function(a,u){return r.registerFwComponent(a,u)})},i.prototype.registerDefaultComponent=function(r,a){this.agGridDefaults[r]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[r]=a},i.prototype.registerJsComponent=function(r,a){this.fwComps[r]?console.error("Trying to register a component that you have already registered for frameworks: "+r):this.jsComps[r]=a},i.prototype.registerFwComponent=function(r,a){Ce(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated"),this.fwComps[r]=a},i.prototype.retrieve=function(r){var a=this,u=function(B,U){return{componentFromFramework:U,component:B}},c=this.getFrameworkOverrides().frameworkComponent(r,this.gridOptions.components);if(null!=c)return u(c,!0);var _=this.fwComps[r];if(_)return u(_,!0);var E=this.jsComps[r];if(E)return u(E,this.getFrameworkOverrides().isFrameworkComponent(E));var M=this.agGridDefaults[r];if(M)return u(M,!1);var L=this.enterpriseAgDefaultCompsModule[r];return L?qe.assertRegistered(L,"AG Grid component ["+r+"]"):this.deprecatedAgGridDefaults[r]?Ce(function(){return console.warn(a.deprecatedAgGridDefaults[r])},r):Ce(function(){return console.warn("AG Grid: Looking for component ["+r+"] but it wasn't found. Have you registered the component? See https://ag-grid.com/javascript-data-grid/components/")},"MissingComp"+r),null},Bc([$("gridOptions")],i.prototype,"gridOptions",void 0),Bc([ce],i.prototype,"init",null),Bc([Le("userComponentRegistry")],i)}(Me),S_={propertyName:"dateComponent",cellRenderer:!1},kc={propertyName:"headerComponent",cellRenderer:!1},zl={propertyName:"headerGroupComponent",cellRenderer:!1},Yl={propertyName:"cellRenderer",cellRenderer:!0},ql={propertyName:"cellEditor",cellRenderer:!1},Vc={propertyName:"innerRenderer",cellRenderer:!0},Xl={propertyName:"loadingOverlayComponent",cellRenderer:!1},w_={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Vf={propertyName:"tooltipComponent",cellRenderer:!1},Ao={propertyName:"filter",cellRenderer:!1},Jl={propertyName:"floatingFilterComponent",cellRenderer:!1},Wf={propertyName:"toolPanel",cellRenderer:!1},O_={propertyName:"statusPanel",cellRenderer:!1},D_={propertyName:"fullWidthCellRenderer",cellRenderer:!0},ma={propertyName:"loadingCellRenderer",cellRenderer:!0},Ps={propertyName:"groupRowRenderer",cellRenderer:!0},b_={propertyName:"detailCellRenderer",cellRenderer:!0},HE=function(){function p(){}return p.getFloatingFilterType=function(i){return this.filterToFloatingFilterMapping[i]},p.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},p}(),Hf=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ca=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},UE=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Hf(i,p),i.prototype.getHeaderCompDetails=function(r,a){return this.getCompDetails(r,kc,"agColumnHeader",a)},i.prototype.getHeaderGroupCompDetails=function(r){var a=r.columnGroup.getColGroupDef();return this.getCompDetails(a,zl,"agColumnGroupHeader",r)},i.prototype.getFullWidthCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,D_,null,r,!0)},i.prototype.getFullWidthLoadingCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,ma,"agLoadingCellRenderer",r,!0)},i.prototype.getFullWidthGroupCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,Ps,"agGroupRowRenderer",r,!0)},i.prototype.getFullWidthDetailCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,b_,"agDetailCellRenderer",r,!0)},i.prototype.getInnerRendererDetails=function(r,a){return this.getCompDetails(r,Vc,null,a)},i.prototype.getFullWidthGroupRowInnerCellRenderer=function(r,a){return this.getCompDetails(r,Vc,null,a)},i.prototype.getCellRendererDetails=function(r,a){return this.getCompDetails(r,Yl,null,a)},i.prototype.getCellEditorDetails=function(r,a){return this.getCompDetails(r,ql,"agCellEditor",a,!0)},i.prototype.getFilterDetails=function(r,a,u){return this.getCompDetails(r,Ao,u,a,!0)},i.prototype.getDateCompDetails=function(r){return this.getCompDetails(this.gridOptions,S_,"agDateInput",r,!0)},i.prototype.getLoadingOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,Xl,"agLoadingOverlay",r,!0)},i.prototype.getNoRowsOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,w_,"agNoRowsOverlay",r,!0)},i.prototype.getTooltipCompDetails=function(r){return this.getCompDetails(r.colDef,Vf,"agTooltipComponent",r,!0)},i.prototype.getSetFilterCellRendererDetails=function(r,a){return this.getCompDetails(r,Yl,null,a)},i.prototype.getFloatingFilterCompDetails=function(r,a,u){return this.getCompDetails(r,Jl,u,a)},i.prototype.getToolPanelCompDetails=function(r,a){return this.getCompDetails(r,Wf,null,a,!0)},i.prototype.getStatusPanelCompDetails=function(r,a){return this.getCompDetails(r,O_,null,a,!0)},i.prototype.getCompDetails=function(r,a,u,c,_){var E=this;void 0===_&&(_=!1);var P=a.propertyName,M=a.cellRenderer,L=this.getCompKeys(r,a,c),B=L.compName,U=L.jsComp,X=L.fwComp,Q=L.paramsFromSelector,oe=L.popupFromSelector,le=L.popupPositionFromSelector,fe=function(Be){var Xe=E.userComponentRegistry.retrieve(Be);Xe&&(U=Xe.componentFromFramework?void 0:Xe.component,X=Xe.componentFromFramework?Xe.component:void 0)};if(null!=B&&fe(B),null==U&&null==X&&null!=u&&fe(u),U&&M&&!this.agComponentUtils.doesImplementIComponent(U)&&(U=this.agComponentUtils.adaptFunction(P,U)),U||X){var de=this.mergeParamsWithApplicationProvidedParams(r,a,c,Q),Oe=null==U,Ie=U||X;return{componentFromFramework:Oe,componentClass:Ie,params:de,type:a,popupFromSelector:oe,popupPositionFromSelector:le,newAgStackInstance:function(){return E.newAgStackInstance(Ie,Oe,de,a)}}}_&&console.error("AG Grid: Could not find component "+B+", did you forget to configure this component?")},i.prototype.getCompKeys=function(r,a,u){var E,P,M,L,B,U,c=this,_=a.propertyName;if(r){var X=r,Q=X[_+"Selector"],oe=Q?Q(u):null,le=function(de,Oe){var Ie=function(){var Xe="AG Grid: As of v27, the property "+_+"Framework is deprecated. The property "+_+" can now be used for JavaScript AND Framework Components.";Ce(function(){return console.warn(Xe)},"UserComponentFactory."+_+"FrameworkDeprecated")};"string"==typeof de?E=de:"string"==typeof Oe?(Ie(),E=Oe):null!=de&&!0!==de?c.getFrameworkOverrides().isFrameworkComponent(de)?M=de:P=de:null!=Oe&&(Ie(),M=Oe)};if(oe){if(null!=oe.frameworkComponent){var fe="AG Grid: As of v27, the return for "+_+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";Ce(function(){return console.warn(fe)},"UserComponentFactory."+_+"FrameworkSelectorDeprecated"),le(oe.frameworkComponent,void 0)}else le(oe.component,void 0);L=oe.params,B=oe.popup,U=oe.popupPosition}else le(X[_],X[_+"Framework"])}return{compName:E,jsComp:P,fwComp:M,paramsFromSelector:L,popupFromSelector:B,popupPositionFromSelector:U}},i.prototype.newAgStackInstance=function(r,a,u,c){var P;if(a){var M=this.componentMetadataProvider.retrieve(c.propertyName);P=this.frameworkComponentWrapper.wrap(r,M.mandatoryMethodList,M.optionalMethodList,c)}else P=new r;var L=this.initComponent(P,u);return null==L?en.resolve(P):L.then(function(){return P})},i.prototype.mergeParamsWithApplicationProvidedParams=function(r,a,u,c){void 0===c&&(c=null);var _={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};ne(_,u);var P=r&&r[a.propertyName+"Params"];return"function"==typeof P?ne(_,P(u)):"object"==typeof P&&ne(_,P),ne(_,c),_},i.prototype.initComponent=function(r,a){if(this.context.createBean(r),null!=r.init)return r.init(a)},i.prototype.getDefaultFloatingFilterType=function(r){if(null==r)return null;var a=null,u=this.getCompKeys(r,Ao),c=u.compName,_=u.jsComp,E=u.fwComp;return c?a=HE.getFloatingFilterType(c):null==_&&null==E&&!0===r.filter&&(a=qe.isRegistered(ke.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),a},Ca([$("gridOptions")],i.prototype,"gridOptions",void 0),Ca([$("agComponentUtils")],i.prototype,"agComponentUtils",void 0),Ca([$("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),Ca([$("userComponentRegistry")],i.prototype,"userComponentRegistry",void 0),Ca([gt("frameworkComponentWrapper")],i.prototype,"frameworkComponentWrapper",void 0),Ca([Le("userComponentFactory")],i)}(Me),Ea=(()=>(function(p){p[p.SINGLE_SHEET=0]="SINGLE_SHEET",p[p.MULTI_SHEET=1]="MULTI_SHEET"}(Ea||(Ea={})),Ea))(),P_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Rs=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Zl=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.dragEndFunctions=[],r.dragSources=[],r}return P_(i,p),i.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},i.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},i.prototype.removeListener=function(r){var a=r.dragSource.eElement;a.removeEventListener("mousedown",r.mouseDownListener),r.touchEnabled&&a.removeEventListener("touchstart",r.touchStartListener,{passive:!0})},i.prototype.removeDragSource=function(r){var a=this.dragSources.find(function(u){return u.dragSource===r});a&&(this.removeListener(a),Gr(this.dragSources,a))},i.prototype.isDragging=function(){return this.dragging},i.prototype.addDragSource=function(r,a){var u=this;void 0===a&&(a=!1);var c=this.onMouseDown.bind(this,r);r.eElement.addEventListener("mousedown",c);var _=null,E=this.gridOptionsService.is("suppressTouch");a&&!E&&r.eElement.addEventListener("touchstart",_=function(P){wr(P.target)||(P.cancelable&&(P.preventDefault(),P.stopPropagation()),u.onTouchStart(r,P))},{passive:!1}),this.dragSources.push({dragSource:r,mouseDownListener:c,touchStartListener:_,touchEnabled:a})},i.prototype.onTouchStart=function(r,a){var u=this;this.currentDragParams=r,this.dragging=!1;var c=a.touches[0];this.touchLastTime=c,this.touchStart=c;var E=function(B){return u.onTouchUp(B,r.eElement)},M=a.target,L=[{target:document,type:"touchmove",listener:function(B){B.cancelable&&B.preventDefault()},options:{passive:!1}},{target:M,type:"touchmove",listener:function(B){return u.onTouchMove(B,r.eElement)},options:{passive:!0}},{target:M,type:"touchend",listener:E,options:{passive:!0}},{target:M,type:"touchcancel",listener:E,options:{passive:!0}}];this.addTemporaryEvents(L),0===r.dragStartPixels&&this.onCommonMove(c,this.touchStart,r.eElement)},i.prototype.onMouseDown=function(r,a){var u=this,c=a;if(!(r.skipMouseEvent&&r.skipMouseEvent(a)||c._alreadyProcessedByDragService||(c._alreadyProcessedByDragService=!0,0!==a.button))){this.currentDragParams=r,this.dragging=!1,this.mouseStartEvent=a;var _=this.gridOptionsService.getDocument();this.addTemporaryEvents([{target:_,type:"mousemove",listener:function(U){return u.onMouseMove(U,r.eElement)}},{target:_,type:"mouseup",listener:function(U){return u.onMouseUp(U,r.eElement)}},{target:_,type:"contextmenu",listener:function(U){return U.preventDefault()}}]),0===r.dragStartPixels&&this.onMouseMove(a,r.eElement)}},i.prototype.addTemporaryEvents=function(r){r.forEach(function(a){a.target.addEventListener(a.type,a.listener,a.options)}),this.dragEndFunctions.push(function(){r.forEach(function(a){a.target.removeEventListener(a.type,a.listener,a.options)})})},i.prototype.isEventNearStartEvent=function(r,a){var u=this.currentDragParams.dragStartPixels;return vc(r,a,o(u)?u:4)},i.prototype.getFirstActiveTouch=function(r){for(var a=0;a<r.length;a++)if(r[a].identifier===this.touchStart.identifier)return r[a];return null},i.prototype.onCommonMove=function(r,a,u){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(r,a))return;this.dragging=!0,this.eventService.dispatchEvent({type:J.EVENT_DRAG_STARTED,target:u}),this.currentDragParams.onDragStart(a),this.currentDragParams.onDragging(a)}this.currentDragParams.onDragging(r)},i.prototype.onTouchMove=function(r,a){var u=this.getFirstActiveTouch(r.touches);u&&this.onCommonMove(u,this.touchStart,a)},i.prototype.onMouseMove=function(r,a){(this.gridOptionsService.is("enableCellTextSelection")||hn())&&"mousemove"===r.type&&r.cancelable&&this.mouseEventService.isEventFromThisGrid(r)&&!this.isOverFormFieldElement(r)&&r.preventDefault(),this.onCommonMove(r,this.mouseStartEvent,a)},i.prototype.isOverFormFieldElement=function(r){var u=r.target?.tagName.toLocaleLowerCase();return!!u?.match("^a$|textarea|input|select|button")},i.prototype.onTouchUp=function(r,a){var u=this.getFirstActiveTouch(r.changedTouches);u||(u=this.touchLastTime),this.onUpCommon(u,a)},i.prototype.onMouseUp=function(r,a){this.onUpCommon(r,a)},i.prototype.onUpCommon=function(r,a){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(r),this.eventService.dispatchEvent({type:J.EVENT_DRAG_STOPPED,target:a})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(c){return c()}),this.dragEndFunctions.length=0},Rs([$("loggerFactory")],i.prototype,"loggerFactory",void 0),Rs([$("mouseEventService")],i.prototype,"mouseEventService",void 0),Rs([ce],i.prototype,"init",null),Rs([ze],i.prototype,"removeAllListeners",null),Rs([Le("dragService")],i)}(Me),jn=(()=>(function(p){p[p.Above=0]="Above",p[p.Below=1]="Below"}(jn||(jn={})),jn))(),Ot=(()=>(function(p){p.EVERYTHING="group",p.FILTER="filter",p.SORT="sort",p.MAP="map",p.AGGREGATE="aggregate",p.FILTER_AGGREGATES="filter_aggregates",p.PIVOT="pivot",p.NOTHING="nothing"}(Ot||(Ot={})),Ot))(),Ct=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c};function Sa(p){return null!=p&&null!=p.getFrameworkComponentInstance?p.getFrameworkComponentInstance():p}var Uf=function(){function p(){this.detailGridInfoMap={},this.destroyCalled=!1}return p.prototype.registerOverlayWrapperComp=function(i){this.overlayWrapperComp=i},p.prototype.registerSideBarComp=function(i){this.sideBarComp=i},p.prototype.init=function(){var i=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){i.gridBodyCtrl=i.ctrlsService.getGridBodyCtrl()})},p.prototype.__getAlignedGridService=function(){return this.alignedGridsService},p.prototype.__getContext=function(){return this.context},p.prototype.getSetterMethod=function(i){return"set"+i.charAt(0).toUpperCase()+i.substring(1)},p.prototype.__setProperty=function(i,r){this.gridOptionsService.set(i,r);var a=this.getSetterMethod(i);this[a]&&this[a](r)},p.prototype.addDetailGridInfo=function(i,r){this.detailGridInfoMap[i]=r},p.prototype.removeDetailGridInfo=function(i){this.detailGridInfoMap[i]=void 0},p.prototype.getDetailGridInfo=function(i){return this.detailGridInfoMap[i]},p.prototype.forEachDetailGridInfo=function(i){var r=0;G(this.detailGridInfoMap,function(a,u){o(u)&&(i(u,r),r++)})},p.prototype.getDataAsCsv=function(i){if(qe.assertRegistered(ke.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(i)},p.prototype.exportDataAsCsv=function(i){qe.assertRegistered(ke.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(i)},p.prototype.getExcelExportMode=function(i){var r=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},r,i).exportMode},p.prototype.assertNotExcelMultiSheet=function(i,r){if(!qe.assertRegistered(ke.ExcelExportModule,"api."+i))return!1;var a=this.getExcelExportMode(r);return this.excelCreator.getFactoryMode(a)!==Ea.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)},p.prototype.getDataAsExcel=function(i){if(this.assertNotExcelMultiSheet("getDataAsExcel",i))return this.excelCreator.getDataAsExcel(i)},p.prototype.exportDataAsExcel=function(i){this.assertNotExcelMultiSheet("exportDataAsExcel",i)&&this.excelCreator.exportDataAsExcel(i)},p.prototype.getSheetDataForExcel=function(i){if(qe.assertRegistered(ke.ExcelExportModule,"api.getSheetDataForExcel")){var r=this.getExcelExportMode(i);return this.excelCreator.setFactoryMode(Ea.MULTI_SHEET,r),this.excelCreator.getSheetDataForExcel(i)}},p.prototype.getMultipleSheetsAsExcel=function(i){if(qe.assertRegistered(ke.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(i)},p.prototype.exportMultipleSheetsAsExcel=function(i){if(qe.assertRegistered(ke.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(i)},p.prototype.setGridAriaProperty=function(i,r){if(i){var a=this.ctrlsService.getGridBodyCtrl().getGui(),u="aria-"+i;null===r?a.removeAttribute(u):a.setAttribute(u,r)}},p.prototype.logMissingRowModel=function(i){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];console.error("AG Grid: api."+i+" can only be called when gridOptions.rowModelType is "+r.join(" or "))},p.prototype.setServerSideDatasource=function(i){this.serverSideRowModel?this.serverSideRowModel.setDatasource(i):this.logMissingRowModel("setServerSideDatasource","serverSide")},p.prototype.setCacheBlockSize=function(i){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",i),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},p.prototype.setDatasource=function(i){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(i):this.logMissingRowModel("setDatasource","infinite")},p.prototype.setViewportDatasource=function(i){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(i):this.logMissingRowModel("setViewportDatasource","viewport")},p.prototype.setRowData=function(i){null==this.immutableService?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(i):(this.selectionService.reset(),this.clientSideRowModel.setRowData(i))},p.prototype.setPinnedTopRowData=function(i){this.pinnedRowModel.setPinnedTopRowData(i)},p.prototype.setPinnedBottomRowData=function(i){this.pinnedRowModel.setPinnedBottomRowData(i)},p.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},p.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},p.prototype.getPinnedTopRow=function(i){return this.pinnedRowModel.getPinnedTopRow(i)},p.prototype.getPinnedBottomRow=function(i){return this.pinnedRowModel.getPinnedBottomRow(i)},p.prototype.setColumnDefs=function(i,r){void 0===r&&(r="api"),this.columnModel.setColumnDefs(i,r),this.gridOptionsService.set("columnDefs",i,!0,{source:r})},p.prototype.setAutoGroupColumnDef=function(i,r){void 0===r&&(r="api"),this.gridOptionsService.set("autoGroupColumnDef",i,!0,{source:r})},p.prototype.setDefaultColDef=function(i,r){void 0===r&&(r="api"),this.gridOptionsService.set("defaultColDef",i,!0,{source:r})},p.prototype.setColumnTypes=function(i,r){void 0===r&&(r="api"),this.gridOptionsService.set("columnTypes",i,!0,{source:r})},p.prototype.expireValueCache=function(){this.valueCache.expire()},p.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},p.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},p.prototype.setAlwaysShowHorizontalScroll=function(i){this.gridOptionsService.set("alwaysShowHorizontalScroll",i)},p.prototype.setAlwaysShowVerticalScroll=function(i){this.gridOptionsService.set("alwaysShowVerticalScroll",i)},p.prototype.refreshCells=function(i){void 0===i&&(i={}),this.rowRenderer.refreshCells(i)},p.prototype.flashCells=function(i){void 0===i&&(i={}),this.rowRenderer.flashCells(i)},p.prototype.redrawRows=function(i){void 0===i&&(i={}),this.rowRenderer.redrawRows(i?i.rowNodes:void 0)},p.prototype.setFunctionsReadOnly=function(i){this.gridOptionsService.set("functionsReadOnly",i)},p.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){return i.refresh()})},p.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},p.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},p.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},p.prototype.getModel=function(){return this.rowModel},p.prototype.setRowNodeExpanded=function(i,r,a){i&&(a&&i.parent&&-1!==i.parent.level&&this.setRowNodeExpanded(i.parent,r,a),i.setExpanded(r))},p.prototype.onGroupExpandedOrCollapsed=function(){s(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:Ot.MAP})},p.prototype.refreshClientSideRowModel=function(i){s(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(i)},p.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},p.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},p.prototype.getRowNode=function(i){return this.rowModel.getRowNode(i)},p.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},p.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},p.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},p.prototype.addRenderedRowListener=function(i,r,a){this.rowRenderer.addRenderedRowListener(i,r,a)},p.prototype.getQuickFilter=function(){return this.gridOptionsService.get("quickFilterText")},p.prototype.setQuickFilter=function(i){this.gridOptionsService.set("quickFilterText",i)},p.prototype.setExcludeHiddenColumnsFromQuickFilter=function(i){this.gridOptionsService.set("excludeHiddenColumnsFromQuickFilter",i)},p.prototype.selectAll=function(i){void 0===i&&(i="apiSelectAll"),this.selectionService.selectAllRowNodes({source:i})},p.prototype.deselectAll=function(i){void 0===i&&(i="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:i})},p.prototype.selectAllFiltered=function(i){void 0===i&&(i="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:i,justFiltered:!0})},p.prototype.deselectAllFiltered=function(i){void 0===i&&(i="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:i,justFiltered:!0})},p.prototype.selectAllOnCurrentPage=function(i){void 0===i&&(i="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:i,justCurrentPage:!0})},p.prototype.deselectAllOnCurrentPage=function(i){void 0===i&&(i="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:i,justCurrentPage:!0})},p.prototype.sizeColumnsToFit=function(i){this.gridBodyCtrl.sizeColumnsToFit(i)},p.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},p.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},p.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},p.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},p.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},p.prototype.getBestCostNodeSelection=function(){if(!s(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},p.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},p.prototype.ensureColumnVisible=function(i,r){void 0===r&&(r="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(i,r)},p.prototype.ensureIndexVisible=function(i,r){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(i,r)},p.prototype.ensureNodeVisible=function(i,r){void 0===r&&(r=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(i,r)},p.prototype.forEachLeafNode=function(i){s(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(i)},p.prototype.forEachNode=function(i,r){this.rowModel.forEachNode(i,r)},p.prototype.forEachNodeAfterFilter=function(i){s(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(i)},p.prototype.forEachNodeAfterFilterAndSort=function(i){s(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(i)},p.prototype.getFilterInstance=function(i,r){var a=this.getFilterInstanceImpl(i,function(c){if(r){var _=Sa(c);r(_)}});return Sa(a)},p.prototype.getFilterInstanceImpl=function(i,r){var a=this.columnModel.getPrimaryColumn(i);if(a){var u=this.filterManager.getFilterComponent(a,"NO_UI"),c=u&&u.resolveNow(null,function(_){return _});return c?setTimeout(r,0,c):u&&u.then(function(_){r(_)}),c}},p.prototype.destroyFilter=function(i){var r=this.columnModel.getPrimaryColumn(i);if(r)return this.filterManager.destroyFilter(r,"filterDestroyed")},p.prototype.getStatusPanel=function(i){if(qe.assertRegistered(ke.StatusBarModule,"api.getStatusPanel"))return Sa(this.statusBarService.getStatusPanel(i))},p.prototype.getColumnDef=function(i){var r=this.columnModel.getPrimaryColumn(i);return r?r.getColDef():null},p.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},p.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},p.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},p.prototype.setFilterModel=function(i){this.filterManager.setFilterModel(i)},p.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},p.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},p.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},p.prototype.setFocusedCell=function(i,r,a){this.focusService.setFocusedCell({rowIndex:i,column:r,rowPinned:a,forceBrowserFocus:!0})},p.prototype.setSuppressRowDrag=function(i){this.gridOptionsService.set("suppressRowDrag",i)},p.prototype.setSuppressMoveWhenRowDragging=function(i){this.gridOptionsService.set("suppressMoveWhenRowDragging",i)},p.prototype.setSuppressRowClickSelection=function(i){this.gridOptionsService.set("suppressRowClickSelection",i)},p.prototype.addRowDropZone=function(i){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(i)},p.prototype.removeRowDropZone=function(i){var r=this.dragAndDropService.findExternalZone(i);r&&this.dragAndDropService.removeDropTarget(r)},p.prototype.getRowDropZoneParams=function(i){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(i)},p.prototype.setHeaderHeight=function(i){this.gridOptionsService.set("headerHeight",i)},p.prototype.setDomLayout=function(i){this.gridOptionsService.set("domLayout",i)},p.prototype.setEnableCellTextSelection=function(i){this.gridBodyCtrl.setCellTextSelection(i)},p.prototype.setFillHandleDirection=function(i){this.gridOptionsService.set("fillHandleDirection",i)},p.prototype.setGroupHeaderHeight=function(i){this.gridOptionsService.set("groupHeaderHeight",i)},p.prototype.setFloatingFiltersHeight=function(i){this.gridOptionsService.set("floatingFiltersHeight",i)},p.prototype.setPivotHeaderHeight=function(i){this.gridOptionsService.set("pivotHeaderHeight",i)},p.prototype.setPivotGroupHeaderHeight=function(i){this.gridOptionsService.set("pivotGroupHeaderHeight",i)},p.prototype.setPivotMode=function(i){this.columnModel.setPivotMode(i)},p.prototype.setAnimateRows=function(i){this.gridOptionsService.set("animateRows",i)},p.prototype.setIsExternalFilterPresent=function(i){this.gridOptionsService.set("isExternalFilterPresent",i)},p.prototype.setDoesExternalFilterPass=function(i){this.gridOptionsService.set("doesExternalFilterPass",i)},p.prototype.setNavigateToNextCell=function(i){this.gridOptionsService.set("navigateToNextCell",i)},p.prototype.setTabToNextCell=function(i){this.gridOptionsService.set("tabToNextCell",i)},p.prototype.setTabToNextHeader=function(i){this.gridOptionsService.set("tabToNextHeader",i)},p.prototype.setNavigateToNextHeader=function(i){this.gridOptionsService.set("navigateToNextHeader",i)},p.prototype.setRowGroupPanelShow=function(i){this.gridOptionsService.set("rowGroupPanelShow",i)},p.prototype.setGroupRowAggNodes=function(i){lr("27.2","setGroupRowAggNodes","setGetGroupRowAgg"),this.gridOptionsService.set("groupRowAggNodes",i)},p.prototype.setGetGroupRowAgg=function(i){this.gridOptionsService.set("getGroupRowAgg",i)},p.prototype.setGetBusinessKeyForNode=function(i){this.gridOptionsService.set("getBusinessKeyForNode",i)},p.prototype.setGetChildCount=function(i){this.gridOptionsService.set("getChildCount",i)},p.prototype.setProcessRowPostCreate=function(i){this.gridOptionsService.set("processRowPostCreate",i)},p.prototype.setGetRowNodeId=function(i){lr("27.1","setGetRowNodeId","setGetRowId"),this.gridOptionsService.set("getRowNodeId",i)},p.prototype.setGetRowId=function(i){this.gridOptionsService.set("getRowId",i)},p.prototype.setGetRowClass=function(i){this.gridOptionsService.set("getRowClass",i)},p.prototype.setIsFullWidthCell=function(i){lr("27.2","setIsFullWidthCell","setIsFullWidthRow"),this.gridOptionsService.set("isFullWidthCell",i)},p.prototype.setIsFullWidthRow=function(i){this.gridOptionsService.set("isFullWidthRow",i)},p.prototype.setIsRowSelectable=function(i){this.gridOptionsService.set("isRowSelectable",i)},p.prototype.setIsRowMaster=function(i){this.gridOptionsService.set("isRowMaster",i)},p.prototype.setPostSort=function(i){lr("27.2","setPostSort","setPostSortRows"),this.gridOptionsService.set("postSort",i)},p.prototype.setPostSortRows=function(i){this.gridOptionsService.set("postSortRows",i)},p.prototype.setGetDocument=function(i){this.gridOptionsService.set("getDocument",i)},p.prototype.setGetContextMenuItems=function(i){this.gridOptionsService.set("getContextMenuItems",i)},p.prototype.setGetMainMenuItems=function(i){this.gridOptionsService.set("getMainMenuItems",i)},p.prototype.setProcessCellForClipboard=function(i){this.gridOptionsService.set("processCellForClipboard",i)},p.prototype.setSendToClipboard=function(i){this.gridOptionsService.set("sendToClipboard",i)},p.prototype.setProcessCellFromClipboard=function(i){this.gridOptionsService.set("processCellFromClipboard",i)},p.prototype.setProcessSecondaryColDef=function(i){lr("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(i)},p.prototype.setProcessSecondaryColGroupDef=function(i){lr("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(i)},p.prototype.setProcessPivotResultColDef=function(i){this.gridOptionsService.set("processPivotResultColDef",i)},p.prototype.setProcessPivotResultColGroupDef=function(i){this.gridOptionsService.set("processPivotResultColGroupDef",i)},p.prototype.setPostProcessPopup=function(i){this.gridOptionsService.set("postProcessPopup",i)},p.prototype.setDefaultGroupOrderComparator=function(i){lr("27.2","setDefaultGroupOrderComparator","setInitialGroupOrderComparator"),this.gridOptionsService.set("defaultGroupOrderComparator",i)},p.prototype.setInitialGroupOrderComparator=function(i){this.gridOptionsService.set("initialGroupOrderComparator",i)},p.prototype.setGetChartToolbarItems=function(i){this.gridOptionsService.set("getChartToolbarItems",i)},p.prototype.setPaginationNumberFormatter=function(i){this.gridOptionsService.set("paginationNumberFormatter",i)},p.prototype.setGetServerSideStoreParams=function(i){lr("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(i)},p.prototype.setGetServerSideGroupLevelParams=function(i){this.gridOptionsService.set("getServerSideGroupLevelParams",i)},p.prototype.setIsServerSideGroupOpenByDefault=function(i){this.gridOptionsService.set("isServerSideGroupOpenByDefault",i)},p.prototype.setIsApplyServerSideTransaction=function(i){this.gridOptionsService.set("isApplyServerSideTransaction",i)},p.prototype.setIsServerSideGroup=function(i){this.gridOptionsService.set("isServerSideGroup",i)},p.prototype.setGetServerSideGroupKey=function(i){this.gridOptionsService.set("getServerSideGroupKey",i)},p.prototype.setGetRowStyle=function(i){this.gridOptionsService.set("getRowStyle",i)},p.prototype.setGetRowHeight=function(i){this.gridOptionsService.set("getRowHeight",i)},p.prototype.assertSideBarLoaded=function(i){return qe.assertRegistered(ke.SideBarModule,"api."+i)},p.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},p.prototype.setSideBarVisible=function(i){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(i)},p.prototype.setSideBarPosition=function(i){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(i)},p.prototype.openToolPanel=function(i){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(i,"api")},p.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},p.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},p.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},p.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},p.prototype.getToolPanelInstance=function(i){if(this.assertSideBarLoaded("getToolPanelInstance"))return Sa(this.sideBarComp.getToolPanelInstance(i))},p.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},p.prototype.setSideBar=function(i){this.gridOptionsService.set("sideBar",i)},p.prototype.setSuppressClipboardPaste=function(i){this.gridOptionsService.set("suppressClipboardPaste",i)},p.prototype.resetRowHeights=function(){if(o(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},p.prototype.setGroupRemoveSingleChildren=function(i){this.gridOptionsService.set("groupRemoveSingleChildren",i)},p.prototype.setGroupRemoveLowestSingleChildren=function(i){this.gridOptionsService.set("groupRemoveLowestSingleChildren",i)},p.prototype.setGroupDisplayType=function(i){this.gridOptionsService.set("groupDisplayType",i)},p.prototype.setRowClass=function(i){this.gridOptionsService.set("rowClass",i)},p.prototype.setDeltaSort=function(i){this.gridOptionsService.set("deltaSort",i)},p.prototype.setRowCount=function(i,r){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(i,r):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(i,r):this.logMissingRowModel("setRowCount","infinite","serverSide")},p.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},p.prototype.getValue=function(i,r){var a=this.columnModel.getPrimaryColumn(i);return s(a)&&(a=this.columnModel.getGridColumn(i)),s(a)?null:this.valueService.getValue(a,r)},p.prototype.addEventListener=function(i,r){var a=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(i,r,a)},p.prototype.addGlobalListener=function(i){var r=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(i,r)},p.prototype.removeEventListener=function(i,r){var a=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(i,r,a)},p.prototype.removeGlobalListener=function(i){var r=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(i,r)},p.prototype.dispatchEvent=function(i){this.eventService.dispatchEvent(i)},p.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy()}},p.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(_e.bind(window,this,"Grid API"),100)},p.prototype.warnIfDestroyed=function(i){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+i+" was called on a grid that was destroyed."),this.destroyCalled},p.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},p.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(qe.assertRegistered(ke.RangeSelectionModule,"api.getCellRanges"),null)},p.prototype.addCellRange=function(i){this.rangeService?this.rangeService.addCellRange(i):qe.assertRegistered(ke.RangeSelectionModule,"api.addCellRange")},p.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),qe.assertRegistered(ke.RangeSelectionModule,"gridApi.clearRangeSelection")},p.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},p.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},p.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},p.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},p.prototype.getChartModels=function(){if(qe.assertRegistered(ke.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},p.prototype.getChartRef=function(i){if(qe.assertRegistered(ke.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(i)},p.prototype.getChartImageDataURL=function(i){if(qe.assertRegistered(ke.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(i)},p.prototype.downloadChart=function(i){if(qe.assertRegistered(ke.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(i)},p.prototype.openChartToolPanel=function(i){if(qe.assertRegistered(ke.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(i)},p.prototype.closeChartToolPanel=function(i){if(qe.assertRegistered(ke.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(i.chartId)},p.prototype.createRangeChart=function(i){if(qe.assertRegistered(ke.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(i)},p.prototype.createCrossFilterChart=function(i){if(qe.assertRegistered(ke.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(i)},p.prototype.restoreChart=function(i,r){if(qe.assertRegistered(ke.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(i,r)},p.prototype.createPivotChart=function(i){if(qe.assertRegistered(ke.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(i)},p.prototype.copyToClipboard=function(i){qe.assertRegistered(ke.ClipboardModule,"api.copyToClipboard")&&this.clipboardService.copyToClipboard(i)},p.prototype.cutToClipboard=function(i){qe.assertRegistered(ke.ClipboardModule,"api.cutToClipboard")&&this.clipboardService.cutToClipboard(i)},p.prototype.copySelectedRowsToClipboard=function(i){qe.assertRegistered(ke.ClipboardModule,"api.copySelectedRowsToClipboard")&&this.clipboardService.copySelectedRowsToClipboard(i)},p.prototype.copySelectedRangeToClipboard=function(i){qe.assertRegistered(ke.ClipboardModule,"api.copySelectedRangeToClipboard")&&this.clipboardService.copySelectedRangeToClipboard(i)},p.prototype.copySelectedRangeDown=function(){qe.assertRegistered(ke.ClipboardModule,"api.copySelectedRangeDown")&&this.clipboardService.copyRangeDown()},p.prototype.showColumnMenuAfterButtonClick=function(i,r){var a=this.columnModel.getGridColumn(i);this.menuFactory.showMenuAfterButtonClick(a,r,"columnMenu")},p.prototype.showColumnMenuAfterMouseClick=function(i,r){var a=this.columnModel.getGridColumn(i);a||(a=this.columnModel.getPrimaryColumn(i)),a?this.menuFactory.showMenuAfterMouseEvent(a,r):console.error("AG Grid: column '"+i+"' not found")},p.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},p.prototype.setPopupParent=function(i){this.gridOptionsService.set("popupParent",i)},p.prototype.tabToNextCell=function(i){return this.navigationService.tabToNextCell(!1,i)},p.prototype.tabToPreviousCell=function(i){return this.navigationService.tabToNextCell(!0,i)},p.prototype.getCellRendererInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellRendererInstances(i).map(Sa)},p.prototype.getCellEditorInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellEditorInstances(i).map(Sa)},p.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},p.prototype.stopEditing=function(i){void 0===i&&(i=!1),this.rowRenderer.stopEditing(i)},p.prototype.startEditingCell=function(i){var r=this.columnModel.getGridColumn(i.colKey);if(r){var a={rowIndex:i.rowIndex,rowPinned:i.rowPinned||null,column:r};null==i.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(i.rowIndex);var c=this.navigationService.getCellByPosition(a);c&&c.startRowOrCellEdit(i.key,i.charPress)}else console.warn("AG Grid: no column found for "+i.colKey)},p.prototype.addAggFunc=function(i,r){this.aggFuncService&&this.aggFuncService.addAggFunc(i,r)},p.prototype.addAggFuncs=function(i){this.aggFuncService&&this.aggFuncService.addAggFuncs(i)},p.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},p.prototype.applyServerSideTransaction=function(i){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(i);this.logMissingRowModel("applyServerSideTransaction","serverSide")},p.prototype.applyServerSideTransactionAsync=function(i,r){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(i,r);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},p.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},p.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},p.prototype.applyTransaction=function(i){if(this.clientSideRowModel){var r=this.clientSideRowModel.updateRowData(i);return this.rowRenderer.refreshFullWidthRows(r.update),this.gridOptionsService.is("suppressChangeDetection")||this.rowRenderer.refreshCells(),r}this.logMissingRowModel("applyTransaction","clientSide")},p.prototype.applyTransactionAsync=function(i,r){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(i,r):this.logMissingRowModel("applyTransactionAsync","clientSide")},p.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},p.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(i){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",i)},p.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},p.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},p.prototype.refreshServerSide=function(i){this.serverSideRowModel?this.serverSideRowModel.refreshStore(i):this.logMissingRowModel("refreshServerSide","serverSide")},p.prototype.refreshServerSideStore=function(i){return lr("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(i)},p.prototype.getServerSideStoreState=function(){return lr("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},p.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},p.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},p.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},p.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},p.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},p.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},p.prototype.getDisplayedRowAtIndex=function(i){return this.rowModel.getRow(i)},p.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},p.prototype.setPagination=function(i){this.gridOptionsService.set("pagination",i)},p.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},p.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},p.prototype.paginationSetPageSize=function(i){this.gridOptionsService.set("paginationPageSize",i)},p.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},p.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},p.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},p.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},p.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},p.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},p.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},p.prototype.paginationGoToPage=function(i){this.paginationProxy.goToPage(i)},Ct([gt("immutableService")],p.prototype,"immutableService",void 0),Ct([gt("csvCreator")],p.prototype,"csvCreator",void 0),Ct([gt("excelCreator")],p.prototype,"excelCreator",void 0),Ct([$("rowRenderer")],p.prototype,"rowRenderer",void 0),Ct([$("navigationService")],p.prototype,"navigationService",void 0),Ct([$("filterManager")],p.prototype,"filterManager",void 0),Ct([$("columnModel")],p.prototype,"columnModel",void 0),Ct([$("selectionService")],p.prototype,"selectionService",void 0),Ct([$("gridOptionsService")],p.prototype,"gridOptionsService",void 0),Ct([$("valueService")],p.prototype,"valueService",void 0),Ct([$("alignedGridsService")],p.prototype,"alignedGridsService",void 0),Ct([$("eventService")],p.prototype,"eventService",void 0),Ct([$("pinnedRowModel")],p.prototype,"pinnedRowModel",void 0),Ct([$("context")],p.prototype,"context",void 0),Ct([$("rowModel")],p.prototype,"rowModel",void 0),Ct([$("sortController")],p.prototype,"sortController",void 0),Ct([$("paginationProxy")],p.prototype,"paginationProxy",void 0),Ct([$("focusService")],p.prototype,"focusService",void 0),Ct([$("dragAndDropService")],p.prototype,"dragAndDropService",void 0),Ct([gt("rangeService")],p.prototype,"rangeService",void 0),Ct([gt("clipboardService")],p.prototype,"clipboardService",void 0),Ct([gt("aggFuncService")],p.prototype,"aggFuncService",void 0),Ct([$("menuFactory")],p.prototype,"menuFactory",void 0),Ct([gt("contextMenuFactory")],p.prototype,"contextMenuFactory",void 0),Ct([$("valueCache")],p.prototype,"valueCache",void 0),Ct([$("animationFrameService")],p.prototype,"animationFrameService",void 0),Ct([gt("statusBarService")],p.prototype,"statusBarService",void 0),Ct([gt("chartService")],p.prototype,"chartService",void 0),Ct([gt("undoRedoService")],p.prototype,"undoRedoService",void 0),Ct([gt("rowNodeBlockLoader")],p.prototype,"rowNodeBlockLoader",void 0),Ct([gt("ssrmTransactionManager")],p.prototype,"serverSideTransactionManager",void 0),Ct([$("ctrlsService")],p.prototype,"ctrlsService",void 0),Ct([ce],p.prototype,"init",null),Ct([ze],p.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Ct([Le("gridApi")],p)}(),$E=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ql=function(){return Ql=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Ql.apply(this,arguments)},lo=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Wc=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.allColumnFilters=new Map,a.activeAggregateFilters=[],a.activeColumnFilters=[],a.quickFilter=null,a.quickFilterParts=null,a.processingFilterChange=!1,a}var r;return $E(i,p),r=i,i.prototype.init=function(){var a=this;this.addManagedListener(this.eventService,J.EVENT_GRID_COLUMNS_CHANGED,function(){return a.onColumnsChanged()}),this.addManagedListener(this.eventService,J.EVENT_COLUMN_VALUE_CHANGED,function(){return a.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,J.EVENT_COLUMN_PIVOT_CHANGED,function(){return a.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,J.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return a.refreshFiltersForAggregations()}),this.addManagedPropertyListener("quickFilterText",function(u){return a.setQuickFilter(u.currentValue)}),this.addManagedPropertyListener("excludeHiddenColumnsFromQuickFilter",function(){return a.onExcludeHiddenColumnsFromQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback()},i.prototype.isExternalFilterPresentCallback=function(){var a=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof a&&a({})},i.prototype.doesExternalFilterPass=function(a){var u=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof u&&u(a)},i.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},i.prototype.setFilterModel=function(a){var u=this,c=[],_=this.getFilterModel();if(a){var E=oo(Object.keys(a));this.allColumnFilters.forEach(function(P,M){c.push(u.setModelOnFilterWrapper(P.filterPromise,a[M])),E.delete(M)}),E.forEach(function(P){var M=u.columnModel.getPrimaryColumn(P)||u.columnModel.getGridColumn(P);if(M)if(M.isFilterAllowed()){var L=u.getOrCreateFilterWrapper(M,"NO_UI");L?c.push(u.setModelOnFilterWrapper(L.filterPromise,a[P])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+P)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+P);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+P)})}else this.allColumnFilters.forEach(function(P){c.push(u.setModelOnFilterWrapper(P.filterPromise,null))});en.all(c).then(function(){var P=u.getFilterModel(),M=[];u.allColumnFilters.forEach(function(L,B){Ye.jsonEquals(_?_[B]:null,P?P[B]:null)||M.push(L.column)}),M.length>0&&u.onFilterChanged({columns:M})})},i.prototype.setModelOnFilterWrapper=function(a,u){return new en(function(c){a.then(function(_){"function"!=typeof _.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),c()),(_.setModel(u)||en.resolve()).then(function(){return c()})})})},i.prototype.getFilterModel=function(){var a={};return this.allColumnFilters.forEach(function(u,c){var E=u.filterPromise.resolveNow(null,function(M){return M});if(null==E)return null;if("function"==typeof E.getModel){var P=E.getModel();o(P)&&(a[c]=P)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),a},i.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},i.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},i.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},i.prototype.doAggregateFiltersPass=function(a,u){return this.doColumnFiltersPass(a,u,!0)},i.prototype.updateActiveFilters=function(){var a=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var u=function(E){return!!E&&(E.isFilterActive?E.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},c=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach(function(E){if(E.filterPromise.resolveNow(!1,u)){var P=E.filterPromise.resolveNow(null,function(M){return M});!function(E){if(!E.isPrimary())return!0;var M=!a.columnModel.isPivotActive();return!(!E.isValueActive()||!M)&&(!!a.columnModel.isPivotMode()||c)}(E.column)?a.activeColumnFilters.push(P):a.activeAggregateFilters.push(P)}})},i.prototype.updateFilterFlagInColumns=function(a,u){this.allColumnFilters.forEach(function(c){var _=c.filterPromise.resolveNow(!1,function(E){return E.isFilterActive()});c.column.setFilterActive(_,a,u)})},i.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},i.prototype.doColumnFiltersPass=function(a,u,c){for(var P=c?this.activeAggregateFilters:this.activeColumnFilters,M=c?a.aggData:a.data,L=0;L<P.length;L++){var B=P[L];if(null!=B&&B!==u){if("function"!=typeof B.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!B.doesFilterPass({node:a,data:M}))return!1}}return!0},i.prototype.parseQuickFilter=function(a){return o(a)?this.gridOptionsService.isRowModelType("clientSide")?a.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},i.prototype.setQuickFilter=function(a){if(null==a||"string"==typeof a){var u=this.parseQuickFilter(a);this.quickFilter!==u&&(this.quickFilter=u,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof a)},i.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(a){return a.quickFilterAggregateText=null})},i.prototype.onExcludeHiddenColumnsFromQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()},i.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},i.prototype.callOnFilterChangedOutsideRenderCycle=function(a){var u=this;void 0===a&&(a={});var c=function(){return u.onFilterChanged(a)};this.rowRenderer.isRefreshInProgress()?setTimeout(c,0):c()},i.prototype.onFilterChanged=function(a){void 0===a&&(a={});var u=a.filterInstance,c=a.additionalEventAttributes,_=a.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",c),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(P){P.filterPromise&&P.filterPromise.then(function(M){M&&M!==u&&M.onAnyFilterChanged&&M.onAnyFilterChanged()})});var E={type:J.EVENT_FILTER_CHANGED,columns:_||[]};c&&ne(E,c),this.processingFilterChange=!0,this.eventService.dispatchEvent(E),this.processingFilterChange=!1},i.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},i.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},i.prototype.doesRowPassOtherFilters=function(a,u){return this.doesRowPassFilter({rowNode:u,filterInstanceToSkip:a})},i.prototype.doesRowPassQuickFilterNoCache=function(a,u){var c=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(E){var P=c.getQuickFilterTextForColumn(E,a);return o(P)&&P.indexOf(u)>=0})},i.prototype.doesRowPassQuickFilterCache=function(a,u){return a.quickFilterAggregateText||this.aggregateRowForQuickFilter(a),a.quickFilterAggregateText.indexOf(u)>=0},i.prototype.doesRowPassQuickFilter=function(a){var u=this,c=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every(function(_){return c?u.doesRowPassQuickFilterCache(a,_):u.doesRowPassQuickFilterNoCache(a,_)})},i.prototype.doesRowPassAggregateFilters=function(a){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(a.rowNode,a.filterInstanceToSkip))},i.prototype.doesRowPassFilter=function(a){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(a.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(a.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(a.rowNode,a.filterInstanceToSkip))},i.prototype.getQuickFilterTextForColumn=function(a,u){var c=this.valueService.getValue(a,u,!0),_=a.getColDef();return _.getQuickFilterText&&(c=_.getQuickFilterText({value:c,node:u,data:u.data,column:a,colDef:_,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),o(c)?c.toString().toUpperCase():null},i.prototype.aggregateRowForQuickFilter=function(a){var u=this,c=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(E){var P=u.getQuickFilterTextForColumn(E,a);o(P)&&c.push(P)}),a.quickFilterAggregateText=c.join(r.QUICK_FILTER_SEPARATOR)},i.prototype.onNewRowsLoaded=function(a){this.allColumnFilters.forEach(function(u){u.filterPromise.then(function(c){c.onNewRowsLoaded&&c.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(a,{afterDataChange:!0}),this.updateActiveFilters()},i.prototype.createValueGetter=function(a){var u=this;return function(c){return u.valueService.getValue(a,c.node,!0)}},i.prototype.getFilterComponent=function(a,u,c){var _;if(void 0===c&&(c=!0),c)return(null===(_=this.getOrCreateFilterWrapper(a,u))||void 0===_?void 0:_.filterPromise)||null;var E=this.cachedFilter(a);return E?E.filterPromise:null},i.prototype.isFilterActive=function(a){var u=this.cachedFilter(a);return!!u&&u.filterPromise.resolveNow(!1,function(c){return c.isFilterActive()})},i.prototype.getOrCreateFilterWrapper=function(a,u){if(!a.isFilterAllowed())return null;var c=this.cachedFilter(a);return c?"NO_UI"!==u&&this.putIntoGui(c,u):(c=this.createFilterWrapper(a,u),this.allColumnFilters.set(a.getColId(),c)),c},i.prototype.cachedFilter=function(a){return this.allColumnFilters.get(a.getColId())},i.prototype.createFilterInstance=function(a){var E,u=this,c=qe.isRegistered(ke.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",_=a.getColDef(),P=Ql(Ql({},this.createFilterParams(a,_)),{filterModifiedCallback:function(){u.eventService.dispatchEvent({type:J.EVENT_FILTER_MODIFIED,column:a,filterInstance:E})},filterChangedCallback:function(B){u.callOnFilterChangedOutsideRenderCycle({filterInstance:E,additionalEventAttributes:B,columns:[a]})},doesRowPassOtherFilter:function(B){return u.doesRowPassOtherFilters(E,B)}}),M=this.userComponentFactory.getFilterDetails(_,P,c);if(!M)return null;var L=M.newAgStackInstance();return L&&L.then(function(B){return E=B}),L},i.prototype.createFilterParams=function(a,u){return{column:a,colDef:V(u),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(a),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},i.prototype.createFilterWrapper=function(a,u){var c={column:a,filterPromise:null,compiledElement:null,guiPromise:en.resolve(null)};return c.filterPromise=this.createFilterInstance(a),c.filterPromise&&this.putIntoGui(c,u),c},i.prototype.putIntoGui=function(a,u){var c=this,_=document.createElement("div");_.className="ag-filter",a.guiPromise=new en(function(E){a.filterPromise.then(function(P){var M=P.getGui();o(M)||console.warn("AG Grid: getGui method from filter returned "+M+", it should be a DOM element or an HTML template string."),"string"==typeof M&&(M=gr(M)),_.appendChild(M),E(_),c.eventService.dispatchEvent({type:J.EVENT_FILTER_OPENED,column:a.column,source:u,eGui:_})})})},i.prototype.onColumnsChanged=function(){var a=this,u=[];this.allColumnFilters.forEach(function(c,_){!(c.column.isPrimary()?a.columnModel.getPrimaryColumn(_):a.columnModel.getGridColumn(_))&&(u.push(c.column),a.disposeFilterWrapper(c,"filterDestroyed"))}),u.length>0?this.onFilterChanged({columns:u}):this.updateDependantFilters()},i.prototype.updateDependantFilters=function(){var a=this;this.columnModel.getGroupAutoColumns()?.forEach(function(c){"agGroupColumnFilter"===c.getColDef().filter&&a.getOrCreateFilterWrapper(c,"NO_UI")})},i.prototype.isFilterAllowed=function(a){var u,c;return!!a.isFilterAllowed()&&(null===(c=null===(u=this.allColumnFilters.get(a.getColId())?.filterPromise)||void 0===u?void 0:u.resolveNow(!0,function(P){var M,L;return"function"!=typeof(null===(M=P)||void 0===M?void 0:M.isFilterAllowed)||(null===(L=P)||void 0===L?void 0:L.isFilterAllowed())}))||void 0===c||c)},i.prototype.getFloatingFilterCompDetails=function(a,u){var c=this,_=a.getColDef(),E=this.createFilterParams(a,_),P=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(_,Ao,E),M=this.userComponentFactory.getDefaultFloatingFilterType(_);return null==M&&(M="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(_,{column:a,filterParams:P,currentParentModel:function(){return c.getCurrentFloatingFilterParentModel(a)},parentFilterInstance:function(U){c.getFilterComponent(a,"NO_UI")?.then(function(Q){U(Sa(Q))})},showParentFilter:u,suppressFilterButton:!1},M)},i.prototype.getCurrentFloatingFilterParentModel=function(a){var u=this.getFilterComponent(a,"NO_UI",!1);return u?u.resolveNow(null,function(c){return c&&c.getModel()}):null},i.prototype.destroyFilter=function(a,u){void 0===u&&(u="api");var c=this.allColumnFilters.get(a.getColId());c&&(this.disposeFilterWrapper(c,u),this.onFilterChanged({columns:[a]}))},i.prototype.disposeFilterWrapper=function(a,u){var c=this;a.filterPromise.then(function(_){(_.setModel(null)||en.resolve()).then(function(){c.getContext().destroyBean(_),c.allColumnFilters.delete(a.column.getColId()),a.column.setFilterActive(!1,u)})})},i.prototype.destroy=function(){var a=this;p.prototype.destroy.call(this),this.allColumnFilters.forEach(function(u){return a.disposeFilterWrapper(u,"filterDestroyed")})},i.QUICK_FILTER_SEPARATOR="\n",lo([$("valueService")],i.prototype,"valueService",void 0),lo([$("columnModel")],i.prototype,"columnModel",void 0),lo([$("rowModel")],i.prototype,"rowModel",void 0),lo([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),lo([$("rowRenderer")],i.prototype,"rowRenderer",void 0),lo([ce],i.prototype,"init",null),lo([ze],i.prototype,"destroy",null),r=lo([Le("filterManager")],i)}(Me),jE=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),$f=function(p){function i(r,a){var u=p.call(this,r)||this;return u.ctrl=a,u}return jE(i,p),i.prototype.getCtrl=function(){return this.ctrl},i}(Ge),Hc=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Uc=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},KE=function(p){function i(r){return p.call(this,i.TEMPLATE,r)||this}return Hc(i,p),i.prototype.postConstruct=function(){var r=this,a=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(c,_){return r.addOrRemoveCssClass(c,_)},addOrRemoveBodyCssClass:function(c,_){return r.eFloatingFilterBody.classList.toggle(c,_)},setButtonWrapperDisplayed:function(c){return ft(r.eButtonWrapper,c)},setCompDetails:function(c){return r.setCompDetails(c)},getFloatingFilterComp:function(){return r.compPromise},setWidth:function(c){return a.style.width=c},setMenuIcon:function(c){return r.eButtonShowMainFilter.appendChild(c)}},a,this.eButtonShowMainFilter,this.eFloatingFilterBody)},i.prototype.setCompDetails=function(r){var a=this;this.compPromise=r.newAgStackInstance(),this.compPromise.then(function(u){return a.afterCompCreated(u)})},i.prototype.afterCompCreated=function(r){var a=this;r&&(this.addDestroyFunc(function(){return a.context.destroyBean(r)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(r.getGui()),r.afterGuiAttached&&r.afterGuiAttached()))},i.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Uc([be("eFloatingFilterBody")],i.prototype,"eFloatingFilterBody",void 0),Uc([be("eButtonWrapper")],i.prototype,"eButtonWrapper",void 0),Uc([be("eButtonShowMainFilter")],i.prototype,"eButtonShowMainFilter",void 0),Uc([ce],i.prototype,"postConstruct",null),i}($f),zE=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),cr=(()=>(function(p){p.AUTO_HEIGHT="ag-layout-auto-height",p.NORMAL="ag-layout-normal",p.PRINT="ag-layout-print"}(cr||(cr={})),cr))(),$c=function(p){function i(r){var a=p.call(this)||this;return a.view=r,a}return zE(i,p),i.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},i.prototype.updateLayoutClasses=function(){var r=this.getDomLayout(),a={autoHeight:"autoHeight"===r,normal:"normal"===r,print:"print"===r};this.view.updateLayoutClasses(a.autoHeight?cr.AUTO_HEIGHT:a.print?cr.PRINT:cr.NORMAL,a)},i.prototype.getDomLayout=function(){var r,a=null!==(r=this.gridOptionsService.get("domLayout"))&&void 0!==r?r:"normal";return-1===["normal","print","autoHeight"].indexOf(a)?(Ce(function(){return console.warn("AG Grid: "+a+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")},"warn about dom layout values"),"normal"):a},function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ce],i.prototype,"postConstruct",null),i}(Me),jf=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wa=function(){return wa=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},wa.apply(this,arguments)},Ai=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Kf=function(p){function i(r){var a=p.call(this)||this;return a.scrollLeft=-1,a.nextScrollTop=-1,a.scrollTop=-1,a.eBodyViewport=r,a.resetLastHScrollDebounced=Et(function(){return a.eLastHScroll=null},500),a.resetLastVScrollDebounced=Et(function(){return a.eLastVScroll=null},500),a}return jf(i,p),i.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(a){r.centerRowContainerCtrl=a.centerRowContainerCtrl,r.onDisplayedColumnsWidthChanged(),r.addScrollListener()})},i.prototype.addScrollListener=function(){var r=this.ctrlsService.getFakeHScrollComp(),a=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),this.addManagedListener(r.getViewport(),"scroll",this.onFakeHScroll.bind(this));var u=this.gridOptionsService.is("debounceVerticalScrollbar"),c=u?Et(this.onVScroll.bind(this),100):this.onVScroll.bind(this),_=u?Et(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",c),this.addManagedListener(a.getViewport(),"scroll",_)},i.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},i.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(r){if(null!=this.centerRowContainerCtrl){void 0===r&&(r=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var u=this.enableRtl?r:-r,c=this.ctrlsService.getTopCenterRowContainerCtrl(),_=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),E=this.ctrlsService.getBottomCenterRowContainerCtrl(),P=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(u),E.setContainerTranslateX(u),c.setContainerTranslateX(u),_.setContainerTranslateX(u);var L=this.centerRowContainerCtrl.getViewportElement();Ri(this.eLastHScroll===L?P.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(r),this.enableRtl)}},i.prototype.isControllingHScroll=function(r){return this.eLastHScroll?r===this.eLastHScroll:(this.eLastHScroll=r,!0)},i.prototype.isControllingVScroll=function(r){return this.eLastVScroll?r===this.eLastVScroll:(this.eLastVScroll=r,!0)},i.prototype.onFakeHScroll=function(){var r=this.ctrlsService.getFakeHScrollComp().getViewport();this.isControllingHScroll(r)&&this.onHScrollCommon(r)},i.prototype.onHScroll=function(){var r=this.centerRowContainerCtrl.getViewportElement();this.isControllingHScroll(r)&&this.onHScrollCommon(r)},i.prototype.onHScrollCommon=function(r){var a=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",a.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(io(r,this.enableRtl))),this.resetLastHScrollDebounced())},i.prototype.onFakeVScroll=function(){var r=this.ctrlsService.getFakeVScrollComp().getViewport();this.isControllingVScroll(r)&&this.onVScrollCommon(r)},i.prototype.onVScroll=function(){this.isControllingVScroll(this.eBodyViewport)&&this.onVScrollCommon(this.eBodyViewport)},i.prototype.onVScrollCommon=function(r){var a=r.scrollTop;this.shouldBlockScrollUpdate("vertical",a,!0)||(this.animationFrameService.setScrollTop(a),this.nextScrollTop=a,r===this.eBodyViewport?this.ctrlsService.getFakeVScrollComp().getViewport().scrollTop=a:this.eBodyViewport.scrollTop=a,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},i.prototype.doHorizontalScroll=function(r){var u=io(this.ctrlsService.getFakeHScrollComp().getViewport(),this.enableRtl);this.scrollLeft===r&&r===u||(this.scrollLeft=r,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(r),this.onHorizontalViewportChanged())},i.prototype.fireScrollEvent=function(r){var a=this,u={type:J.EVENT_BODY_SCROLL,direction:r,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(u),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var c=wa(wa({},u),{type:J.EVENT_BODY_SCROLL_END});a.eventService.dispatchEvent(c)},100)},i.prototype.shouldBlockScrollUpdate=function(r,a,u){if(void 0===u&&(u=!1),u&&!Mn())return!1;if("vertical"===r){var c=Lt(this.eBodyViewport);if(a<0||a+c>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===r){var E=this.centerRowContainerCtrl.getCenterWidth(),P=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&no()){if(a>0)return!0}else if(a<0)return!0;if(Math.abs(a)+E>P)return!0}return!1},i.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},i.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},i.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(this.centerRowContainerCtrl.getViewportElement())},i.prototype.scrollGridIfNeeded=function(){var r=this.scrollTop!=this.nextScrollTop;return r&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),r},i.prototype.setHorizontalScrollPosition=function(r){var u=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",r)&&(r=this.enableRtl&&no()?r>0?0:u:Math.min(Math.max(r,0),u)),Ri(this.centerRowContainerCtrl.getViewportElement(),Math.abs(r),this.enableRtl),this.doHorizontalScroll(r)},i.prototype.setVerticalScrollPosition=function(r){this.eBodyViewport.scrollTop=r},i.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},i.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},i.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},i.prototype.scrollHorizontally=function(r){var a=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(a+r),this.centerRowContainerCtrl.getViewportElement().scrollLeft-a},i.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},i.prototype.ensureNodeVisible=function(r,a){void 0===a&&(a=null);for(var u=this.rowModel.getRowCount(),c=-1,_=0;_<u;_++){var E=this.rowModel.getRow(_);if("function"==typeof r){if(E&&r(E)){c=_;break}}else if(r===E||r===E.data){c=_;break}}c>=0&&this.ensureIndexVisible(c,a)},i.prototype.ensureIndexVisible=function(r,a){if(!this.gridOptionsService.isDomLayout("print")){var u=this.paginationProxy.getRowCount();if("number"!=typeof r||r<0||r>=u)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+r);this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(r);var L,P=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),M=this.paginationProxy.getRow(r);do{var B=M.rowTop,U=M.rowHeight,X=this.paginationProxy.getPixelOffset(),Q=M.rowTop-X,oe=Q+M.rowHeight,le=this.getVScrollPosition(),fe=this.heightScaler.getDivStretchOffset(),de=le.top+fe,Oe=le.bottom+fe,Ie=Oe-de,Be=this.heightScaler.getScrollPositionForPixel(Q),Xe=this.heightScaler.getScrollPositionForPixel(oe-Ie),me=Math.min((Be+Xe)/2,Q),dt=null;"top"===a?dt=Be:"bottom"===a?dt=Xe:"middle"===a?dt=me:de+P>Q?dt=Be-P:Oe<oe&&(dt=Xe),null!==dt&&(this.eBodyViewport.scrollTop=dt,this.rowRenderer.redrawAfterScroll()),L=B!==M.rowTop||U!==M.rowHeight}while(L);this.animationFrameService.flushAllFrames()}},i.prototype.ensureColumnVisible=function(r,a){void 0===a&&(a="auto");var u=this.columnModel.getGridColumn(r);if(u&&!u.isPinned()&&this.columnModel.isColumnDisplayed(u)){var c=this.getPositionedHorizontalScroll(u,a);null!==c&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(c),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},i.prototype.getPositionedHorizontalScroll=function(r,a){var u=this.isColumnOutsideViewport(r),c=u.columnBeforeStart,_=u.columnAfterEnd,E=this.centerRowContainerCtrl.getCenterWidth()<r.getActualWidth(),P=this.centerRowContainerCtrl.getCenterWidth(),M=this.enableRtl,L=(M?c:_)||E,B=M?_:c;"auto"!==a&&(L="start"===a,B="end"===a);var U="middle"===a;if(L||B||U){var X=this.getColumnBounds(r),Q=X.colLeft,le=X.colRight;return U?X.colMiddle-P/2:L?M?le:Q:M?Q-P:le-P}return null},i.prototype.isColumnOutsideViewport=function(r){var a=this.getViewportBounds(),u=a.start,c=a.end,_=this.getColumnBounds(r),E=_.colLeft,P=_.colRight,M=this.enableRtl;return{columnBeforeStart:M?u>P:c<P,columnAfterEnd:M?c<E:u>E}},i.prototype.getColumnBounds=function(r){var a=this.enableRtl,u=this.columnModel.getBodyContainerWidth(),c=r.getActualWidth(),_=r.getLeft(),E=a?-1:1,P=a?u-_:_;return{colLeft:P,colMiddle:P+c/2*E,colRight:P+c*E}},i.prototype.getViewportBounds=function(){var r=this.centerRowContainerCtrl.getCenterWidth(),a=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:a,end:r+a,width:r}},Ai([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Ai([$("animationFrameService")],i.prototype,"animationFrameService",void 0),Ai([$("paginationProxy")],i.prototype,"paginationProxy",void 0),Ai([$("rowModel")],i.prototype,"rowModel",void 0),Ai([$("rowContainerHeightService")],i.prototype,"heightScaler",void 0),Ai([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Ai([$("columnModel")],i.prototype,"columnModel",void 0),Ai([ce],i.prototype,"postConstruct",null),i}(Me),jc=function(){function p(i){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=i.scrollContainer,this.scrollHorizontally=-1!==i.scrollAxis.indexOf("x"),this.scrollVertically=-1!==i.scrollAxis.indexOf("y"),this.scrollByTick=null!=i.scrollByTick?i.scrollByTick:20,i.onScrollCallback&&(this.onScrollCallback=i.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=i.getVerticalPosition,this.setVerticalPosition=i.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=i.getHorizontalPosition,this.setHorizontalPosition=i.setHorizontalPosition),this.shouldSkipVerticalScroll=i.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=i.shouldSkipHorizontalScroll||function(){return!1}}return p.prototype.check=function(i,r){void 0===r&&(r=!1);var a=r||this.shouldSkipVerticalScroll();if(!a||!this.shouldSkipHorizontalScroll()){var u=this.scrollContainer.getBoundingClientRect(),c=this.scrollByTick;this.tickLeft=i.clientX<u.left+c,this.tickRight=i.clientX>u.right-c,this.tickUp=i.clientY<u.top+c&&!a,this.tickDown=i.clientY>u.bottom-c&&!a,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},p.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},p.prototype.doTick=function(){var i;if(this.tickCount++,i=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var r=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(r-i),this.tickDown&&this.setVerticalPosition(r+i)}if(this.scrollHorizontally){var a=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(a-i),this.tickRight&&this.setHorizontalPosition(a+i)}this.onScrollCallback&&this.onScrollCallback()},p.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},p}(),sn=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Kc=function(){return Kc=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Kc.apply(this,arguments)},Ln=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},R_=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},zc=function(p){function i(r){var a=p.call(this)||this;return a.isMultiRowDrag=!1,a.isGridSorted=!1,a.isGridFiltered=!1,a.isRowGroupActive=!1,a.eContainer=r,a}return sn(i,p),i.prototype.postConstruct=function(){var r=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var a=function(){r.onSortChanged(),r.onFilterChanged(),r.onRowGroupChanged()};this.addManagedListener(this.eventService,J.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_MODEL_UPDATED,function(){a()}),a(),this.ctrlsService.whenReady(function(){var u=r.ctrlsService.getGridBodyCtrl();r.autoScrollService=new jc({scrollContainer:u.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return u.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(c){return u.getScrollFeature().setVerticalScrollPosition(c)},onScrollCallback:function(){r.onDragging(r.lastDraggingEvent)}})})},i.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},i.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},i.prototype.onRowGroupChanged=function(){var r=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!d(r)},i.prototype.getContainer=function(){return this.eContainer},i.prototype.isInterestedIn=function(r){return r===Wr.RowDrag},i.prototype.getIconName=function(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?rr.ICON_NOT_ALLOWED:rr.ICON_MOVE},i.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},i.prototype.getRowNodes=function(r){var a=this;if(!this.isFromThisGrid(r))return r.dragItem.rowNodes||[];var u=this.gridOptionsService.is("rowDragMultiRow"),c=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(R_(arguments[i]));return p}(this.selectionService.getSelectedNodes()).sort(function(E,P){return null==E.rowIndex||null==P.rowIndex?0:a.getRowIndexNumber(E)-a.getRowIndexNumber(P)}),_=r.dragItem.rowNode;return u&&-1!==c.indexOf(_)?(this.isMultiRowDrag=!0,c):(this.isMultiRowDrag=!1,[_])},i.prototype.onDragEnter=function(r){r.dragItem.rowNodes=this.getRowNodes(r),this.dispatchGridEvent(J.EVENT_ROW_DRAG_ENTER,r),this.getRowNodes(r).forEach(function(a){a.setDragging(!0)}),this.onEnterOrDragging(r)},i.prototype.onDragging=function(r){this.onEnterOrDragging(r)},i.prototype.isFromThisGrid=function(r){return r.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},i.prototype.isDropZoneWithinThisGrid=function(r){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(r.dropZoneTarget)},i.prototype.onEnterOrDragging=function(r){this.dispatchGridEvent(J.EVENT_ROW_DRAG_MOVE,r),this.lastDraggingEvent=r;var a=this.mouseEventService.getNormalisedPosition(r).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(r,a),this.autoScrollService.check(r.event)},i.prototype.doManagedDrag=function(r,a){var u=this.isFromThisGrid(r),c=this.gridOptionsService.is("rowDragManaged"),_=r.dragItem.rowNodes;c&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!u?this.isDropZoneWithinThisGrid(r)||this.clientSideRowModel.highlightRowAtPixel(_[0],a):this.moveRows(_,a))},i.prototype.getRowIndexNumber=function(r){return parseInt(Rt(r.getRowIndexString().split("-")),10)},i.prototype.moveRowAndClearHighlight=function(r){var a=this,u=this.clientSideRowModel.getLastHighlightedRowNode(),c=u&&u.highlighted===jn.Below,_=this.mouseEventService.getNormalisedPosition(r).y,E=r.dragItem.rowNodes,P=c?1:0;if(this.isFromThisGrid(r))E.forEach(function(B){B.rowTop<_&&(P-=1)}),this.moveRows(E,_,P);else{var M=this.gridOptionsService.getRowIdFunc(),L=this.clientSideRowModel.getRowIndexAtPixel(_)+1;this.clientSideRowModel.getHighlightPosition(_)===jn.Above&&L--,this.clientSideRowModel.updateRowData({add:E.map(function(B){return B.data}).filter(function(B){return!a.clientSideRowModel.getRowNode(M?M({data:B,level:0}):B.id)}),addIndex:L})}this.clearRowHighlight()},i.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},i.prototype.moveRows=function(r,a,u){void 0===u&&(u=0),this.clientSideRowModel.ensureRowsAtPixel(r,a,u)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},i.prototype.addRowDropZone=function(r){var a=this;if(r.getContainer())if(this.dragAndDropService.findExternalZone(r))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var u={getContainer:r.getContainer};r.fromGrid?(r.fromGrid=void 0,u=r):(r.onDragEnter&&(u.onDragEnter=function(c){r.onDragEnter(a.draggingToRowDragEvent(J.EVENT_ROW_DRAG_ENTER,c))}),r.onDragLeave&&(u.onDragLeave=function(c){r.onDragLeave(a.draggingToRowDragEvent(J.EVENT_ROW_DRAG_LEAVE,c))}),r.onDragging&&(u.onDragging=function(c){r.onDragging(a.draggingToRowDragEvent(J.EVENT_ROW_DRAG_MOVE,c))}),r.onDragStop&&(u.onDragStop=function(c){r.onDragStop(a.draggingToRowDragEvent(J.EVENT_ROW_DRAG_END,c))})),this.dragAndDropService.addDropTarget(Kc({isInterestedIn:function(c){return c===Wr.RowDrag},getIconName:function(){return rr.ICON_MOVE},external:!0},u))}else Ce(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},i.prototype.getRowDropZone=function(r){var a=this,u=this.getContainer.bind(this),c=this.onDragEnter.bind(this),_=this.onDragLeave.bind(this),E=this.onDragging.bind(this),P=this.onDragStop.bind(this);return r?{getContainer:u,onDragEnter:r.onDragEnter?function(M){c(M),r.onDragEnter(a.draggingToRowDragEvent(J.EVENT_ROW_DRAG_ENTER,M))}:c,onDragLeave:r.onDragLeave?function(M){_(M),r.onDragLeave(a.draggingToRowDragEvent(J.EVENT_ROW_DRAG_LEAVE,M))}:_,onDragging:r.onDragging?function(M){E(M),r.onDragging(a.draggingToRowDragEvent(J.EVENT_ROW_DRAG_MOVE,M))}:E,onDragStop:r.onDragStop?function(M){P(M),r.onDragStop(a.draggingToRowDragEvent(J.EVENT_ROW_DRAG_END,M))}:P,fromGrid:!0}:{getContainer:u,onDragEnter:c,onDragLeave:_,onDragging:E,onDragStop:P,fromGrid:!0}},i.prototype.draggingToRowDragEvent=function(r,a){var E,P,u=this.mouseEventService.getNormalisedPosition(a).y,_=-1;switch(u>this.paginationProxy.getCurrentPageHeight()||(_=this.rowModel.getRowIndexAtPixel(u),E=this.rowModel.getRow(_)),a.vDirection){case ga.Down:P="down";break;case ga.Up:P="up";break;default:P=null}return{type:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:a.event,node:a.dragItem.rowNode,nodes:a.dragItem.rowNodes,overIndex:_,overNode:E,y:u,vDirection:P}},i.prototype.dispatchGridEvent=function(r,a){var u=this.draggingToRowDragEvent(r,a);this.eventService.dispatchEvent(u)},i.prototype.onDragLeave=function(r){this.dispatchGridEvent(J.EVENT_ROW_DRAG_LEAVE,r),this.stopDragging(r),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(r)&&(this.isMultiRowDrag=!1)},i.prototype.onDragStop=function(r){this.dispatchGridEvent(J.EVENT_ROW_DRAG_END,r),this.stopDragging(r),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(r))&&!this.isDropZoneWithinThisGrid(r)&&this.moveRowAndClearHighlight(r)},i.prototype.stopDragging=function(r){this.autoScrollService.ensureCleared(),this.getRowNodes(r).forEach(function(a){a.setDragging(!1)})},Ln([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Ln([$("rowModel")],i.prototype,"rowModel",void 0),Ln([$("paginationProxy")],i.prototype,"paginationProxy",void 0),Ln([$("columnModel")],i.prototype,"columnModel",void 0),Ln([$("focusService")],i.prototype,"focusService",void 0),Ln([$("sortController")],i.prototype,"sortController",void 0),Ln([$("filterManager")],i.prototype,"filterManager",void 0),Ln([$("selectionService")],i.prototype,"selectionService",void 0),Ln([$("mouseEventService")],i.prototype,"mouseEventService",void 0),Ln([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Ln([gt("rangeService")],i.prototype,"rangeService",void 0),Ln([ce],i.prototype,"postConstruct",null),i}(Me),T_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Fn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},xo=(()=>(function(p){p.ANIMATION_ON="ag-row-animation",p.ANIMATION_OFF="ag-row-no-animation"}(xo||(xo={})),xo))(),Yc="ag-selectable",Yf="ag-force-vertical-scroll",qf="ag-column-moving",ln=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.stickyTopHeight=0,r}return T_(i,p),i.prototype.getScrollFeature=function(){return this.bodyScrollFeature},i.prototype.getBodyViewportElement=function(){return this.eBodyViewport},i.prototype.setComp=function(r,a,u,c,_,E){this.comp=r,this.eGridBody=a,this.eBodyViewport=u,this.eTop=c,this.eBottom=_,this.eStickyTop=E,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new $c(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Kf(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([c,u,_,E]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},i.prototype.getComp=function(){return this.comp},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,J.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},i.prototype.addFocusListeners=function(r){var a=this;r.forEach(function(u){a.addManagedListener(u,"focusin",function(c){var E=Hn(c.target,"ag-root",u);u.classList.toggle("ag-has-focus",!E)}),a.addManagedListener(u,"focusout",function(c){var _=c.target,E=c.relatedTarget,P=u.contains(E),M=Hn(E,"ag-root",u);Hn(_,"ag-root",u)||(!P||M)&&u.classList.remove("ag-has-focus")})})},i.prototype.setColumnMovingCss=function(r){this.comp.setColumnMovingCss(r?qf:null,r)},i.prototype.setCellTextSelection=function(r){void 0===r&&(r=!1),this.comp.setCellSelectableCss(r?Yc:null,r)},i.prototype.onScrollVisibilityChanged=function(){var r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r),this.setStickyTopWidth(r);var a=r&&this.gridOptionsService.getScrollbarWidth()||0,u=ra()?16:0;this.comp.setBodyViewportWidth("calc(100% + "+(a+u)+"px)")},i.prototype.onGridColumnsChanged=function(){var r=this.columnModel.getAllGridColumns();this.comp.setColumnCount(r?r.length:0)},i.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(r){if(r.target instanceof HTMLImageElement)return r.preventDefault(),!1})},i.prototype.addStopEditingWhenGridLosesFocus=function(){var r=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var a=function(c){var _=c.relatedTarget;if(null!==si(_)){var E=u.some(function(M){return M.contains(_)})&&r.mouseEventService.isElementInThisGrid(_);if(!E){var P=r.popupService;E=P.getActivePopups().some(function(M){return M.contains(_)})||P.isElementWithinCustomPopup(_)}E||r.rowRenderer.stopEditing()}else r.rowRenderer.stopEditing()},u=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];u.forEach(function(c){return r.addManagedListener(c,"focusout",a)})}},i.prototype.updateRowCount=function(){var r=this.headerNavigationService.getHeaderRowCount(),a=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===a?-1:r+a)},i.prototype.registerBodyViewportResizeListener=function(r){this.comp.registerBodyViewportResizeListener(r)},i.prototype.setVerticalScrollPaddingVisible=function(r){this.comp.setPinnedTopBottomOverflowY(r?"scroll":"hidden")},i.prototype.isVerticalScrollShowing=function(){var r=this.gridOptionsService.is("alwaysShowVerticalScroll"),a=r?Yf:null,u=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(a,r),r||u&&Hv(this.eBodyViewport)},i.prototype.setupRowAnimationCssClass=function(){var r=this,a=function(){var u=r.gridOptionsService.isAnimateRows()&&!r.rowContainerHeightService.isStretching();r.comp.setRowAnimationCssOnBodyViewport(u?xo.ANIMATION_ON:xo.ANIMATION_OFF,u)};a(),this.addManagedListener(this.eventService,J.EVENT_HEIGHT_SCALE_CHANGED,a),this.addManagedPropertyListener("animateRows",a)},i.prototype.getGridBodyElement=function(){return this.eGridBody},i.prototype.addBodyViewportListener=function(){var r=this,a=function(u,c,_){if(u||_){r.gridOptionsService.is("preventDefaultOnContextMenu")&&(u||_).preventDefault();var P=(u||c).target;(P===r.eBodyViewport||P===r.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&r.contextMenuFactory&&(u?r.contextMenuFactory.onContextMenu(u,null,null,null,null,r.eGridBody):_&&r.contextMenuFactory.onContextMenu(null,_,null,null,null,r.eGridBody))}};this.addManagedListener(this.eBodyViewport,"contextmenu",a),this.mockContextMenuForIPad(a),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this))},i.prototype.mockContextMenuForIPad=function(r){if(Mn()){var a=new Zt(this.eBodyViewport);this.addManagedListener(a,Zt.EVENT_LONG_TAP,function(c){r(void 0,c.touchStart,c.touchEvent)}),this.addDestroyFunc(function(){return a.destroy()})}},i.prototype.onBodyViewportWheel=function(r){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&r.preventDefault()},i.prototype.onStickyTopWheel=function(r){r.preventDefault(),r.offsetY&&this.scrollVertically(r.deltaY)},i.prototype.getGui=function(){return this.eGridBody},i.prototype.scrollVertically=function(r){var a=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(a+r),this.eBodyViewport.scrollTop-a},i.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new zc(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},i.prototype.getRowDragFeature=function(){return this.rowDragFeature},i.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},i.prototype.setFloatingHeights=function(){var r=this.pinnedRowModel,a=r.getPinnedTopTotalHeight();a&&(a+=1);var u=r.getPinnedBottomTotalHeight();u&&(u+=1),this.comp.setTopHeight(a),this.comp.setBottomHeight(u),this.comp.setTopDisplay(a?"inherit":"none"),this.comp.setBottomDisplay(u?"inherit":"none"),this.setStickyTopOffsetTop()},i.prototype.setStickyTopHeight=function(r){void 0===r&&(r=0),this.comp.setStickyTopHeight(r+"px"),this.stickyTopHeight=r},i.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},i.prototype.setStickyTopWidth=function(r){if(r){var a=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+a+"px)")}else this.comp.setStickyTopWidth("100%")},i.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},i.prototype.setStickyTopOffsetTop=function(){var a=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),u=this.pinnedRowModel.getPinnedTopTotalHeight(),c=0;a>0&&(c+=a+1),u>0&&(c+=u+1),this.comp.setStickyTopTop(c+"px")},i.prototype.sizeColumnsToFit=function(r,a){var u=this,_=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,P=dc(this.eGridBody)-_;P>0?this.columnModel.sizeColumnsToFit(P,"sizeColumnsToFit",!1,r):void 0===a?window.setTimeout(function(){u.sizeColumnsToFit(r,100)},0):100===a?window.setTimeout(function(){u.sizeColumnsToFit(r,500)},100):500===a?window.setTimeout(function(){u.sizeColumnsToFit(r,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},i.prototype.addScrollEventListener=function(r){this.eBodyViewport.addEventListener("scroll",r,{passive:!0})},i.prototype.removeScrollEventListener=function(r){this.eBodyViewport.removeEventListener("scroll",r)},Fn([$("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Fn([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Fn([$("columnModel")],i.prototype,"columnModel",void 0),Fn([$("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Fn([gt("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Fn([$("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Fn([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Fn([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Fn([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Fn([$("popupService")],i.prototype,"popupService",void 0),Fn([$("mouseEventService")],i.prototype,"mouseEventService",void 0),Fn([$("rowModel")],i.prototype,"rowModel",void 0),i}(Me),uo=(()=>(function(p){p[p.FILL=0]="FILL",p[p.RANGE=1]="RANGE"}(uo||(uo={})),uo))(),xi=(()=>(function(p){p[p.VALUE=0]="VALUE",p[p.DIMENSION=1]="DIMENSION"}(xi||(xi={})),xi))(),Io="ag-cell-range-selected",x_=function(){function p(i,r){this.beans=i,this.cellCtrl=r}return p.prototype.setComp=function(i,r){this.cellComp=i,this.eGui=r,this.onRangeSelectionChanged()},p.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Io,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(Io+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(Io+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(Io+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(Io+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Di(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},p.prototype.updateRangeBorders=function(){var i=this.getRangeBorders(),r=this.isSingleCell(),u=!r&&i.right,c=!r&&i.bottom,_=!r&&i.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!r&&i.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",u),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",_)},p.prototype.isSingleCell=function(){var i=this.beans.rangeService;return 1===this.rangeCount&&i&&!i.isMoreThanOneCell()},p.prototype.getHasChartRange=function(){var i=this.beans.rangeService;if(!this.rangeCount||!i)return!1;var r=i.getCellRanges();return r.length>0&&r.every(function(a){return sr([xi.DIMENSION,xi.VALUE],a.type)})},p.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},p.prototype.getRangeBorders=function(){var B,U,i=this,r=this.beans.gridOptionsService.is("enableRtl"),a=!1,u=!1,c=!1,_=!1,E=this.cellCtrl.getCellPosition().column,P=this.beans,M=P.rangeService,L=P.columnModel;r?(B=L.getDisplayedColAfter(E),U=L.getDisplayedColBefore(E)):(B=L.getDisplayedColBefore(E),U=L.getDisplayedColAfter(E));var X=M.getCellRanges().filter(function(de){return M.isCellInSpecificRange(i.cellCtrl.getCellPosition(),de)});B||(_=!0),U||(u=!0);for(var Q=0;Q<X.length&&!(a&&u&&c&&_);Q++){var oe=X[Q],le=M.getRangeStartRow(oe),fe=M.getRangeEndRow(oe);!a&&this.beans.rowPositionUtils.sameRow(le,this.cellCtrl.getCellPosition())&&(a=!0),!c&&this.beans.rowPositionUtils.sameRow(fe,this.cellCtrl.getCellPosition())&&(c=!0),!_&&B&&oe.columns.indexOf(B)<0&&(_=!0),!u&&U&&oe.columns.indexOf(U)<0&&(u=!0)}return{top:a,right:u,bottom:c,left:_}},p.prototype.refreshHandle=function(){if(this.beans.rangeService){var i=this.shouldHaveSelectionHandle();this.selectionHandle&&!i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),i&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},p.prototype.shouldHaveSelectionHandle=function(){var i=this.beans,r=i.gridOptionsService,a=i.rangeService,u=a.getCellRanges(),c=u.length;if(this.rangeCount<1||c<1)return!1;var _=Rt(u),E=this.cellCtrl.getCellPosition(),P=r.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),M=r.is("enableRangeHandle"),L=1===c&&!this.cellCtrl.isEditing()&&(P||M);if(this.hasChartRange){var U=u[0].type===xi.DIMENSION&&a.isCellInSpecificRange(E,u[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",U),L=_.type===xi.VALUE}return L&&null!=_.endRow&&a.isContiguousRange(_)&&a.isBottomRightCell(_,E)},p.prototype.addSelectionHandle=function(){var i=this.beans,r=i.gridOptionsService,u=Rt(i.rangeService.getCellRanges()).type,_=r.is("enableFillHandle")&&s(u)?uo.FILL:uo.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==_&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(_)),this.selectionHandle.refresh(this.cellCtrl)},p.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},p}(),eh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),I_=function(p){function i(r,a){var u=p.call(this)||this;return u.cellCtrl=r,u.beans=a,u.column=r.getColumn(),u.rowNode=r.getRowNode(),u.setupColSpan(),u.setupRowSpan(),u}return eh(i,p),i.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},i.prototype.setComp=function(r){this.eGui=r,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},i.prototype.onDisplayColumnsChanged=function(){var r=this.getColSpanningList();Yi(this.colsSpanning,r)||(this.colsSpanning=r,this.onWidthChanged(),this.onLeftChanged())},i.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},i.prototype.onWidthChanged=function(){if(this.eGui){var r=this.getCellWidth();this.eGui.style.width=r+"px"}},i.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(r,a){return r+a.getActualWidth()},0):this.column.getActualWidth()},i.prototype.getColSpanningList=function(){var r=this.column.getColSpan(this.rowNode),a=[];if(1===r)a.push(this.column);else for(var u=this.column,c=this.column.getPinned(),_=0;u&&_<r&&(a.push(u),(u=this.beans.columnModel.getDisplayedColAfter(u))&&!s(u)&&c===u.getPinned());_++);return a},i.prototype.onLeftChanged=function(){if(this.eGui){var r=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=r+"px"}},i.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?Rt(this.colsSpanning):this.column).getLeft()},i.prototype.modifyLeftForPrintLayout=function(r){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return r;var a=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?a+this.beans.columnModel.getBodyContainerWidth()+(r||0):a+(r||0)},i.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var r=this.beans.gridOptionsService.getRowHeightAsNumber();this.eGui.style.height=r*this.rowSpan+"px",this.eGui.style.zIndex="1"}},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i}(Me),L_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),qc=function(p){function i(r,a){var u=p.call(this)||this;return u.staticClasses=[],u.cellCtrl=r,u.beans=a,u.column=r.getColumn(),u.rowNode=r.getRowNode(),u}return L_(i,p),i.prototype.setComp=function(r){this.cellComp=r,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},i.prototype.applyCellClassRules=function(){var r=this,a=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:a,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(a.cellClassRules,u,function(c){return r.cellComp.addOrRemoveCssClass(c,!0)},function(c){return r.cellComp.addOrRemoveCssClass(c,!1)})},i.prototype.applyUserStyles=function(){var r=this.column.getColDef();if(r.cellStyle){var a;if("function"==typeof r.cellStyle){var u={column:this.column,value:this.cellCtrl.getValue(),colDef:r,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};a=(0,r.cellStyle)(u)}else a=r.cellStyle;a&&this.cellComp.setUserStyles(a)}},i.prototype.applyClassesFromColDef=function(){var r=this,a=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:a,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(c){return r.cellComp.addOrRemoveCssClass(c,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(a,u),this.staticClasses.length&&this.staticClasses.forEach(function(c){return r.cellComp.addOrRemoveCssClass(c,!0)})},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i}(Me),Xc=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Jc=function(p){function i(r,a){var u=p.call(this)||this;return u.ctrl=r,u.beans=a,u}return Xc(i,p),i.prototype.setComp=function(r){this.comp=r,this.setupTooltip()},i.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},i.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},i.prototype.createTooltipFeatureIfNeeded=function(){var r=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new yc({getTooltipParams:function(){return r.getTooltipParams()},getGui:function(){return r.ctrl.getGui()}}),this.beans.context))},i.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},i.prototype.getTooltipParams=function(){var r=this.ctrl,a=r.getColumn?r.getColumn():void 0,u=r.getColDef?r.getColDef():void 0,c=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:u,column:a,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:c,data:c?c.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0}},i.prototype.getTooltipText=function(){return this.tooltip},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i}(Me),Ze=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},th=function(){function p(){}return p.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},Ze([$("resizeObserverService")],p.prototype,"resizeObserverService",void 0),Ze([$("paginationProxy")],p.prototype,"paginationProxy",void 0),Ze([$("context")],p.prototype,"context",void 0),Ze([$("columnApi")],p.prototype,"columnApi",void 0),Ze([$("gridApi")],p.prototype,"gridApi",void 0),Ze([$("gridOptionsService")],p.prototype,"gridOptionsService",void 0),Ze([$("expressionService")],p.prototype,"expressionService",void 0),Ze([$("environment")],p.prototype,"environment",void 0),Ze([$("rowRenderer")],p.prototype,"rowRenderer",void 0),Ze([$("templateService")],p.prototype,"templateService",void 0),Ze([$("valueService")],p.prototype,"valueService",void 0),Ze([$("eventService")],p.prototype,"eventService",void 0),Ze([$("columnModel")],p.prototype,"columnModel",void 0),Ze([$("headerNavigationService")],p.prototype,"headerNavigationService",void 0),Ze([$("navigationService")],p.prototype,"navigationService",void 0),Ze([$("columnAnimationService")],p.prototype,"columnAnimationService",void 0),Ze([gt("rangeService")],p.prototype,"rangeService",void 0),Ze([$("focusService")],p.prototype,"focusService",void 0),Ze([gt("contextMenuFactory")],p.prototype,"contextMenuFactory",void 0),Ze([$("popupService")],p.prototype,"popupService",void 0),Ze([$("valueFormatterService")],p.prototype,"valueFormatterService",void 0),Ze([$("stylingService")],p.prototype,"stylingService",void 0),Ze([$("columnHoverService")],p.prototype,"columnHoverService",void 0),Ze([$("userComponentFactory")],p.prototype,"userComponentFactory",void 0),Ze([$("userComponentRegistry")],p.prototype,"userComponentRegistry",void 0),Ze([$("animationFrameService")],p.prototype,"animationFrameService",void 0),Ze([$("dragService")],p.prototype,"dragService",void 0),Ze([$("dragAndDropService")],p.prototype,"dragAndDropService",void 0),Ze([$("sortController")],p.prototype,"sortController",void 0),Ze([$("filterManager")],p.prototype,"filterManager",void 0),Ze([$("rowContainerHeightService")],p.prototype,"rowContainerHeightService",void 0),Ze([$("frameworkOverrides")],p.prototype,"frameworkOverrides",void 0),Ze([$("cellPositionUtils")],p.prototype,"cellPositionUtils",void 0),Ze([$("rowPositionUtils")],p.prototype,"rowPositionUtils",void 0),Ze([$("selectionService")],p.prototype,"selectionService",void 0),Ze([gt("selectionHandleFactory")],p.prototype,"selectionHandleFactory",void 0),Ze([$("rowCssClassCalculator")],p.prototype,"rowCssClassCalculator",void 0),Ze([$("rowModel")],p.prototype,"rowModel",void 0),Ze([$("ctrlsService")],p.prototype,"ctrlsService",void 0),Ze([$("ctrlsFactory")],p.prototype,"ctrlsFactory",void 0),Ze([$("agStackComponentsRegistry")],p.prototype,"agStackComponentsRegistry",void 0),Ze([$("valueCache")],p.prototype,"valueCache",void 0),Ze([$("rowNodeEventThrottle")],p.prototype,"rowNodeEventThrottle",void 0),Ze([$("localeService")],p.prototype,"localeService",void 0),Ze([ce],p.prototype,"postConstruct",null),Ze([Le("beans")],p)}(),F_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Zc=function(p){function i(r,a,u){var c=p.call(this)||this;return c.cellCtrl=r,c.beans=a,c.column=u,c}return F_(i,p),i.prototype.onMouseEvent=function(r,a){if(!dn(a))switch(r){case"click":this.onCellClicked(a);break;case"mousedown":case"touchstart":this.onMouseDown(a);break;case"dblclick":this.onCellDoubleClicked(a);break;case"mouseout":this.onMouseOut(a);break;case"mouseover":this.onMouseOver(a)}},i.prototype.onCellClicked=function(r){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(r),void r.preventDefault();var a=this.beans,u=a.eventService,c=a.rangeService,_=a.gridOptionsService;c&&(r.ctrlKey||r.metaKey)&&c.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&c.intersectLastRange(!0);var P=this.cellCtrl.createEvent(r,J.EVENT_CELL_CLICKED);u.dispatchEvent(P);var M=this.column.getColDef();M.onCellClicked&&window.setTimeout(function(){return M.onCellClicked(P)},0),(_.is("singleClickEdit")||M.singleClickEdit)&&!_.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit()},i.prototype.isDoubleClickOnIPad=function(){if(!Mn()||qu("dblclick"))return!1;var r=(new Date).getTime(),a=r-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=r,a},i.prototype.onCellDoubleClicked=function(r){var a=this.column.getColDef(),u=this.cellCtrl.createEvent(r,J.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(u),"function"==typeof a.onCellDoubleClicked&&window.setTimeout(function(){return a.onCellDoubleClicked(u)},0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,null,r)},i.prototype.onMouseDown=function(r){var a=r.ctrlKey,u=r.metaKey,c=r.shiftKey,_=r.target,E=this.beans,P=E.eventService,M=E.rangeService;if(!this.isRightClickInExistingRange(r)){var L=M&&0!=M.getCellRanges().length;if(!c||!L){var B=hn()&&!this.cellCtrl.isEditing()&&!wr(_);this.cellCtrl.focusCell(B)}if(c&&L&&r.preventDefault(),!this.containsWidget(_)){if(M){var U=this.cellCtrl.getCellPosition();c?M.extendLatestRangeToCell(U):M.setRangeToCell(U,a||u)}P.dispatchEvent(this.cellCtrl.createEvent(r,J.EVENT_CELL_MOUSE_DOWN))}}},i.prototype.isRightClickInExistingRange=function(r){var a=this.beans.rangeService;return!(!a||!a.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==r.button)},i.prototype.containsWidget=function(r){return Hn(r,"ag-selection-checkbox",3)},i.prototype.onMouseOut=function(r){if(!this.mouseStayingInsideCell(r)){var a=this.cellCtrl.createEvent(r,J.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(a),this.beans.columnHoverService.clearMouseOver()}},i.prototype.onMouseOver=function(r){if(!this.mouseStayingInsideCell(r)){var a=this.cellCtrl.createEvent(r,J.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(a),this.beans.columnHoverService.setMouseOver([this.column])}},i.prototype.mouseStayingInsideCell=function(r){if(!r.target||!r.relatedTarget)return!1;var a=this.cellCtrl.getGui(),u=a.contains(r.target),c=a.contains(r.relatedTarget);return u&&c},i.prototype.destroy=function(){},i}(th),Qc=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),rh=function(p){function i(r,a,u,c,_){var E=p.call(this)||this;return E.cellCtrl=r,E.beans=a,E.rowNode=c,E.rowCtrl=_,E}return Qc(i,p),i.prototype.setComp=function(r){this.eGui=r},i.prototype.onKeyDown=function(r){var a=r.key;switch(a){case ve.ENTER:this.onEnterKeyDown(r);break;case ve.F2:this.onF2KeyDown(r);break;case ve.ESCAPE:this.onEscapeKeyDown(r);break;case ve.TAB:this.onTabKeyDown(r);break;case ve.BACKSPACE:case ve.DELETE:this.onBackspaceOrDeleteKeyPressed(a,r);break;case ve.DOWN:case ve.UP:case ve.RIGHT:case ve.LEFT:this.onNavigationKeyPressed(r,a)}},i.prototype.onNavigationKeyPressed=function(r,a){this.cellCtrl.isEditing()||(r.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(r):this.beans.navigationService.navigateToNextCell(r,a,this.cellCtrl.getCellPosition(),!0),r.preventDefault())},i.prototype.onShiftRangeSelect=function(r){if(this.beans.rangeService){var a=this.beans.rangeService.extendLatestRangeInDirection(r);a&&this.beans.navigationService.ensureCellVisible(a)}},i.prototype.onTabKeyDown=function(r){this.beans.navigationService.onTabKeyDown(this.cellCtrl,r)},i.prototype.onBackspaceOrDeleteKeyPressed=function(r,a){var u=this,c=u.cellCtrl,_=u.beans,E=u.rowNode,P=_.gridOptionsService,M=_.rangeService,L=_.eventService;c.isEditing()||(L.dispatchEvent({type:J.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),gc(r,P.is("enableCellEditingOnBackspace"))?M&&P.isEnableRangeSelection()?M.clearCellRangeCellValues():c.isCellEditable()&&E.setDataValue(c.getColumn(),null,"cellClear"):c.startRowOrCellEdit(r,void 0,a),L.dispatchEvent({type:J.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},i.prototype.onEnterKeyDown=function(r){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsService.is("enterMovesDown")?this.beans.navigationService.navigateToNextCell(null,ve.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(ve.ENTER,void 0,r),this.cellCtrl.isEditing()&&r.preventDefault())},i.prototype.onF2KeyDown=function(r){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ve.F2,void 0,r)},i.prototype.onEscapeKeyDown=function(r){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},i.prototype.onKeyPress=function(r){if(r.target===this.eGui&&!this.cellCtrl.isEditing()){var c=String.fromCharCode(r.charCode);" "===c?this.onSpaceKeyPressed(r):Ml(r)&&(this.cellCtrl.startRowOrCellEdit(null,c,r),r.preventDefault())}},i.prototype.onSpaceKeyPressed=function(r){var a=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&a.isRowSelection()){var u=this.rowNode.isSelected(),c=!u;if(c||!a.is("suppressRowDeselection")){var _=this.beans.gridOptionsService.is("groupSelectsFiltered"),E=this.rowNode.setSelectedParams({newValue:c,rangeSelect:r.shiftKey,groupSelectsFiltered:_,event:r,source:"spacePressed"});void 0===u&&0===E&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:_,event:r,source:"spacePressed"})}}r.preventDefault()},i.prototype.destroy=function(){p.prototype.destroy.call(this)},i}(Me),Oa=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),nh=function(p){function i(r,a,u,c){var _=p.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return _.rowNode=r,_.column=a,_.beans=u,_.eCell=c,_}return Oa(i,p),i.prototype.postConstruct=function(){this.getGui().appendChild(Vt("rowDrag",this.beans.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(a){a.stopPropagation()}),this.addDragSource(),this.checkVisibility()},i.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},i.prototype.onDragStart=function(r){var a=this,u=this.column.getColDef().dndSourceOnRowDrag;r.dataTransfer.setDragImage(this.eCell,0,0),u?u({rowNode:this.rowNode,dragEvent:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):function(){try{var E=JSON.stringify(a.rowNode.data);r.dataTransfer.setData("application/json",E),r.dataTransfer.setData("text/plain",E)}catch{}}()},i.prototype.checkVisibility=function(){var r=this.column.isDndSource(this.rowNode);this.setDisplayed(r)},function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ce],i.prototype,"postConstruct",null),i}(Ge),N_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Da=function(){return Da=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Da.apply(this,arguments)},rd=0,Lo=function(p){function i(r,a,u,c){var _=p.call(this)||this;return _.cellRangeFeature=null,_.cellPositionFeature=null,_.cellCustomStyleFeature=null,_.tooltipFeature=null,_.cellMouseListenerFeature=null,_.cellKeyboardListenerFeature=null,_.suppressRefreshCell=!1,_.onCellCompAttachedFuncs=[],_.column=r,_.rowNode=a,_.beans=u,_.rowCtrl=c,_.instanceId=r.getId()+"-"+rd++,_.createCellPosition(),_.addFeatures(),_}return N_(i,p),i.prototype.addFeatures=function(){var r=this;this.cellPositionFeature=new I_(this,this.beans),this.addDestroyFunc(function(){var u;null===(u=r.cellPositionFeature)||void 0===u||u.destroy(),r.cellPositionFeature=null}),this.cellCustomStyleFeature=new qc(this,this.beans),this.addDestroyFunc(function(){var u;null===(u=r.cellCustomStyleFeature)||void 0===u||u.destroy(),r.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new Zc(this,this.beans,this.column),this.addDestroyFunc(function(){var u;null===(u=r.cellMouseListenerFeature)||void 0===u||u.destroy(),r.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new rh(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var u;null===(u=r.cellKeyboardListenerFeature)||void 0===u||u.destroy(),r.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection()&&(this.cellRangeFeature=new x_(this.beans,this),this.addDestroyFunc(function(){var u;null===(u=r.cellRangeFeature)||void 0===u||u.destroy(),r.cellRangeFeature=null})),this.addTooltipFeature()},i.prototype.addTooltipFeature=function(){var r=this;this.tooltipFeature=new Jc({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getRowIndex:function(){return r.cellPosition.rowIndex},getRowNode:function(){return r.rowNode},getGui:function(){return r.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var c=r.column.getColDef(),_=r.rowNode.data;if(c.tooltipField&&o(_))return he(_,c.tooltipField,r.column.isTooltipFieldContainsDots());var E=c.tooltipValueGetter;return E?E({location:"cell",api:r.beans.gridOptionsService.api,columnApi:r.beans.gridOptionsService.columnApi,context:r.beans.gridOptionsService.context,colDef:r.column.getColDef(),column:r.column,rowIndex:r.cellPosition.rowIndex,node:r.rowNode,data:r.rowNode.data,value:r.value,valueFormatted:r.valueFormatted}):null},getValueFormatted:function(){return r.valueFormatted}},this.beans),this.addDestroyFunc(function(){var c;null===(c=r.tooltipFeature)||void 0===c||c.destroy(),r.tooltipFeature=null})},i.prototype.setComp=function(r,a,u,c,_){var E,P,M,L;this.cellComp=r,this.eGui=a,this.printLayout=c,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),u&&this.setupAutoHeight(u),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);var B=wi(this.column.getId());this.cellComp.setColId(B),this.cellComp.setRole("gridcell"),null===(E=this.cellPositionFeature)||void 0===E||E.setComp(a),null===(P=this.cellCustomStyleFeature)||void 0===P||P.setComp(r),null===(M=this.tooltipFeature)||void 0===M||M.setComp(r),null===(L=this.cellKeyboardListenerFeature)||void 0===L||L.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(r,a),_&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(U){return U()}),this.onCellCompAttachedFuncs=[])},i.prototype.setupAutoHeight=function(r){var a=this;if(this.column.isAutoHeight()){var u=r.parentElement,c=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,_=function(M){if(!a.editing&&a.isAlive()){var L=ro(u),Q=r.offsetHeight+L.paddingTop+L.paddingBottom;if(M<5){var oe=a.beans.gridOptionsService.getDocument();if(!oe||!oe.contains(r)||0==Q)return void a.beans.frameworkOverrides.setTimeout(function(){return _(M+1)},0)}var de=Math.max(Q,c);a.rowNode.setRowAutoHeight(de,a.column)}},E=function(){return _(0)};E();var P=this.beans.resizeObserverService.observeResize(r,E);this.addDestroyFunc(function(){P(),a.rowNode.setRowAutoHeight(void 0,a.column)})}},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.showValue=function(r){void 0===r&&(r=!1);var a=null!=this.valueFormatted?this.valueFormatted:this.value,u=this.createCellRendererParams(),c=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),u);this.cellComp.setRenderDetails(c,a,r),this.refreshHandle()},i.prototype.setupControlComps=function(){var r=this.column.getColDef();this.includeSelection=this.isIncludeControl(r.checkboxSelection),this.includeRowDrag=this.isIncludeControl(r.rowDrag),this.includeDndSource=this.isIncludeControl(r.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},i.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()},i.prototype.isIncludeControl=function(r){return!(null!=this.rowNode.rowPinned||"function"!=typeof r&&!0!==r)},i.prototype.refreshShouldDestroy=function(){var r=this.column.getColDef(),a=this.includeSelection!=this.isIncludeControl(r.checkboxSelection),u=this.includeRowDrag!=this.isIncludeControl(r.rowDrag),c=this.includeDndSource!=this.isIncludeControl(r.dndSource);return a||u||c},i.prototype.startEditing=function(r,a,u,c){var _=this;if(void 0===r&&(r=null),void 0===a&&(a=null),void 0===u&&(u=!1),void 0===c&&(c=null),this.isCellEditable()&&!this.editing){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){_.startEditing(r,a,u,c)});var E=this.createCellEditorParams(r,a,u),P=this.column.getColDef(),M=this.beans.userComponentFactory.getCellEditorDetails(P,E),L=null!=M?.popupFromSelector?M.popupFromSelector:!!P.cellEditorPopup,B=null!=M?.popupPositionFromSelector?M.popupPositionFromSelector:P.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(M,L,B);var U=this.createEvent(c,J.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(U)}},i.prototype.setEditing=function(r){this.editing!==r&&(this.editing=r,this.refreshHandle())},i.prototype.stopRowOrCellEdit=function(r){void 0===r&&(r=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(r):this.stopEditing(r)},i.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},i.prototype.takeValueFromCellEditor=function(r){var a={newValueExists:!1};if(r)return a;var u=this.cellComp.getCellEditor();return u?u.isCancelAfterEnd&&u.isCancelAfterEnd()?a:{newValue:u.getValue(),newValueExists:!0}:a},i.prototype.saveNewValue=function(r,a){if(a===r)return!1;this.suppressRefreshCell=!0;var u=this.rowNode.setDataValue(this.column,a,"edit");return this.suppressRefreshCell=!1,u},i.prototype.stopEditing=function(r){if(void 0===r&&(r=!1),!this.editing)return!1;var a=this.takeValueFromCellEditor(r),u=a.newValue,c=a.newValueExists,_=this.getValueFromValueService(),E=!1;return c&&(E=this.saveNewValue(_,u)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(_,u,!r&&!!E),E},i.prototype.dispatchEditingStoppedEvent=function(r,a,u){var c=Da(Da({},this.createEvent(null,J.EVENT_CELL_EDITING_STOPPED)),{oldValue:r,newValue:a,valueChanged:u});this.beans.eventService.dispatchEvent(c)},i.prototype.createCellEditorParams=function(r,a,u){return{value:this.getValueFromValueService(),eventKey:r,charPress:a,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:u,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},i.prototype.createCellRendererParams=function(){var r=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(u){return r.beans.valueService.setValue(r.rowNode,r.column,u)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(u,c,_,E){return r.registerRowDragger(u,c,E)}}},i.prototype.parseValue=function(r){var a=this.column.getColDef(),u={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:r,colDef:a,column:this.column,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},c=a.valueParser;return o(c)?"function"==typeof c?c(u):this.beans.expressionService.evaluate(c,u):r},i.prototype.setFocusOutOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusOut&&r.focusOut()}},i.prototype.setFocusInOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusIn?r.focusIn():this.focusCell(!0)}},i.prototype.onCellChanged=function(r){this.cellComp&&r.column===this.column&&this.refreshCell({})},i.prototype.refreshCell=function(r){var a,u,c;if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var _=this.column.getColDef(),E=null!=r&&!!r.newData,P=null!=r&&!!r.suppressFlash||!!_.suppressCellFlash,L=r&&r.forceRefresh||null==_.field&&null==_.valueGetter&&null==_.showRowGroup||E,B=this.updateAndFormatValue();if(L||B){this.showValue(E);var X=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!P&&!X&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||_.enableCellChangeFlash)&&this.flashCell(),null===(a=this.cellCustomStyleFeature)||void 0===a||a.applyUserStyles(),null===(u=this.cellCustomStyleFeature)||void 0===u||u.applyClassesFromColDef()}this.refreshToolTip(),null===(c=this.cellCustomStyleFeature)||void 0===c||c.applyCellClassRules()}},i.prototype.stopEditingAndFocus=function(r){void 0===r&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),r||this.navigateAfterEdit()},i.prototype.navigateAfterEdit=function(){"fullRow"===this.beans.gridOptionsService.get("editType")||this.beans.gridOptionsService.is("enterMovesDownAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,ve.DOWN,this.getCellPosition(),!1)},i.prototype.flashCell=function(r){this.animateCell("data-changed",r&&r.flashDelay,r&&r.fadeDelay)},i.prototype.animateCell=function(r,a,u){var _,E,c=this,P="ag-cell-"+r,M="ag-cell-"+r+"-animation",L=this.beans.gridOptionsService;a||(a=null!==(_=L.getNum("cellFlashDelay"))&&void 0!==_?_:500),o(u)||(u=null!==(E=L.getNum("cellFadeDelay"))&&void 0!==E?E:1e3),this.cellComp.addOrRemoveCssClass(P,!0),this.cellComp.addOrRemoveCssClass(M,!1),window.setTimeout(function(){c.isAlive()&&(c.cellComp.addOrRemoveCssClass(P,!1),c.cellComp.addOrRemoveCssClass(M,!0),c.eGui.style.transition="background-color "+u+"ms",window.setTimeout(function(){c.isAlive()&&(c.cellComp.addOrRemoveCssClass(M,!1),c.eGui.style.transition="")},u))},a)},i.prototype.onFlashCells=function(r){if(this.cellComp){var a=this.beans.cellPositionUtils.createId(this.getCellPosition());r.cells[a]&&this.animateCell("highlight")}},i.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},i.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},i.prototype.formatValue=function(r){return this.callValueFormatter(r)??r},i.prototype.callValueFormatter=function(r){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,r)},i.prototype.updateAndFormatValue=function(r){void 0===r&&(r=!1);var a=this.value,u=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!r||!this.valuesAreEqual(a,this.value)||this.valueFormatted!=u},i.prototype.valuesAreEqual=function(r,a){var u=this.column.getColDef();return u.equals?u.equals(r,a):r===a},i.prototype.getComp=function(){return this.cellComp},i.prototype.getValueFromValueService=function(){var r=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),a=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!r,u=this.beans.gridOptionsService.is("groupIncludeFooter"),c=this.beans.gridOptionsService.is("groupSuppressBlankHeader");return this.beans.valueService.getValue(this.column,this.rowNode,!1,a&&u&&!c)},i.prototype.getValue=function(){return this.value},i.prototype.getValueFormatted=function(){return this.valueFormatted},i.prototype.addDomData=function(){var r=this,a=this.getGui();this.beans.gridOptionsService.setDomData(a,i.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return r.beans.gridOptionsService.setDomData(a,i.DOM_DATA_KEY_CELL_CTRL,null)})},i.prototype.createEvent=function(r,a){return{type:a,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:r,rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyPress=function(r){var a;null===(a=this.cellKeyboardListenerFeature)||void 0===a||a.onKeyPress(r)},i.prototype.onKeyDown=function(r){var a;null===(a=this.cellKeyboardListenerFeature)||void 0===a||a.onKeyDown(r)},i.prototype.onMouseEvent=function(r,a){var u;null===(u=this.cellMouseListenerFeature)||void 0===u||u.onMouseEvent(r,a)},i.prototype.getGui=function(){return this.eGui},i.prototype.refreshToolTip=function(){var r;null===(r=this.tooltipFeature)||void 0===r||r.refreshToolTip()},i.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},i.prototype.onLeftChanged=function(){var r;this.cellComp&&(null===(r=this.cellPositionFeature)||void 0===r||r.onLeftChanged())},i.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},i.prototype.setAriaColIndex=function(){var r=this.beans.columnModel.getAriaColumnIndex(this.column);ic(this.getGui(),r)},i.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},i.prototype.onWidthChanged=function(){var r;return null===(r=this.cellPositionFeature)||void 0===r?void 0:r.onWidthChanged()},i.prototype.getColumn=function(){return this.column},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getBeans=function(){return this.beans},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.appendChild=function(r){this.eGui.appendChild(r)},i.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},i.prototype.getCellPosition=function(){return this.cellPosition},i.prototype.isEditing=function(){return this.editing},i.prototype.startRowOrCellEdit=function(r,a,u){void 0===u&&(u=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(r,a,this):this.startEditing(r,a,!0,u))},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},i.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},i.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},i.prototype.focusCell=function(r){void 0===r&&(r=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:r})},i.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var r=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",r)}},i.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var r=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",r)}},i.prototype.onCellFocused=function(r){if(this.cellComp&&!this.beans.gridOptionsService.is("suppressCellFocus")){var a=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",a),a&&r&&r.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!r.preventScrollOnBrowserFocus});var c="fullRow"===this.beans.gridOptionsService.get("editType");!a&&!c&&this.editing&&this.stopRowOrCellEdit()}},i.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:n(this.rowNode.rowPinned),column:this.column}},i.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var r=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",r),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!r)},i.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var r=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",r)}},i.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},i.prototype.setWrapText=function(){var r=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",r)},i.prototype.dispatchCellContextMenuEvent=function(r){var a=this.column.getColDef(),u=this.createEvent(r,J.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(u),a.onCellContextMenu&&window.setTimeout(function(){return a.onCellContextMenu(u)},0)},i.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},i.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},i.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],p.prototype.destroy.call(this)},i.prototype.createSelectionCheckbox=function(){var r=new f_;return this.beans.context.createBean(r),r.init({rowNode:this.rowNode,column:this.column}),r},i.prototype.createDndSource=function(){var r=new nh(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(r),r},i.prototype.registerRowDragger=function(r,a,u){var c=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(r,a);else{var _=this.createRowDragComp(r,a,u);_&&(this.customRowDragComp=_,this.addDestroyFunc(function(){c.beans.context.destroyBean(_),c.customRowDragComp=null}))}},i.prototype.createRowDragComp=function(r,a,u){var c=this,_=this.beans.gridOptionsService.is("pagination"),E=this.beans.gridOptionsService.is("rowDragManaged"),P=this.beans.gridOptionsService.isRowModelType("clientSide");if(E){if(!P)return void Ce(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(_)return void Ce(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var M=new nr(function(){return c.value},this.rowNode,this.column,r,a,u);return this.beans.context.createBean(M),M},i.DOM_DATA_KEY_CELL_CTRL="cellCtrl",i}(Me),U_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),sh=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Ur=(()=>(function(p){p.Normal="Normal",p.FullWidth="FullWidth",p.FullWidthLoading="FullWidthLoading",p.FullWidthGroup="FullWidthGroup",p.FullWidthDetail="FullWidthDetail"}(Ur||(Ur={})),Ur))(),lh=0,No=function(p){function i(r,a,u,c,_){var E=p.call(this)||this;return E.allRowGuis=[],E.active=!0,E.centerCellCtrls={list:[],map:{}},E.leftCellCtrls={list:[],map:{}},E.rightCellCtrls={list:[],map:{}},E.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},E.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},E.lastMouseDownOnDragger=!1,E.updateColumnListsPending=!1,E.businessKeySanitised=null,E.beans=a,E.rowNode=r,E.paginationPage=E.beans.paginationProxy.getCurrentPage(),E.useAnimationFrameForCreate=c,E.printLayout=_,E.instanceId=r.id+"-"+lh++,E.setAnimateFlags(u),E.initRowBusinessKey(),E.rowFocused=E.beans.focusService.isRowFocused(E.rowNode.rowIndex,E.rowNode.rowPinned),E.rowLevel=E.beans.rowCssClassCalculator.calculateRowLevel(E.rowNode),E.setRowType(),E.addListeners(),E}return U_(i,p),i.prototype.initRowBusinessKey=function(){var r=this.beans.gridOptionsService.get("getBusinessKeyForNode");if("function"==typeof r){var a=r(this.rowNode);this.businessKeySanitised=wi(a)}},i.prototype.isSticky=function(){return this.rowNode.sticky},i.prototype.getBeans=function(){return this.beans},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(r,a,u){var c={rowComp:r,element:a,containerType:u};this.allRowGuis.push(c),u===jr.LEFT?this.leftGui=c:u===jr.RIGHT?this.rightGui=c:u===jr.FULL_WIDTH?this.fullWidthGui=c:this.centerGui=c,this.initialiseRowComp(c),"FullWidthLoading"!==this.rowType&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},i.prototype.unsetComp=function(r){this.allRowGuis=this.allRowGuis.filter(function(a){return a.containerType!==r}),r===jr.LEFT?this.leftGui=void 0:r===jr.RIGHT?this.rightGui=void 0:r===jr.FULL_WIDTH&&(this.fullWidthGui=void 0)},i.prototype.isCacheable=function(){return this.rowType===Ur.FullWidthDetail&&this.beans.gridOptionsService.is("keepDetailRows")},i.prototype.setCached=function(r){var a=r?"none":"";this.allRowGuis.forEach(function(u){return u.element.style.display=a})},i.prototype.initialiseRowComp=function(r){var a=this,u=this.beans.gridOptionsService;this.onRowHeightChanged(r),this.updateRowIndexes(r),this.setFocusedClasses(r),this.setStylesFromGridOptions(r),u.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(r),this.updateColumnLists(!this.useAnimationFrameForCreate);var c=r.rowComp;c.setRole("row"),this.getInitialRowClasses(r.containerType).forEach(function(P){return c.addOrRemoveCssClass(P,!0)}),this.executeSlideAndFadeAnimations(r),this.rowNode.group&&fn(r.element,1==this.rowNode.expanded);var E=wi(this.rowNode.id);null!=E&&c.setRowId(E),null!=this.businessKeySanitised&&c.setRowBusinessKey(this.businessKeySanitised),this.isFullWidth()&&!this.beans.gridOptionsService.is("suppressCellFocus")&&c.setTabIndex(-1),u.setDomData(r.element,i.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return u.setDomData(r.element,i.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,r.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(r.element),this.isFullWidth()&&this.setupFullWidth(r),u.is("rowDragEntireRow")&&this.addRowDraggerToRow(r),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){a.isAlive()&&r.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},i.prototype.executeSlideAndFadeAnimations=function(r){var a=this,u=r.containerType;this.slideInAnimation[u]&&(rt(function(){a.onTopChanged()}),this.slideInAnimation[u]=!1),this.fadeInAnimation[u]&&(rt(function(){r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[u]=!1)},i.prototype.addRowDraggerToRow=function(r){if(this.beans.gridOptionsService.isEnableRangeSelection())Ce(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var a=this.beans.localeService.getLocaleTextFunc(),u=new nr(function(){return"1 "+a("rowDragRow","row")},this.rowNode,void 0,r.element,void 0,!0);this.createManagedBean(u,this.beans.context)}},i.prototype.setupFullWidth=function(r){var a=this.getPinnedForContainer(r.containerType),u=this.createFullWidthParams(r.element,a);if(this.rowType!=Ur.FullWidthDetail||qe.assertRegistered(ke.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)")){var c;switch(this.rowType){case Ur.FullWidthDetail:c=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(u);break;case Ur.FullWidthGroup:c=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(u);break;case Ur.FullWidthLoading:c=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(u);break;default:c=this.beans.userComponentFactory.getFullWidthCellRendererDetails(u)}r.rowComp.showFullWidth(c)}},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.getFullWidthCellRenderer=function(){var r,a;return null===(a=null===(r=this.fullWidthGui)||void 0===r?void 0:r.rowComp)||void 0===a?void 0:a.getFullWidthCellRenderer()},i.prototype.getCellElement=function(r){var a=this.getCellCtrl(r);return a?a.getGui():null},i.prototype.executeProcessRowPostCreateFunc=function(){var r,a=this.beans.gridOptionsService.getCallback("processRowPostCreate");a&&this.areAllContainersReady()&&a({eRow:null===(r=this.centerGui)||void 0===r?void 0:r.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},i.prototype.areAllContainersReady=function(){var r=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),a=!!this.centerGui,u=!!this.rightGui||!this.beans.columnModel.isPinningRight();return r&&a&&u},i.prototype.setRowType=function(){var r=this.rowNode.stub,a=this.rowNode.isFullWidthCell(),u=this.beans.doingMasterDetail&&this.rowNode.detail,c=this.beans.columnModel.isPivotMode(),E=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsService.isGroupUseEntireRow(c);this.rowType=r?Ur.FullWidthLoading:u?Ur.FullWidthDetail:a?Ur.FullWidth:E?Ur.FullWidthGroup:Ur.Normal},i.prototype.updateColumnLists=function(r){var a=this;if(void 0===r&&(r=!1),!this.isFullWidth()){if(r||this.beans.gridOptionsService.is("suppressAnimationFrame")||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){a.active&&a.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},i.prototype.createCellCtrls=function(r,a,u){var c=this;void 0===u&&(u=null);var _={list:[],map:{}},E=function(P,M){_.list.push(M),_.map[P]=M};return a.forEach(function(P){var M=P.getInstanceId(),L=r.map[M];L||(L=new Lo(P,c.rowNode,c.beans,c)),E(M,L)}),r.list.forEach(function(P){if(null==_.map[P.getColumn().getInstanceId()]){if(!c.isCellEligibleToBeRemoved(P,u))return void E(P.getColumn().getInstanceId(),P);P.destroy()}}),_},i.prototype.updateColumnListsImpl=function(){var r=this;this.updateColumnListsPending=!1;var a=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,a.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var u=a.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,u);var c=a.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,c,"left");var _=a.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,_,"right")}this.allRowGuis.forEach(function(E){E.rowComp.setCellCtrls((E.containerType===jr.LEFT?r.leftCellCtrls:E.containerType===jr.RIGHT?r.rightCellCtrls:r.centerCellCtrls).list)})},i.prototype.isCellEligibleToBeRemoved=function(r,a){var u=!0;if(r.getColumn().getPinned()!=a)return u;var E=r.isEditing(),P=this.beans.focusService.isCellFocused(r.getCellPosition());if(E||P){var L=r.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(L)>=0)&&u}return u},i.prototype.setAnimateFlags=function(r){if(!this.isSticky()&&r){var a=o(this.rowNode.oldRowTop),u=this.beans.columnModel.isPinningLeft(),c=this.beans.columnModel.isPinningRight();a?(this.slideInAnimation.center=!0,this.slideInAnimation.left=u,this.slideInAnimation.right=c):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=u,this.fadeInAnimation.right=c)}},i.prototype.isEditing=function(){return this.editingRow},i.prototype.stopRowEditing=function(r){this.stopEditing(r)},i.prototype.isFullWidth=function(){return this.rowType!==Ur.Normal},i.prototype.getRowType=function(){return this.rowType},i.prototype.refreshFullWidth=function(){var r=this,a=function(M,L){if(!M)return!0;var B=M.rowComp.getFullWidthCellRenderer();if(!B||!B.refresh)return!1;var U=r.createFullWidthParams(M.element,L);return B.refresh(U)},u=a(this.fullWidthGui,null),c=a(this.centerGui,null),_=a(this.leftGui,"left"),E=a(this.rightGui,"right");return u&&c&&_&&E},i.prototype.addListeners=function(){var r=this;this.addManagedListener(this.rowNode,ot.EVENT_HEIGHT_CHANGED,function(){return r.onRowHeightChanged()}),this.addManagedListener(this.rowNode,ot.EVENT_ROW_SELECTED,function(){return r.onRowSelected()}),this.addManagedListener(this.rowNode,ot.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,ot.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var a=this.beans.eventService;this.addManagedListener(a,J.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(a,J.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(a,J.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(a,J.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(a,J.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(a,J.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(a,J.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(a,J.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(a,J.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},i.prototype.onColumnMoved=function(){this.updateColumnLists()},i.prototype.addListenersForCellComps=function(){var r=this;this.addManagedListener(this.rowNode,ot.EVENT_ROW_INDEX_CHANGED,function(){r.getAllCellCtrls().forEach(function(a){return a.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,ot.EVENT_CELL_CHANGED,function(a){r.getAllCellCtrls().forEach(function(u){return u.onCellChanged(a)})})},i.prototype.onRowNodeDataChanged=function(r){this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!r.update,newData:!r.update})}),this.onRowSelected(),this.postProcessCss()},i.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},i.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},i.prototype.onRowNodeHighlightChanged=function(){var r=this.rowNode.highlighted;this.allRowGuis.forEach(function(a){var c=r===jn.Below;a.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r===jn.Above),a.rowComp.addOrRemoveCssClass("ag-row-highlight-below",c)})},i.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},i.prototype.postProcessRowDragging=function(){var r=this.rowNode.dragging;this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-row-dragging",r)})},i.prototype.updateExpandedCss=function(){var r=this.rowNode.isExpandable(),a=1==this.rowNode.expanded;this.allRowGuis.forEach(function(u){u.rowComp.addOrRemoveCssClass("ag-row-group",r),u.rowComp.addOrRemoveCssClass("ag-row-group-expanded",r&&a),u.rowComp.addOrRemoveCssClass("ag-row-group-contracted",r&&!a),fn(u.element,r&&a)})},i.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},i.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},i.prototype.getRowPosition=function(){return{rowPinned:n(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyboardNavigate=function(r){var a=this.allRowGuis.find(function(M){return M.element.contains(r.target)});if((a?a.element:null)===r.target){var _=this.rowNode,E=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(r,r.key,{rowIndex:_.rowIndex,rowPinned:_.rowPinned,column:E&&E.column},!0),r.preventDefault()}},i.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented&&!dn(r)){var a=this.allRowGuis.find(function(E){return E.element.contains(r.target)}),u=a?a.element:null,c=u===r.target,_=null;c||(_=this.beans.focusService.findNextFocusableElement(u,!1,r.shiftKey)),(this.isFullWidth()&&c||!_)&&this.beans.navigationService.onTabKeyDown(this,r)}},i.prototype.onFullWidthRowFocused=function(r){var a,u=this.rowNode,c=!!r&&this.isFullWidth()&&r.rowIndex===u.rowIndex&&r.rowPinned==u.rowPinned,_=this.fullWidthGui?this.fullWidthGui.element:null===(a=this.centerGui)||void 0===a?void 0:a.element;_&&(_.classList.toggle("ag-full-width-focus",c),c&&_.focus({preventScroll:!0}))},i.prototype.refreshCell=function(r){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,r),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,r),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,r),this.updateColumnLists()},i.prototype.removeCellCtrl=function(r,a){var u={list:[],map:{}};return r.list.forEach(function(c){c!==a&&(u.list.push(c),u.map[c.getInstanceId()]=c)}),u},i.prototype.onMouseEvent=function(r,a){switch(r){case"dblclick":this.onRowDblClick(a);break;case"click":this.onRowClick(a);break;case"touchstart":case"mousedown":this.onRowMouseDown(a)}},i.prototype.createRowEvent=function(r,a){return{type:r,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,event:a}},i.prototype.createRowEventWithSource=function(r,a){var u=this.createRowEvent(r,a);return u.source=this,u},i.prototype.onRowDblClick=function(r){if(!dn(r)){var a=this.createRowEventWithSource(J.EVENT_ROW_DOUBLE_CLICKED,r);this.beans.eventService.dispatchEvent(a)}},i.prototype.onRowMouseDown=function(r){if(this.lastMouseDownOnDragger=Hn(r.target,"ag-row-drag",3),this.isFullWidth()){var a=this.rowNode,u=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:a.rowIndex,column:u.getAllDisplayedColumns()[0],rowPinned:a.rowPinned,forceBrowserFocus:!0})}},i.prototype.onRowClick=function(r){if(!dn(r)&&!this.lastMouseDownOnDragger){var u=this.createRowEventWithSource(J.EVENT_ROW_CLICKED,r);this.beans.eventService.dispatchEvent(u);var c=r.ctrlKey||r.metaKey,_=r.shiftKey;if(!(this.beans.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsService.isRowSelection()||this.beans.gridOptionsService.is("suppressRowClickSelection"))){var P=this.beans.gridOptionsService.is("rowMultiSelectWithClick"),M=!this.beans.gridOptionsService.is("suppressRowDeselection"),L="rowClicked";this.rowNode.isSelected()?P?this.rowNode.setSelectedParams({newValue:!1,event:r,source:L}):c?M&&this.rowNode.setSelectedParams({newValue:!1,event:r,source:L}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!_,rangeSelect:_,event:r,source:L}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!P&&!c,rangeSelect:_,event:r,source:L})}}},i.prototype.setupDetailRowAutoHeight=function(r){var a=this;if(this.rowType===Ur.FullWidthDetail&&this.beans.gridOptionsService.is("detailRowAutoHeight")){var u=function(){var _=r.clientHeight;null!=_&&_>0&&a.beans.frameworkOverrides.setTimeout(function(){a.rowNode.setRowHeight(_),a.beans.clientSideRowModel?a.beans.clientSideRowModel.onRowHeightChanged():a.beans.serverSideRowModel&&a.beans.serverSideRowModel.onRowHeightChanged()},0)},c=this.beans.resizeObserverService.observeResize(r,u);this.addDestroyFunc(c),u()}},i.prototype.createFullWidthParams=function(r,a){var u=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,eGridCell:r,eParentOfValue:r,pinned:a,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(_,E,P,M){return u.addFullWidthRowDragging(_,E,P,M)}}},i.prototype.addFullWidthRowDragging=function(r,a,u,c){if(void 0===u&&(u=""),this.isFullWidth()){var _=new nr(function(){return u},this.rowNode,void 0,r,a,c);this.createManagedBean(_,this.beans.context)}},i.prototype.onUiLevelChanged=function(){var r=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=r){var a="ag-row-level-"+r,u="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass(a,!0),c.rowComp.addOrRemoveCssClass(u,!1)})}this.rowLevel=r},i.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},i.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},i.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},i.prototype.refreshFirstAndLastRowStyles=function(){var r=this.isFirstRowOnPage(),a=this.isLastRowOnPage();this.firstRowOnPage!==r&&(this.firstRowOnPage=r,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-first",r)})),this.lastRowOnPage!==a&&(this.lastRowOnPage=a,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-last",a)}))},i.prototype.stopEditing=function(r){var a,u;if(void 0===r&&(r=!1),!this.stoppingRowEdit){var c=this.getAllCellCtrls(),_=this.editingRow;this.stoppingRowEdit=!0;var E=!1;try{for(var P=function(p){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&p[i],a=0;if(r)return r.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),M=P.next();!M.done;M=P.next()){var B=M.value.stopEditing(r);_&&!r&&!E&&B&&(E=!0)}}catch(X){a={error:X}}finally{try{M&&!M.done&&(u=P.return)&&u.call(P)}finally{if(a)throw a.error}}if(E){var U=this.createRowEvent(J.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(U)}_&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},i.prototype.setInlineEditingCss=function(r){this.allRowGuis.forEach(function(a){a.rowComp.addOrRemoveCssClass("ag-row-inline-editing",r),a.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!r)})},i.prototype.setEditingRow=function(r){this.editingRow=r,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-editing",r)});var a=this.createRowEvent(r?J.EVENT_ROW_EDITING_STARTED:J.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(a)},i.prototype.startRowEditing=function(r,a,u,c){void 0===r&&(r=null),void 0===a&&(a=null),void 0===u&&(u=null),void 0===c&&(c=null),this.editingRow||this.getAllCellCtrls().reduce(function(E,P){var M=P===u;return M?P.startEditing(r,a,M,c):P.startEditing(null,null,M,c),!!E||P.isEditing()},!1)&&this.setEditingRow(!0)},i.prototype.getAllCellCtrls=function(){var r=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(sh(arguments[i]));return p}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return r},i.prototype.postProcessClassesFromGridOptions=function(){var r=this,a=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!a||!a.length||a.forEach(function(u){r.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(u,!0)})})},i.prototype.postProcessRowClassRules=function(){var r=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(a){r.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(a,!0)})},function(a){r.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(a,!1)})})},i.prototype.setStylesFromGridOptions=function(r){var a=this.processStylesFromGridOptions();this.forEachGui(r,function(u){return u.rowComp.setUserStyles(a)})},i.prototype.getPinnedForContainer=function(r){return r===jr.LEFT?"left":r===jr.RIGHT?"right":null},i.prototype.getInitialRowClasses=function(r){var a=this.getPinnedForContainer(r),u={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[r],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:a};return this.beans.rowCssClassCalculator.getInitialRowClasses(u)},i.prototype.processStylesFromGridOptions=function(){var r=this.beans.gridOptionsService.get("rowStyle");if(!r||"function"!=typeof r){var u,a=this.beans.gridOptionsService.getCallback("getRowStyle");return a&&(u=a({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},r,u)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},i.prototype.onRowSelected=function(r){var a=this,u=!!this.rowNode.isSelected();this.forEachGui(r,function(c){c.rowComp.addOrRemoveCssClass("ag-row-selected",u),Di(c.element,!!u||void 0);var _=a.createAriaLabel();Zi(c.element,_??"")})},i.prototype.createAriaLabel=function(){var r=this.rowNode.isSelected();if(!r||!this.beans.gridOptionsService.is("suppressRowDeselection"))return this.beans.localeService.getLocaleTextFunc()(r?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(r?"deselect":"select")+" this row.")},i.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},i.prototype.addHoverFunctionality=function(r){var a=this;this.active&&(this.addManagedListener(r,"mouseenter",function(){return a.rowNode.onMouseEnter()}),this.addManagedListener(r,"mouseleave",function(){return a.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,ot.EVENT_MOUSE_ENTER,function(){!a.beans.dragService.isDragging()&&!a.beans.gridOptionsService.is("suppressRowHoverHighlight")&&r.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,ot.EVENT_MOUSE_LEAVE,function(){r.classList.remove("ag-row-hover")}))},i.prototype.roundRowTopToBounds=function(r){var u=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.applyPaginationOffset(u.top,!0)-100,_=this.applyPaginationOffset(u.bottom,!0)+100;return Math.min(Math.max(c,r),_)},i.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},i.prototype.forEachGui=function(r,a){(r?[r]:this.allRowGuis).forEach(a)},i.prototype.onRowHeightChanged=function(r){if(null!=this.rowNode.rowHeight){var a=this.rowNode.rowHeight,u=this.beans.environment.getDefaultRowHeight(),_=this.beans.gridOptionsService.isGetRowHeightFunction()?this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,E=_?Math.min(u,_)-2+"px":void 0;this.forEachGui(r,function(P){P.element.style.height=a+"px",E&&P.element.style.setProperty("--ag-line-height",E)})}},i.prototype.addEventListener=function(r,a){p.prototype.addEventListener.call(this,r,a)},i.prototype.removeEventListener=function(r,a){p.prototype.removeEventListener.call(this,r,a)},i.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var r=this.createRowEvent(J.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(r),this.beans.eventService.dispatchEvent(r),p.prototype.destroy.call(this)},i.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var a=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(a)}else this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},i.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var r=function(a){return a.list.forEach(function(u){return u.destroy()}),{list:[],map:{}}};this.centerCellCtrls=r(this.centerCellCtrls),this.leftCellCtrls=r(this.leftCellCtrls),this.rightCellCtrls=r(this.rightCellCtrls)},i.prototype.setFocusedClasses=function(r){var a=this;this.forEachGui(r,function(u){u.rowComp.addOrRemoveCssClass("ag-row-focus",a.rowFocused),u.rowComp.addOrRemoveCssClass("ag-row-no-focus",!a.rowFocused)})},i.prototype.onCellFocused=function(){this.onCellFocusChanged()},i.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},i.prototype.onCellFocusChanged=function(){var r=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);r!==this.rowFocused&&(this.rowFocused=r,this.setFocusedClasses()),!r&&this.editingRow&&this.stopEditing(!1)},i.prototype.onPaginationChanged=function(){var r=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==r&&(this.paginationPage=r,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},i.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},i.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},i.prototype.applyPaginationOffset=function(r,a){return void 0===a&&(a=!1),this.rowNode.isRowPinned()?r:r+this.beans.paginationProxy.getPixelOffset()*(a?1:-1)},i.prototype.setRowTop=function(r){if(!this.printLayout&&o(r)){var a=this.applyPaginationOffset(r),u=this.rowNode.isRowPinned()?a:this.beans.rowContainerHeightService.getRealPixelPosition(a);this.setRowTopStyle(u+"px")}},i.prototype.getInitialRowTop=function(r){return this.beans.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(r):void 0},i.prototype.getInitialTransform=function(r){return this.beans.gridOptionsService.is("suppressRowTransform")?void 0:"translateY("+this.getInitialRowTopShared(r)+")"},i.prototype.getInitialRowTopShared=function(r){if(this.printLayout)return"";var a;if(this.isSticky())a=this.rowNode.stickyRowTop;else{var u=this.slideInAnimation[r]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,c=this.applyPaginationOffset(u);a=this.rowNode.isRowPinned()?c:this.beans.rowContainerHeightService.getRealPixelPosition(c)}return a+"px"},i.prototype.setRowTopStyle=function(r){var a=this.beans.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(function(u){return a?u.rowComp.setTop(r):u.rowComp.setTransform("translateY("+r+")")})},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getCellCtrl=function(r){var a=null;return this.getAllCellCtrls().forEach(function(u){u.getColumn()==r&&(a=u)}),null!=a||this.getAllCellCtrls().forEach(function(u){u.getColSpanningList().indexOf(r)>=0&&(a=u)}),a},i.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},i.prototype.updateRowIndexes=function(r){var a=this.rowNode.getRowIndexString(),u=this.beans.headerNavigationService.getHeaderRowCount(),c=this.rowNode.rowIndex%2==0,_=u+this.rowNode.rowIndex+1;this.forEachGui(r,function(E){E.rowComp.setRowIndex(a),E.rowComp.addOrRemoveCssClass("ag-row-even",c),E.rowComp.addOrRemoveCssClass("ag-row-odd",!c),So(E.element,_)})},i.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},i.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},i.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},i.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},i.DOM_DATA_KEY_ROW_CTRL="renderedRow",i}(Me),qE=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),$r=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},uh=function(p){function i(r){var a=p.call(this)||this;return a.element=r,a}return qE(i,p),i.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},i.prototype.addKeyboardEvents=function(){var r=this;["keydown","keypress"].forEach(function(u){var c=r.processKeyboardEvent.bind(r,u);r.addManagedListener(r.element,u,c)})},i.prototype.addMouseListeners=function(){var r=this;["dblclick","contextmenu","mouseover","mouseout","click",qu("touchstart")?"touchstart":"mousedown"].forEach(function(c){var _=r.processMouseEvent.bind(r,c);r.addManagedListener(r.element,c,_)})},i.prototype.processMouseEvent=function(r,a){if(this.mouseEventService.isEventFromThisGrid(a)&&!dn(a)){var u=this.getRowForEvent(a),c=this.mouseEventService.getRenderedCellForEvent(a);"contextmenu"===r?this.handleContextMenuMouseEvent(a,null,u,c):(c&&c.onMouseEvent(r,a),u&&u.onMouseEvent(r,a))}},i.prototype.mockContextMenuForIPad=function(){var r=this;if(Mn()){var a=new Zt(this.element);this.addManagedListener(a,Zt.EVENT_LONG_TAP,function(c){var _=r.getRowForEvent(c.touchEvent),E=r.mouseEventService.getRenderedCellForEvent(c.touchEvent);r.handleContextMenuMouseEvent(null,c.touchEvent,_,E)}),this.addDestroyFunc(function(){return a.destroy()})}},i.prototype.getRowForEvent=function(r){for(var a=r.target;a;){var u=this.gridOptionsService.getDomData(a,No.DOM_DATA_KEY_ROW_CTRL);if(u)return u;a=a.parentElement}return null},i.prototype.handleContextMenuMouseEvent=function(r,a,u,c){var _=u?u.getRowNode():null,E=c?c.getColumn():null,P=null;E&&(c.dispatchCellContextMenuEvent(r||a),P=this.valueService.getValue(E,_));var L=this.ctrlsService.getGridBodyCtrl(),B=c?c.getGui():L.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(r,a,_,E,P,B)},i.prototype.processKeyboardEvent=function(r,a){var u=es(this.gridOptionsService,a,Lo.DOM_DATA_KEY_CELL_CTRL),c=es(this.gridOptionsService,a,No.DOM_DATA_KEY_ROW_CTRL);a.defaultPrevented||(u?this.processCellKeyboardEvent(u,r,a):c&&c.isFullWidth()&&this.processFullWidthRowKeyboardEvent(c,r,a))},i.prototype.processCellKeyboardEvent=function(r,a,u){var c=r.getRowNode(),_=r.getColumn(),E=r.isEditing();if(!Al(this.gridOptionsService,u,c,_,E))switch(a){case"keydown":!E&&this.navigationService.handlePageScrollingKey(u)||r.onKeyDown(u),this.doGridOperations(u,r.isEditing());break;case"keypress":r.onKeyPress(u)}if("keydown"===a){var L=r.createEvent(u,J.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(L)}if("keypress"===a){var B=r.createEvent(u,J.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(B)}},i.prototype.processFullWidthRowKeyboardEvent=function(r,a,u){var c=r.getRowNode(),_=this.focusService.getFocusedCell();if(!Al(this.gridOptionsService,u,c,_&&_.column,!1)&&"keydown"===a)switch(u.key){case ve.PAGE_HOME:case ve.PAGE_END:this.navigationService.handlePageScrollingKey(u);break;case ve.UP:case ve.DOWN:r.onKeyboardNavigate(u);break;case ve.TAB:r.onTabKeyDown(u)}if("keydown"===a){var L=r.createRowEvent(J.EVENT_CELL_KEY_DOWN,u);this.eventService.dispatchEvent(L)}if("keypress"===a){var B=r.createRowEvent(J.EVENT_CELL_KEY_PRESS,u);this.eventService.dispatchEvent(B)}},i.prototype.doGridOperations=function(r,a){if((r.ctrlKey||r.metaKey)&&!a&&this.mouseEventService.isEventFromThisGrid(r)){var u=hc(r);if(u===ve.A)return this.onCtrlAndA(r);if(u===ve.C)return this.onCtrlAndC(r);if(u===ve.X)return this.onCtrlAndX(r);if(u===ve.V)return this.onCtrlAndV();if(u===ve.D)return this.onCtrlAndD(r);if(u===ve.Z)return this.onCtrlAndZ(r);if(u===ve.Y)return this.onCtrlAndY()}},i.prototype.onCtrlAndA=function(r){var a=this,u=a.pinnedRowModel,_=a.rangeService;if(_&&a.paginationProxy.isRowsToRender()){var E=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c}([u.isEmpty("top"),u.isEmpty("bottom")],2),L=E[0]?null:"top",B=void 0,U=void 0;E[1]?(B=null,U=this.paginationProxy.getRowCount()-1):(B="bottom",U=u.getPinnedBottomRowData().length-1);var X=this.columnModel.getAllDisplayedColumns();if(d(X))return;_.setCellRange({rowStartIndex:0,rowStartPinned:L,rowEndIndex:U,rowEndPinned:B,columnStart:X[0],columnEnd:Rt(X)})}r.preventDefault()},i.prototype.onCtrlAndC=function(r){!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||(this.clipboardService.copyToClipboard(),r.preventDefault())},i.prototype.onCtrlAndX=function(r){!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||(this.clipboardService.cutToClipboard(),r.preventDefault())},i.prototype.onCtrlAndV=function(){qe.isRegistered(ke.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},i.prototype.onCtrlAndD=function(r){qe.isRegistered(ke.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),r.preventDefault()},i.prototype.onCtrlAndZ=function(r){this.gridOptionsService.is("undoRedoCellEditing")&&(r.preventDefault(),r.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},i.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},$r([$("mouseEventService")],i.prototype,"mouseEventService",void 0),$r([$("valueService")],i.prototype,"valueService",void 0),$r([gt("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),$r([$("ctrlsService")],i.prototype,"ctrlsService",void 0),$r([$("navigationService")],i.prototype,"navigationService",void 0),$r([$("focusService")],i.prototype,"focusService",void 0),$r([$("undoRedoService")],i.prototype,"undoRedoService",void 0),$r([$("columnModel")],i.prototype,"columnModel",void 0),$r([$("paginationProxy")],i.prototype,"paginationProxy",void 0),$r([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),$r([gt("rangeService")],i.prototype,"rangeService",void 0),$r([gt("clipboardService")],i.prototype,"clipboardService",void 0),$r([ce],i.prototype,"postConstruct",null),i}(Me),ch=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ms=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},nd=function(p){function i(r){var a=p.call(this)||this;return a.centerContainerCtrl=r,a}return ch(i,p),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl(),r.listenForResize()}),this.addManagedListener(this.eventService,J.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},i.prototype.listenForResize=function(){var r=this,a=function(){return r.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(a),this.gridBodyCtrl.registerBodyViewportResizeListener(a)},i.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},i.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var r=this.centerContainerCtrl.getCenterWidth();r!==this.centerWidth&&(this.centerWidth=r,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},i.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},i.prototype.getBodyHeight=function(){return this.bodyHeight},i.prototype.checkBodyHeight=function(){var a=Lt(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==a&&(this.bodyHeight=a,this.eventService.dispatchEvent({type:J.EVENT_BODY_HEIGHT_CHANGED}))},i.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},i.prototype.updateScrollVisibleServiceImpl=function(){var r={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(r),this.gridBodyCtrl.setVerticalScrollPaddingVisible(r.verticalScrollShowing)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||this.centerContainerCtrl.isViewportHScrollShowing()},i.prototype.onHorizontalViewportChanged=function(){var r=this.centerContainerCtrl.getCenterWidth(),a=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(r,a)},Ms([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Ms([$("columnModel")],i.prototype,"columnModel",void 0),Ms([$("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Ms([ce],i.prototype,"postConstruct",null),i}(Me),dh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),As=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},eu=function(p){function i(r){var a=p.call(this)||this;return a.element=r,a}return dh(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,J.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},i.prototype.onPinnedLeftWidthChanged=function(){var r=this.pinnedWidthService.getPinnedLeftWidth();ft(this.element,r>0),Un(this.element,r)},i.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},As([$("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),As([ce],i.prototype,"postConstruct",null),i}(Me),ph=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),tu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},id=function(p){function i(r){var a=p.call(this)||this;return a.element=r,a}return ph(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,J.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},i.prototype.onPinnedRightWidthChanged=function(){var r=this.pinnedWidthService.getPinnedRightWidth();ft(this.element,r>0),Un(this.element,r)},i.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},tu([$("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),tu([ce],i.prototype,"postConstruct",null),i}(Me),od=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ba=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},fh=function(p){function i(r,a){var u=p.call(this)||this;return u.eContainer=r,u.eWrapper=a,u}return od(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,J.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},i.prototype.onHeightChanged=function(){var r=this.maxDivHeightScaler.getUiContainerHeight(),a=null!=r?r+"px":"";this.eContainer.style.height=a,this.eWrapper&&(this.eWrapper.style.height=a)},ba([$("rowContainerHeightService")],i.prototype,"maxDivHeightScaler",void 0),ba([ce],i.prototype,"postConstruct",null),i}(Me),hh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ad=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},j_=function(p){function i(r){var a=p.call(this)||this;return a.eContainer=r,a}return hh(i,p),i.prototype.postConstruct=function(){var r=this;if(this.gridOptionsService.isEnableRangeSelection()&&!s(this.rangeService)){var a={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(a),this.addDestroyFunc(function(){return r.dragService.removeDragSource(a)})}},ad([gt("rangeService")],i.prototype,"rangeService",void 0),ad([$("dragService")],i.prototype,"dragService",void 0),ad([ce],i.prototype,"postConstruct",null),i}(Me),K_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),sd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ru=function(p){function i(r){var a=p.call(this)||this;return a.callback=r,a}return K_(i,p),i.prototype.postConstruct=function(){var r=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",r),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.setWidth()},i.prototype.setWidth=function(){var r=this.columnModel,a=this.gridOptionsService.isDomLayout("print"),u=r.getBodyContainerWidth(),c=r.getDisplayedColumnsLeftWidth(),_=r.getDisplayedColumnsRightWidth();this.callback(a?u+c+_:u)},sd([$("columnModel")],i.prototype,"columnModel",void 0),sd([ce],i.prototype,"postConstruct",null),i}(Me),nu=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ii=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Pa=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},ge=(()=>(function(p){p.LEFT="left",p.RIGHT="right",p.CENTER="center",p.FULL_WIDTH="fullWidth",p.TOP_LEFT="topLeft",p.TOP_RIGHT="topRight",p.TOP_CENTER="topCenter",p.TOP_FULL_WIDTH="topFullWidth",p.STICKY_TOP_LEFT="stickyTopLeft",p.STICKY_TOP_RIGHT="stickyTopRight",p.STICKY_TOP_CENTER="stickyTopCenter",p.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",p.BOTTOM_LEFT="bottomLeft",p.BOTTOM_RIGHT="bottomRight",p.BOTTOM_CENTER="bottomCenter",p.BOTTOM_FULL_WIDTH="bottomFullWidth"}(ge||(ge={})),ge))(),jr=(()=>(function(p){p.LEFT="left",p.RIGHT="right",p.CENTER="center",p.FULL_WIDTH="fullWidth"}(jr||(jr={})),jr))(),ld=Xi([[ge.CENTER,"ag-center-cols-container"],[ge.LEFT,"ag-pinned-left-cols-container"],[ge.RIGHT,"ag-pinned-right-cols-container"],[ge.FULL_WIDTH,"ag-full-width-container"],[ge.TOP_CENTER,"ag-floating-top-container"],[ge.TOP_LEFT,"ag-pinned-left-floating-top"],[ge.TOP_RIGHT,"ag-pinned-right-floating-top"],[ge.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[ge.STICKY_TOP_CENTER,"ag-sticky-top-container"],[ge.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[ge.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[ge.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[ge.BOTTOM_CENTER,"ag-floating-bottom-container"],[ge.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[ge.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[ge.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),q_=Xi([[ge.CENTER,"ag-center-cols-viewport"],[ge.TOP_CENTER,"ag-floating-top-viewport"],[ge.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[ge.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),gh=Xi([[ge.CENTER,"ag-center-cols-clipper"]]),xs=function(p){function i(r){var a=p.call(this)||this;return a.visible=!0,a.name=r,a}return nu(i,p),i.getRowContainerCssClasses=function(r){return{container:ld.get(r),viewport:q_.get(r),wrapper:gh.get(r)}},i.getPinned=function(r){switch(r){case ge.BOTTOM_LEFT:case ge.TOP_LEFT:case ge.STICKY_TOP_LEFT:case ge.LEFT:return"left";case ge.BOTTOM_RIGHT:case ge.TOP_RIGHT:case ge.STICKY_TOP_RIGHT:case ge.RIGHT:return"right";default:return null}},i.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([ge.CENTER],function(){return r.viewportSizeFeature=r.createManagedBean(new nd(r))})},i.prototype.registerWithCtrlsService=function(){switch(this.name){case ge.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case ge.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case ge.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case ge.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case ge.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case ge.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case ge.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case ge.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case ge.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case ge.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case ge.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case ge.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},i.prototype.forContainers=function(r,a){r.indexOf(this.name)>=0&&a()},i.prototype.getContainerElement=function(){return this.eContainer},i.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},i.prototype.setComp=function(r,a,u,c){var _=this;this.comp=r,this.eContainer=a,this.eViewport=u,this.eWrapper=c,this.createManagedBean(new uh(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var B=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Pa(arguments[i]));return p}([ge.TOP_CENTER,ge.TOP_LEFT,ge.TOP_RIGHT],[ge.BOTTOM_CENTER,ge.BOTTOM_LEFT,ge.BOTTOM_RIGHT],[ge.CENTER,ge.LEFT,ge.RIGHT],[ge.STICKY_TOP_CENTER,ge.STICKY_TOP_LEFT,ge.STICKY_TOP_RIGHT]),U=[ge.CENTER,ge.LEFT,ge.RIGHT,ge.FULL_WIDTH],X=[ge.CENTER,ge.TOP_CENTER,ge.STICKY_TOP_CENTER,ge.BOTTOM_CENTER],oe=[ge.RIGHT,ge.BOTTOM_RIGHT,ge.TOP_RIGHT,ge.STICKY_TOP_RIGHT];this.forContainers([ge.LEFT,ge.BOTTOM_LEFT,ge.TOP_LEFT,ge.STICKY_TOP_LEFT],function(){_.pinnedWidthFeature=_.createManagedBean(new eu(_.eContainer)),_.addManagedListener(_.eventService,J.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return _.onPinnedWidthChanged()})}),this.forContainers(oe,function(){_.pinnedWidthFeature=_.createManagedBean(new id(_.eContainer)),_.addManagedListener(_.eventService,J.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return _.onPinnedWidthChanged()})}),this.forContainers(U,function(){return _.createManagedBean(new fh(_.eContainer,_.eWrapper))}),this.forContainers(B,function(){return _.createManagedBean(new j_(_.eContainer))}),this.forContainers(X,function(){return _.createManagedBean(new ru(function(le){return _.comp.setContainerWidth(le+"px")}))}),ra()&&(this.forContainers([ge.CENTER],function(){_.addManagedListener(_.eventService,_.enableRtl?J.EVENT_LEFT_PINNED_WIDTH_CHANGED:J.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return _.refreshPaddingForFakeScrollbar()})}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},i.prototype.refreshPaddingForFakeScrollbar=function(){var r=this,a=r.enableRtl,u=r.columnModel,c=r.name,_=r.eWrapper,E=r.eContainer,P=a?ge.LEFT:ge.RIGHT;this.forContainers([ge.CENTER,P],function(){var M=u.getContainerWidth(P),L=a?"marginLeft":"marginRight";c===ge.CENTER?_.style[L]=M?"0px":"16px":E.style[L]=M?"16px":"0px"})},i.prototype.addListeners=function(){var r=this;this.addManagedListener(this.eventService,J.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return r.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return r.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return r.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_ROWS_CHANGED,function(){return r.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},i.prototype.listenOnDomOrder=function(){var r=this;if([ge.STICKY_TOP_CENTER,ge.STICKY_TOP_LEFT,ge.STICKY_TOP_RIGHT,ge.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var c=function(){var _=r.gridOptionsService.is("ensureDomOrder"),E=r.gridOptionsService.isDomLayout("print");r.comp.setDomOrder(_||E)};this.addManagedPropertyListener("domLayout",c),c()}},i.prototype.stopHScrollOnPinnedRows=function(){var r=this;this.forContainers([ge.TOP_CENTER,ge.STICKY_TOP_CENTER,ge.BOTTOM_CENTER],function(){r.addManagedListener(r.eViewport,"scroll",function(){return r.eViewport.scrollLeft=0})})},i.prototype.onDisplayedColumnsChanged=function(){var r=this;this.forContainers([ge.CENTER],function(){return r.onHorizontalViewportChanged()})},i.prototype.onDisplayedColumnsWidthChanged=function(){var r=this;this.forContainers([ge.CENTER],function(){return r.onHorizontalViewportChanged()})},i.prototype.onScrollVisibilityChanged=function(){if(this.name===ge.CENTER){var a=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsService.getScrollbarWidth()||0;this.comp.setViewportHeight(0==a?"100%":"calc(100% + "+a+"px)")}},i.prototype.addPreventScrollWhileDragging=function(){var r=this,a=function(u){r.dragService.isDragging()&&u.cancelable&&u.preventDefault()};this.eContainer.addEventListener("touchmove",a,{passive:!1}),this.addDestroyFunc(function(){return r.eContainer.removeEventListener("touchmove",a)})},i.prototype.onHorizontalViewportChanged=function(){var r=this.getCenterWidth(),a=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,a)},i.prototype.getCenterWidth=function(){return dc(this.eViewport)},i.prototype.getCenterViewportScrollLeft=function(){return io(this.eViewport,this.enableRtl)},i.prototype.registerViewportResizeListener=function(r){var a=this.resizeObserverService.observeResize(this.eViewport,r);this.addDestroyFunc(function(){return a()})},i.prototype.isViewportVisible=function(){return Vr(this.eViewport)},i.prototype.isViewportHScrollShowing=function(){return ff(this.eViewport)},i.prototype.getViewportScrollLeft=function(){return io(this.eViewport,this.enableRtl)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||ff(this.eViewport)},i.prototype.getViewportElement=function(){return this.eViewport},i.prototype.setContainerTranslateX=function(r){this.eContainer.style.transform="translateX("+r+"px)"},i.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},i.prototype.setCenterViewportScrollLeft=function(r){Ri(this.eViewport,r,this.enableRtl)},i.prototype.isContainerVisible=function(){return!i.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},i.prototype.onPinnedWidthChanged=function(){var r=this.isContainerVisible();this.visible!=r&&(this.visible=r,this.onDisplayedRowsChanged()),ra()&&this.refreshPaddingForFakeScrollbar()},i.prototype.onDisplayedRowsChanged=function(){var r=this,a=this.name===ge.TOP_FULL_WIDTH||this.name===ge.STICKY_TOP_FULL_WIDTH||this.name===ge.BOTTOM_FULL_WIDTH||this.name===ge.FULL_WIDTH,_=(this.visible?this.getRowCtrls():[]).filter(function(E){var P=E.isFullWidth(),M=r.gridOptionsService.isDomLayout("print"),L=r.embedFullWidthRows||M;return a?!L&&P:L||!P});this.comp.setRowCtrls(_)},i.prototype.getRowCtrls=function(){switch(this.name){case ge.TOP_CENTER:case ge.TOP_LEFT:case ge.TOP_RIGHT:case ge.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case ge.STICKY_TOP_CENTER:case ge.STICKY_TOP_LEFT:case ge.STICKY_TOP_RIGHT:case ge.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case ge.BOTTOM_CENTER:case ge.BOTTOM_LEFT:case ge.BOTTOM_RIGHT:case ge.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},Ii([$("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Ii([$("dragService")],i.prototype,"dragService",void 0),Ii([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Ii([$("columnModel")],i.prototype,"columnModel",void 0),Ii([$("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Ii([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Ii([ce],i.prototype,"postConstruct",null),i}(Me),ud=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Kn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},vh='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+ge.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+ge.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+ge.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+ge.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="'+ge.LEFT+'"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="'+ge.CENTER+'"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="'+ge.RIGHT+'"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="'+ge.FULL_WIDTH+'"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+ge.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+ge.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+ge.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+ge.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+ge.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+ge.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+ge.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+ge.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',_h=function(p){function i(){return p.call(this,vh)||this}return ud(i,p),i.prototype.init=function(){var r=this,a=function(c,_){var E=c+"px";_.style.minHeight=E,_.style.height=E},u={setRowAnimationCssOnBodyViewport:function(c,_){return r.setRowAnimationCssOnBodyViewport(c,_)},setColumnCount:function(c){return wo(r.getGui(),c)},setRowCount:function(c){return nc(r.getGui(),c)},setTopHeight:function(c){return a(c,r.eTop)},setBottomHeight:function(c){return a(c,r.eBottom)},setTopDisplay:function(c){return r.eTop.style.display=c},setBottomDisplay:function(c){return r.eBottom.style.display=c},setStickyTopHeight:function(c){return r.eStickyTop.style.height=c},setStickyTopTop:function(c){return r.eStickyTop.style.top=c},setStickyTopWidth:function(c){return r.eStickyTop.style.width=c},setColumnMovingCss:function(c,_){return r.addOrRemoveCssClass(qf,_)},updateLayoutClasses:function(c,_){[r.eBodyViewport.classList,r.eBodyClipper.classList,r.eBody.classList].forEach(function(P){P.toggle(cr.AUTO_HEIGHT,_.autoHeight),P.toggle(cr.NORMAL,_.normal),P.toggle(cr.PRINT,_.print)}),r.addOrRemoveCssClass(cr.AUTO_HEIGHT,_.autoHeight),r.addOrRemoveCssClass(cr.NORMAL,_.normal),r.addOrRemoveCssClass(cr.PRINT,_.print)},setAlwaysVerticalScrollClass:function(c,_){return r.eBodyViewport.classList.toggle(Yf,_)},registerBodyViewportResizeListener:function(c){var _=r.resizeObserverService.observeResize(r.eBodyViewport,c);r.addDestroyFunc(function(){return _()})},setPinnedTopBottomOverflowY:function(c){return r.eTop.style.overflowY=r.eBottom.style.overflowY=c},setCellSelectableCss:function(c,_){[r.eTop,r.eBodyViewport,r.eBottom].forEach(function(E){return E.classList.toggle(Yc,_)})},setBodyViewportWidth:function(c){return r.eBodyViewport.style.width=c}};this.ctrl=this.createManagedBean(new ln),this.ctrl.setComp(u,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&sf(this.getGui(),!0)},i.prototype.setRowAnimationCssOnBodyViewport=function(r,a){var u=this.eBodyViewport.classList;u.toggle(xo.ANIMATION_ON,a),u.toggle(xo.ANIMATION_OFF,!a)},i.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Kn([$("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Kn([gt("rangeService")],i.prototype,"rangeService",void 0),Kn([be("eBodyViewport")],i.prototype,"eBodyViewport",void 0),Kn([be("eStickyTop")],i.prototype,"eStickyTop",void 0),Kn([be("eTop")],i.prototype,"eTop",void 0),Kn([be("eBottom")],i.prototype,"eBottom",void 0),Kn([be("gridHeader")],i.prototype,"headerRootComp",void 0),Kn([be("eBodyClipper")],i.prototype,"eBodyClipper",void 0),Kn([be("eBody")],i.prototype,"eBody",void 0),Kn([ce],i.prototype,"init",null),i}(Ge),yh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),cd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},X_=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return yh(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},i.prototype.onDisplayedColumnsChanged=function(){this.update()},i.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},i.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},i.prototype.updateImpl=function(){var r=this.ctrlsService.getCenterRowContainerCtrl();if(r){var a={horizontalScrollShowing:r.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(a)}},i.prototype.setScrollsVisible=function(r){this.horizontalScrollShowing===r.horizontalScrollShowing&&this.verticalScrollShowing===r.verticalScrollShowing||(this.horizontalScrollShowing=r.horizontalScrollShowing,this.verticalScrollShowing=r.verticalScrollShowing,this.eventService.dispatchEvent({type:J.EVENT_SCROLL_VISIBILITY_CHANGED}))},i.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},i.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},cd([$("ctrlsService")],i.prototype,"ctrlsService",void 0),cd([ce],i.prototype,"postConstruct",null),cd([Le("scrollVisibleService")],i)}(Me),J_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),mh=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Z_=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.gridInstanceId=r.gridInstanceSequence.next(),a}var r;return J_(i,p),r=i,i.prototype.stampTopLevelGridCompWithGridInstance=function(a){a[r.GRID_DOM_KEY]=this.gridInstanceId},i.prototype.getRenderedCellForEvent=function(a){return es(this.gridOptionsService,a,Lo.DOM_DATA_KEY_CELL_CTRL)},i.prototype.isEventFromThisGrid=function(a){return this.isElementInThisGrid(a.target)},i.prototype.isElementInThisGrid=function(a){for(var u=a;u;){var c=u[r.GRID_DOM_KEY];if(o(c))return c===this.gridInstanceId;u=u.parentElement}return!1},i.prototype.getCellPositionForEvent=function(a){var u=this.getRenderedCellForEvent(a);return u?u.getCellPosition():null},i.prototype.getNormalisedPosition=function(a){var _,E,u=this.gridOptionsService.isDomLayout("normal");if(null!=a.clientX||null!=a.clientY?(_=a.clientX,E=a.clientY):(_=a.x,E=a.y),u){var P=this.ctrlsService.getGridBodyCtrl(),M=P.getScrollFeature().getVScrollPosition();_+=P.getScrollFeature().getHScrollPosition().left,E+=M.top}return{x:_,y:E}},i.gridInstanceSequence=new an,i.GRID_DOM_KEY="__ag_grid_instance",mh([$("ctrlsService")],i.prototype,"ctrlsService",void 0),r=mh([Le("mouseEventService")],i)}(Me),co=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),po=function(){return po=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},po.apply(this,arguments)},un=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},XE=function(p){function i(){var r=p.call(this)||this;return r.onPageDown=xt(r.onPageDown,100),r.onPageUp=xt(r.onPageUp,100),r}return co(i,p),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){r.gridBodyCon=a.gridBodyCtrl})},i.prototype.handlePageScrollingKey=function(r){var a=r.key,u=r.altKey,c=r.ctrlKey||r.metaKey,_=!!this.rangeService&&r.shiftKey,E=this.mouseEventService.getCellPositionForEvent(r),P=!1;switch(a){case ve.PAGE_HOME:case ve.PAGE_END:!c&&!u&&(this.onHomeOrEndKey(a),P=!0);break;case ve.LEFT:case ve.RIGHT:case ve.UP:case ve.DOWN:if(!E)return!1;c&&!u&&!_&&(this.onCtrlUpDownLeftRight(a,E),P=!0);break;case ve.PAGE_DOWN:if(!E)return!1;!c&&!u&&(this.onPageDown(E),P=!0);break;case ve.PAGE_UP:if(!E)return!1;!c&&!u&&(this.onPageUp(E),P=!0)}return P&&r.preventDefault(),P},i.prototype.navigateTo=function(r){var a=r.scrollIndex,u=r.scrollType,c=r.scrollColumn,_=r.focusIndex,E=r.focusColumn;o(c)&&!c.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),o(a)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(a,u),r.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(_),this.focusService.setFocusedCell({rowIndex:_,column:E,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:_,rowPinned:null,column:E})},i.prototype.onPageDown=function(r){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.getViewportHeight(),_=this.paginationProxy.getPixelOffset(),P=this.paginationProxy.getRowIndexAtPixel(u.top+c+_);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(r,P):this.navigateToNextPage(r,P)},i.prototype.onPageUp=function(r){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.paginationProxy.getPixelOffset(),E=this.paginationProxy.getRowIndexAtPixel(u.top+c);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(r,E,!0):this.navigateToNextPage(r,E,!0)},i.prototype.navigateToNextPage=function(r,a,u){void 0===u&&(u=!1);var Q,c=this.getViewportHeight(),_=this.paginationProxy.getPageFirstRow(),E=this.paginationProxy.getPageLastRow(),P=this.paginationProxy.getPixelOffset(),M=this.paginationProxy.getRow(r.rowIndex),U=this.paginationProxy.getRowIndexAtPixel(M?.rowTop+(u?M?.rowHeight-c-P:c-P)+P);U===r.rowIndex&&(a=U=r.rowIndex+(u?-1:1)),u?(Q="bottom",U<_&&(U=_),a<_&&(a=_)):(Q="top",U>E&&(U=E),a>E&&(a=E)),this.isRowTallerThanView(U)&&(a=U,Q="top"),this.navigateTo({scrollIndex:a,scrollType:Q,scrollColumn:null,focusIndex:U,focusColumn:r.column})},i.prototype.navigateToNextPageWithAutoHeight=function(r,a,u){var c=this;void 0===u&&(u=!1),this.navigateTo({scrollIndex:a,scrollType:u?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:r.column}),setTimeout(function(){var _=c.getNextFocusIndexForAutoHeight(r,u);c.navigateTo({scrollIndex:a,scrollType:u?"bottom":"top",scrollColumn:null,focusIndex:_,focusColumn:r.column,isAsync:!0})},50)},i.prototype.getNextFocusIndexForAutoHeight=function(r,a){var u;void 0===a&&(a=!1);for(var c=a?-1:1,_=this.getViewportHeight(),E=this.paginationProxy.getPageLastRow(),P=0,M=r.rowIndex;M>=0&&M<=E;){var L=this.paginationProxy.getRow(M);if(L){var B=null!==(u=L.rowHeight)&&void 0!==u?u:0;if(P+B>_)break;P+=B}M+=c}return Math.max(0,Math.min(M,E))},i.prototype.getViewportHeight=function(){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),u=this.gridOptionsService.getScrollbarWidth(),c=a.bottom-a.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(c-=u),c},i.prototype.isRowTallerThanView=function(r){var a=this.paginationProxy.getRow(r);if(!a)return!1;var u=a.rowHeight;return"number"==typeof u&&u>this.getViewportHeight()},i.prototype.onCtrlUpDownLeftRight=function(r,a){var u=this.cellNavigationService.getNextCellToFocus(r,a,!0),c=u.rowIndex,_=u.column;this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:_,focusIndex:c,focusColumn:_})},i.prototype.onHomeOrEndKey=function(r){var a=r===ve.PAGE_HOME,u=this.columnModel.getAllDisplayedColumns(),c=a?u[0]:Rt(u),_=a?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:_,scrollType:null,scrollColumn:c,focusIndex:_,focusColumn:c})},i.prototype.onTabKeyDown=function(r,a){var u=a.shiftKey;if(this.tabToNextCellCommon(r,u,a))a.preventDefault();else if(u){var _=r.getRowPosition(),E=_.rowIndex;(_.rowPinned?0===E:E===this.paginationProxy.getPageFirstRow())&&(a.preventDefault(),this.focusService.focusLastHeader(a))}else r instanceof Lo&&r.focusCell(!0),this.focusService.focusNextGridCoreContainer(u)&&a.preventDefault()},i.prototype.tabToNextCell=function(r,a){var u=this.focusService.getFocusedCell();if(!u)return!1;var c=this.getCellByPosition(u);return!!(c||(c=this.rowRenderer.getRowByPosition(u),c&&c.isFullWidth()))&&this.tabToNextCellCommon(c,r,a)},i.prototype.tabToNextCellCommon=function(r,a,u){var c=r.isEditing();if(!c&&r instanceof Lo){var E=r.getRowCtrl();E&&(c=E.isEditing())}return(c?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(r,a,u):this.moveToNextEditingCell(r,a,u):this.moveToNextCellNotEditing(r,a))||!!this.focusService.getFocusedHeader()},i.prototype.moveToNextEditingCell=function(r,a,u){void 0===u&&(u=null);var c=r.getCellPosition();r.getGui().focus(),r.stopEditing();var _=this.findNextCellToFocusOn(c,a,!0);return null!=_&&(_.startEditing(null,null,!0,u),_.focusCell(!1),!0)},i.prototype.moveToNextEditingRow=function(r,a,u){void 0===u&&(u=null);var c=r.getCellPosition(),_=this.findNextCellToFocusOn(c,a,!0);if(null==_)return!1;var E=_.getCellPosition(),P=this.isCellEditable(c),M=this.isCellEditable(E),L=E&&c.rowIndex===E.rowIndex&&c.rowPinned===E.rowPinned;return P&&r.setFocusOutOnEditor(),L||(r.getRowCtrl().stopEditing(),_.getRowCtrl().startRowEditing(void 0,void 0,void 0,u)),M?(_.setFocusInOnEditor(),_.focusCell()):_.focusCell(!0),!0},i.prototype.moveToNextCellNotEditing=function(r,a){var c,u=this.columnModel.getAllDisplayedColumns();c=r instanceof No?po(po({},r.getRowPosition()),{column:a?u[0]:Rt(u)}):r.getCellPosition();var _=this.findNextCellToFocusOn(c,a,!1);if(_ instanceof Lo)_.focusCell(!0);else if(_)return this.tryToFocusFullWidthRow(_.getRowPosition(),a);return o(_)},i.prototype.findNextCellToFocusOn=function(r,a,u){for(var c=r;;){r!==c&&(r=c),a||(c=this.getLastCellOfColSpan(c)),c=this.cellNavigationService.getNextTabbedCell(c,a);var _=this.gridOptionsService.getCallback("tabToNextCell");if(o(_)){var P=_({backwards:a,editing:u,previousCellPosition:r,nextCellPosition:c||null});o(P)?(P.floating&&(Ce(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),P.rowPinned=P.floating),c={rowIndex:P.rowIndex,column:P.column,rowPinned:P.rowPinned}):c=null}if(!c)return null;if(c.rowIndex<0){var M=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:M+c.rowIndex,column:c.column}}),null}var L="fullRow"===this.gridOptionsService.get("editType");if(!u||L||this.isCellEditable(c)){this.ensureCellVisible(c);var U=this.getCellByPosition(c);if(!U){var X=this.rowRenderer.getRowByPosition(c);if(!X||!X.isFullWidth()||u)continue;return X}if(!U.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(c),U}}},i.prototype.isCellEditable=function(r){var a=this.lookupRowNodeForCell(r);return!!a&&r.column.isCellEditable(a)},i.prototype.getCellByPosition=function(r){var a=this.rowRenderer.getRowByPosition(r);return a?a.getCellCtrl(r.column):null},i.prototype.lookupRowNodeForCell=function(r){return"top"===r.rowPinned?this.pinnedRowModel.getPinnedTopRow(r.rowIndex):"bottom"===r.rowPinned?this.pinnedRowModel.getPinnedBottomRow(r.rowIndex):this.paginationProxy.getRow(r.rowIndex)},i.prototype.navigateToNextCell=function(r,a,u,c){for(var _=u,E=!1;_&&(_===u||!this.isValidNavigateCell(_));)this.gridOptionsService.is("enableRtl")?a===ve.LEFT&&(_=this.getLastCellOfColSpan(_)):a===ve.RIGHT&&(_=this.getLastCellOfColSpan(_)),E=s(_=this.cellNavigationService.getNextCellToFocus(a,_));if(E&&r&&r.key===ve.UP&&(_={rowIndex:-1,rowPinned:null,column:u.column}),c){var P=this.gridOptionsService.getCallback("navigateToNextCell");if(o(P)){var L=P({key:a,previousCellPosition:u,nextCellPosition:_||null,event:r});o(L)?(L.floating&&(Ce(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),L.rowPinned=L.floating),_={rowPinned:L.rowPinned,rowIndex:L.rowIndex,column:L.column}):_=null}}if(_){if(_.rowIndex<0){var B=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:B+_.rowIndex,column:u.column},event:r||void 0})}var U=this.getNormalisedPosition(_);U?this.focusPosition(U):this.tryToFocusFullWidthRow(_)}},i.prototype.getNormalisedPosition=function(r){this.ensureCellVisible(r);var a=this.getCellByPosition(r);return a?(r=a.getCellPosition(),this.ensureCellVisible(r),r):null},i.prototype.tryToFocusFullWidthRow=function(r,a){void 0===a&&(a=!1);var u=this.columnModel.getAllDisplayedColumns(),c=this.rowRenderer.getRowByPosition(r);if(!c||!c.isFullWidth())return!1;var _=this.focusService.getFocusedCell(),E={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column||(a?Rt(u):u[0])};this.focusPosition(E);var P=null!=_&&this.rowPositionUtils.before(E,_);return this.eventService.dispatchEvent({type:J.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:E.rowIndex,rowPinned:E.rowPinned,column:E.column,isFullWidthCell:!0,floating:E.rowPinned,fromBelow:P}),!0},i.prototype.focusPosition=function(r){this.focusService.setFocusedCell({rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(r)},i.prototype.isValidNavigateCell=function(r){return!!this.rowPositionUtils.getRowNode(r)},i.prototype.getLastCellOfColSpan=function(r){var a=this.getCellByPosition(r);if(!a)return r;var u=a.getColSpanningList();return 1===u.length?r:{rowIndex:r.rowIndex,column:Rt(u),rowPinned:r.rowPinned}},i.prototype.ensureCellVisible=function(r){var a=this.gridOptionsService.is("groupRowsSticky"),u=this.rowModel.getRow(r.rowIndex);!(a&&u?.sticky)&&s(r.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(r.column)},un([$("mouseEventService")],i.prototype,"mouseEventService",void 0),un([$("paginationProxy")],i.prototype,"paginationProxy",void 0),un([$("focusService")],i.prototype,"focusService",void 0),un([gt("rangeService")],i.prototype,"rangeService",void 0),un([$("columnModel")],i.prototype,"columnModel",void 0),un([$("rowModel")],i.prototype,"rowModel",void 0),un([$("ctrlsService")],i.prototype,"ctrlsService",void 0),un([$("rowRenderer")],i.prototype,"rowRenderer",void 0),un([$("headerNavigationService")],i.prototype,"headerNavigationService",void 0),un([$("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),un([$("cellNavigationService")],i.prototype,"cellNavigationService",void 0),un([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),un([ce],i.prototype,"postConstruct",null),un([Le("navigationService")],i)}(Me),JE=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),QE=function(p){function i(r){var a=p.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return a.params=r,a}return JE(i,p),i.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),i.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},i.prototype.addKeyDownListener=function(){var r=this,a=this.getGui(),u=this.params;this.addManagedListener(a,"keydown",function(_){Al(r.gridOptionsService,_,u.node,u.column,!0)||u.onKeyDown(_)})},i.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ce],i.prototype,"postConstruct",null),i}(To),eS=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ch=function(p){function i(r,a,u,c,_){var E=p.call(this)||this;E.rendererVersion=0,E.editorVersion=0,E.beans=r,E.column=a.getColumn(),E.rowNode=a.getRowNode(),E.rowCtrl=a.getRowCtrl(),E.eRow=c,E.setTemplate('<div comp-id="'+E.getCompId()+'"/>');var P=E.getGui();E.forceWrapper=a.isForceWrapper(),E.refreshWrapper(!1);var M=function(B,U,X){var Q=X||P;null!=U&&""!=U?Q.setAttribute(B,U):Q.removeAttribute(B)},L={addOrRemoveCssClass:function(B,U){return E.addOrRemoveCssClass(B,U)},setUserStyles:function(B){return pf(P,B)},getFocusableElement:function(){return E.getFocusableElement()},setTabIndex:function(B){return M("tabindex",B.toString())},setRole:function(B){return Br(P,B)},setColId:function(B){return M("col-id",B)},setTitle:function(B){return M("title",B)},setIncludeSelection:function(B){return E.includeSelection=B},setIncludeRowDrag:function(B){return E.includeRowDrag=B},setIncludeDndSource:function(B){return E.includeDndSource=B},setRenderDetails:function(B,U,X){return E.setRenderDetails(B,U,X)},setEditDetails:function(B,U,X){return E.setEditDetails(B,U,X)},getCellEditor:function(){return E.cellEditor||null},getCellRenderer:function(){return E.cellRenderer||null},getParentOfValue:function(){return E.getParentOfValue()}};return E.cellCtrl=a,a.setComp(L,E.getGui(),E.eCellWrapper,u,_),E}return eS(i,p),i.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},i.prototype.setRenderDetails=function(r,a,u){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var _=this.refreshWrapper(!1);this.refreshEditStyles(!1),r?!u&&!_&&this.refreshCellRenderer(r)||(this.destroyRenderer(),this.createCellRendererInstance(r)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(a))}},i.prototype.setEditDetails=function(r,a,u){r?this.createCellEditorInstance(r,a,u):this.destroyEditor()},i.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},i.prototype.refreshWrapper=function(r){var a=this.includeRowDrag||this.includeDndSource||this.includeSelection,u=a||this.forceWrapper,c=u&&null==this.eCellWrapper;c&&(this.eCellWrapper=gr('<div class="ag-cell-wrapper" role="presentation" aria-hidden="true"></div>'),this.getGui().appendChild(this.eCellWrapper));var _=!u&&null!=this.eCellWrapper;_&&(hr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!u);var E=!r&&u,P=E&&null==this.eCellValue;P&&(this.eCellValue=gr('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var M=!E&&null!=this.eCellValue;M&&(hr(this.eCellValue),this.eCellValue=void 0);var L=c||_||P||M;return L&&this.removeControls(),r||(a&&this.addControls(),u&&this.refreshAriaProperties()),L},i.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},i.prototype.refreshAriaProperties=function(){var r=this.eCellValue.id="cell-"+this.getCompId(),a=[];this.includeSelection&&this.checkboxSelectionComp&&a.push(this.checkboxSelectionComp.getCheckboxId()),a.push(r),of(this.getGui(),a.join(" "))},i.prototype.createCellEditorInstance=function(r,a,u){var c=this,_=this.editorVersion,E=r.newAgStackInstance();if(E){var P=r.params;E.then(function(L){return c.afterCellEditorCreated(_,L,P,a,u)}),s(this.cellEditor)&&P.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},i.prototype.insertValueWithoutCellRenderer=function(r){var a=this.getParentOfValue();kt(a);var u=null!=r?wi(r):null;null!=u&&(a.innerHTML=u)},i.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},i.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),hr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},i.prototype.destroyEditor=function(){var r=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=r.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=r.destroyBean(this.cellEditorPopupWrapper),hr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},i.prototype.refreshCellRenderer=function(r){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==r.componentClass)return!1;var a=this.cellRenderer.refresh(r.params);return!0===a||void 0===a},i.prototype.createCellRendererInstance=function(r){var a=this,u=this.beans.gridOptionsService.is("suppressAnimationFrame"),_=this.rendererVersion,E=r.componentClass,P=function(){if(a.rendererVersion===_&&a.isAlive()){var L=r.newAgStackInstance(),B=a.afterCellRendererCreated.bind(a,_,E);L&&L.then(B)}};!u&&this.firstRender?this.beans.animationFrameService.createTask(P,this.rowNode.rowIndex,"createTasksP2"):P()},i.prototype.getCtrl=function(){return this.cellCtrl},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getCellRenderer=function(){return this.cellRenderer},i.prototype.getCellEditor=function(){return this.cellEditor},i.prototype.afterCellRendererCreated=function(r,a,u){if(this.isAlive()&&r===this.rendererVersion){if(this.cellRenderer=u,this.cellRendererClass=a,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var _=this.getParentOfValue();kt(_),_.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(u)},i.prototype.afterCellEditorCreated=function(r,a,u,c,_){if(r!==this.editorVersion)this.beans.context.destroyBean(a);else{if(a.isCancelBeforeStart&&a.isCancelBeforeStart())return this.beans.context.destroyBean(a),void this.cellCtrl.stopEditing(!0);if(!a.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(a);this.cellEditor=a,this.cellEditorGui=a.getGui();var M=c||void 0!==a.isPopup&&a.isPopup();M?this.addPopupCellEditor(u,_):this.addInCellEditor(),this.refreshEditStyles(!0,M),a.afterGuiAttached&&a.afterGuiAttached()}},i.prototype.refreshEditStyles=function(r,a){var u;this.addOrRemoveCssClass("ag-cell-inline-editing",r&&!a),this.addOrRemoveCssClass("ag-cell-popup-editing",r&&!!a),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!r||!!a),null===(u=this.rowCtrl)||void 0===u||u.setInlineEditingCss(r)},i.prototype.addInCellEditor=function(){var r=this.getGui(),a=this.beans.gridOptionsService.getDocument();r.contains(a.activeElement)&&r.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},i.prototype.addPopupCellEditor=function(r,a){var u=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new QE(r));var _=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&_.appendChild(this.cellEditorGui);var E=this.beans.popupService,P=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),M=a??(c.getPopupPosition?c.getPopupPosition():"over"),L=this.beans.gridOptionsService.is("enableRtl"),B={ePopup:_,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:M,alignSide:L?"right":"left",keepWithinBounds:!0},U=E.positionPopupByComponent.bind(E,B),X=this.beans.localeService.getLocaleTextFunc(),Q=E.addPopup({modal:P,eChild:_,closeOnEsc:!0,closedCallback:function(){u.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:U,ariaLabel:X("ariaLabelCellEditor","Cell Editor")});Q&&(this.hideEditorPopup=Q.hideFunc)},i.prototype.detach=function(){this.eRow.removeChild(this.getGui())},i.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),p.prototype.destroy.call(this)},i.prototype.clearParentOfValue=function(){var r=this.getGui(),a=this.beans.gridOptionsService.getDocument();r.contains(a.activeElement)&&wl()&&r.focus({preventScroll:!0}),kt(this.getParentOfValue())},i}(Ge),Q_=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ey=function(p){function i(r,a,u){var c=p.call(this)||this;c.cellComps={},c.beans=a,c.rowCtrl=r,c.setTemplate('<div comp-id="'+c.getCompId()+'" style="'+c.getInitialStyle(u)+'"/>');var _=c.getGui(),E=_.style;return r.setComp({setDomOrder:function(M){return c.domOrder=M},setCellCtrls:function(M){return c.setCellCtrls(M)},showFullWidth:function(M){return c.showFullWidth(M)},getFullWidthCellRenderer:function(){return c.getFullWidthCellRenderer()},addOrRemoveCssClass:function(M,L){return c.addOrRemoveCssClass(M,L)},setUserStyles:function(M){return pf(_,M)},setTop:function(M){return E.top=M},setTransform:function(M){return E.transform=M},setRowIndex:function(M){return _.setAttribute("row-index",M)},setRole:function(M){return Br(_,M)},setRowId:function(M){return _.setAttribute("row-id",M)},setRowBusinessKey:function(M){return _.setAttribute("row-business-key",M)},setTabIndex:function(M){return _.setAttribute("tabindex",M.toString())}},c.getGui(),u),c.addDestroyFunc(function(){r.unsetComp(u)}),c}return Q_(i,p),i.prototype.getInitialStyle=function(r){var a=this.rowCtrl.getInitialTransform(r),u=this.rowCtrl.getInitialRowTop(r);return a?"transform: "+a:"top: "+u},i.prototype.showFullWidth=function(r){var a=this,c=r.newAgStackInstance();c&&c.then(function(_){if(a.isAlive()){var E=_.getGui();a.getGui().appendChild(E),a.rowCtrl.setupDetailRowAutoHeight(E),a.setFullWidthRowComp(_)}else a.beans.context.destroyBean(_)})},i.prototype.setCellCtrls=function(r){var a=this,u=Object.assign({},this.cellComps);r.forEach(function(_){var E=_.getInstanceId();null==a.cellComps[E]?a.newCellComp(_):u[E]=null});var c=ee(u).filter(function(_){return null!=_});this.destroyCells(c),this.ensureDomOrder(r)},i.prototype.ensureDomOrder=function(r){var a=this;if(this.domOrder){var u=[];r.forEach(function(c){var _=a.cellComps[c.getInstanceId()];_&&u.push(_.getGui())}),fc(this.getGui(),u)}},i.prototype.newCellComp=function(r){var a=new Ch(this.beans,r,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[r.getInstanceId()]=a,this.getGui().appendChild(a.getGui())},i.prototype.destroy=function(){p.prototype.destroy.call(this),this.destroyAllCells()},i.prototype.destroyAllCells=function(){var r=ee(this.cellComps).filter(function(a){return null!=a});this.destroyCells(r)},i.prototype.setFullWidthRowComp=function(r){var a=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=r,this.addDestroyFunc(function(){a.fullWidthCellRenderer=a.beans.context.destroyBean(a.fullWidthCellRenderer)})},i.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},i.prototype.destroyCells=function(r){var a=this;r.forEach(function(u){if(u){var c=u.getCtrl().getInstanceId();a.cellComps[c]===u&&(u.detach(),u.destroy(),a.cellComps[c]=null)}})},i}(Ge),ty=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),dd=function(){return dd=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},dd.apply(this,arguments)},fo=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Is=function(p){function i(){var r=p.call(this,function Li(){var p=Ge.elementGettingCreated.getAttribute("name"),i=xs.getRowContainerCssClasses(p);return p===ge.CENTER?'<div class="'+i.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+i.container+'" ref="eContainer"></div>\n                </div>\n            </div>':p===ge.TOP_CENTER||p===ge.STICKY_TOP_CENTER||p===ge.BOTTOM_CENTER?'<div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+i.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+i.container+'" ref="eContainer"></div>'}())||this;return r.rowComps={},r.name=Ge.elementGettingCreated.getAttribute("name"),r.type=function Y_(p){switch(p){case ge.CENTER:case ge.TOP_CENTER:case ge.STICKY_TOP_CENTER:case ge.BOTTOM_CENTER:return jr.CENTER;case ge.LEFT:case ge.TOP_LEFT:case ge.STICKY_TOP_LEFT:case ge.BOTTOM_LEFT:return jr.LEFT;case ge.RIGHT:case ge.TOP_RIGHT:case ge.STICKY_TOP_RIGHT:case ge.BOTTOM_RIGHT:return jr.RIGHT;case ge.FULL_WIDTH:case ge.TOP_FULL_WIDTH:case ge.STICKY_TOP_FULL_WIDTH:case ge.BOTTOM_FULL_WIDTH:return jr.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(r.name),r}return ty(i,p),i.prototype.postConstruct=function(){var r=this,a={setViewportHeight:function(c){return r.eViewport.style.height=c},setRowCtrls:function(c){return r.setRowCtrls(c)},setDomOrder:function(c){r.domOrder=c},setContainerWidth:function(c){return r.eContainer.style.width=c}};this.createManagedBean(new xs(this.name)).setComp(a,this.eContainer,this.eViewport,this.eWrapper)},i.prototype.preDestroy=function(){this.setRowCtrls([])},i.prototype.setRowCtrls=function(r){var a=this,u=dd({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,r.forEach(function(_){var E=_.getInstanceId(),P=u[E];if(P)a.rowComps[E]=P,delete u[E],a.ensureDomOrder(P.getGui());else{var M=new ey(_,a.beans,a.type);a.rowComps[E]=M,a.appendRow(M.getGui())}}),ee(u).forEach(function(_){a.eContainer.removeChild(_.getGui()),_.destroy()}),Br(this.eContainer,r.length?"rowgroup":"presentation")},i.prototype.appendRow=function(r){this.domOrder?df(this.eContainer,r,this.lastPlacedElement):this.eContainer.appendChild(r),this.lastPlacedElement=r},i.prototype.ensureDomOrder=function(r){this.domOrder&&(cf(this.eContainer,r,this.lastPlacedElement),this.lastPlacedElement=r)},fo([$("beans")],i.prototype,"beans",void 0),fo([be("eViewport")],i.prototype,"eViewport",void 0),fo([be("eContainer")],i.prototype,"eContainer",void 0),fo([be("eWrapper")],i.prototype,"eWrapper",void 0),fo([ce],i.prototype,"postConstruct",null),fo([ze],i.prototype,"preDestroy",null),i}(Ge),pd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Eh=function(){function p(i){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=i}return p.prototype.onDragEnter=function(i){var r=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var a=i.dragItem.columns;a&&a.forEach(function(u){u.isPrimary()&&(u.isAnyFunctionActive()||(u.isAllowValue()?r.columnsToAggregate.push(u):u.isAllowRowGroup()?r.columnsToGroup.push(u):u.isAllowPivot()&&r.columnsToPivot.push(u)))})}},p.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?rr.ICON_PINNED:rr.ICON_MOVE:null},p.prototype.onDragLeave=function(i){this.clearColumnsList()},p.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},p.prototype.onDragging=function(i){},p.prototype.onDragStop=function(i){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},pd([$("columnModel")],p.prototype,"columnModel",void 0),pd([$("gridOptionsService")],p.prototype,"gridOptionsService",void 0),p}(),Ra=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},rS=function(){function p(i,r){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=i,this.eContainer=r,this.centerContainer=!o(i)}return p.prototype.init=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl()})},p.prototype.getIconName=function(){return this.pinned?rr.ICON_PINNED:rr.ICON_MOVE},p.prototype.onDragEnter=function(i){var r=i.dragItem.columns;if(i.dragSource.type===Wr.ToolPanel)this.setColumnsVisible(r,!0,"uiColumnDragged");else{var u=i.dragItem.visibleState,c=(r||[]).filter(function(_){return u[_.getId()]});this.setColumnsVisible(c,!0,"uiColumnDragged")}this.setColumnsPinned(r,this.pinned,"uiColumnDragged"),this.onDragging(i,!0,!0)},p.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},p.prototype.setColumnsVisible=function(i,r,a){if(void 0===a&&(a="api"),i){var u=i.filter(function(c){return!c.getColDef().lockVisible});this.columnModel.setColumnsVisible(u,r,a)}},p.prototype.setColumnsPinned=function(i,r,a){if(void 0===a&&(a="api"),i){var u=i.filter(function(c){return!c.getColDef().lockPinned});this.columnModel.setColumnsPinned(u,r,a)}},p.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},p.prototype.normaliseX=function(i){return this.gridOptionsService.is("enableRtl")&&(i=this.eContainer.clientWidth-i),this.centerContainer&&(i+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),i},p.prototype.checkCenterForScrolling=function(i){if(this.centerContainer){var r=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),a=r+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=i<r+50,this.needToMoveLeft=i>a-50):(this.needToMoveLeft=i<r+50,this.needToMoveRight=i>a-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},p.prototype.onDragging=function(i,r,a,u){var _,c=this;if(void 0===i&&(i=this.lastDraggingEvent),void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===u&&(u=!1),u){if(this.lastMovedInfo){var E=this.lastMovedInfo;this.moveColumns(E.columns,E.toIndex,"uiColumnMoved",!0)}}else if(this.lastDraggingEvent=i,!s(i.hDirection)){var L=this.normaliseX(i.x);r||this.checkCenterForScrolling(L);var B=this.normaliseDirection(i.hDirection),U=i.dragSource.type,X=(null===(_=i.dragSource.getDragItem().columns)||void 0===_?void 0:_.filter(function(Q){return!Q.getColDef().lockPinned||Q.getPinned()==c.pinned}))||[];this.attemptMoveColumns({dragSourceType:U,allMovingColumns:X,hDirection:B,mouseX:L,fromEnter:r,fakeEvent:a})}},p.prototype.normaliseDirection=function(i){if(!this.gridOptionsService.is("enableRtl"))return i;switch(i){case ci.Left:return ci.Right;case ci.Right:return ci.Left;default:console.error("AG Grid: Unknown direction "+i)}},p.prototype.attemptMoveColumns=function(i){var r=i.dragSourceType,a=i.hDirection,u=i.mouseX,c=i.fromEnter,_=i.fakeEvent,E=a===ci.Left,P=a===ci.Right,M=i.allMovingColumns;if(r===Wr.HeaderCell){var L=[];M.forEach(function(He){for(var nt=null,dt=He.getParent();null!=dt&&1===dt.getDisplayedLeafColumns().length;)nt=dt,dt=dt.getParent();null!=nt?nt.getLeafColumns().forEach(function(Dt){L.includes(Dt)||L.push(Dt)}):L.includes(He)||L.push(He)}),M=L}var B=M.slice();this.columnModel.sortColumnsLikeGridColumns(B);var U=this.calculateValidMoves(B,P,u),X=this.calculateOldIndex(B);if(0!==U.length){var Q=U[0],oe=null!==X&&!c;if(r==Wr.HeaderCell&&(oe=null!==X),!oe||_||!(E&&Q>=X||P&&Q<=X)){for(var le=this.columnModel.getAllDisplayedColumns(),fe=[],de=null,Oe=0;Oe<U.length;Oe++){var Ie=U[Oe],Be=this.columnModel.getProposedColumnOrder(B,Ie);if(this.columnModel.doesOrderPassRules(Be)){var Xe=Be.filter(function(He){return le.includes(He)});if(null===de)de=Xe;else if(!Ye.areEqual(Xe,de))break;var me=this.groupFragCount(Be);fe.push({move:Ie,fragCount:me})}}0!==fe.length&&(fe.sort(function(He,nt){return He.fragCount-nt.fragCount}),this.moveColumns(M,fe[0].move,"uiColumnMoved",!1))}}},p.prototype.calculateOldIndex=function(i){var r=this.columnModel.getAllGridColumns(),a=zu(i.map(function(P){return r.indexOf(P)})),u=a[0];return Rt(a)-u!=a.length-1?null:u},p.prototype.moveColumns=function(i,r,a,u){this.columnModel.moveColumns(i,r,a,u),this.lastMovedInfo=u?null:{columns:i,toIndex:r}},p.prototype.groupFragCount=function(i){function r(_){for(var E=[],P=_.getOriginalParent();null!=P;)E.push(P),P=P.getOriginalParent();return E}for(var a=0,u=function(_){var E,P=r(i[_]),M=r(i[_+1]);E=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c}(P.length>M.length?[P,M]:[M,P],2),M=E[1],(P=E[0]).forEach(function(L){-1===M.indexOf(L)&&a++})},c=0;c<i.length-1;c++)u(c);return a},p.prototype.calculateValidMoves=function(i,r,a){if(this.gridOptionsService.is("suppressMovableColumns")||i.some(function(me){return me.getColDef().suppressMovable}))return[];var oe,c=this.columnModel.getDisplayedColumns(this.pinned),_=this.columnModel.getAllGridColumns(),E=c.filter(function(me){return sr(i,me)}),P=c.filter(function(me){return!sr(i,me)}),M=_.filter(function(me){return!sr(i,me)}),L=0,B=a;if(r){var U=0;E.forEach(function(me){return U+=me.getActualWidth()}),B-=U}if(B>0){for(var X=0;X<P.length&&!((B-=P[X].getActualWidth())<0);X++)L++;r&&L++}L>0?oe=M.indexOf(P[L-1])+1:-1===(oe=M.indexOf(P[0]))&&(oe=0);var fe=[oe],de=function(me,He){return me-He};if(r){for(var Oe=oe+1,Ie=_.length-1;Oe<=Ie;)fe.push(Oe),Oe++;fe.sort(de)}else{Ie=_.length-1;for(var Be=_[Oe=oe];Oe<=Ie&&this.isColumnHidden(c,Be);)Oe++,fe.push(Oe),Be=_[Oe];for(Oe=oe-1;Oe>=0;)fe.push(Oe),Oe--;fe.sort(de).reverse()}return fe},p.prototype.isColumnHidden=function(i,r){return i.indexOf(r)<0},p.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?rr.ICON_LEFT:rr.ICON_RIGHT,!0))},p.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(rr.ICON_MOVE))},p.prototype.moveInterval=function(){var i;this.intervalCount++,(i=10+5*this.intervalCount)>100&&(i=100);var r=null,a=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?r=a.scrollHorizontally(-i):this.needToMoveRight&&(r=a.scrollHorizontally(i)),0!==r)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var c=this.lastDraggingEvent.dragItem.columns.filter(function(E){return!E.getColDef().lockPinned});c.length>0&&(this.dragAndDropService.setGhostIcon(rr.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(c,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}},Ra([$("columnModel")],p.prototype,"columnModel",void 0),Ra([$("dragAndDropService")],p.prototype,"dragAndDropService",void 0),Ra([$("gridOptionsService")],p.prototype,"gridOptionsService",void 0),Ra([$("ctrlsService")],p.prototype,"ctrlsService",void 0),Ra([ce],p.prototype,"init",null),p}(),nS=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Go=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},fd=function(p){function i(r,a){var u=p.call(this)||this;return u.pinned=r,u.eContainer=a,u}return nS(i,p),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){switch(r.pinned){case"left":r.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.leftRowContainerCtrl.getContainerElement()],[a.bottomLeftRowContainerCtrl.getContainerElement()],[a.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":r.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.rightRowContainerCtrl.getContainerElement()],[a.bottomRightRowContainerCtrl.getContainerElement()],[a.topRightRowContainerCtrl.getContainerElement()]];break;default:r.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.centerRowContainerCtrl.getViewportElement()],[a.bottomCenterRowContainerCtrl.getViewportElement()],[a.topCenterRowContainerCtrl.getViewportElement()]]}})},i.prototype.isInterestedIn=function(r){return r===Wr.HeaderCell||r===Wr.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},i.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},i.prototype.getContainer=function(){return this.eContainer},i.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new rS(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Eh(this.pinned)),this.dragAndDropService.addDropTarget(this)},i.prototype.getIconName=function(){return this.currentDropListener.getIconName()},i.prototype.isDropColumnInPivotMode=function(r){return this.columnModel.isPivotMode()&&r.dragSource.type===Wr.ToolPanel},i.prototype.onDragEnter=function(r){this.currentDropListener=this.isDropColumnInPivotMode(r)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(r)},i.prototype.onDragLeave=function(r){this.currentDropListener.onDragLeave(r)},i.prototype.onDragging=function(r){this.currentDropListener.onDragging(r)},i.prototype.onDragStop=function(r){this.currentDropListener.onDragStop(r)},Go([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Go([$("columnModel")],i.prototype,"columnModel",void 0),Go([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Go([ce],i.prototype,"postConstruct",null),Go([ce],i.prototype,"init",null),i}(Me),iS=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},iu=function(){function p(){}return p.getHeaderClassesFromColDef=function(i,r,a,u){return s(i)?[]:this.getColumnClassesFromCollDef(i.headerClass,i,r,a,u)},p.getToolPanelClassesFromColDef=function(i,r,a,u){return s(i)?[]:this.getColumnClassesFromCollDef(i.toolPanelClass,i,r,a,u)},p.getClassParams=function(i,r,a,u){return{colDef:i,column:a,columnGroup:u,api:r.api,columnApi:r.columnApi,context:r.context}},p.getColumnClassesFromCollDef=function(i,r,a,u,c){return s(i)?[]:"string"==typeof(_="function"==typeof i?i(this.getClassParams(r,a,u,c)):i)?[_]:Array.isArray(_)?function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(iS(arguments[i]));return p}(_):[];var _},p}(),ry=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ou=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ny=function(p){function i(r){var a=p.call(this,i.TEMPLATE,r)||this;return a.headerCompVersion=0,a.column=r.getColumnGroupChild(),a.pinned=r.getPinned(),a}return ry(i,p),i.prototype.postConstruct=function(){var r=this,a=this.getGui(),u=function(E,P,M){var L=M||a;null!=P&&""!=P?L.setAttribute(E,P):L.removeAttribute(E)};this.ctrl.setComp({setWidth:function(E){return a.style.width=E},addOrRemoveCssClass:function(E,P){return r.addOrRemoveCssClass(E,P)},setColId:function(E){return u("col-id",E)},setTitle:function(E){return u("title",E)},setAriaDescription:function(E){return Ut(a,E)},setAriaSort:function(E){return E?oc(a,E):ta(a)},setUserCompDetails:function(E){return r.setUserCompDetails(E)},getUserCompInstance:function(){return r.headerComp}},this.getGui(),this.eResize,this.eHeaderCompWrapper);var _=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",_)},i.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},i.prototype.setUserCompDetails=function(r){var a=this;this.headerCompVersion++;var u=this.headerCompVersion;r.newAgStackInstance().then(function(c){return a.afterCompCreated(u,c)})},i.prototype.afterCompCreated=function(r,a){r==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=a,this.headerCompGui=a.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(a)},i.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',ou([be("eResize")],i.prototype,"eResize",void 0),ou([be("eHeaderCompWrapper")],i.prototype,"eHeaderCompWrapper",void 0),ou([ce],i.prototype,"postConstruct",null),ou([ze],i.prototype,"destroyHeaderComp",null),i}($f),iy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),au=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},su=function(p){function i(r){return p.call(this,i.TEMPLATE,r)||this}return iy(i,p),i.prototype.postConstruct=function(){var r=this,a=this.getGui(),u=function(_,E){return null!=E?a.setAttribute(_,E):a.removeAttribute(_)};this.ctrl.setComp({addOrRemoveCssClass:function(_,E){return r.addOrRemoveCssClass(_,E)},setResizableDisplayed:function(_){return ft(r.eResize,_)},setWidth:function(_){return a.style.width=_},setColId:function(_){return a.setAttribute("col-id",_)},setAriaExpanded:function(_){return u("aria-expanded",_)},setTitle:function(_){return u("title",_)},setUserCompDetails:function(_){return r.setUserCompDetails(_)}},a,this.eResize)},i.prototype.setUserCompDetails=function(r){var a=this;r.newAgStackInstance().then(function(u){return a.afterHeaderCompCreated(u)})},i.prototype.afterHeaderCompCreated=function(r){var a=this,u=function(){return a.destroyBean(r)};this.isAlive()?(this.getGui().appendChild(r.getGui()),this.addDestroyFunc(u),this.ctrl.setDragSource(r.getGui())):u()},i.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',au([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),au([be("eResize")],i.prototype,"eResize",void 0),au([ce],i.prototype,"postConstruct",null),i}($f),oy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),lu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Kr=(()=>(function(p){p.COLUMN_GROUP="group",p.COLUMN="column",p.FLOATING_FILTER="filter"}(Kr||(Kr={})),Kr))(),dr=function(p){function i(r){var a=p.call(this)||this;a.headerComps={};var u=r.getType()==Kr.COLUMN_GROUP?"ag-header-row-column-group":r.getType()==Kr.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return a.setTemplate('<div class="ag-header-row '+u+'" role="row"></div>'),a.ctrl=r,a}return oy(i,p),i.prototype.init=function(){var r=this;this.ctrl.setComp({setTransform:function(u){return r.getGui().style.transform=u},setHeight:function(u){return r.getGui().style.height=u},setTop:function(u){return r.getGui().style.top=u},setHeaderCtrls:function(u){return r.setHeaderCtrls(u)},setWidth:function(u){return r.getGui().style.width=u},setAriaRowIndex:function(u){return So(r.getGui(),u)}})},i.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},i.prototype.setHeaderCtrls=function(r){var a=this;if(this.isAlive()){var u=this.headerComps;this.headerComps={},r.forEach(function(M){var L=M.getInstanceId(),B=u[L];delete u[L],null==B&&(B=a.createHeaderComp(M),a.getGui().appendChild(B.getGui())),a.headerComps[L]=B}),G(u,function(M,L){a.getGui().removeChild(L.getGui()),a.destroyBean(L)});var c=this.gridOptionsService.is("ensureDomOrder"),_=this.gridOptionsService.isDomLayout("print");if(c||_){var E=ee(this.headerComps);E.sort(function(M,L){return M.getCtrl().getColumnGroupChild().getLeft()-L.getCtrl().getColumnGroupChild().getLeft()});var P=E.map(function(M){return M.getGui()});fc(this.getGui(),P)}}},i.prototype.createHeaderComp=function(r){var a;switch(this.ctrl.getType()){case Kr.COLUMN_GROUP:a=new su(r);break;case Kr.FLOATING_FILTER:a=new KE(r);break;default:a=new ny(r)}return this.createBean(a),a.setParentComponent(this),a},lu([ce],i.prototype,"init",null),lu([ze],i.prototype,"destroyHeaderCtrls",null),i}(Ge),ay=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),hd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Sh=0,Ls=function(p){function i(r,a){var u=p.call(this)||this;return u.lastFocusEvent=null,u.columnGroupChild=r,u.parentRowCtrl=a,u.instanceId=r.getUniqueId()+"-"+Sh++,u}return ay(i,p),i.prototype.shouldStopEventPropagation=function(r){var a=this.focusService.getFocusedHeader();return _n(this.gridOptionsService,r,a.headerRowIndex,a.column)},i.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},i.prototype.setGui=function(r){this.eGui=r,this.addDomData()},i.prototype.handleKeyDown=function(r){var a=this.getWrapperHasFocus();switch(r.key){case ve.PAGE_DOWN:case ve.PAGE_UP:case ve.PAGE_HOME:case ve.PAGE_END:a&&r.preventDefault()}},i.prototype.addDomData=function(){var r=this,a=i.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,a,this),this.addDestroyFunc(function(){return r.gridOptionsService.setDomData(r.eGui,a,null)})},i.prototype.getGui=function(){return this.eGui},i.prototype.focus=function(r){return!!this.eGui&&(this.lastFocusEvent=r||null,this.eGui.focus(),!0)},i.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},i.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},i.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.getColumnGroupChild=function(){return this.columnGroupChild},i.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",hd([$("focusService")],i.prototype,"focusService",void 0),hd([$("beans")],i.prototype,"beans",void 0),hd([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),i}(Me),sy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),gd=function(p){function i(r,a,u,c){var _=p.call(this)||this;return _.columnOrGroup=r,_.eCell=a,_.ariaEl=_.eCell.querySelector("[role=columnheader]")||_.eCell,_.colsSpanning=c,_.beans=u,_}return sy(i,p),i.prototype.setColsSpanning=function(r){this.colsSpanning=r,this.onLeftChanged()},i.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?Rt(this.colsSpanning):this.columnOrGroup},i.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Wt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},i.prototype.setLeftFirstTime=function(){var r=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),a=o(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&a&&!r?this.animateInLeft():this.onLeftChanged()},i.prototype.animateInLeft=function(){var r=this,a=this.getColumnOrGroup(),u=a.getLeft(),c=a.getOldLeft(),_=this.modifyLeftForPrintLayout(a,c),E=this.modifyLeftForPrintLayout(a,u);this.setLeft(_),this.actualLeft=E,this.beans.columnAnimationService.executeNextVMTurn(function(){r.actualLeft===E&&r.setLeft(E)})},i.prototype.onLeftChanged=function(){var r=this.getColumnOrGroup(),a=r.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(r,a),this.setLeft(this.actualLeft)},i.prototype.modifyLeftForPrintLayout=function(r,a){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===r.getPinned())return a;var c=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===r.getPinned()?c+this.beans.columnModel.getBodyContainerWidth()+a:c+a},i.prototype.setLeft=function(r){var a;if(o(r)&&(this.eCell.style.left=r+"px"),this.columnOrGroup instanceof Wt)a=this.columnOrGroup;else{var c=this.columnOrGroup.getLeafColumns();if(!c.length)return;c.length>1&&_t(this.ariaEl,c.length),a=c[0]}var _=this.beans.columnModel.getAriaColumnIndex(a);ic(this.ariaEl,_)},function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ce],i.prototype,"postConstruct",null),i}(Me),uy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wh=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Oh=function(p){function i(r,a){var u=p.call(this)||this;return u.columns=r,u.element=a,u}return uy(i,p),i.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},i.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},i.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},i.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},wh([$("columnHoverService")],i.prototype,"columnHoverService",void 0),wh([ce],i.prototype,"postConstruct",null),i}(Me),aS=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Bo=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Dh=function(p){function i(r,a){var u=p.call(this,r,a)||this;return u.column=r,u}return aS(i,p),i.prototype.setComp=function(r,a,u,c){p.prototype.setGui.call(this,a),this.comp=r,this.eButtonShowMainFilter=u,this.eFloatingFilterBody=c;var _=this.column.getColDef();this.active=!(!_.filter&&!_.filterFramework||!_.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.active&&this.addManagedListener(this.column,Wt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this))},i.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var r=Vt("filter",this.gridOptionsService,this.column);r&&this.eButtonShowMainFilter.appendChild(r)}},i.prototype.setupFocus=function(){this.createManagedBean(new xr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.onTabKeyDown=function(r){if(this.gridOptionsService.getDocument().activeElement!==this.eGui){var _=this.focusService.findNextFocusableElement(this.eGui,null,r.shiftKey);if(_)return this.beans.headerNavigationService.scrollToColumn(this.column),r.preventDefault(),void _.focus();var E=this.findNextColumnWithFloatingFilter(r.shiftKey);E&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:E},event:r})&&r.preventDefault()}},i.prototype.findNextColumnWithFloatingFilter=function(r){var a=this.beans.columnModel,u=this.column;do{if(!(u=r?a.getDisplayedColBefore(u):a.getDisplayedColAfter(u)))break}while(!u.getColDef().filter||!u.getColDef().floatingFilter);return u},i.prototype.handleKeyDown=function(r){p.prototype.handleKeyDown.call(this,r);var a=this.getWrapperHasFocus();switch(r.key){case ve.UP:case ve.DOWN:a||r.preventDefault();case ve.LEFT:case ve.RIGHT:if(a)return;r.stopPropagation();case ve.ENTER:a&&this.focusService.focusInto(this.eGui)&&r.preventDefault();break;case ve.ESCAPE:a||this.eGui.focus()}},i.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var u=!!r.relatedTarget&&!r.relatedTarget.classList.contains("ag-floating-filter"),c=!!r.relatedTarget&&Hn(r.relatedTarget,"ag-floating-filter");if(u&&c&&r.target===this.eGui){var _=this.lastFocusEvent;_&&_&&_.key===ve.TAB&&this.focusService.focusInto(this.eGui,_.shiftKey)}var M=this.getRowIndex();this.beans.focusService.setFocusedHeader(M,this.column)}},i.prototype.setupHover=function(){var r=this;this.createManagedBean(new Oh([this.column],this.eGui));var a=function(){if(r.gridOptionsService.is("columnHoverHighlight")){var u=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,J.EVENT_COLUMN_HOVER_CHANGED,a),a()},i.prototype.setupLeft=function(){var r=new gd(this.column,this.eGui,this.beans);this.createManagedBean(r)},i.prototype.setupUserComp=function(){var r=this;if(this.active){var a=this.column.getColDef();this.suppressFilterButton=!!a.floatingFilterComponentParams&&!!a.floatingFilterComponentParams.suppressFilterButton;var u=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return r.showParentFilter()});u&&this.comp.setCompDetails(u)}},i.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},i.prototype.setupSyncWithFilter=function(){var r=this;if(this.active){var a=function(u){var c=r.comp.getFloatingFilterComp();if(c){var _=r.filterManager.getCurrentFloatingFilterParentModel(r.column);c.then(function(E){E&&E.onParentModelChanged(_,u)})}};this.addManagedListener(this.column,Wt.EVENT_FILTER_CHANGED,a),this.filterManager.isFilterActive(this.column)&&a(null)}},i.prototype.setupWidth=function(){var r=this,a=function(){var u=r.column.getActualWidth()+"px";r.comp.setWidth(u)};this.addManagedListener(this.column,Wt.EVENT_WIDTH_CHANGED,a),a()},i.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},Bo([$("filterManager")],i.prototype,"filterManager",void 0),Bo([$("columnHoverService")],i.prototype,"columnHoverService",void 0),Bo([$("menuFactory")],i.prototype,"menuFactory",void 0),i}(Ls),bh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),uu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ph=function(p){function i(r,a,u,c,_){var E=p.call(this)||this;return E.pinned=r,E.column=a,E.eResize=u,E.comp=c,E.ctrl=_,E}return bh(i,p),i.prototype.postConstruct=function(){var c,_,r=this,a=this.column.getColDef(),u=[],P=function(){u.forEach(function(L){return L()}),u.length=0},M=function(){var L=r.column.isResizable(),B=!r.gridOptionsService.is("suppressAutoSize")&&!a.suppressAutoSize;(L!==c||B!==_)&&(c=L,_=B,P(),function(){if(ft(r.eResize,c),c){var L=r.horizontalResizeService.addResizeBar({eResizeBar:r.eResize,onResizeStart:r.onResizeStart.bind(r),onResizing:r.onResizing.bind(r,!1),onResizeEnd:r.onResizing.bind(r,!0)});if(u.push(L),_){var B=r.gridOptionsService.is("skipHeaderOnAutoSize"),U=function(){r.columnModel.autoSizeColumn(r.column,B,"uiColumnResized")};r.eResize.addEventListener("dblclick",U);var X=new Zt(r.eResize);X.addEventListener(Zt.EVENT_DOUBLE_TAP,U),r.addDestroyFunc(function(){r.eResize.removeEventListener("dblclick",U),X.removeEventListener(Zt.EVENT_DOUBLE_TAP,U),X.destroy()})}}}())};M(),this.addDestroyFunc(P),this.ctrl.addRefreshFunction(M)},i.prototype.onResizing=function(r,a){var u=this.normaliseResizeAmount(a);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+u}],this.resizeWithShiftKey,r,"uiColumnDragged"),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.onResizeStart=function(r){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=r,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.normaliseResizeAmount=function(r){var a=r,u="left"!==this.pinned,c="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?u&&(a*=-1):c&&(a*=-1),a},uu([$("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),uu([$("columnModel")],i.prototype,"columnModel",void 0),uu([ce],i.prototype,"postConstruct",null),i}(Me),cy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ta=function(p){function i(r,a,u){void 0===a&&(a="ag-checkbox"),void 0===u&&(u="checkbox");var c=p.call(this,r,a,u)||this;return c.labelAlignment="right",c.selected=!1,c.readOnly=!1,c.passive=!1,c}return cy(i,p),i.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},i.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},i.prototype.setPassive=function(r){this.passive=r},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setReadOnly=function(r){this.eWrapper.classList.toggle("ag-disabled",r),this.eInput.disabled=r,this.readOnly=r},i.prototype.setDisabled=function(r){return this.eWrapper.classList.toggle("ag-disabled",r),p.prototype.setDisabled.call(this,r)},i.prototype.toggle=function(){if(!this.eInput.disabled){var r=this.isSelected(),a=this.getNextValue();this.passive?this.dispatchChange(a,r):this.setValue(a)}},i.prototype.getValue=function(){return this.isSelected()},i.prototype.setValue=function(r,a){return this.refreshSelectedClass(r),this.setSelected(r,a),this},i.prototype.setName=function(r){return this.getInputElement().name=r,this},i.prototype.isSelected=function(){return this.selected},i.prototype.setSelected=function(r,a){this.isSelected()!==r&&(this.previousValue=this.isSelected(),r=this.selected="boolean"==typeof r?r:void 0,this.eInput.checked=r,this.eInput.indeterminate=void 0===r,a||this.dispatchChange(this.selected,this.previousValue))},i.prototype.dispatchChange=function(r,a,u){this.dispatchEvent({type:i.EVENT_CHANGED,selected:r,previousValue:a,event:u});var c=this.getInputElement();this.eventService.dispatchEvent({type:J.EVENT_CHECKBOX_CHANGED,id:c.id,name:c.name,selected:r,previousValue:a})},i.prototype.onCheckboxClick=function(r){if(!this.passive&&!this.eInput.disabled){var a=this.isSelected(),u=this.selected=r.target.checked;this.refreshSelectedClass(u),this.dispatchChange(u,a,r)}},i.prototype.refreshSelectedClass=function(r){this.eWrapper.classList.toggle("ag-checked",!0===r),this.eWrapper.classList.toggle("ag-indeterminate",null==r)},i}(rn),Rh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Fs=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},vd=function(p){function i(r){var a=p.call(this)||this;a.cbSelectAllVisible=!1,a.processingEventFromCheckbox=!1,a.column=r;var u=r.getColDef();return a.filteredOnly=!!u?.headerCheckboxSelectionFilteredOnly,a.currentPageOnly=!!u?.headerCheckboxSelectionCurrentPageOnly,a}return Rh(i,p),i.prototype.onSpaceKeyPressed=function(r){var a=this.cbSelectAll,u=this.gridOptionsService.getDocument();a.isDisplayed()&&!a.getGui().contains(u.activeElement)&&(r.preventDefault(),a.setValue(!a.getValue()))},i.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},i.prototype.setComp=function(r){this.headerCellCtrl=r,this.cbSelectAll=this.createManagedBean(new Ta),this.cbSelectAll.addCssClass("ag-header-select-all"),Br(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,J.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,J.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Ta.EVENT_CHANGED,this.onCbSelectAll.bind(this)),Qi(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},i.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},i.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},i.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},i.prototype.getNextCheckboxState=function(r){return(0!==r.selected||0!==r.notSelected)&&(r.selected>0&&r.notSelected>0?null:r.selected>0)},i.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var r=this.getSelectionCount(),a=this.getNextCheckboxState(r);this.cbSelectAll.setValue(a),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},i.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var r=this.localeService.getLocaleTextFunc(),u=this.cbSelectAll.getValue()?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),c=r("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",c+" ("+u+")"),this.cbSelectAll.setInputAriaLabel(c+" ("+u+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);this.headerCellCtrl.refreshAriaDescription()},i.prototype.getSelectionCount=function(){var r=this,a=0,u=0;return this.selectionService.getNodesToSelect(this.filteredOnly,this.currentPageOnly).forEach(function(_){r.gridOptionsService.is("groupSelectsChildren")&&_.group||(_.isSelected()?a++:_.selectable&&u++)}),{notSelected:u,selected:a}},i.prototype.checkRightRowModelType=function(r){var a=this.rowModel.getType();return!("clientSide"!==a&&(console.warn("AG Grid: "+r+" is only available if using 'clientSide' rowModelType, you are using "+a+"."),1))},i.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var r=this.cbSelectAll.getValue(),a="uiSelectAll";this.currentPageOnly?a="uiSelectAllCurrentPage":this.filteredOnly&&(a="uiSelectAllFiltered");var u={source:a,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};r?this.selectionService.selectAllRowNodes(u):this.selectionService.deselectAllRowNodes(u)}},i.prototype.isCheckboxSelection=function(){var r=this.column.getColDef().headerCheckboxSelection;return"function"==typeof r&&(r=r({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context})),!!r&&this.checkRightRowModelType("headerCheckboxSelection")},Fs([$("gridApi")],i.prototype,"gridApi",void 0),Fs([$("columnApi")],i.prototype,"columnApi",void 0),Fs([$("rowModel")],i.prototype,"rowModel",void 0),Fs([$("selectionService")],i.prototype,"selectionService",void 0),i}(Me),sS=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),zn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},dy=function(p){function i(r,a){var u=p.call(this,r,a)||this;return u.refreshFunctions=[],u.userHeaderClasses=new Set,u.ariaDescriptionProperties=new Map,u.column=r,u}return sS(i,p),i.prototype.setComp=function(r,a,u,c){var _=this;p.prototype.setGui.call(this,a),this.comp=r,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.setupAutoHeight(c),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Ph(this.getPinned(),this.column,u,r,this)),this.createManagedBean(new Oh([this.column],a)),this.createManagedBean(new gd(this.column,a,this.beans)),this.createManagedBean(new xr(a,{shouldStopEventPropagation:function(E){return _.shouldStopEventPropagation(E)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,Wt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},i.prototype.setupUserComp=function(){var r=this.lookupUserCompDetails();this.setCompDetails(r)},i.prototype.setCompDetails=function(r){this.userCompDetails=r,this.comp.setUserCompDetails(r)},i.prototype.lookupUserCompDetails=function(){var r=this.createParams(),a=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(a,r)},i.prototype.createParams=function(){var r=this,a=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:a.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(c){r.gridApi.showColumnMenuAfterButtonClick(r.column,c)},progressSort:function(c){r.sortController.progressSort(r.column,!!c,"uiColumnSorted")},setSort:function(c,_){r.sortController.setSortForColumn(r.column,c,!!_,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}},i.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new vd(this.column)),this.selectAllFeature.setComp(this)},i.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},i.prototype.handleKeyDown=function(r){p.prototype.handleKeyDown.call(this,r),r.key===ve.SPACE&&this.selectAllFeature.onSpaceKeyPressed(r),r.key===ve.ENTER&&this.onEnterKeyPressed(r)},i.prototype.onEnterKeyPressed=function(r){var a=this.comp.getUserCompInstance();a&&(r.ctrlKey||r.metaKey?this.menuEnabled&&a.showMenu&&(r.preventDefault(),a.showMenu()):this.sortable&&this.sortController.progressSort(this.column,r.shiftKey,"uiColumnSorted"))},i.prototype.isMenuEnabled=function(){return this.menuEnabled},i.prototype.onFocusIn=function(r){if(!this.getGui().contains(r.relatedTarget)){var a=this.getRowIndex();this.focusService.setFocusedHeader(a,this.column)}this.setActiveHeader(!0)},i.prototype.onFocusOut=function(r){this.getGui().contains(r.relatedTarget)||this.setActiveHeader(!1)},i.prototype.setupTooltip=function(){var r=this,u=this.createManagedBean(new Jc({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getGui:function(){return r.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return r.column.getColDef().headerTooltip}},this.beans));u.setComp(this.comp),this.refreshFunctions.push(function(){return u.refreshToolTip()})},i.prototype.setupClassesFromColDef=function(){var r=this,a=function(){var u=r.column.getColDef(),c=iu.getHeaderClassesFromColDef(u,r.gridOptionsService,r.column,null),_=r.userHeaderClasses;r.userHeaderClasses=new Set(c),c.forEach(function(E){_.has(E)?_.delete(E):r.comp.addOrRemoveCssClass(E,!0)}),_.forEach(function(E){return r.comp.addOrRemoveCssClass(E,!1)})};this.refreshFunctions.push(a),a()},i.prototype.setDragSource=function(r){var a=this;if(this.dragSourceElement=r,this.removeDragSource(),r&&this.draggable){var u=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:Wr.HeaderCell,eElement:r,defaultIconName:u?rr.ICON_HIDE:rr.ICON_NOT_ALLOWED,getDragItem:function(){return a.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return a.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return a.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(c){var _;if(u){var E=(null===(_=c?.columns)||void 0===_?void 0:_.filter(function(P){return!P.getColDef().lockVisible}))||[];a.columnModel.setColumnsVisible(E,!0,"uiColumnMoved")}},onGridExit:function(c){var _;if(u){var E=(null===(_=c?.columns)||void 0===_?void 0:_.filter(function(P){return!P.getColDef().lockVisible}))||[];a.columnModel.setColumnsVisible(E,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},i.prototype.createDragItem=function(){var r={};return r[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:r}},i.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},i.prototype.onColDefChanged=function(){this.refresh()},i.prototype.updateState=function(){var r=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!r.suppressMenu,this.sortable=r.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},i.prototype.addRefreshFunction=function(r){this.refreshFunctions.push(r)},i.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(r){return r()})},i.prototype.refreshHeaderComp=function(){var r=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==r.componentClass&&this.attemptHeaderCompRefresh(r.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(r)},i.prototype.attemptHeaderCompRefresh=function(r){var a=this.comp.getUserCompInstance();return!(!a||!a.refresh)&&a.refresh(r)},i.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},i.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},i.prototype.workOutDraggable=function(){var r=this.column.getColDef();return!(this.gridOptionsService.is("suppressMovableColumns")||r.suppressMovable||r.lockPosition)||!!r.enableRowGroup||!!r.enablePivot},i.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},i.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},i.prototype.onColumnValueChanged=function(){this.checkDisplayName()},i.prototype.setupWidth=function(){var r=this,a=function(){var u=r.column.getActualWidth();r.comp.setWidth(u+"px")};this.addManagedListener(this.column,Wt.EVENT_WIDTH_CHANGED,a),a()},i.prototype.setupMovingCss=function(){var r=this,a=function(){r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.column.isMoving())};this.addManagedListener(this.column,Wt.EVENT_MOVING_CHANGED,a),a()},i.prototype.setupMenuClass=function(){var r=this,a=function(){r.comp.addOrRemoveCssClass("ag-column-menu-visible",r.column.isMenuVisible())};this.addManagedListener(this.column,Wt.EVENT_MENU_VISIBLE_CHANGED,a),a()},i.prototype.setupSortableClass=function(){var r=this,a=function(){r.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!r.sortable)};a(),this.addRefreshFunction(a),this.addManagedListener(this.eventService,Wt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},i.prototype.setupWrapTextClass=function(){var r=this,a=function(){var u=!!r.column.getColDef().wrapHeaderText;r.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",u)};a(),this.addRefreshFunction(a)},i.prototype.setupAutoHeight=function(r){var _,a=this,u=function(L){if(a.isAlive()){var B=ro(a.getGui()),oe=r.offsetHeight+B.paddingTop+B.paddingBottom;if(L<5){var le=a.beans.gridOptionsService.getDocument();if(!le||!le.contains(r)||0==oe)return void a.beans.frameworkOverrides.setTimeout(function(){return u(L+1)},0)}a.columnModel.setColumnHeaderHeight(a.column,oe)}},c=!1,E=function(){var L=a.column.isAutoHeaderHeight();L&&!c&&P(),!L&&c&&M()},P=function(){c=!0,u(0),a.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),_=a.resizeObserverService.observeResize(r,function(){return u(0)})},M=function(){c=!1,_&&_(),a.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),_=void 0};E(),this.addDestroyFunc(function(){return M()}),this.addManagedListener(this.column,Wt.EVENT_WIDTH_CHANGED,function(){return c&&u(0)}),this.addManagedListener(this.eventService,Wt.EVENT_SORT_CHANGED,function(){c&&a.beans.frameworkOverrides.setTimeout(function(){return u(0)})}),this.addRefreshFunction(E)},i.prototype.refreshAriaSort=function(){if(this.sortable){var r=this.localeService.getLocaleTextFunc(),a=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(it(a)),this.setAriaDescriptionProperty("sort",r("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},i.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var r=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",r("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},i.prototype.setAriaDescriptionProperty=function(r,a){null!=a?this.ariaDescriptionProperties.set(r,a):this.ariaDescriptionProperties.delete(r)},i.prototype.refreshAriaDescription=function(){var r=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(r.length?r.join(" "):void 0)},i.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},i.prototype.addColumnHoverListener=function(){var r=this,a=function(){if(r.gridOptionsService.is("columnHoverHighlight")){var u=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,J.EVENT_COLUMN_HOVER_CHANGED,a),a()},i.prototype.setupFilterCss=function(){var r=this,a=function(){r.comp.addOrRemoveCssClass("ag-header-cell-filtered",r.column.isFilterActive())};this.addManagedListener(this.column,Wt.EVENT_FILTER_ACTIVE_CHANGED,a),a()},i.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},i.prototype.addActiveHeaderMouseListeners=function(){var r=this,a=function(u){return r.setActiveHeader("mouseenter"===u.type)};this.addManagedListener(this.getGui(),"mouseenter",a),this.addManagedListener(this.getGui(),"mouseleave",a)},i.prototype.setActiveHeader=function(r){this.comp.addOrRemoveCssClass("ag-header-active",r)},zn([$("columnModel")],i.prototype,"columnModel",void 0),zn([$("columnHoverService")],i.prototype,"columnHoverService",void 0),zn([$("sortController")],i.prototype,"sortController",void 0),zn([$("menuFactory")],i.prototype,"menuFactory",void 0),zn([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),zn([$("resizeObserverService")],i.prototype,"resizeObserverService",void 0),zn([$("gridApi")],i.prototype,"gridApi",void 0),zn([$("columnApi")],i.prototype,"columnApi",void 0),zn([ze],i.prototype,"removeDragSource",null),i}(Ls),yd=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ns=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Th=function(p){function i(r,a,u,c){var _=p.call(this)||this;return _.eResize=a,_.comp=r,_.pinned=u,_.columnGroup=c,_}return yd(i,p),i.prototype.postConstruct=function(){var r=this;if(this.columnGroup.isResizable()){var a=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(a),!this.gridOptionsService.is("suppressAutoSize")){var u=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var c=[];r.columnGroup.getDisplayedLeafColumns().forEach(function(E){E.getColDef().suppressAutoSize||c.push(E.getColId())}),c.length>0&&r.columnModel.autoSizeColumns({columns:c,skipHeader:u,stopAtGroup:r.columnGroup,source:"uiColumnResized"}),r.resizeLeafColumnsToFit()})}}else this.comp.setResizableDisplayed(!1)},i.prototype.onResizeStart=function(r){var a=this;this.calculateInitialValues();var u=null;if(r&&(u=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),u){var c=u.getDisplayedLeafColumns();this.resizeTakeFromCols=c.filter(function(_){return _.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(_){return a.resizeTakeFromStartWidth+=_.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(_){return a.resizeTakeFromRatios.push(_.getActualWidth()/a.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.onResizing=function(r,a){var u=this.normaliseDragChange(a);this.resizeColumns(this.resizeStartWidth+u,r)},i.prototype.resizeLeafColumnsToFit=function(){var r=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),r>this.resizeStartWidth&&this.resizeColumns(r,!0)},i.prototype.resizeColumns=function(r,a){void 0===a&&(a=!0);var u=[];u.push({columns:this.resizeCols,ratios:this.resizeRatios,width:r}),this.resizeTakeFromCols&&u.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(r-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:u,finished:a,source:"uiColumnDragged"}),a&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.calculateInitialValues=function(){var r=this,a=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=a.filter(function(u){return u.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(u){return r.resizeStartWidth+=u.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(u){return r.resizeRatios.push(u.getActualWidth()/r.resizeStartWidth)})},i.prototype.normaliseDragChange=function(r){var a=r;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(a*=-1):"right"===this.pinned&&(a*=-1),a},Ns([$("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),Ns([$("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),Ns([$("columnModel")],i.prototype,"columnModel",void 0),Ns([ce],i.prototype,"postConstruct",null),i}(Me),ko=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),md=function(p){function i(r,a){var u=p.call(this)||this;return u.removeChildListenersFuncs=[],u.columnGroup=a,u.comp=r,u}return ko(i,p),i.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Mr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},i.prototype.addListenersToChildrenColumns=function(){var r=this;this.removeListenersOnChildrenColumns();var a=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(u){u.addEventListener("widthChanged",a),u.addEventListener("visibleChanged",a),r.removeChildListenersFuncs.push(function(){u.removeEventListener("widthChanged",a),u.removeEventListener("visibleChanged",a)})})},i.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(r){return r()}),this.removeChildListenersFuncs=[]},i.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},i.prototype.onWidthChanged=function(){var r=this.columnGroup.getActualWidth();this.comp.setWidth(r+"px"),this.comp.addOrRemoveCssClass("ag-hidden",0===r)},function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ce],i.prototype,"postConstruct",null),i}(Me),cu=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),du=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Cd=function(p){function i(r,a){var u=p.call(this,r,a)||this;return u.columnGroup=r,u}return cu(i,p),i.prototype.setComp=function(r,a,u){p.prototype.setGui.call(this,a),this.comp=r,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var c=this.getParentRowCtrl().getPinned(),_=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Oh(_,a)),this.createManagedBean(new gd(this.columnGroup,a,this.beans)),this.createManagedBean(new md(r,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Th(r,u,c,this.columnGroup)),this.createManagedBean(new xr(a,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},i.prototype.setupUserComp=function(){var r=this,a=this.displayName,u={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(M){r.columnModel.setColumnGroupOpened(r.columnGroup.getProvidedColumnGroup(),M,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!a){for(var c=this.columnGroup,_=c.getLeafColumns();c.getParent()&&c.getParent().getLeafColumns().length===_.length;)c=c.getParent();var E=c.getColGroupDef();E&&(a=E.headerName),a||(a=_?this.columnModel.getDisplayNameForColumn(_[0],"header",!0):"")}var P=this.userComponentFactory.getHeaderGroupCompDetails(u);this.comp.setUserCompDetails(P)},i.prototype.setupTooltip=function(){var r=this,a=this.columnGroup.getColGroupDef(),u={getColumn:function(){return r.columnGroup},getGui:function(){return r.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return a&&a.headerTooltip}};a&&(u.getColDef=function(){return a}),this.createManagedBean(new Jc(u,this.beans)).setComp(this.comp)},i.prototype.setupExpandable=function(){var r=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(r,Qt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(r,Qt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},i.prototype.refreshExpanded=function(){var r=this.columnGroup;this.expandable=r.isExpandable();var a=r.isExpanded();this.comp.setAriaExpanded(this.expandable?a?"true":"false":void 0)},i.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},i.prototype.addClasses=function(){var r=this,a=this.columnGroup.getColGroupDef(),u=iu.getHeaderClassesFromColDef(a,this.gridOptionsService,null,this.columnGroup);u.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),u.forEach(function(c){return r.comp.addOrRemoveCssClass(c,!0)})},i.prototype.setupMovingCss=function(){var r=this,u=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c=function(){return r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.columnGroup.isMoving())};u.forEach(function(_){r.addManagedListener(_,Wt.EVENT_MOVING_CHANGED,c)}),c()},i.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var a=this.getRowIndex();this.beans.focusService.setFocusedHeader(a,this.columnGroup)}},i.prototype.handleKeyDown=function(r){p.prototype.handleKeyDown.call(this,r);var a=this.getWrapperHasFocus();if(this.expandable&&a&&r.key===ve.ENTER){var u=this.columnGroup,c=!u.isExpanded();this.columnModel.setColumnGroupOpened(u.getProvidedColumnGroup(),c,"uiColumnExpanded")}},i.prototype.setDragSource=function(r){var a=this;if(!this.isSuppressMoving()){var u=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),_={type:Wr.HeaderCell,eElement:r,defaultIconName:c?rr.ICON_HIDE:rr.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return u.forEach(function(E){return E.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return u.forEach(function(E){return E.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(E){var P;if(c){var M=(null===(P=E?.columns)||void 0===P?void 0:P.filter(function(L){return!L.getColDef().lockVisible}))||[];a.columnModel.setColumnsVisible(M,!0,"uiColumnMoved")}},onGridExit:function(E){var P;if(c){var M=(null===(P=E?.columns)||void 0===P?void 0:P.filter(function(L){return!L.getColDef().lockVisible}))||[];a.columnModel.setColumnsVisible(M,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(_,!0),this.addDestroyFunc(function(){return a.dragAndDropService.removeDragSource(_)})}},i.prototype.getDragItemForGroup=function(){var r=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),a={};r.forEach(function(c){return a[c.getId()]=c.isVisible()});var u=[];return this.columnModel.getAllDisplayedColumns().forEach(function(c){r.indexOf(c)>=0&&(u.push(c),Gr(r,c))}),r.forEach(function(c){return u.push(c)}),{columns:u,visibleState:a}},i.prototype.isSuppressMoving=function(){var r=!1;return this.columnGroup.getLeafColumns().forEach(function(u){(u.getColDef().suppressMovable||u.getColDef().lockPosition)&&(r=!0)}),r||this.gridOptionsService.is("suppressMovableColumns")},du([$("columnModel")],i.prototype,"columnModel",void 0),du([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),du([$("gridApi")],i.prototype,"gridApi",void 0),du([$("columnApi")],i.prototype,"columnApi",void 0),i}(Ls),pu=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Fi=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Mh=0,Gs=function(p){function i(r,a,u){var c=p.call(this)||this;return c.instanceId=Mh++,c.headerCellCtrls={},c.rowIndex=r,c.pinned=a,c.type=u,c}return pu(i,p),i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(r){this.comp=r,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),hn()&&this.comp.setTransform("translateZ(0)"),r.setAriaRowIndex(this.rowIndex+1)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,J.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},i.prototype.getHeaderCellCtrl=function(r){return A(this.headerCellCtrls).find(function(a){return a.getColumnGroupChild()===r})},i.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},i.prototype.getType=function(){return this.type},i.prototype.onColumnResized=function(){this.setWidth()},i.prototype.setWidth=function(){var r=this.getWidthForRow();this.comp.setWidth(r+"px")},i.prototype.getWidthForRow=function(){return this.gridOptionsService.isDomLayout("print")?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},i.prototype.onRowHeightChanged=function(){var r=this.columnModel.getHeaderRowCount(),a=[],u=0;this.columnModel.hasFloatingFilters()&&(r++,u=1);for(var c=this.columnModel.getColumnGroupHeaderRowHeight(),_=this.columnModel.getColumnHeaderRowHeight(),P=r-(1+u),M=0;M<P;M++)a.push(c);for(a.push(_),M=0;M<u;M++)a.push(this.columnModel.getFloatingFiltersHeight());var L=0;for(M=0;M<this.rowIndex;M++)L+=a[M];var B=a[this.rowIndex]+"px";this.comp.setTop(L+"px"),this.comp.setHeight(B)},i.prototype.getPinned=function(){return this.pinned},i.prototype.getRowIndex=function(){return this.rowIndex},i.prototype.onVirtualColumnsChanged=function(){var r=this,a=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(E){if(!E.isEmptyGroup()){var P=E.getUniqueId(),M=a[P];if(delete a[P],M&&M.getColumnGroupChild()!=E&&(r.destroyBean(M),M=void 0),null==M)switch(r.type){case Kr.FLOATING_FILTER:M=r.createBean(new Dh(E,r));break;case Kr.COLUMN_GROUP:M=r.createBean(new Cd(E,r));break;default:M=r.createBean(new dy(E,r))}r.headerCellCtrls[P]=M}}),G(a,function(E,P){var M=function(E){return!!r.focusService.isHeaderWrapperFocused(E)&&r.columnModel.isDisplayed(E.getColumnGroupChild())}(P);M?r.headerCellCtrls[E]=P:r.destroyBean(P)});var _=ee(this.headerCellCtrls);this.comp.setHeaderCtrls(_)},i.prototype.destroyCtrls=function(){var r=this;G(this.headerCellCtrls,function(a,u){r.destroyBean(u)}),this.headerCellCtrls={}},i.prototype.getColumnsInViewport=function(){return this.gridOptionsService.isDomLayout("print")?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},i.prototype.getColumnsInViewportPrintLayout=function(){var r=this;if(null!=this.pinned)return[];var a=[],u=this.getActualDepth();return["left",null,"right"].forEach(function(c){var _=r.columnModel.getVirtualHeaderGroupRow(c,u);a=a.concat(_)}),a},i.prototype.getActualDepth=function(){return this.type==Kr.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},i.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},i.prototype.focusHeader=function(r,a){var c=ee(this.headerCellCtrls).find(function(_){return _.getColumnGroupChild()==r});return!!c&&(c.focus(a),!0)},Fi([$("columnModel")],i.prototype,"columnModel",void 0),Fi([$("focusService")],i.prototype,"focusService",void 0),Fi([ze],i.prototype,"destroyCtrls",null),i}(Me),fy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Bs=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ah=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},hy=function(p){function i(r){var a=p.call(this)||this;return a.hidden=!1,a.groupsRowCtrls=[],a.pinned=r,a}return fy(i,p),i.prototype.setComp=function(r,a){this.comp=r,this.eViewport=a,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,J.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eViewport,"scroll",this.resetScrollLeft.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},i.prototype.setupDragAndDrop=function(r){var a=new fd(this.pinned,r);this.createManagedBean(a)},i.prototype.refresh=function(r){var a=this;void 0===r&&(r=!1);var L,B,u=new an,c=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var L=a.columnModel.getHeaderRowCount()-1;a.groupsRowCtrls=a.destroyBeans(a.groupsRowCtrls);for(var B=0;B<L;B++){var U=a.createBean(new Gs(u.next(),a.pinned,Kr.COLUMN_GROUP));a.groupsRowCtrls.push(U)}})(),L=u.next(),((B=!(a.hidden||null!=a.columnsRowCtrl&&r&&a.columnsRowCtrl.getRowIndex()===L))||a.hidden)&&(a.columnsRowCtrl=a.destroyBean(a.columnsRowCtrl)),B&&(a.columnsRowCtrl=a.createBean(new Gs(L,a.pinned,Kr.COLUMN))),function(){var B=function(){a.filtersRowCtrl=a.destroyBean(a.filtersRowCtrl)};if(a.columnModel.hasFloatingFilters()&&!a.hidden){var U=u.next();if(a.filtersRowCtrl){var X=a.filtersRowCtrl.getRowIndex()!==U;(!r||X)&&B()}a.filtersRowCtrl||(a.filtersRowCtrl=a.createBean(new Gs(U,a.pinned,Kr.FLOATING_FILTER)))}else B()}();var M=this.getAllCtrls();this.comp.setCtrls(M),this.restoreFocusOnHeader(c)},i.prototype.restoreFocusOnHeader=function(r){null==r||r.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:r})},i.prototype.getAllCtrls=function(){var r=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Ah(arguments[i]));return p}(this.groupsRowCtrls);return this.columnsRowCtrl&&r.push(this.columnsRowCtrl),this.filtersRowCtrl&&r.push(this.filtersRowCtrl),r},i.prototype.onGridColumnsChanged=function(){this.refresh(!0)},i.prototype.setupCenterWidth=function(){var r=this;null==this.pinned&&this.createManagedBean(new ru(function(a){return r.comp.setCenterWidth(a+"px")}))},i.prototype.setHorizontalScroll=function(r){this.comp.setContainerTransform("translateX("+r+"px)")},i.prototype.resetScrollLeft=function(){this.eViewport.scrollLeft=0},i.prototype.setupPinnedWidth=function(){var r=this;if(null!=this.pinned){var a="left"===this.pinned,u="right"===this.pinned;this.hidden=!0;var c=function(){var _=a?r.pinnedWidthService.getPinnedLeftWidth():r.pinnedWidthService.getPinnedRightWidth();if(null!=_){var E=0==_,P=r.hidden!==E,M=r.gridOptionsService.is("enableRtl"),L=r.gridOptionsService.getScrollbarWidth(),B=r.scrollVisibleService.isVerticalScrollShowing()&&(M&&a||!M&&u);r.comp.setPinnedContainerWidth((B?_+L:_)+"px"),r.comp.setDisplayed(!E),P&&(r.hidden=E,r.refresh())}};this.addManagedListener(this.eventService,J.EVENT_LEFT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,J.EVENT_RIGHT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,J.EVENT_SCROLL_VISIBILITY_CHANGED,c),this.addManagedListener(this.eventService,J.EVENT_SCROLLBAR_WIDTH_CHANGED,c)}},i.prototype.getHeaderCtrlForColumn=function(r){if(r instanceof Wt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(r):void 0;if(0!==this.groupsRowCtrls.length)for(var a=0;a<this.groupsRowCtrls.length;a++){var u=this.groupsRowCtrls[a].getHeaderCellCtrl(r);if(u)return u}},i.prototype.getHtmlElementForColumnHeader=function(r){var a=this.getHeaderCtrlForColumn(r);return a?a.getGui():null},i.prototype.getRowType=function(r){var u=this.getAllCtrls()[r];return u?u.getType():void 0},i.prototype.focusHeader=function(r,a,u){var _=this.getAllCtrls()[r];return!!_&&_.focusHeader(a,u)},i.prototype.getRowCount=function(){return this.getAllCtrls().length},Bs([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Bs([$("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Bs([$("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),Bs([$("columnModel")],i.prototype,"columnModel",void 0),Bs([$("focusService")],i.prototype,"focusService",void 0),i}(Me),gy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ed=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ks=function(p){function i(r){var a=p.call(this)||this;return a.headerRowComps={},a.rowCompsList=[],a.pinned=r,a}return gy(i,p),i.prototype.init=function(){var r=this;this.selectAndSetTemplate();var a={setDisplayed:function(c){return r.setDisplayed(c)},setCtrls:function(c){return r.setCtrls(c)},setCenterWidth:function(c){return r.eCenterContainer.style.width=c},setContainerTransform:function(c){return r.eCenterContainer.style.transform=c},setPinnedContainerWidth:function(c){var _=r.getGui();_.style.width=c,_.style.maxWidth=c,_.style.minWidth=c}};this.createManagedBean(new hy(this.pinned)).setComp(a,this.getGui())},i.prototype.selectAndSetTemplate=function(){this.setTemplate("left"==this.pinned?i.PINNED_LEFT_TEMPLATE:"right"==this.pinned?i.PINNED_RIGHT_TEMPLATE:i.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},i.prototype.destroyRowComps=function(){this.setCtrls([])},i.prototype.destroyRowComp=function(r){this.destroyBean(r),this.eRowContainer.removeChild(r.getGui())},i.prototype.setCtrls=function(r){var c,a=this,u=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],r.forEach(function(E){var P=E.getInstanceId(),M=u[P];delete u[P];var L=M||a.createBean(new dr(E));a.headerRowComps[P]=L,a.rowCompsList.push(L),function(E){var P=E.getGui();P.parentElement!=a.eRowContainer&&a.eRowContainer.appendChild(P),c&&cf(a.eRowContainer,P,c),c=P}(L)}),ee(u).forEach(function(E){return a.destroyRowComp(E)})},i.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',i.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',i.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Ed([be("eCenterContainer")],i.prototype,"eCenterContainer",void 0),Ed([ce],i.prototype,"init",null),Ed([ze],i.prototype,"destroyRowComps",null),i}(Ge),vy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Vo=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Yn=(()=>(function(p){p[p.UP=0]="UP",p[p.DOWN=1]="DOWN",p[p.LEFT=2]="LEFT",p[p.RIGHT=3]="RIGHT"}(Yn||(Yn={})),Yn))(),xh=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return vy(i,p),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){r.gridBodyCon=a.gridBodyCtrl})},i.prototype.getHeaderRowCount=function(){var r=this.ctrlsService.getHeaderRowContainerCtrl();return r?r.getRowCount():0},i.prototype.getHeaderRowType=function(r){var a=this.ctrlsService.getHeaderRowContainerCtrl();if(a)return a.getRowType(r)},i.prototype.navigateVertically=function(r,a,u){if(a||(a=this.focusService.getFocusedHeader()),!a)return!1;var c=a.headerRowIndex,_=a.column,E=this.getHeaderRowCount(),P=r===Yn.UP,M=P?c-1:c+1,L=null,B=!1;M<0&&(M=0,L=_,B=!0),M>=E&&(M=-1);var U=this.getHeaderRowType(c);if(!B){if(U===Kr.COLUMN_GROUP){var X=_;L=P?_.getParent():X.getDisplayedChildren()[0]}else U===Kr.FLOATING_FILTER?L=_:(X=_,L=P?X.getParent():X);if(!L)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:M,column:L},allowUserOverride:!0,event:u})},i.prototype.navigateHorizontally=function(r,a,u){void 0===a&&(a=!1);var P,M,c=this.focusService.getFocusedHeader();return(P=r===Yn.LEFT!==this.gridOptionsService.is("enableRtl")?this.headerPositionUtils.findHeader(c,M="Before"):this.headerPositionUtils.findHeader(c,M="After"))||!a?this.focusService.focusHeaderPosition({headerPosition:P,direction:M,fromTab:a,allowUserOverride:!0,event:u}):this.focusNextHeaderRow(c,M,u)},i.prototype.focusNextHeaderRow=function(r,a,u){var c=r.headerRowIndex,_=null;return"Before"===a?c>0&&(_=this.headerPositionUtils.findColAtEdgeForHeaderRow(c-1,"end")):_=this.headerPositionUtils.findColAtEdgeForHeaderRow(c+1,"start"),this.focusService.focusHeaderPosition({headerPosition:_,direction:a,fromTab:!0,allowUserOverride:!0,event:u})},i.prototype.scrollToColumn=function(r,a){if(void 0===a&&(a="After"),!r.getPinned()){var u;if(r instanceof Mr){var c=r.getDisplayedLeafColumns();u="Before"===a?Rt(c):c[0]}else u=r;this.gridBodyCon.getScrollFeature().ensureColumnVisible(u)}},Vo([$("focusService")],i.prototype,"focusService",void 0),Vo([$("headerPositionUtils")],i.prototype,"headerPositionUtils",void 0),Vo([$("animationFrameService")],i.prototype,"animationFrameService",void 0),Vo([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Vo([ce],i.prototype,"postConstruct",null),Vo([Le("headerNavigationService")],i)}(Me),lS=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),fu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Vs=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return lS(i,p),i.prototype.setComp=function(r,a,u){this.comp=r,this.eGui=a,this.createManagedBean(new xr(u,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,J.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},i.prototype.setupHeaderHeight=function(){var r=this.setHeaderHeight.bind(this);r(),this.addManagedPropertyListener("headerHeight",r),this.addManagedPropertyListener("pivotHeaderHeight",r),this.addManagedPropertyListener("groupHeaderHeight",r),this.addManagedPropertyListener("pivotGroupHeaderHeight",r),this.addManagedPropertyListener("floatingFiltersHeight",r),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,J.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,r),this.addManagedListener(this.eventService,J.EVENT_GRID_STYLES_CHANGED,r)},i.prototype.getHeaderHeight=function(){return this.headerHeight},i.prototype.setHeaderHeight=function(){var c,r=this.columnModel,a=0,u=r.getHeaderRowCount();r.hasFloatingFilters()&&(u++,a=1);var E=this.columnModel.getColumnGroupHeaderRowHeight(),P=this.columnModel.getColumnHeaderRowHeight(),L=u-(1+a);c=a*r.getFloatingFiltersHeight(),c+=L*E,this.headerHeight!==(c+=P)&&(this.headerHeight=c,this.comp.setHeightAndMinHeight(c+1+"px"),this.eventService.dispatchEvent({type:J.EVENT_HEADER_HEIGHT_CHANGED}))},i.prototype.onPivotModeChanged=function(){var r=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",r),this.comp.addOrRemoveCssClass("ag-pivot-off",!r)},i.prototype.onTabKeyDown=function(r){var a=this.gridOptionsService.is("enableRtl");(this.headerNavigationService.navigateHorizontally(r.shiftKey!==a?Yn.LEFT:Yn.RIGHT,!0,r)||this.focusService.focusNextGridCoreContainer(r.shiftKey))&&r.preventDefault()},i.prototype.handleKeyDown=function(r){var a=null;switch(r.key){case ve.LEFT:a=Yn.LEFT;case ve.RIGHT:o(a)||(a=Yn.RIGHT),this.headerNavigationService.navigateHorizontally(a,!1,r);break;case ve.UP:a=Yn.UP;case ve.DOWN:o(a)||(a=Yn.DOWN),this.headerNavigationService.navigateVertically(a,null,r)&&r.preventDefault();break;default:return}},i.prototype.onFocusOut=function(r){var a=this.gridOptionsService.getDocument(),u=r.relatedTarget;!u&&this.eGui.contains(a.activeElement)||this.eGui.contains(u)||this.focusService.clearFocusedHeader()},fu([$("headerNavigationService")],i.prototype,"headerNavigationService",void 0),fu([$("focusService")],i.prototype,"focusService",void 0),fu([$("columnModel")],i.prototype,"columnModel",void 0),fu([$("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(Me),_y=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Wo=function(p){function i(){return p.call(this,i.TEMPLATE)||this}return _y(i,p),i.prototype.postConstruct=function(){var r=this,a={addOrRemoveCssClass:function(_,E){return r.addOrRemoveCssClass(_,E)},setHeightAndMinHeight:function(_){r.getGui().style.height=_,r.getGui().style.minHeight=_}};this.createManagedBean(new Vs).setComp(a,this.getGui(),this.getFocusableElement());var c=function(_){r.createManagedBean(_),r.appendChild(_)};c(new ks("left")),c(new ks(null)),c(new ks("right"))},i.TEMPLATE='<div class="ag-header" role="presentation"/>',function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ce],i.prototype,"postConstruct",null),i}(Ge),yy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),hu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ih=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return yy(i,p),i.prototype.addResizeBar=function(r){var a=this,u={dragStartPixels:r.dragStartPixels||0,eElement:r.eResizeBar,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this,r),onDragging:this.onDragging.bind(this,r)};return this.dragService.addDragSource(u,!0),function(){return a.dragService.removeDragSource(u)}},i.prototype.onDragStart=function(r,a){this.dragStartX=a.clientX,this.setResizeIcons();var u=a instanceof MouseEvent&&!0===a.shiftKey;r.onResizeStart(u)},i.prototype.setResizeIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!0),r.disableUserSelect(!0)},i.prototype.onDragStop=function(r,a){r.onResizeEnd(this.resizeAmount),this.resetIcons()},i.prototype.resetIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!1),r.disableUserSelect(!1)},i.prototype.onDragging=function(r,a){this.resizeAmount=a.clientX-this.dragStartX,r.onResizing(this.resizeAmount)},hu([$("dragService")],i.prototype,"dragService",void 0),hu([$("ctrlsService")],i.prototype,"ctrlsService",void 0),hu([Le("horizontalResizeService")],i)}(Me),my=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ws=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Sd=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return my(i,p),i.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},i.prototype.showMenuAfterMouseEvent=function(r,a){var u=this;this.showPopup(r,function(c){u.popupService.positionPopupUnderMouseEvent({column:r,type:"columnMenu",mouseEvent:a,ePopup:c})},a.target)},i.prototype.showMenuAfterButtonClick=function(r,a,u){var c=this;this.showPopup(r,function(_){c.popupService.positionPopupByComponent({type:u,eventSource:a,ePopup:_,keepWithinBounds:!0,position:"under",column:r})},a)},i.prototype.showPopup=function(r,a,u){var c=this,_=this.filterManager.getOrCreateFilterWrapper(r,"COLUMN_MENU");if(!_)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var E=document.createElement("div");Br(E,"presentation"),E.classList.add("ag-menu"),this.tabListener=this.addManagedListener(E,"keydown",function(Q){return c.trapFocusWithin(Q,E)}),_.guiPromise.then(function(Q){return E.appendChild(Q)});var P,L=u||this.ctrlsService.getGridBodyCtrl().getGui(),U=this.localeService.getLocaleTextFunc(),X=this.popupService.addPopup({modal:!0,eChild:E,closeOnEsc:!0,closedCallback:function(Q){r.setMenuVisible(!1,"contextMenu");var oe=Q instanceof KeyboardEvent;if(c.tabListener&&(c.tabListener=c.tabListener()),oe&&u&&Vr(u)){var le=c.focusService.findTabbableParent(u);le&&le.focus()}!function(){var Q;null===(Q=_.filterPromise)||void 0===Q||Q.then(function(oe){var le;return null===(le=oe?.afterGuiDetached)||void 0===le?void 0:le.call(oe)})}()},positionCallback:function(){return a(E)},anchorToElement:L,ariaLabel:U("ariaLabelColumnMenu","Column Menu")});X&&(this.hidePopup=P=X.hideFunc),_.filterPromise.then(function(Q){a(E),Q.afterGuiAttached&&Q.afterGuiAttached({container:"columnMenu",hidePopup:P})}),r.setMenuVisible(!0,"contextMenu")},i.prototype.trapFocusWithin=function(r,a){r.key!==ve.TAB||r.defaultPrevented||this.focusService.findNextFocusableElement(a,!1,r.shiftKey)||(r.preventDefault(),this.focusService.focusInto(a,r.shiftKey))},i.prototype.isMenuEnabled=function(r){return r.isFilterAllowed()},Ws([$("filterManager")],i.prototype,"filterManager",void 0),Ws([$("popupService")],i.prototype,"popupService",void 0),Ws([$("focusService")],i.prototype,"focusService",void 0),Ws([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Ws([Le("menuFactory")],i)}(Me),Cy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),xa=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},wd=function(p){function i(r){var a=p.call(this,i.getTemplate(r.cssClass))||this;return a.items=[],a.tabbedItemScrollMap=new Map,a.params=r,r.items&&r.items.forEach(function(u){return a.addItem(u)}),a}return Cy(i,p),i.prototype.postConstruct=function(){var r=this;this.createManagedBean(new xr(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var a,u,c;return null===(c=null===(u=null===(a=r.activeItem)||void 0===a?void 0:a.tabbedItem)||void 0===u?void 0:u.afterDetachedCallback)||void 0===c?void 0:c.call(u)})},i.getTemplate=function(r){return'<div class="ag-tabs '+r+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(r?r+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(r?r+"-body":"")+'"></div>\n        </div>'},i.prototype.handleKeyDown=function(r){var a=this.gridOptionsService.getDocument();switch(r.key){case ve.RIGHT:case ve.LEFT:if(!this.eHeader.contains(a.activeElement))return;var u=r.key===ve.RIGHT,c=this.gridOptionsService.is("enableRtl"),_=this.items.indexOf(this.activeItem),E=u!==c?Math.min(_+1,this.items.length-1):Math.max(_-1,0);if(_===E)return;r.preventDefault();var P=this.items[E];this.showItemWrapper(P),P.eHeaderButton.focus();break;case ve.UP:case ve.DOWN:r.stopPropagation()}},i.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented){var a=this,u=a.focusService,c=a.eHeader,_=a.eBody,E=a.activeItem,M=this.gridOptionsService.getDocument().activeElement,L=r.target;if(r.preventDefault(),c.contains(M))return void u.focusInto(_,r.shiftKey);var B=null;u.isTargetUnderManagedComponent(_,L)&&(r.shiftKey&&(B=this.focusService.findFocusableElementBeforeTabGuard(_,L)),B||(B=E.eHeaderButton)),!B&&_.contains(M)&&((B=u.findNextFocusableElement(_,!1,r.shiftKey))||(B=E.eHeaderButton)),B&&B.focus()}},i.prototype.setAfterAttachedParams=function(r){this.afterAttachedParams=r},i.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},i.prototype.addItem=function(r){var a=document.createElement("span");Br(a,"tab"),a.setAttribute("tabIndex","-1"),a.appendChild(r.title),a.classList.add("ag-tab"),this.eHeader.appendChild(a),Zi(a,r.titleLabel);var u={tabbedItem:r,eHeaderButton:a};this.items.push(u),a.addEventListener("click",this.showItemWrapper.bind(this,u))},i.prototype.showItem=function(r){var a=this.items.find(function(u){return u.tabbedItem===r});a&&this.showItemWrapper(a)},i.prototype.showItemWrapper=function(r){var u,c,a=this,_=r.tabbedItem,E=r.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:_}),this.activeItem!==r?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),kt(this.eBody),_.bodyPromise.then(function(P){a.eBody.appendChild(P);var M=!a.focusService.isKeyboardMode();if(a.focusService.focusInto(a.eBody,!1,M),_.afterAttachedCallback&&_.afterAttachedCallback(a.afterAttachedParams),a.params.keepScrollPosition){var L=_.getScrollableContainer&&_.getScrollableContainer()||P;a.lastScrollListener=a.addManagedListener(L,"scroll",function(){a.tabbedItemScrollMap.set(_.name,L.scrollTop)});var B=a.tabbedItemScrollMap.get(_.name);void 0!==B&&setTimeout(function(){L.scrollTop=B},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(c=(u=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===c||c.call(u)),E.classList.add("ag-tab-selected"),this.activeItem=r):Ft(this.params.onActiveItemClicked)},xa([$("focusService")],i.prototype,"focusService",void 0),xa([be("eHeader")],i.prototype,"eHeader",void 0),xa([be("eBody")],i.prototype,"eBody",void 0),xa([ce],i.prototype,"postConstruct",null),i}(Ge),Ey=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Sy=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.polyfillFunctions=[],r}return Ey(i,p),i.prototype.observeResize=function(r,a){var U,u=this,_=this.gridOptionsService.getDocument().defaultView||window,E=Et(a,50),L=this.gridOptionsService.is("suppressBrowserResizeObserver");return _.ResizeObserver&&!L?((U=new _.ResizeObserver(E)).observe(r),function(){return U.disconnect()}):function(){var U=pc(r),X=vn(r),Q=!0,oe=function(){if(Q){var le=pc(r),fe=vn(r);(le!==U||fe!==X)&&(U=le,X=fe,a()),u.doNextPolyfillTurn(oe)}};return oe(),function(){return Q=!1}}()},i.prototype.doNextPolyfillTurn=function(r){this.polyfillFunctions.push(r),this.schedulePolyfill()},i.prototype.schedulePolyfill=function(){var r=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var u=r.polyfillFunctions;r.polyfillScheduled=!1,r.polyfillFunctions=[],u.forEach(function(c){return c()})},50))},i=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le("resizeObserverService")],i),i}(Me),wy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Dd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Oy=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.createTasksP1={list:[],sorted:!1},r.createTasksP2={list:[],sorted:!1},r.destroyTasks=[],r.ticking=!1,r.scrollGoingDown=!0,r.lastScrollTop=0,r.taskCount=0,r.cancelledTasks=new Set,r}return wy(i,p),i.prototype.setScrollTop=function(r){this.scrollGoingDown=r>this.lastScrollTop,this.lastScrollTop=r},i.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},i.prototype.isOn=function(){return this.useAnimationFrame},i.prototype.verifyAnimationFrameOn=function(r){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+r+" called but animation frames are off")},i.prototype.createTask=function(r,a,u){this.verifyAnimationFrameOn(u);var c={task:r,index:a,createOrder:++this.taskCount};this.addTaskToList(this[u],c),this.schedule()},i.prototype.cancelTask=function(r){this.cancelledTasks.add(r)},i.prototype.addTaskToList=function(r,a){r.list.push(a),r.sorted=!1},i.prototype.sortTaskList=function(r){if(!r.sorted){var a=this.scrollGoingDown?1:-1;r.list.sort(function(u,c){return u.index!==c.index?a*(c.index-u.index):c.createOrder-u.createOrder}),r.sorted=!0}},i.prototype.addDestroyTask=function(r){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(r),this.schedule()},i.prototype.executeFrame=function(r){this.verifyAnimationFrameOn("executeFrame");for(var a=this.createTasksP1,u=a.list,c=this.createTasksP2,_=c.list,E=this.destroyTasks,P=(new Date).getTime(),M=(new Date).getTime()-P,L=r<=0,B=this.ctrlsService.getGridBodyCtrl();L||M<r;){if(!B.getScrollFeature().scrollGridIfNeeded()){var X=void 0;if(u.length)this.sortTaskList(a),X=u.pop().task;else if(_.length)this.sortTaskList(c),X=_.pop().task;else{if(!E.length){this.cancelledTasks.clear();break}X=E.pop()}this.cancelledTasks.has(X)||X()}M=(new Date).getTime()-P}u.length||_.length||E.length?this.requestFrame():this.stopTicking()},i.prototype.stopTicking=function(){this.ticking=!1},i.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},i.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},i.prototype.requestFrame=function(){var r=this.executeFrame.bind(this,60),u=this.gridOptionsService.getDocument().defaultView||window;u.requestAnimationFrame?u.requestAnimationFrame(r):u.webkitRequestAnimationFrame?u.webkitRequestAnimationFrame(r):u.setTimeout(r,0)},i.prototype.isQueueEmpty=function(){return!this.ticking},i.prototype.debounce=function(r){var a=this,u=!1;return function(){a.isOn()?u||(u=!0,a.addDestroyTask(function(){u=!1,r()})):a.getFrameworkOverrides().setTimeout(r,0)}},Dd([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Dd([ce],i.prototype,"init",null),Dd([Le("animationFrameService")],i)}(Me),Dy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Lh=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Fh="ag-resizer-wrapper",Ia='<div class="'+Fh+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',pi=function(p){function i(r,a){var u=p.call(this)||this;return u.element=r,u.dragStartPosition={x:0,y:0},u.position={x:0,y:0},u.lastSize={width:-1,height:-1},u.positioned=!1,u.resizersAdded=!1,u.resizeListeners=[],u.boundaryEl=null,u.isResizing=!1,u.isMoving=!1,u.resizable={},u.movable=!1,u.currentResizer=null,u.config=Object.assign({},{popup:!1},a),u}return Dy(i,p),i.prototype.center=function(){var r=this.offsetParent,a=r.clientHeight,c=r.clientWidth/2-this.getWidth()/2,_=a/2-this.getHeight()/2;this.offsetElement(c,_)},i.prototype.initialisePosition=function(){var r=this.config,a=r.centered,u=r.forcePopupParentAsOffsetParent,c=r.minWidth,_=r.width,E=r.minHeight,P=r.height,M=r.x,L=r.y;this.offsetParent||this.setOffsetParent();var B=0,U=0,X=!!this.element.offsetParent;if(X){var Q=this.findBoundaryElement(),oe=window.getComputedStyle(Q);if(null!=oe.minWidth){var le=Q.offsetWidth-this.element.offsetWidth;U=parseInt(oe.minWidth,10)-le}if(null!=oe.minHeight){var fe=Q.offsetHeight-this.element.offsetHeight;B=parseInt(oe.minHeight,10)-fe}}if(this.minHeight=E||B,this.minWidth=c||U,_&&this.setWidth(_),P&&this.setHeight(P),(!_||!P)&&this.refreshSize(),a)this.center();else if(M||L)this.offsetElement(M,L);else if(X&&u&&this.boundaryEl){var de=parseFloat(this.boundaryEl.style.top),Oe=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Oe)?0:Oe,isNaN(de)?0:de)}this.positioned=!!this.offsetParent},i.prototype.isPositioned=function(){return this.positioned},i.prototype.getPosition=function(){return this.position},i.prototype.setMovable=function(r,a){if(this.config.popup&&r!==this.movable){this.movable=r;var u=this.moveElementDragListener||{eElement:a,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};r?(this.dragService.addDragSource(u),this.moveElementDragListener=u):(this.dragService.removeDragSource(u),this.moveElementDragListener=void 0)}},i.prototype.setResizable=function(r){var a=this;if(this.clearResizeListeners(),r?this.addResizers():this.removeResizers(),"boolean"==typeof r){if(!1===r)return;r={topLeft:r,top:r,topRight:r,right:r,bottomRight:r,bottom:r,bottomLeft:r,left:r}}Object.keys(r).forEach(function(u){var _=!!r[u],E=a.getResizerElement(u),P={dragStartPixels:0,eElement:E,onDragStart:function(M){return a.onResizeStart(M,u)},onDragging:a.onResize.bind(a),onDragStop:function(M){return a.onResizeEnd(M,u)}};(_||!a.isAlive()&&!_)&&(_?(a.dragService.addDragSource(P),a.resizeListeners.push(P),E.style.pointerEvents="all"):E.style.pointerEvents="none",a.resizable[u]=_)})},i.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},i.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var r=this.lastSize,a=r.height,u=r.width;-1!==u&&(this.element.style.width=u+"px"),-1!==a&&(this.element.style.height=a+"px")},i.prototype.getHeight=function(){return this.element.offsetHeight},i.prototype.setHeight=function(r){var a=this.config.popup,u=this.element,c=!1;if("string"==typeof r&&-1!==r.indexOf("%"))ia(u,r),r=ss(u),c=!0;else if(this.positioned){var _=this.element.getBoundingClientRect(),E=this.offsetParent.getBoundingClientRect();r=Math.max(this.minHeight,r);var P=this.offsetParent.clientHeight,M=a?this.position.y:_.top;P&&r+M>P+(a?0:E.top)&&(r=P-M)}this.getHeight()!==r&&(c?(u.style.maxHeight="unset",u.style.minHeight="unset"):a?ia(u,r):(u.style.height=r+"px",u.style.flex="0 0 auto",this.lastSize.height="number"==typeof r?r:parseFloat(r)))},i.prototype.getWidth=function(){return this.element.offsetWidth},i.prototype.setWidth=function(r){var a=this.element,u=this.config.popup,c=!1;if("string"==typeof r&&-1!==r.indexOf("%"))Un(a,r),r=ls(a),c=!0;else if(this.positioned){r=Math.max(this.minWidth,r);var _=this.offsetParent.clientWidth,E=u?this.position.x:this.element.getBoundingClientRect().left;_&&r+E>_&&(r=_-E)}this.getWidth()!==r&&(c?(a.style.maxWidth="unset",a.style.minWidth="unset"):this.config.popup?Un(a,r):(a.style.width=r+"px",a.style.flex=" unset",this.lastSize.width="number"==typeof r?r:parseFloat(r)))},i.prototype.offsetElement=function(r,a){void 0===r&&(r=0),void 0===a&&(a=0);var u=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:u,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:r,y:a}}}),this.setPosition(parseFloat(u.style.left),parseFloat(u.style.top))},i.prototype.setPosition=function(r,a){this.position.x=r,this.position.y=a},i.prototype.updateDragStartPosition=function(r,a){this.dragStartPosition={x:r,y:a}},i.prototype.calculateMouseMovement=function(r){var a=r.e,c=r.isTop,E=r.topBuffer,P=a.clientX-this.dragStartPosition.x,M=a.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(a,!!r.isLeft,!!r.anywhereWithin,P)?0:P,movementY:this.shouldSkipY(a,!!c,E,M)?0:M}},i.prototype.shouldSkipX=function(r,a,u,c){var _=this.element.getBoundingClientRect(),E=this.offsetParent.getBoundingClientRect(),P=this.boundaryEl.getBoundingClientRect(),M=this.config.popup?this.position.x:_.left,L=M<=0&&E.left>=r.clientX||E.right<=r.clientX&&E.right<=P.right;return!!L||(a?c<0&&r.clientX>M+E.left||c>0&&r.clientX<M+E.left:u?c<0&&r.clientX>P.right||c>0&&r.clientX<M+E.left:c<0&&r.clientX>P.right||c>0&&r.clientX<P.right)},i.prototype.shouldSkipY=function(r,a,u,c){void 0===u&&(u=0);var _=this.element.getBoundingClientRect(),E=this.offsetParent.getBoundingClientRect(),P=this.boundaryEl.getBoundingClientRect(),M=this.config.popup?this.position.y:_.top,L=M<=0&&E.top>=r.clientY||E.bottom<=r.clientY&&E.bottom<=P.bottom;return!!L||(a?c<0&&r.clientY>M+E.top+u||c>0&&r.clientY<M+E.top:c<0&&r.clientY>P.bottom||c>0&&r.clientY<P.bottom)},i.prototype.createResizeMap=function(){var r=this.element;this.resizerMap={topLeft:{element:r.querySelector("[ref=eTopLeftResizer]")},top:{element:r.querySelector("[ref=eTopResizer]")},topRight:{element:r.querySelector("[ref=eTopRightResizer]")},right:{element:r.querySelector("[ref=eRightResizer]")},bottomRight:{element:r.querySelector("[ref=eBottomRightResizer]")},bottom:{element:r.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:r.querySelector("[ref=eBottomLeftResizer]")},left:{element:r.querySelector("[ref=eLeftResizer]")}}},i.prototype.addResizers=function(){if(!this.resizersAdded){var r=this.element;if(r){var u=(new DOMParser).parseFromString(Ia,"text/html").body;r.appendChild(u.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},i.prototype.removeResizers=function(){this.resizerMap=void 0;var r=this.element.querySelector("."+Fh);r&&this.element.removeChild(r),this.resizersAdded=!1},i.prototype.getResizerElement=function(r){return this.resizerMap[r].element},i.prototype.onResizeStart=function(r,a){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!a.match(/top/i),isRight:!!a.match(/right/i),isBottom:!!a.match(/bottom/i),isLeft:!!a.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[a].element.classList.add("ag-active");var u=this.config;!u.popup&&!u.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(r.clientX,r.clientY)},i.prototype.getSiblings=function(){var a=this.element.parentElement;return a?Array.prototype.slice.call(a.children).filter(function(u){return!u.classList.contains("ag-hidden")}):null},i.prototype.getMinSizeOfSiblings=function(){for(var r=this.getSiblings()||[],a=0,u=0,c=0;c<r.length;c++){var _=r[c];if(_!==this.element){var P=this.minHeight||0,M=this.minWidth||0;if(_.style.flex&&"0 0 auto"!==_.style.flex){var L=window.getComputedStyle(_);L.minHeight&&(P=parseInt(L.minHeight,10)),L.minWidth&&(M=parseInt(L.minWidth,10))}else P=_.offsetHeight,M=_.offsetWidth;a+=P,u+=M}}return{height:a,width:u}},i.prototype.applySizeToSiblings=function(r){var a=null,u=this.getSiblings();if(u){for(var c=0;c<u.length;c++){var _=u[c];_!==a&&(r?_.style.height=_.offsetHeight+"px":_.style.width=_.offsetWidth+"px",_.style.flex="0 0 auto",_===this.element&&(a=u[c+1]))}a&&(a.style.removeProperty("height"),a.style.removeProperty("min-height"),a.style.removeProperty("max-height"),a.style.flex="1 1 auto")}},i.prototype.isResizable=function(){return Object.values(this.resizable).some(function(r){return r})},i.prototype.onResize=function(r){if(this.isResizing&&this.currentResizer){var a=this.config,u=a.popup,c=a.forcePopupParentAsOffsetParent,_=this.currentResizer,E=_.isTop,L=_.isLeft,B=_.isRight||L,U=_.isBottom||E,X=this.calculateMouseMovement({e:r,isLeft:L,isTop:E}),Q=X.movementX,oe=X.movementY,le=this.position.x,fe=this.position.y,de=0,Oe=0;if(B&&Q){var Ie=L?-1:1,Be=this.getWidth(),Xe=Be+Q*Ie,me=!1;L&&(le+(de=Be-Xe)<=0||Xe<=this.minWidth)&&(me=!0,de=0),me||this.setWidth(Xe)}if(U&&oe){Ie=E?-1:1;var He=this.getHeight(),nt=He+oe*Ie,dt=!1;E?(fe+(Oe=He-nt)<=0||nt<=this.minHeight)&&(dt=!0,Oe=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&He<nt&&this.getMinSizeOfSiblings().height+nt>this.element.parentElement.offsetHeight&&(dt=!0),dt||this.setHeight(nt)}this.updateDragStartPosition(r.clientX,r.clientY),((u||c)&&de||Oe)&&this.offsetElement(le+de,fe+Oe)}},i.prototype.onResizeEnd=function(r,a){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var u={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[a].element.classList.remove("ag-active"),this.dispatchEvent(u)},i.prototype.refreshSize=function(){var r=this.element;this.config.popup&&(this.config.width||this.setWidth(r.offsetWidth),this.config.height||this.setHeight(r.offsetHeight))},i.prototype.onMoveStart=function(r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(r.clientX,r.clientY)},i.prototype.onMove=function(r){if(this.isMoving){var _,a=this.position,u=a.x,c=a.y;this.config.calculateTopBuffer&&(_=this.config.calculateTopBuffer());var E=this.calculateMouseMovement({e:r,isTop:!0,anywhereWithin:!0,topBuffer:_});this.offsetElement(u+E.movementX,c+E.movementY),this.updateDragStartPosition(r.clientX,r.clientY)}},i.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},i.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},i.prototype.findBoundaryElement=function(){for(var r=this.element;r;){if("static"!==window.getComputedStyle(r).position)return r;r=r.parentElement}return this.element},i.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var r=this.resizeListeners.pop();this.dragService.removeDragSource(r)}},i.prototype.destroy=function(){p.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},Lh([$("popupService")],i.prototype,"popupService",void 0),Lh([$("dragService")],i.prototype,"dragService",void 0),i}(Me),by=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Hs=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},uS=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return by(i,p),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){r.centerRowContainerCtrl=a.centerRowContainerCtrl})},i.prototype.getPreferredWidthForColumn=function(r,a){var u=this.getHeaderCellForColumn(r);if(!u)return-1;var c=this.rowRenderer.getAllCellsForColumn(r);return a||c.push(u),this.addElementsToContainerAndGetWidth(c)},i.prototype.getPreferredWidthForColumnGroup=function(r){var a=this.getHeaderCellForColumn(r);return a?this.addElementsToContainerAndGetWidth([a]):-1},i.prototype.addElementsToContainerAndGetWidth=function(r){var a=this,u=document.createElement("form");u.style.position="fixed";var c=this.centerRowContainerCtrl.getContainerElement();c.appendChild(u),r.forEach(function(P){return a.cloneItemIntoDummy(P,u)});var _=u.offsetWidth;return c.removeChild(u),_+this.getAutoSizePadding()},i.prototype.getAutoSizePadding=function(){var r=this.gridOptionsService.getNum("autoSizePadding");return null!=r&&r>=0?r:20},i.prototype.getHeaderCellForColumn=function(r){var a=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(u){var c=u.getHtmlElementForColumnHeader(r);null!=c&&(a=c)}),a},i.prototype.cloneItemIntoDummy=function(r,a){var u=r.cloneNode(!0);u.style.width="",u.style.position="static",u.style.left="";var c=document.createElement("div"),_=c.classList;["ag-header-cell","ag-header-group-cell"].some(function(U){return u.classList.contains(U)})?(_.add("ag-header","ag-header-row"),c.style.position="static"):_.add("ag-row");for(var P=r.parentElement;P;){if(["ag-header-row","ag-row"].some(function(U){return P.classList.contains(U)})){for(var L=0;L<P.classList.length;L++){var B=P.classList[L];"ag-row-position-absolute"!=B&&_.add(B)}break}P=P.parentElement}c.appendChild(u),a.appendChild(c)},Hs([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Hs([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Hs([$("rowCssClassCalculator")],i.prototype,"rowCssClassCalculator",void 0),Hs([ce],i.prototype,"postConstruct",null),Hs([Le("autoWidthCalculator")],i)}(Me),cS=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Us=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Nh=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Py=function(p){function i(r,a){var u=p.call(this)||this;return u.createRowCon=r,u.destroyRowCtrls=a,u.stickyRowCtrls=[],u.containerHeight=0,u}return cS(i,p),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){r.gridBodyCtrl=a.gridBodyCtrl})},i.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},i.prototype.checkStickyRows=function(){var r=0;if(this.gridOptionsService.is("groupRowsSticky")){for(var a=[],u=this.rowRenderer.getFirstVisibleVerticalPixel(),c=function(U){a.push(U);for(var X=U;X.expanded;)X=Rt(X.childrenAfterSort);var Q=X.rowTop+X.rowHeight,oe=u+r+U.rowHeight;U.stickyRowTop=Q<oe?r+(Q-oe):r,r=0,a.forEach(function(le){var fe=le.stickyRowTop+le.rowHeight;r<fe&&(r=fe)})};;){var _=u+r,E=this.rowModel.getRowIndexAtPixel(_),P=this.rowModel.getRow(E);if(null==P||P.level<0)break;for(var M=[],L=P.parent;L.level>=0;)M.push(L),L=L.parent;var B=M.reverse().find(function(U){return a.indexOf(U)<0&&U.displayed});if(B)c(B);else{if(!(P.group&&P.expanded&&!P.footer&&P.rowTop<_))break;c(P)}}this.refreshNodesAndContainerHeight(a,r)}else this.refreshNodesAndContainerHeight([],r)},i.prototype.refreshNodesAndContainerHeight=function(r,a){var u,c,_,E=this,P=this.stickyRowCtrls.filter(function(oe){return-1===r.indexOf(oe.getRowNode())}),M=r.filter(function(oe){return-1===E.stickyRowCtrls.findIndex(function(le){return le.getRowNode()===oe})}),L={};P.forEach(function(oe){L[oe.getRowNode().id]=oe,E.stickyRowCtrls=E.stickyRowCtrls.filter(function(le){return le!==oe})});try{for(var B=function(p){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&p[i],a=0;if(r)return r.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(L)),U=B.next();!U.done;U=B.next())U.value.getRowNode().sticky=!1}catch(oe){u={error:oe}}finally{try{U&&!U.done&&(c=B.return)&&c.call(B)}finally{if(u)throw u.error}}this.destroyRowCtrls(L,!1);var Q=M.map(function(oe){return oe.sticky=!0,E.createRowCon(oe,!1,!1)});(_=this.stickyRowCtrls).push.apply(_,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Nh(arguments[i]));return p}(Q)),this.stickyRowCtrls.forEach(function(oe){return oe.setRowTop(oe.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(oe,le){return le.getRowNode().rowIndex-oe.getRowNode().rowIndex}),this.containerHeight!==a&&(this.containerHeight=a,this.gridBodyCtrl.setStickyTopHeight(a))},Us([$("rowModel")],i.prototype,"rowModel",void 0),Us([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Us([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Us([ce],i.prototype,"postConstruct",null),i}(Me),Bh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),qn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ry=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},En=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Ry(arguments[i]));return p},kh=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.destroyFuncsForColumnListeners=[],r.rowCtrlsByRowIndex={},r.zombieRowCtrls={},r.allRowCtrls=[],r.topRowCtrls=[],r.bottomRowCtrls=[],r.refreshInProgress=!1,r.dataFirstRenderedFired=!1,r}return Bh(i,p),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl(),r.initialise()})},i.prototype.initialise=function(){this.addManagedListener(this.eventService,J.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,J.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,J.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.is("groupRowsSticky")&&("clientSide"!=this.rowModel.getType()?Ce(function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side Row Model")},"rowRenderer.stickyWorksWithCsrmOnly"):this.gridOptionsService.isTreeData()?Ce(function(){return console.warn("AG Grid: The feature Sticky Row Groups does not work with Tree Data.")},"rowRenderer.stickyDoesNotWorkWithTreeData"):this.stickyRowFeature=this.createManagedBean(new Py(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},i.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var r=this.getKeepDetailRowsCount();this.cachedRowCtrls=new My(r??3)}},i.prototype.getKeepDetailRowsCount=function(){var r=this.gridOptionsService.getNum("keepDetailRowsCount");return o(r)&&r>0?r:10},i.prototype.getRowCtrls=function(){return this.allRowCtrls},i.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},i.prototype.updateAllRowCtrls=function(){var r=ee(this.rowCtrlsByRowIndex),a=this.gridOptionsService.is("ensureDomOrder"),u=this.gridOptionsService.isDomLayout("print");(a||u)&&r.sort(function(E,P){return E.getRowNode().rowIndex-P.getRowNode.rowIndex});var c=ee(this.zombieRowCtrls),_=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=En(r,c,_)},i.prototype.onCellFocusChanged=function(r){this.getAllCellCtrls().forEach(function(a){return a.onCellFocused(r)}),this.getFullWidthRowCtrls().forEach(function(a){return a.onFullWidthRowFocused(r)})},i.prototype.registerCellEventListeners=function(){var r=this;this.addManagedListener(this.eventService,J.EVENT_CELL_FOCUSED,function(u){r.onCellFocusChanged(u)}),this.addManagedListener(this.eventService,J.EVENT_CELL_FOCUS_CLEARED,function(){r.onCellFocusChanged()}),this.addManagedListener(this.eventService,J.EVENT_FLASH_CELLS,function(u){r.getAllCellCtrls().forEach(function(c){return c.onFlashCells(u)})}),this.addManagedListener(this.eventService,J.EVENT_COLUMN_HOVER_CHANGED,function(){r.getAllCellCtrls().forEach(function(u){return u.onColumnHover()})}),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){r.getAllCellCtrls().forEach(function(u){return u.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){r.printLayout&&r.getAllCellCtrls().forEach(function(u){return u.onLeftChanged()})}),this.gridOptionsService.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,J.EVENT_RANGE_SELECTION_CHANGED,function(){r.getAllCellCtrls().forEach(function(u){return u.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,J.EVENT_COLUMN_MOVED,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,J.EVENT_COLUMN_PINNED,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,J.EVENT_COLUMN_VISIBLE,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,J.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},i.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(r){return r()}),this.destroyFuncsForColumnListeners.length=0},i.prototype.refreshListenersToColumnsForCellComps=function(){var r=this;this.removeGridColumnListeners();var a=this.columnModel.getAllGridColumns();a&&a.forEach(function(u){var c=function(B){r.getAllCellCtrls().forEach(function(U){U.getColumn()===u&&B(U)})},_=function(){c(function(B){return B.onLeftChanged()})},E=function(){c(function(B){return B.onWidthChanged()})},P=function(){c(function(B){return B.onFirstRightPinnedChanged()})},M=function(){c(function(B){return B.onLastLeftPinnedChanged()})},L=function(){c(function(B){return B.onColDefChanged()})};u.addEventListener("leftChanged",_),u.addEventListener("widthChanged",E),u.addEventListener("firstRightPinnedChanged",P),u.addEventListener("lastLeftPinnedChanged",M),u.addEventListener("colDefChanged",L),r.destroyFuncsForColumnListeners.push(function(){u.removeEventListener("leftChanged",_),u.removeEventListener("widthChanged",E),u.removeEventListener("firstRightPinnedChanged",P),u.removeEventListener("lastLeftPinnedChanged",M),u.removeEventListener("colDefChanged",L)})})},i.prototype.onDomLayoutChanged=function(){var r=this.gridOptionsService.isDomLayout("print"),a=r||this.gridOptionsService.is("embedFullWidthRows"),u=a!==this.embedFullWidthRows||this.printLayout!==r;this.printLayout=r,this.embedFullWidthRows=a,u&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},i.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},i.prototype.onPageLoaded=function(r){this.redrawAfterModelUpdate({recycleRows:r.keepRenderedRows,animate:r.animate,newData:r.newData,newPage:r.newPage,onlyBody:!0})},i.prototype.getAllCellsForColumn=function(r){var a=[];return this.getAllRowCtrls().forEach(function(u){var c=u.getCellElement(r);c&&a.push(c)}),a},i.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},i.prototype.getTopRowCtrls=function(){return this.topRowCtrls},i.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},i.prototype.refreshFloatingRows=function(r,a){var u=this;r.forEach(function(c){c.destroyFirstPass(),c.destroySecondPass()}),r.length=0,a&&a.forEach(function(c){var _=new No(c,u.beans,!1,!1,u.printLayout);r.push(_)})},i.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},i.prototype.getRenderedIndexesForRowNodes=function(r){var a=[];return s(r)||G(this.rowCtrlsByRowIndex,function(u,c){var _=c.getRowNode();r.indexOf(_)>=0&&a.push(u)}),a},i.prototype.redrawRows=function(r){var a=null!=r&&r.length>0;if(a){var u=this.getRenderedIndexesForRowNodes(r);this.removeRowCtrls(u)}this.redrawAfterModelUpdate({recycleRows:a})},i.prototype.getCellToRestoreFocusToAfterRefresh=function(r){var a=r?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==a)return null;var c=this.gridOptionsService.getDocument().activeElement,_=this.gridOptionsService.getDomData(c,Lo.DOM_DATA_KEY_CELL_CTRL),E=this.gridOptionsService.getDomData(c,No.DOM_DATA_KEY_ROW_CTRL);return _||E?a:null},i.prototype.redrawAfterModelUpdate=function(r){void 0===r&&(r={}),this.getLockOnRefresh();var a=this.getCellToRestoreFocusToAfterRefresh(r);this.updateContainerHeights(),this.scrollToTopIfNewData(r);var u=!r.domLayoutChanged&&!!r.recycleRows,c=r.animate&&this.gridOptionsService.isAnimateRows(),_=u?this.recycleRows():null;u||this.removeAllRowComps(),this.redraw(_,c),this.gridBodyCtrl.updateRowCount(),r.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=a&&this.restoreFocusedCell(a),this.releaseLockOnRefresh()},i.prototype.scrollToTopIfNewData=function(r){var a=r.newData||r.newPage,u=this.gridOptionsService.is("suppressScrollOnNewData");a&&!u&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},i.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var r=this.paginationProxy.getCurrentPageHeight();0===r&&(r=1),this.rowContainerHeightService.setModelHeight(r)}},i.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},i.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},i.prototype.isRefreshInProgress=function(){return this.refreshInProgress},i.prototype.restoreFocusedCell=function(r){r&&this.onCellFocusChanged({rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.context,type:"mock"})},i.prototype.stopEditing=function(r){void 0===r&&(r=!1),this.getAllRowCtrls().forEach(function(a){a.stopEditing(r)})},i.prototype.getAllCellCtrls=function(){var r=[];return this.getAllRowCtrls().forEach(function(a){return r=r.concat(a.getAllCellCtrls())}),r},i.prototype.getAllRowCtrls=function(){var r=this,a=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],u=En(this.topRowCtrls,this.bottomRowCtrls,a);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(c){return u.push(r.rowCtrlsByRowIndex[c])}),u},i.prototype.addRenderedRowListener=function(r,a,u){var c=this.rowCtrlsByRowIndex[a];c&&c.addEventListener(r,u)},i.prototype.flashCells=function(r){void 0===r&&(r={});var a=r.flashDelay,u=r.fadeDelay;this.getCellCtrls(r.rowNodes,r.columns).forEach(function(c){return c.flashCell({flashDelay:a,fadeDelay:u})})},i.prototype.refreshCells=function(r){void 0===r&&(r={});var a={forceRefresh:r.force,newData:!1,suppressFlash:r.suppressFlash};this.getCellCtrls(r.rowNodes,r.columns).forEach(function(u){if(u.refreshShouldDestroy()){var c=u.getRowCtrl();c&&c.refreshCell(u)}else u.refreshCell(a)}),this.getFullWidthRowCtrls(r.rowNodes).forEach(function(u){u.refreshFullWidth()})},i.prototype.getCellRendererInstances=function(r){var u,a=this,c=this.getCellCtrls(r.rowNodes,r.columns).map(function(P){return P.getCellRenderer()}).filter(function(P){return null!=P});if(null!==(u=r.columns)&&void 0!==u&&u.length)return c;var _=[],E=this.mapRowNodes(r.rowNodes);return this.getAllRowCtrls().forEach(function(P){if((!E||a.isRowInMap(P.getRowNode(),E))&&P.isFullWidth()){var M=P.getFullWidthCellRenderer();M&&_.push(M)}}),En(_,c)},i.prototype.getCellEditorInstances=function(r){var a=[];return this.getCellCtrls(r.rowNodes,r.columns).forEach(function(u){var c=u.getCellEditor();c&&a.push(c)}),a},i.prototype.getEditingCells=function(){var r=[];return this.getAllCellCtrls().forEach(function(a){if(a.isEditing()){var u=a.getCellPosition();r.push(u)}}),r},i.prototype.mapRowNodes=function(r){if(r){var a={top:{},bottom:{},normal:{}};return r.forEach(function(u){var c=u.id;"top"===u.rowPinned?a.top[c]=u:"bottom"===u.rowPinned?a.bottom[c]=u:a.normal[c]=u}),a}},i.prototype.isRowInMap=function(r,a){var u=r.id,c=r.rowPinned;return"bottom"===c?null!=a.bottom[u]:"top"===c?null!=a.top[u]:null!=a.normal[u]},i.prototype.getCellCtrls=function(r,a){var E,u=this,c=this.mapRowNodes(r),_=[];return o(a)&&(E={},a.forEach(function(M){var L=u.columnModel.getGridColumn(M);o(L)&&(E[L.getId()]=!0)})),this.getAllRowCtrls().forEach(function(M){return function(M){var L=M.getRowNode();null!=c&&!u.isRowInMap(L,c)||M.getAllCellCtrls().forEach(function(B){var U=B.getColumn().getId();E&&!E[U]||_.push(B)})}(M)}),_},i.prototype.destroy=function(){this.removeAllRowComps(),p.prototype.destroy.call(this)},i.prototype.removeAllRowComps=function(){var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},i.prototype.recycleRows=function(){var r=[];G(this.rowCtrlsByRowIndex,function(u,c){null==c.getRowNode().id&&r.push(u)}),this.removeRowCtrls(r);var a={};return G(this.rowCtrlsByRowIndex,function(u,c){var _=c.getRowNode();a[_.id]=c}),this.rowCtrlsByRowIndex={},a},i.prototype.removeRowCtrls=function(r){var a=this;r.forEach(function(u){var c=a.rowCtrlsByRowIndex[u];c&&(c.destroyFirstPass(),c.destroySecondPass()),delete a.rowCtrlsByRowIndex[u]})},i.prototype.onBodyScroll=function(r){"vertical"===r.direction&&this.redrawAfterScroll()},i.prototype.redrawAfterScroll=function(){var r;if(this.stickyRowFeature&&wl()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(),null!=r){var a=this.getCellToRestoreFocusToAfterRefresh();null!=r&&null==a&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}},i.prototype.removeRowCompsNotToDraw=function(r){var a={};r.forEach(function(_){return a[_]=!0});var c=Object.keys(this.rowCtrlsByRowIndex).filter(function(_){return!a[_]});this.removeRowCtrls(c)},i.prototype.calculateIndexesToDraw=function(r){var a=this,u=At(this.firstRenderedRow,this.lastRenderedRow),c=function(_,E){var P=E.getRowNode().rowIndex;null!=P&&(P<a.firstRenderedRow||P>a.lastRenderedRow)&&a.doNotUnVirtualiseRow(E)&&u.push(P)};return G(this.rowCtrlsByRowIndex,c),G(r,c),u.sort(function(_,E){return _-E}),u=u.filter(function(_){var E=a.paginationProxy.getRow(_);return E&&!E.sticky})},i.prototype.redraw=function(r,a,u){var c=this;void 0===a&&(a=!1),void 0===u&&(u=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var _=this.calculateIndexesToDraw(r);this.removeRowCompsNotToDraw(_),this.printLayout&&(a=!1),_.forEach(function(P){o(c.createOrUpdateRowCtrl(P,r,a,u))}),r&&(!u||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(r,a):this.beans.animationFrameService.addDestroyTask(function(){c.destroyRowCtrls(r,a),c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},i.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:J.EVENT_DISPLAYED_ROWS_CHANGED})},i.prototype.onDisplayedColumnsChanged=function(){var r=this.columnModel.isPinningLeft(),a=this.columnModel.isPinningRight();(this.pinningLeft!==r||a!==this.pinningRight)&&(this.pinningLeft=r,this.pinningRight=a,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},i.prototype.redrawFullWidthEmbeddedRows=function(){var r=[];this.getFullWidthRowCtrls().forEach(function(a){var u=a.getRowNode().rowIndex;r.push(u.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(r),this.redrawAfterScroll()},i.prototype.getFullWidthRowCtrls=function(r){var a=this,u=this.mapRowNodes(r);return ee(this.rowCtrlsByRowIndex).filter(function(c){if(!c.isFullWidth())return!1;var _=c.getRowNode();return!(null!=u&&!a.isRowInMap(_,u))})},i.prototype.refreshFullWidthRows=function(r){var a=[],u=!!r,c=u?{}:void 0;u&&c&&r.forEach(function(_){return c[_.id]=!0}),this.getFullWidthRowCtrls().forEach(function(_){var E=_.getRowNode();if((!u||!c||c[E.id]||c[E.level>0&&E.parent?E.parent.id:void 0])&&!_.refreshFullWidth()){var B=_.getRowNode().rowIndex;a.push(B.toString())}}),this.removeRowCtrls(a),this.redrawAfterScroll()},i.prototype.createOrUpdateRowCtrl=function(r,a,u,c){var _,E=this.rowCtrlsByRowIndex[r];if(E||o(_=this.paginationProxy.getRow(r))&&o(a)&&a[_.id]&&_.alreadyRendered&&(E=a[_.id],a[_.id]=null),!E){if(_||(_=this.paginationProxy.getRow(r)),!o(_))return;E=this.createRowCon(_,u,c)}return _&&(_.alreadyRendered=!0),this.rowCtrlsByRowIndex[r]=E,E},i.prototype.destroyRowCtrls=function(r,a){var u=this,c=[];G(r,function(_,E){if(E){if(u.cachedRowCtrls&&E.isCacheable())return void u.cachedRowCtrls.addRow(E);E.destroyFirstPass(),a?(u.zombieRowCtrls[E.getInstanceId()]=E,c.push(function(){E.destroySecondPass(),delete u.zombieRowCtrls[E.getInstanceId()]})):E.destroySecondPass()}}),a&&(c.push(function(){u.updateAllRowCtrls(),u.dispatchDisplayedRowsChanged()}),we(c))},i.prototype.getRowBuffer=function(){var r=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof r?r<0&&(Ce(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),r=0,this.gridOptionsService.set("rowBuffer",0)):r=10,r},i.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},i.prototype.workOutFirstAndLastRowsToRender=function(){var r,a;if(this.paginationProxy.isRowsToRender())if(this.printLayout)r=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow();else{var u=this.getRowBufferInPixels(),c=this.ctrlsService.getGridBodyCtrl(),_=this.gridOptionsService.is("suppressRowVirtualisation"),E=!1,P=void 0,M=void 0;do{var L=this.paginationProxy.getPixelOffset(),B=this.paginationProxy.getCurrentPagePixelRange(),U=B.pageFirstPixel,X=B.pageLastPixel,Q=this.rowContainerHeightService.getDivStretchOffset(),oe=c.getScrollFeature().getVScrollPosition(),le=oe.top,fe=oe.bottom;_?(P=U+Q,M=X+Q):(P=Math.max(le+L-u,U)+Q,M=Math.min(fe+L+u,X)+Q),this.firstVisibleVPixel=Math.max(le+L,U)+Q,E=this.ensureAllRowsInRangeHaveHeightsCalculated(P,M)}while(E);var de=this.paginationProxy.getRowIndexAtPixel(P),Oe=this.paginationProxy.getRowIndexAtPixel(M),Ie=this.paginationProxy.getPageFirstRow(),Be=this.paginationProxy.getPageLastRow();de<Ie&&(de=Ie),Oe>Be&&(Oe=Be),r=de,a=Oe}else r=0,a=-1;var Xe=this.gridOptionsService.isDomLayout("normal"),me=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),He=Math.max(this.getRowBuffer(),500);Xe&&!me&&a-r>He&&(a=r+He),(r!==this.firstRenderedRow||a!==this.lastRenderedRow)&&(this.firstRenderedRow=r,this.lastRenderedRow=a,this.eventService.dispatchEvent({type:J.EVENT_VIEWPORT_CHANGED,firstRow:r,lastRow:a}))},i.prototype.dispatchFirstDataRenderedEvent=function(){var r=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var a={type:J.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){r.beans.eventService.dispatchEvent(a)})}},i.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(r,a){var u=this.paginationProxy.ensureRowHeightsValid(r,a,-1,-1);return u&&this.updateContainerHeights(),u},i.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},i.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},i.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},i.prototype.doNotUnVirtualiseRow=function(r){var c=r.getRowNode(),_=this.focusService.isRowNodeFocused(c),E=r.isEditing();return!!(_||E||c.detail)&&!!this.paginationProxy.isRowPresent(c)},i.prototype.createRowCon=function(r,a,u){var c=this.cachedRowCtrls?this.cachedRowCtrls.getRow(r):null;if(c)return c;var _=this.gridOptionsService.is("suppressAnimationFrame");return new No(r,this.beans,a,u&&!_&&!this.printLayout,this.printLayout)},i.prototype.getRenderedNodes=function(){var r=this.rowCtrlsByRowIndex;return Object.keys(r).map(function(a){return r[a].getRowNode()})},i.prototype.getRowByPosition=function(r){var a,u=r.rowIndex;switch(r.rowPinned){case"top":a=this.topRowCtrls[u];break;case"bottom":a=this.bottomRowCtrls[u];break;default:(a=this.rowCtrlsByRowIndex[u])||(a=this.getStickyTopRowCtrls().find(function(c){return c.getRowNode().rowIndex===u})||null)}return a},i.prototype.getRowNode=function(r){switch(r.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},i.prototype.isRangeInRenderedViewport=function(r,a){return!(null==r||null==a||a<this.firstRenderedRow||r>this.lastRenderedRow)},qn([$("animationFrameService")],i.prototype,"animationFrameService",void 0),qn([$("paginationProxy")],i.prototype,"paginationProxy",void 0),qn([$("columnModel")],i.prototype,"columnModel",void 0),qn([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),qn([$("rowModel")],i.prototype,"rowModel",void 0),qn([$("focusService")],i.prototype,"focusService",void 0),qn([$("beans")],i.prototype,"beans",void 0),qn([$("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),qn([$("ctrlsService")],i.prototype,"ctrlsService",void 0),qn([ce],i.prototype,"postConstruct",null),qn([Le("rowRenderer")],i)}(Me),My=function(){function p(i){this.entriesMap={},this.entriesList=[],this.maxCount=i}return p.prototype.addRow=function(i){if(this.entriesMap[i.getRowNode().id]=i,this.entriesList.push(i),i.setCached(!0),this.entriesList.length>this.maxCount){var r=this.entriesList[0];r.destroyFirstPass(),r.destroySecondPass(),this.removeFromCache(r)}},p.prototype.getRow=function(i){if(null==i||null==i.id)return null;var r=this.entriesMap[i.id];return r?(this.removeFromCache(r),r.setCached(!1),r.getRowNode()!=i?null:r):null},p.prototype.removeFromCache=function(i){var r=i.getRowNode().id;delete this.entriesMap[r],Gr(this.entriesList,i)},p.prototype.getEntries=function(){return this.entriesList},p}(),Ay=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Vh=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},xy=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Ay(i,p),i.prototype.formatValue=function(r,a,u,c,_){void 0===_&&(_=!0);var P,E=null,M=r.getColDef();if(c?P=c:_&&(P=M.valueFormatter),P){var L={value:u,node:a,data:a?a.data:null,colDef:M,column:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};E="function"==typeof P?P(L):this.expressionService.evaluate(P,L)}else if(M.refData)return M.refData[u]||"";return null==E&&Array.isArray(u)&&(E=u.join(", ")),E},Vh([$("expressionService")],i.prototype,"expressionService",void 0),Vh([Le("valueFormatterService")],i)}(Me),Wh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),bd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Iy=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Wh(i,p),i.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},i.prototype.isEmpty=function(r){return d("top"===r?this.pinnedTopRows:this.pinnedBottomRows)},i.prototype.isRowsToRender=function(r){return!this.isEmpty(r)},i.prototype.getRowAtPixel=function(r,a){var u="top"===a?this.pinnedTopRows:this.pinnedBottomRows;if(d(u))return 0;for(var c=0;c<u.length;c++){var _=u[c];if(_.rowTop+_.rowHeight-1>=r)return c}return u.length-1},i.prototype.setPinnedTopRowData=function(r){this.pinnedTopRows=this.createNodesFromData(r,!0),this.eventService.dispatchEvent({type:J.EVENT_PINNED_ROW_DATA_CHANGED})},i.prototype.setPinnedBottomRowData=function(r){this.pinnedBottomRows=this.createNodesFromData(r,!1),this.eventService.dispatchEvent({type:J.EVENT_PINNED_ROW_DATA_CHANGED})},i.prototype.createNodesFromData=function(r,a){var u=this,c=[];if(r){var _=0;r.forEach(function(E,P){var M=new ot(u.beans);M.data=E,M.id=(a?ot.ID_PREFIX_TOP_PINNED:ot.ID_PREFIX_BOTTOM_PINNED)+P,M.rowPinned=a?"top":"bottom",M.setRowTop(_),M.setRowHeight(u.gridOptionsService.getRowHeightForNode(M).height),M.setRowIndex(P),_+=M.rowHeight,c.push(M)})}return c},i.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},i.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},i.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},i.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},i.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},i.prototype.getPinnedTopRow=function(r){return this.pinnedTopRows[r]},i.prototype.getPinnedBottomRow=function(r){return this.pinnedBottomRows[r]},i.prototype.forEachPinnedTopRow=function(r){d(this.pinnedTopRows)||this.pinnedTopRows.forEach(r)},i.prototype.forEachPinnedBottomRow=function(r){d(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(r)},i.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},i.prototype.getTotalHeight=function(r){if(!r||0===r.length)return 0;var a=Rt(r);return a.rowTop+a.rowHeight},bd([$("beans")],i.prototype,"beans",void 0),bd([ce],i.prototype,"init",null),bd([Le("pinnedRowModel")],i)}(Me),gu=(()=>(function(p){p.Applied="Applied",p.StoreNotFound="StoreNotFound",p.StoreLoading="StoreLoading",p.StoreWaitingToLoad="StoreWaitingToLoad",p.StoreLoadingFailed="StoreLoadingFailed",p.StoreWrongType="StoreWrongType",p.Cancelled="Cancelled"}(gu||(gu={})),gu))(),st=function(){function p(i,r){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=i,this.pathRoot={rowNode:r,children:null},this.mapToItems[r.id]=this.pathRoot}return p.prototype.setInactive=function(){this.active=!1},p.prototype.isActive=function(){return this.active},p.prototype.depthFirstSearchChangedPath=function(i,r){if(i.children)for(var a=0;a<i.children.length;a++)this.depthFirstSearchChangedPath(i.children[a],r);r(i.rowNode)},p.prototype.depthFirstSearchEverything=function(i,r,a){if(i.childrenAfterGroup)for(var u=0;u<i.childrenAfterGroup.length;u++){var c=i.childrenAfterGroup[u];c.childrenAfterGroup?this.depthFirstSearchEverything(i.childrenAfterGroup[u],r,a):a&&r(c)}r(i)},p.prototype.forEachChangedNodeDepthFirst=function(i,r,a){void 0===r&&(r=!1),void 0===a&&(a=!1),this.active&&!a?this.depthFirstSearchChangedPath(this.pathRoot,i):this.depthFirstSearchEverything(this.pathRoot.rowNode,i,r)},p.prototype.executeFromRootNode=function(i){i(this.pathRoot.rowNode)},p.prototype.createPathItems=function(i){for(var r=i,a=0;!this.mapToItems[r.id];)this.mapToItems[r.id]={rowNode:r,children:null},a++,r=r.parent;return a},p.prototype.populateColumnsMap=function(i,r){var a=this;if(this.keepingColumns&&r)for(var u=i;u;)this.nodeIdsToColumns[u.id]||(this.nodeIdsToColumns[u.id]={}),r.forEach(function(c){return a.nodeIdsToColumns[u.id][c.getId()]=!0}),u=u.parent},p.prototype.linkPathItems=function(i,r){for(var a=i,u=0;u<r;u++){var c=this.mapToItems[a.id],_=this.mapToItems[a.parent.id];_.children||(_.children=[]),_.children.push(c),a=a.parent}},p.prototype.addParentNode=function(i,r){if(i&&!i.isRowPinned()){var a=this.createPathItems(i);this.linkPathItems(i,a),this.populateColumnsMap(i,r)}},p.prototype.canSkip=function(i){return this.active&&!this.mapToItems[i.id]},p.prototype.getValueColumnsForNode=function(i,r){if(!this.keepingColumns)return r;var a=this.nodeIdsToColumns[i.id];return r.filter(function(c){return a[c.getId()]})},p.prototype.getNotValueColumnsForNode=function(i,r){if(!this.keepingColumns)return null;var a=this.nodeIdsToColumns[i.id];return r.filter(function(c){return!a[c.getId()]})},p}(),$s=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),js=function(p){function i(r){var a=p.call(this)||this;return a.state=i.STATE_WAITING_TO_LOAD,a.version=0,a.id=r,a}return $s(i,p),i.prototype.getId=function(){return this.id},i.prototype.load=function(){this.state=i.STATE_LOADING,this.loadFromDatasource()},i.prototype.getVersion=function(){return this.version},i.prototype.setStateWaitingToLoad=function(){this.version++,this.state=i.STATE_WAITING_TO_LOAD},i.prototype.getState=function(){return this.state},i.prototype.pageLoadFailed=function(r){this.isRequestMostRecentAndLive(r)&&(this.state=i.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},i.prototype.success=function(r,a){this.successCommon(r,a)},i.prototype.pageLoaded=function(r,a,u){this.successCommon(r,{rowData:a,rowCount:u})},i.prototype.isRequestMostRecentAndLive=function(r){var a=r===this.version,u=this.isAlive();return a&&u},i.prototype.successCommon=function(r,a){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(r)&&(this.state=i.STATE_LOADED,this.processServerResult(a))},i.prototype.dispatchLoadCompleted=function(r){void 0===r&&(r=!0),this.dispatchEvent({type:i.EVENT_LOAD_COMPLETE,success:r,block:this})},i.EVENT_LOAD_COMPLETE="loadComplete",i.STATE_WAITING_TO_LOAD="needsLoading",i.STATE_LOADING="loading",i.STATE_LOADED="loaded",i.STATE_FAILED="failed",i}(Me),Hh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),vu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ly=function(p,i){return function(r,a){i(r,a,p)}},Pd=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.activeBlockLoadsCount=0,a.blocks=[],a.active=!0,a}var r;return Hh(i,p),r=i,i.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var a=this.gridOptionsService.getNum("blockLoadDebounceMillis");a&&a>0&&(this.checkBlockToLoadDebounce=Ye.debounce(this.performCheckBlocksToLoad.bind(this),a))},i.prototype.setBeans=function(a){this.logger=a.create("RowNodeBlockLoader")},i.prototype.getMaxConcurrentDatasourceRequests=function(){var a=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==a?2:a<=0?void 0:a},i.prototype.addBlock=function(a){this.blocks.push(a),a.addEventListener(js.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},i.prototype.removeBlock=function(a){Ye.removeFromArray(this.blocks,a)},i.prototype.destroy=function(){p.prototype.destroy.call(this),this.active=!1},i.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:r.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:r.BLOCK_LOADER_FINISHED_EVENT})},i.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},i.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var a=this.getAvailableLoadingCount(),u=this.blocks.filter(function(c){return c.getState()===js.STATE_WAITING_TO_LOAD}).slice(0,a);this.registerLoads(u.length),u.forEach(function(c){return c.load()}),this.printCacheStatus()}},i.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var u={};return this.blocks.forEach(function(c){var _=c.getBlockStateJson();u[_.id]=_.state}),u},i.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},i.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},i.prototype.registerLoads=function(a){this.activeBlockLoadsCount+=a},i.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},i.BLOCK_LOADED_EVENT="blockLoaded",i.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",vu([$("rowModel")],i.prototype,"rowModel",void 0),vu([ce],i.prototype,"postConstruct",null),vu([Ly(0,ar("loggerFactory"))],i.prototype,"setBeans",null),r=vu([Le("rowNodeBlockLoader")],i)}(Me),Fy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_u=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ny=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.currentPage=0,r.topDisplayedRowIndex=0,r.bottomDisplayedRowIndex=0,r.pixelOffset=0,r.masterRowCount=0,r}return Fy(i,p),i.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,J.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},i.prototype.ensureRowHeightsValid=function(r,a,u,c){var _=this.rowModel.ensureRowHeightsValid(r,a,this.getPageFirstRow(),this.getPageLastRow());return _&&this.calculatePages(),_},i.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")},i.prototype.onModelUpdated=function(r){this.calculatePages(),this.eventService.dispatchEvent({type:J.EVENT_PAGINATION_CHANGED,animate:!!r&&r.animate,newData:!!r&&r.newData,newPage:!!r&&r.newPage,keepRenderedRows:!!r&&r.keepRenderedRows})},i.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:J.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0})},i.prototype.goToPage=function(r){this.active&&this.currentPage!==r&&"number"==typeof this.currentPage&&(this.currentPage=r,this.onModelUpdated({type:J.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0}))},i.prototype.getPixelOffset=function(){return this.pixelOffset},i.prototype.getRow=function(r){return this.rowModel.getRow(r)},i.prototype.getRowNode=function(r){return this.rowModel.getRowNode(r)},i.prototype.getRowIndexAtPixel=function(r){return this.rowModel.getRowIndexAtPixel(r)},i.prototype.getCurrentPageHeight=function(){return s(this.topRowBounds)||s(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},i.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},i.prototype.isRowPresent=function(r){return!!this.rowModel.isRowPresent(r)&&r.rowIndex>=this.topDisplayedRowIndex&&r.rowIndex<=this.bottomDisplayedRowIndex},i.prototype.isEmpty=function(){return this.rowModel.isEmpty()},i.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},i.prototype.getNodesInRangeForSelection=function(r,a){return this.rowModel.getNodesInRangeForSelection(r,a)},i.prototype.forEachNode=function(r){return this.rowModel.forEachNode(r)},i.prototype.forEachNodeOnPage=function(r){for(var a=this.getPageFirstRow(),u=this.getPageLastRow(),c=a;c<=u;c++){var _=this.getRow(c);_&&r(_)}},i.prototype.getType=function(){return this.rowModel.getType()},i.prototype.getRowBounds=function(r){var a=this.rowModel.getRowBounds(r);return a.rowIndex=r,a},i.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},i.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},i.prototype.getRowCount=function(){return this.rowModel.getRowCount()},i.prototype.getPageForIndex=function(r){return Math.floor(r/this.pageSize)},i.prototype.goToPageWithIndex=function(r){if(this.active){var a=this.getPageForIndex(r);this.goToPage(a)}},i.prototype.isRowInPage=function(r){return!this.active||this.getPageForIndex(r.rowIndex)===this.currentPage},i.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},i.prototype.getCurrentPage=function(){return this.currentPage},i.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},i.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},i.prototype.goToFirstPage=function(){this.goToPage(0)},i.prototype.goToLastPage=function(){var r=this.rowModel.getRowCount(),a=Math.floor(r/this.pageSize);this.goToPage(a)},i.prototype.getPageSize=function(){return this.pageSize},i.prototype.getTotalPages=function(){return this.totalPages},i.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},i.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(o(this.topRowBounds)?this.topRowBounds.rowTop:0)},i.prototype.setPixelOffset=function(r){this.pixelOffset!==r&&(this.pixelOffset=r,this.eventService.dispatchEvent({type:J.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},i.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},i.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},i.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var u=this.pageSize*(this.currentPage+1)-1;if(u>r&&(u=r),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),u===r)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var c=this.rowModel.getTopLevelRowDisplayedIndex(u+1);this.bottomDisplayedRowIndex=c-1}}},i.prototype.getMasterRowCount=function(){return this.masterRowCount},i.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}else this.setZeroRows()},i.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},_u([$("rowModel")],i.prototype,"rowModel",void 0),_u([ce],i.prototype,"postConstruct",null),_u([Le("paginationProxy")],i)}(Me),Gy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),By=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Uh=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Gy(i,p),i.prototype.processAllCellClasses=function(r,a,u,c){this.processClassRules(r.cellClassRules,a,u,c),this.processStaticCellClasses(r,a,u)},i.prototype.processClassRules=function(r,a,u,c){if(null!=r){for(var _=Object.keys(r),E={},P={},M=function(U){var oe,X=_[U],Q=r[X];"string"==typeof Q?oe=L.expressionService.evaluate(Q,a):"function"==typeof Q&&(oe=Q(a)),X.split(" ").forEach(function(le){null==le||""==le.trim()||(oe?E[le]=!0:P[le]=!0)})},L=this,B=0;B<_.length;B++)M(B);c&&Object.keys(P).forEach(c),Object.keys(E).forEach(u)}},i.prototype.getStaticCellClasses=function(r,a){var c,u=r.cellClass;return u?("string"==typeof(c="function"==typeof u?u(a):u)&&(c=[c]),c||[]):[]},i.prototype.processStaticCellClasses=function(r,a,u){this.getStaticCellClasses(r,a).forEach(function(_){u(_)})},By([$("expressionService")],i.prototype,"expressionService",void 0),By([Le("stylingService")],i)}(Me),$h=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ho=function(p){function i(r){return p.call(this,r,"ag-radio-button","radio")||this}return $h(i,p),i.prototype.isSelected=function(){return this.eInput.checked},i.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},i.prototype.addInputListeners=function(){p.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,J.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},i.prototype.onChange=function(r){r.selected&&r.name&&this.eInput.name&&this.eInput.name===r.name&&r.id&&this.eInput.id!==r.id&&this.setValue(!1,!0)},i}(Ta),ky=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),yu=function(p){function i(r){return p.call(this,r,"ag-toggle-button")||this}return ky(i,p),i.prototype.setValue=function(r,a){return p.prototype.setValue.call(this,r,a),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},i}(Ta),Rd=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Td=function(p){function i(r,a,u){return void 0===a&&(a="ag-text-field"),void 0===u&&(u="text"),p.call(this,r,a,u)||this}return Rd(i,p),i.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},i.prototype.setValue=function(r,a){var u=p.prototype.setValue.call(this,r,a);return this.eInput.value!==r&&(this.eInput.value=o(r)?r:""),u},i.prototype.preventDisallowedCharacters=function(){var r=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(u){u.key&&!r.test(u.key)&&u.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(u){var c,_=null===(c=u.clipboardData)||void 0===c?void 0:c.getData("text");_&&_.split("").some(function(E){return!r.test(E)})&&u.preventDefault()})},i}(rn),pS=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),fS=function(p){function i(r){return p.call(this,r,"ag-text-area",null,"textarea")||this}return pS(i,p),i.prototype.setValue=function(r,a){var u=p.prototype.setValue.call(this,r,a);return this.eInput.value=r,u},i.prototype.setCols=function(r){return this.eInput.cols=r,this},i.prototype.setRows=function(r){return this.eInput.rows=r,this},i}(rn),hS=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Vy=function(p){function i(r){return p.call(this,r,"ag-number-field","number")||this}return hS(i,p),i.prototype.postConstruct=function(){var r=this;p.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var a=parseFloat(r.eInput.value),u=isNaN(a)?"":r.normalizeValue(a.toString());r.value!==u&&r.setValue(u)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},i.prototype.onWheel=function(r){document.activeElement===this.eInput&&r.preventDefault()},i.prototype.normalizeValue=function(r){if(""===r)return"";this.precision&&(r=this.adjustPrecision(r));var a=parseFloat(r);return null!=this.min&&a<this.min?r=this.min.toString():null!=this.max&&a>this.max&&(r=this.max.toString()),r},i.prototype.adjustPrecision=function(r){if(this.precision){var a=parseFloat(r).toFixed(this.precision);r=parseFloat(a).toString()}return r},i.prototype.setMin=function(r){return this.min===r||(this.min=r,oa(this.eInput,"min",r)),this},i.prototype.setMax=function(r){return this.max===r||(this.max=r,oa(this.eInput,"max",r)),this},i.prototype.setPrecision=function(r){return this.precision=r,this},i.prototype.setStep=function(r){return this.step===r||(this.step=r,oa(this.eInput,"step",r)),this},i.prototype.setValue=function(r,a){return(r=this.adjustPrecision(r))!=this.normalizeValue(r)?this:p.prototype.setValue.call(this,r,a)},i}(Td),jh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),gS=function(p){function i(r){return p.call(this,r,"ag-range-field","range")||this}return jh(i,p),i.prototype.postConstruct=function(){p.prototype.postConstruct.call(this);var r=this.config,a=r.min,u=r.max,c=r.step;null!=a&&this.setMinValue(a),null!=u&&this.setMaxValue(u),this.setStep(c||1)},i.prototype.addInputListeners=function(){var r=this;this.addManagedListener(this.eInput,"input",function(a){r.setValue(a.target.value)})},i.prototype.setMinValue=function(r){return this.min=r,this.eInput.setAttribute("min",r.toString()),this},i.prototype.setMaxValue=function(r){return this.max=r,this.eInput.setAttribute("max",r.toString()),this},i.prototype.setStep=function(r){return this.eInput.setAttribute("step",r.toString()),this},i.prototype.setValue=function(r,a){null!=this.min&&(r=Math.max(parseFloat(r),this.min).toString()),null!=this.max&&(r=Math.min(parseFloat(r),this.max).toString());var u=p.prototype.setValue.call(this,r,a);return this.eInput.value=r,u},i}(rn),Wy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ni=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Kh=function(p){function i(r){var a=p.call(this,r,i.TEMPLATE)||this;return a.labelAlignment="top",a}return Wy(i,p),i.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},i.prototype.onValueChange=function(r){var a=this,u=Mi.EVENT_CHANGED;return this.addManagedListener(this.eText,u,function(){var c=parseFloat(a.eText.getValue());a.eSlider.setValue(c.toString(),!0),r(c||0)}),this.addManagedListener(this.eSlider,u,function(){var c=a.eSlider.getValue();a.eText.setValue(c,!0),r(parseFloat(c))}),this},i.prototype.setSliderWidth=function(r){return this.eSlider.setWidth(r),this},i.prototype.setTextFieldWidth=function(r){return this.eText.setWidth(r),this},i.prototype.setMinValue=function(r){return this.eSlider.setMinValue(r),this.eText.setMin(r),this},i.prototype.setMaxValue=function(r){return this.eSlider.setMaxValue(r),this.eText.setMax(r),this},i.prototype.getValue=function(){return this.eText.getValue()},i.prototype.setValue=function(r){return this.getValue()===r||(this.eText.setValue(r,!0),this.eSlider.setValue(r,!0),this.dispatchEvent({type:Mi.EVENT_CHANGED})),this},i.prototype.setStep=function(r){return this.eSlider.setStep(r),this.eText.setStep(r),this},i.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Ni([be("eLabel")],i.prototype,"eLabel",void 0),Ni([be("eSlider")],i.prototype,"eSlider",void 0),Ni([be("eText")],i.prototype,"eText",void 0),Ni([ce],i.prototype,"init",null),i}(fs),zh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Xn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Yh=function(p){function i(r){void 0===r&&(r={});var a=p.call(this,i.getTemplate(r))||this;a.suppressEnabledCheckbox=!0,a.suppressOpenCloseIcons=!1;var c=r.enabled,_=r.items,E=r.suppressEnabledCheckbox,P=r.suppressOpenCloseIcons;return a.title=r.title,a.cssIdentifier=r.cssIdentifier||"default",a.enabled=c??!0,a.items=_||[],a.alignItems=r.alignItems||"center",null!=E&&(a.suppressEnabledCheckbox=E),null!=P&&(a.suppressOpenCloseIcons=P),a}return zh(i,p),i.getTemplate=function(r){var a=r.cssIdentifier||"default";return'<div class="ag-group ag-'+a+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+a+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+a+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+a+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+a+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+a+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(r.direction||"vertical")+" ag-"+a+'-group-container"></div>\n        </div>'},i.prototype.postConstruct=function(){if(this.items.length){var r=this.items;this.items=[],this.addItems(r)}var a=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(a("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},i.prototype.setupExpandContract=function(){var r=this;this.eGroupClosedIcon.appendChild($n("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild($n("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return r.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(a){switch(a.key){case ve.ENTER:case ve.SPACE:a.preventDefault(),r.toggleGroupExpand();break;case ve.RIGHT:case ve.LEFT:a.preventDefault(),r.toggleGroupExpand(a.key===ve.RIGHT)}})},i.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||fn(this.eTitleBar,this.expanded)},i.prototype.refreshChildDisplay=function(){var r=!this.suppressOpenCloseIcons;ft(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),ft(this.eGroupOpenedIcon,r&&this.expanded),ft(this.eGroupClosedIcon,r&&!this.expanded)},i.prototype.isExpanded=function(){return this.expanded},i.prototype.setAlignItems=function(r){return this.alignItems!==r&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=r,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},i.prototype.toggleGroupExpand=function(r){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),ft(this.eContainer,!0),this):(this.expanded===(r=r??!this.expanded)||(this.expanded=r,this.refreshAriaStatus(),this.refreshChildDisplay(),ft(this.eContainer,r),this.dispatchEvent({type:this.expanded?i.EVENT_EXPANDED:i.EVENT_COLLAPSED})),this)},i.prototype.addItems=function(r){var a=this;r.forEach(function(u){return a.addItem(u)})},i.prototype.addItem=function(r){var a=this.eContainer,u=r instanceof Ge?r.getGui():r;u.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),a.appendChild(u),this.items.push(u)},i.prototype.hideItem=function(r,a){ft(this.items[a],!r)},i.prototype.setTitle=function(r){return this.eTitle.innerText=r,this},i.prototype.addCssClassToTitleBar=function(r){this.eTitleBar.classList.add(r)},i.prototype.setEnabled=function(r,a){return this.enabled=r,this.refreshDisabledStyles(),this.toggleGroupExpand(r),a||this.cbGroupEnabled.setValue(r),this},i.prototype.isEnabled=function(){return this.enabled},i.prototype.onEnableChange=function(r){var a=this;return this.cbGroupEnabled.onValueChange(function(u){a.setEnabled(u,!0),r(u)}),this},i.prototype.hideEnabledCheckbox=function(r){return this.suppressEnabledCheckbox=r,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},i.prototype.hideOpenCloseIcons=function(r){return this.suppressOpenCloseIcons=r,r&&this.toggleGroupExpand(!0),this},i.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},i.EVENT_EXPANDED="expanded",i.EVENT_COLLAPSED="collapsed",Xn([be("eTitleBar")],i.prototype,"eTitleBar",void 0),Xn([be("eGroupOpenedIcon")],i.prototype,"eGroupOpenedIcon",void 0),Xn([be("eGroupClosedIcon")],i.prototype,"eGroupClosedIcon",void 0),Xn([be("eToolbar")],i.prototype,"eToolbar",void 0),Xn([be("cbGroupEnabled")],i.prototype,"cbGroupEnabled",void 0),Xn([be("eTitle")],i.prototype,"eTitle",void 0),Xn([be("eContainer")],i.prototype,"eContainer",void 0),Xn([ce],i.prototype,"postConstruct",null),i}(Ge),qh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Xh=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Uo=(()=>(function(p){p.TAB_GUARD="ag-tab-guard",p.TAB_GUARD_TOP="ag-tab-guard-top",p.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"}(Uo||(Uo={})),Uo))(),Hy=function(p){function i(r){var a=p.call(this)||this;a.skipTabGuardFocus=!1;var c=r.eTopGuard,_=r.eBottomGuard,E=r.focusInnerElement,P=r.onFocusIn,M=r.onFocusOut,L=r.shouldStopEventPropagation,B=r.onTabKeyDown,U=r.handleKeyDown,X=r.eFocusableElement;return a.comp=r.comp,a.eTopGuard=c,a.eBottomGuard=_,a.providedFocusInnerElement=E,a.eFocusableElement=X,a.providedFocusIn=P,a.providedFocusOut=M,a.providedShouldStopEventPropagation=L,a.providedOnTabKeyDown=B,a.providedHandleKeyDown=U,a}return qh(i,p),i.prototype.postConstruct=function(){var r=this;this.createManagedBean(new xr(this.eFocusableElement,{shouldStopEventPropagation:function(){return r.shouldStopEventPropagation()},onTabKeyDown:function(a){return r.onTabKeyDown(a)},handleKeyDown:function(a){return r.handleKeyDown(a)},onFocusIn:function(a){return r.onFocusIn(a)},onFocusOut:function(a){return r.onFocusOut(a)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(a){return r.addManagedListener(a,"focus",r.onFocus.bind(r))})},i.prototype.handleKeyDown=function(r){this.providedHandleKeyDown&&this.providedHandleKeyDown(r)},i.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},i.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},i.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},i.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},i.prototype.onFocus=function(r){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var a=r.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(a):this.focusInnerElement(a)}},i.prototype.onFocusIn=function(r){this.providedFocusIn&&this.providedFocusIn(r)||this.deactivateTabGuards()},i.prototype.onFocusOut=function(r){this.providedFocusOut&&this.providedFocusOut(r)||this.eFocusableElement.contains(r.relatedTarget)||this.activateTabGuards()},i.prototype.onTabKeyDown=function(r){var a=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(r);else if(!r.defaultPrevented){var u=this.tabGuardsAreActive();u&&this.deactivateTabGuards();var c=this.getNextFocusableElement(r.shiftKey);u&&setTimeout(function(){return a.activateTabGuards()},0),c&&(c.focus(),r.preventDefault())}},i.prototype.getGridTabIndex=function(){return(this.gridOptionsService.getNum("tabIndex")||0).toString()},i.prototype.focusInnerElement=function(r){void 0===r&&(r=!1);var a=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(a.splice(0,1),a.splice(a.length-1,1)),a.length&&a[r?a.length-1:0].focus()},i.prototype.getNextFocusableElement=function(r){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r)},i.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1);var a=r?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,a.focus()},Xh([$("focusService")],i.prototype,"focusService",void 0),Xh([ce],i.prototype,"postConstruct",null),i}(Me),Uy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),$y=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Ks=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Uy(i,p),i.prototype.initialiseTabGuard=function(r){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var a=[this.eTopGuard,this.eBottomGuard],u={setTabIndex:function(c){a.forEach(function(_){return null!=c?_.setAttribute("tabIndex",c):_.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Hy({comp:u,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:r.onFocusIn,onFocusOut:r.onFocusOut,focusInnerElement:r.focusInnerElement,handleKeyDown:r.handleKeyDown,onTabKeyDown:r.onTabKeyDown,shouldStopEventPropagation:r.shouldStopEventPropagation}))},i.prototype.createTabGuard=function(r){var a=document.createElement("div");return a.classList.add(Uo.TAB_GUARD,"top"===r?Uo.TAB_GUARD_TOP:Uo.TAB_GUARD_BOTTOM),Br(a,"presentation"),a},i.prototype.addTabGuards=function(r,a){this.eFocusableElement.insertAdjacentElement("afterbegin",r),this.eFocusableElement.insertAdjacentElement("beforeend",a)},i.prototype.removeAllChildrenExceptTabGuards=function(){var r=[this.eTopGuard,this.eBottomGuard];kt(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat($y(arguments[i]));return p}(r))},i.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.tabGuardCtrl.forceFocusOutOfContainer(r)},i.prototype.appendChild=function(r,a){Rl(r)||(r=r.getGui());var u=this.eBottomGuard;u?u.insertAdjacentElement("beforebegin",r):p.prototype.appendChild.call(this,r,a)},i}(Ge),Zh=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),zs=function(){return zs=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},zs.apply(this,arguments)},mu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},jy=function(p){function i(r){void 0===r&&(r=1);var a=p.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return a.level=r,a.menuItems=[],a}return Zh(i,p),i.prototype.postConstruct=function(){var r=this;this.initialiseTabGuard({onTabKeyDown:function(a){return r.onTabKeyDown(a)},handleKeyDown:function(a){return r.handleKeyDown(a)}})},i.prototype.onTabKeyDown=function(r){var a=this.getParentComponent(),u=a&&a.getGui();u&&u.classList.contains("ag-focus-managed")||r.preventDefault(),r.shiftKey&&this.closeIfIsChild(r)},i.prototype.handleKeyDown=function(r){switch(r.key){case ve.UP:case ve.RIGHT:case ve.DOWN:case ve.LEFT:r.preventDefault(),this.handleNavKey(r.key);break;case ve.ESCAPE:var a=this.findTopMenu();a&&this.focusService.focusInto(a.getGui())}},i.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},i.prototype.addMenuItems=function(r){var a=this;r?.forEach(function(u){"separator"===u?a.addSeparator():"string"==typeof u?console.warn("AG Grid: unrecognised menu item "+u):a.addItem(u)})},i.prototype.addItem=function(r){var a=this,u=this.createManagedBean(new La(zs(zs({},r),{isAnotherSubMenuOpen:function(){return a.menuItems.some(function(c){return c.isSubMenuOpen()})}})));u.setParentComponent(this),Wv(u.getGui(),this.level),this.menuItems.push(u),this.appendChild(u.getGui()),this.addManagedListener(u,La.EVENT_MENU_ITEM_SELECTED,function(c){a.dispatchEvent(c)}),this.addManagedListener(u,La.EVENT_MENU_ITEM_ACTIVATED,function(c){a.activeMenuItem&&a.activeMenuItem!==c.menuItem&&a.activeMenuItem.deactivate(),a.activeMenuItem=c.menuItem})},i.prototype.activateFirstItem=function(){var r=this.menuItems.filter(function(a){return!a.isDisabled()})[0];r&&r.activate()},i.prototype.addSeparator=function(){this.appendChild(gr('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},i.prototype.findTopMenu=function(){var r=this.getParentComponent();if(!r&&this instanceof i)return this;for(;;){var a=r&&r.getParentComponent&&r.getParentComponent();if(!a||!(a instanceof i||a instanceof La))break;r=a}return r instanceof i?r:void 0},i.prototype.handleNavKey=function(r){switch(r){case ve.UP:case ve.DOWN:var a=this.findNextItem(r===ve.UP);return void(a&&a!==this.activeMenuItem&&a.activate())}r===(this.gridOptionsService.is("enableRtl")?ve.RIGHT:ve.LEFT)?this.closeIfIsChild():this.openChild()},i.prototype.closeIfIsChild=function(r){var a=this.getParentComponent();a&&a instanceof La&&(r&&r.preventDefault(),a.closeSubMenu(),a.getGui().focus())},i.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},i.prototype.findNextItem=function(r){var a=this.menuItems.filter(function(P){return!P.isDisabled()});if(a.length){if(!this.activeMenuItem)return r?Rt(a):a[0];r&&a.reverse();for(var u,c=!1,_=0;_<a.length;_++){var E=a[_];if(c){u=E;break}E===this.activeMenuItem&&(c=!0)}return u||this.activeMenuItem}},i.prototype.destroy=function(){this.clearActiveItem(),p.prototype.destroy.call(this)},mu([$("focusService")],i.prototype,"focusService",void 0),mu([ce],i.prototype,"postConstruct",null),i}(Ks),Md=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),vS=function(p){function i(r){var a=p.call(this)||this;return a.wrappedComponent=r,a.setTemplateFromElement(r.getGui()),a}return Md(i,p),i.prototype.postConstruct=function(){var r=this;this.initialiseTabGuard({onTabKeyDown:function(a){return r.onTabKeyDown(a)},handleKeyDown:function(a){return r.handleKeyDown(a)}})},i.prototype.handleKeyDown=function(r){r.key===ve.ESCAPE&&this.closePanel()},i.prototype.onTabKeyDown=function(r){r.defaultPrevented||(this.closePanel(),r.preventDefault())},i.prototype.closePanel=function(){var r=this.parentComponent;r.closeSubMenu(),setTimeout(function(){return r.getGui().focus()},0)},function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ce],i.prototype,"postConstruct",null),i}(Ks),lt=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Qh=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},La=function(p){function i(r){var a=p.call(this)||this;return a.params=r,a.isActive=!1,a.subMenuIsOpen=!1,a.setTemplate('<div class="'+a.getClassName()+'" tabindex="-1" role="treeitem"></div>'),a}return lt(i,p),i.prototype.init=function(){var r=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var a=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),af(a,!0)):(this.addGuiEventListener("click",function(u){return r.onItemSelected(u)}),this.addGuiEventListener("keydown",function(u){(u.key===ve.ENTER||u.key===ve.SPACE)&&(u.preventDefault(),r.onItemSelected(u))}),this.addGuiEventListener("mousedown",function(u){u.stopPropagation(),u.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return r.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return r.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(u){return r.addCssClass(u)})},i.prototype.isDisabled=function(){return!!this.params.disabled},i.prototype.openSubMenu=function(r){var a=this;if(void 0===r&&(r=!1),this.closeSubMenu(),this.params.subMenu){var c,u=gr('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var _=ml(this.getGui()),E=isNaN(_)?1:_+1,P=this.createBean(new jy(E));P.setParentComponent(this),P.addMenuItems(this.params.subMenu),u.appendChild(P.getGui()),this.addManagedListener(P,i.EVENT_MENU_ITEM_SELECTED,function(de){return a.dispatchEvent(de)}),P.addGuiEventListener("mouseenter",function(){return a.cancelDeactivate()}),c=function(){return a.destroyBean(P)},r&&setTimeout(function(){return P.activateFirstItem()},0)}else{var M=this.params.subMenu,L=this.createBean(new vS(M));L.setParentComponent(this);var B=L.getGui(),U="mouseenter",X=function(){return a.cancelDeactivate()};B.addEventListener(U,X),c=function(){return B.removeEventListener(U,X)},u.appendChild(B),M.afterGuiAttached&&setTimeout(function(){return M.afterGuiAttached()},0)}var Q=this.getGui(),oe=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:Q,ePopup:u}),le=this.localeService.getLocaleTextFunc(),fe=this.popupService.addPopup({modal:!0,eChild:u,positionCallback:oe,anchorToElement:Q,ariaLabel:le("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,fn(Q,!0),this.hideSubMenu=function(){fe&&fe.hideFunc(),a.subMenuIsOpen=!1,fn(Q,!1),c()}}},i.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,fn(this.getGui(),!1))},i.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},i.prototype.activate=function(r){var a=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),r&&this.params.subMenu&&window.setTimeout(function(){a.isAlive()&&a.isActive&&a.openSubMenu()},300),this.onItemActivated())},i.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},i.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var r=gr('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?r.appendChild(Vt("check",this.gridOptionsService)):this.params.icon&&(Rl(this.params.icon)?r.appendChild(this.params.icon):"string"==typeof this.params.icon?r.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(r)}},i.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var r=gr('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(r)}},i.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new yc(this)))},i.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},i.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var r=gr('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(r)}},i.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var r=gr('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),a=this.getGui();if(this.params.subMenu){var u=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";fn(a,!1),r.appendChild(Vt(u,this.gridOptionsService))}a.appendChild(r)}},i.prototype.onItemSelected=function(r){this.params.action?this.params.action():this.openSubMenu(r&&"keydown"===r.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:i.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:r})},i.prototype.onItemActivated=function(){this.dispatchEvent({type:i.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},i.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},i.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},i.prototype.onMouseEnter=function(){var r=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return r.activate(!0)},i.ACTIVATION_DELAY):this.activate(!0)},i.prototype.onMouseLeave=function(){var r=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return r.deactivate()},i.ACTIVATION_DELAY):this.deactivate()},i.prototype.getClassName=function(r){var a=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return r?a+"-"+r:a},i.EVENT_MENU_ITEM_SELECTED="menuItemSelected",i.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",i.ACTIVATION_DELAY=80,Qh([$("popupService")],i.prototype,"popupService",void 0),Qh([ce],i.prototype,"init",null),i}(Ge),eg=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ys=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ad=function(p){function i(r){var a=p.call(this,i.getTemplate(r))||this;return a.closable=!0,a.config=r,a}return eg(i,p),i.getTemplate=function(r){var a=r&&r.cssIdentifier||"default";return'<div class="ag-panel ag-'+a+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+a+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+a+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+a+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+a+'-panel-content-wrapper"></div>\n        </div>'},i.prototype.postConstruct=function(){var r=this,a=this.config,u=a.component,c=a.closable,_=a.hideTitleBar,E=a.title,P=a.minWidth,M=void 0===P?250:P,L=a.width,B=a.minHeight,U=void 0===B?250:B,X=a.height,Q=a.centered,oe=a.popup,le=a.x,fe=a.y;this.positionableFeature=new pi(this.getGui(),{minWidth:M,width:L,minHeight:U,height:X,centered:Q,x:le,y:fe,popup:oe,calculateTopBuffer:function(){return r.positionableFeature.getHeight()-r.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var de=this.getGui();u&&this.setBodyComponent(u),_?ft(this.eTitleBar,!1):(E&&this.setTitle(E),this.setClosable(c??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Oe){var Ie=r.gridOptionsService.getDocument();if(de.contains(Oe.relatedTarget)||de.contains(Ie.activeElement)||r.eTitleBarButtons.contains(Oe.target))Oe.preventDefault();else{var Be=r.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Be&&Be.focus()}}),(!oe||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},i.prototype.renderComponent=function(){var r=this,a=this.getGui();a.focus(),this.close=function(){a.parentElement.removeChild(a),r.destroy()}},i.prototype.getHeight=function(){return this.positionableFeature.getHeight()},i.prototype.setHeight=function(r){this.positionableFeature.setHeight(r)},i.prototype.getWidth=function(){return this.positionableFeature.getWidth()},i.prototype.setWidth=function(r){this.positionableFeature.setWidth(r)},i.prototype.setClosable=function(r){if(r!==this.closable&&(this.closable=r),r){var a=this.closeButtonComp=new Ge(i.CLOSE_BTN_TEMPLATE);this.getContext().createBean(a);var u=a.getGui(),c=Vt("close",this.gridOptionsService);c.classList.add("ag-panel-title-bar-button-icon"),u.appendChild(c),this.addTitleBarButton(a),a.addManagedListener(u,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((u=this.closeButtonComp.getGui()).parentElement.removeChild(u),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},i.prototype.setBodyComponent=function(r){r.setParentComponent(this),this.eContentWrapper.appendChild(r.getGui())},i.prototype.addTitleBarButton=function(r,a){var u=this.eTitleBarButtons,c=u.children,_=c.length;null==a&&(a=_),a=Math.max(0,Math.min(a,_)),r.addCssClass("ag-panel-title-bar-button");var E=r.getGui();0===a?u.insertAdjacentElement("afterbegin",E):a===_?u.insertAdjacentElement("beforeend",E):c[a-1].insertAdjacentElement("afterend",E),r.setParentComponent(this)},i.prototype.getBodyHeight=function(){return Lt(this.eContentWrapper)},i.prototype.getBodyWidth=function(){return dc(this.eContentWrapper)},i.prototype.setTitle=function(r){this.eTitle.innerText=r},i.prototype.onBtClose=function(){this.close()},i.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var r=this.getGui();r&&r.offsetParent&&this.close(),p.prototype.destroy.call(this)},i.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Ys([be("eContentWrapper")],i.prototype,"eContentWrapper",void 0),Ys([be("eTitleBar")],i.prototype,"eTitleBar",void 0),Ys([be("eTitleBarButtons")],i.prototype,"eTitleBarButtons",void 0),Ys([be("eTitle")],i.prototype,"eTitle",void 0),Ys([ce],i.prototype,"postConstruct",null),i}(Ge),Cu=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Gi=function(){return Gi=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Gi.apply(this,arguments)},Fa=function(p){function i(r){var a=p.call(this,Gi(Gi({},r),{popup:!0}))||this;return a.isMaximizable=!1,a.isMaximized=!1,a.maximizeListeners=[],a.resizeListenerDestroy=null,a.lastPosition={x:0,y:0,width:0,height:0},a}return Cu(i,p),i.prototype.postConstruct=function(){var r=this,a=this.getGui(),u=this.config,c=u.movable,_=u.resizable,E=u.maximizable;this.addCssClass("ag-dialog"),p.prototype.postConstruct.call(this),this.addManagedListener(a,"focusin",function(P){a.contains(P.relatedTarget)||r.popupService.bringPopupToFront(a)}),c&&this.setMovable(c),E&&this.setMaximizable(E),_&&this.setResizable(_)},i.prototype.renderComponent=function(){var r=this.getGui(),a=this.config,u=a.alwaysOnTop,c=a.modal,_=a.title,E=this.localeService.getLocaleTextFunc(),P=this.popupService.addPopup({modal:c,eChild:r,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:u,ariaLabel:_||E("ariaLabelDialog","Dialog")});P&&(this.close=P.hideFunc)},i.prototype.toggleMaximize=function(){var r=this.positionableFeature.getPosition();if(this.isMaximized){var a=this.lastPosition,u=a.x,c=a.y,E=a.height;this.setWidth(a.width),this.setHeight(E),this.positionableFeature.offsetElement(u,c)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=r.x,this.lastPosition.y=r.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},i.prototype.refreshMaximizeIcon=function(){ft(this.maximizeIcon,!this.isMaximized),ft(this.minimizeIcon,this.isMaximized)},i.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(r){return r()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},i.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),p.prototype.destroy.call(this)},i.prototype.setResizable=function(r){this.positionableFeature.setResizable(r)},i.prototype.setMovable=function(r){this.positionableFeature.setMovable(r,this.eTitleBar)},i.prototype.setMaximizable=function(r){var a=this;if(!r)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var u=this.eTitleBar;if(u&&r!==this.isMaximizable){var c=this.maximizeButtonComp=this.createBean(new Ge('<div class="ag-dialog-button"></span>')),_=c.getGui();_.appendChild(this.maximizeIcon=Vt("maximize",this.gridOptionsService)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),_.appendChild(this.minimizeIcon=Vt("minimize",this.gridOptionsService)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),ft(this.minimizeIcon,!1),c.addManagedListener(_,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(c,0),this.maximizeListeners.push(this.addManagedListener(u,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){a.isMaximized=!1,a.refreshMaximizeIcon()})}},function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([$("popupService")],i.prototype,"popupService",void 0),i}(Ad),Id=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),go=function(){return go=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},go.apply(this,arguments)},Jn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ld=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},$o=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}var r;return Id(i,p),r=i,i.addKeyboardModeEvents=function(a,u){var c=r.instancesMonitored.get(a);c&&c.length>0?-1===c.indexOf(u)&&c.push(u):(r.instancesMonitored.set(a,[u]),a.addEventListener("keydown",r.toggleKeyboardMode),a.addEventListener("mousedown",r.toggleKeyboardMode))},i.removeKeyboardModeEvents=function(a,u){var c=r.instancesMonitored.get(a),_=[];c&&c.length&&(_=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Ld(arguments[i]));return p}(c).filter(function(E){return E!==u}),r.instancesMonitored.set(a,_)),0===_.length&&(a.removeEventListener("keydown",r.toggleKeyboardMode),a.removeEventListener("mousedown",r.toggleKeyboardMode))},i.toggleKeyboardMode=function(a){var u=r.keyboardModeActive,c="keydown"===a.type;if(!(c&&(a.ctrlKey||a.metaKey||a.altKey)||u&&c||!u&&!c)){r.keyboardModeActive=c;var _=a.target.ownerDocument;if(_){var E=r.instancesMonitored.get(_);E&&E.forEach(function(P){P.dispatchEvent({type:c?J.EVENT_KEYBOARD_FOCUS:J.EVENT_MOUSE_FOCUS})})}}},i.prototype.init=function(){var a=this,u=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,J.EVENT_COLUMN_PIVOT_MODE_CHANGED,u),this.addManagedListener(this.eventService,J.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_GROUP_OPENED,u),this.addManagedListener(this.eventService,J.EVENT_COLUMN_ROW_GROUP_CHANGED,u),this.ctrlsService.whenReady(function(c){a.gridCtrl=c.gridCtrl;var _=a.gridOptionsService.getDocument();r.addKeyboardModeEvents(_,a.gridCtrl),a.addDestroyFunc(function(){return a.unregisterGridCompController(a.gridCtrl)})})},i.prototype.unregisterGridCompController=function(a){var u=this.gridOptionsService.getDocument();r.removeKeyboardModeEvents(u,a)},i.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var a=this.focusedCellPosition.column,u=this.columnModel.getGridColumn(a.getId());a!==u&&this.clearFocusedCell()}},i.prototype.isKeyboardMode=function(){return r.keyboardModeActive},i.prototype.getFocusCellToUseAfterRefresh=function(){var a=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(a.activeElement,No.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},i.prototype.getFocusHeaderToUseAfterRefresh=function(){var a=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(a.activeElement,Ls.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},i.prototype.isDomDataMissingInHierarchy=function(a,u){for(var c=a;c;){if(this.gridOptionsService.getDomData(c,u))return!1;c=c.parentNode}return!0},i.prototype.getFocusedCell=function(){return this.focusedCellPosition},i.prototype.getFocusEventParams=function(){var a=this.focusedCellPosition,u=a.rowIndex,c=a.rowPinned,E={rowIndex:u,rowPinned:c,column:a.column,isFullWidthCell:!1},P=this.rowRenderer.getRowByPosition({rowIndex:u,rowPinned:c});return P&&(E.isFullWidthCell=P.isFullWidth()),E},i.prototype.clearFocusedCell=function(){if(null!=this.focusedCellPosition){var a=go({type:J.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(a)}},i.prototype.setFocusedCell=function(a){var c=a.rowIndex,_=a.rowPinned,E=a.forceBrowserFocus,P=void 0!==E&&E,M=a.preventScrollOnBrowserFocus,L=void 0!==M&&M,B=this.columnModel.getGridColumn(a.column);if(B){this.focusedCellPosition=B?{rowIndex:c,rowPinned:n(_),column:B}:null;var U=go(go({type:J.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:P,preventScrollOnBrowserFocus:L,floating:null});this.eventService.dispatchEvent(U)}else this.focusedCellPosition=null},i.prototype.isCellFocused=function(a){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===a.column&&this.isRowFocused(a.rowIndex,a.rowPinned)},i.prototype.isRowNodeFocused=function(a){return this.isRowFocused(a.rowIndex,a.rowPinned)},i.prototype.isHeaderWrapperFocused=function(a){if(null==this.focusedHeaderPosition)return!1;var u=a.getColumnGroupChild(),c=a.getRowIndex(),_=a.getPinned(),E=this.focusedHeaderPosition,P=E.column;return u===P&&c===E.headerRowIndex&&_==P.getPinned()},i.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},i.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},i.prototype.setFocusedHeader=function(a,u){this.focusedHeaderPosition={headerRowIndex:a,column:u}},i.prototype.focusHeaderPosition=function(a){var u=a.direction,c=a.fromTab,E=a.event,P=a.headerPosition;if(a.allowUserOverride){var B,M=this.getFocusedHeader(),L=this.headerNavigationService.getHeaderRowCount();c?(B=this.gridOptionsService.getCallback("tabToNextHeader"))&&(P=B({backwards:"Before"===u,previousHeaderPosition:M,nextHeaderPosition:P,headerRowCount:L})):(B=this.gridOptionsService.getCallback("navigateToNextHeader"))&&E&&(P=B({key:E.key,previousHeaderPosition:M,nextHeaderPosition:P,headerRowCount:L,event:E}))}return!!P&&(-1===P.headerRowIndex?this.focusGridView(P.column):(this.headerNavigationService.scrollToColumn(P.column,u),this.ctrlsService.getHeaderRowContainerCtrl(P.column.getPinned()).focusHeader(P.headerRowIndex,P.column,E)))},i.prototype.focusFirstHeader=function(){var a=this.columnModel.getAllDisplayedColumns()[0];return!!a&&(a.getParent()&&(a=this.columnModel.getColumnGroupAtLevel(a,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:a}}))},i.prototype.focusLastHeader=function(a){var u=this.headerNavigationService.getHeaderRowCount()-1,c=Rt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:c},event:a})},i.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},i.prototype.isRowFocused=function(a,u){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===a&&this.focusedCellPosition.rowPinned===n(u)},i.prototype.findFocusableElements=function(a,u,c){void 0===c&&(c=!1);var E=to;u&&(E+=", "+u),c&&(E+=', [tabindex="-1"]');var U,P=Array.prototype.slice.apply(a.querySelectorAll(cc)),M=Array.prototype.slice.apply(a.querySelectorAll(E));return M.length?(U=M,P.filter(function(X){return-1===U.indexOf(X)})):P},i.prototype.focusInto=function(a,u,c){void 0===u&&(u=!1),void 0===c&&(c=!1);var _=this.findFocusableElements(a,null,c),E=u?Rt(_):_[0];return!!E&&(E.focus(),!0)},i.prototype.findFocusableElementBeforeTabGuard=function(a,u){if(!u)return null;var c=this.findFocusableElements(a),_=c.indexOf(u);if(-1===_)return null;for(var E=-1,P=_-1;P>=0;P--)if(c[P].classList.contains(Uo.TAB_GUARD_TOP)){E=P;break}return E<=0?null:c[E-1]},i.prototype.findNextFocusableElement=function(a,u,c){void 0===a&&(a=this.eGridDiv);var _=this.findFocusableElements(a,u?':not([tabindex="-1"])':null),P=this.gridOptionsService.getDocument().activeElement,L=(u?_.findIndex(function(B){return B.contains(P)}):_.indexOf(P))+(c?-1:1);return L<0||L>=_.length?null:_[L]},i.prototype.isTargetUnderManagedComponent=function(a,u){if(!u)return!1;var c=a.querySelectorAll("."+xr.FOCUS_MANAGED_CLASS);if(!c.length)return!1;for(var _=0;_<c.length;_++)if(c[_].contains(u))return!0;return!1},i.prototype.findTabbableParent=function(a,u){void 0===u&&(u=5);for(var c=0;a&&null===si(a)&&++c<=u;)a=a.parentElement;return null===si(a)?null:a},i.prototype.focusGridView=function(a,u){if(this.gridOptionsService.is("suppressCellFocus"))return u?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var c=u?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!c)return!1;var _=c.rowIndex,E=c.rowPinned,P=this.getFocusedHeader();return!a&&P&&(a=P.column),!(null==_||!a)&&(this.navigationService.ensureCellVisible({rowIndex:_,column:a,rowPinned:E}),this.setFocusedCell({rowIndex:_,column:a,rowPinned:n(E),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:_,rowPinned:E,column:a}),!0)},i.prototype.focusNextGridCoreContainer=function(a){return!!this.gridCtrl.focusNextInnerContainer(a)||(!a&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)},i.AG_KEYBOARD_FOCUS="ag-keyboard-focus",i.keyboardModeActive=!1,i.instancesMonitored=new Map,Jn([$("eGridDiv")],i.prototype,"eGridDiv",void 0),Jn([$("columnModel")],i.prototype,"columnModel",void 0),Jn([$("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Jn([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Jn([$("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),Jn([gt("rangeService")],i.prototype,"rangeService",void 0),Jn([$("navigationService")],i.prototype,"navigationService",void 0),Jn([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Jn([ce],i.prototype,"init",null),r=Jn([Le("focusService")],i)}(Me),tg=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),jo=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},zy=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},fi=(()=>(function(p){p[p.vertical=0]="vertical",p[p.horizontal=1]="horizontal"}(fi||(fi={})),fi))(),qy=0,rg=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.popupList=[],a}var r;return tg(i,p),r=i,i.prototype.postConstruct=function(){var a=this;this.ctrlsService.whenReady(function(u){a.gridCtrl=u.gridCtrl,a.addManagedListener(a.gridCtrl,J.EVENT_KEYBOARD_FOCUS,function(){a.popupList.forEach(function(c){return c.element.classList.add($o.AG_KEYBOARD_FOCUS)})}),a.addManagedListener(a.gridCtrl,J.EVENT_MOUSE_FOCUS,function(){a.popupList.forEach(function(c){return c.element.classList.remove($o.AG_KEYBOARD_FOCUS)})})})},i.prototype.getPopupParent=function(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()},i.prototype.positionPopupForMenu=function(a){var u=a.eventSource.getBoundingClientRect(),c=this.getParentRect(),_=this.keepXYWithinBounds(a.ePopup,u.top-c.top,fi.vertical),E=a.ePopup.clientWidth>0?a.ePopup.clientWidth:200;a.ePopup.style.minWidth=E+"px";var L,M=c.right-c.left-E;function B(){return u.right-c.left-2}function U(){return u.left-c.left-E}this.gridOptionsService.is("enableRtl")?((L=U())<0&&(L=B()),L>M&&(L=0)):((L=B())>M&&(L=U()),L<0&&(L=0)),a.ePopup.style.left=L+"px",a.ePopup.style.top=_+"px"},i.prototype.positionPopupUnderMouseEvent=function(a){var u=this;this.positionPopup({ePopup:a.ePopup,nudgeX:a.nudgeX,nudgeY:a.nudgeY,keepWithinBounds:!0,skipObserver:a.skipObserver,updatePosition:function(){return u.calculatePointerAlign(a.mouseEvent)},postProcessCallback:function(){return u.callPostProcessPopup(a.type,a.ePopup,null,a.mouseEvent,a.column,a.rowNode)}})},i.prototype.calculatePointerAlign=function(a){var u=this.getParentRect();return{x:a.clientX-u.left,y:a.clientY-u.top}},i.prototype.positionPopupByComponent=function(a){var u=this,c=a.eventSource.getBoundingClientRect(),_=a.alignSide||"left",E=a.position||"over",P=this.getParentRect();this.positionPopup({ePopup:a.ePopup,nudgeX:a.nudgeX,nudgeY:a.nudgeY,keepWithinBounds:a.keepWithinBounds,updatePosition:function(){var L=c.left-P.left;return"right"===_&&(L-=a.ePopup.offsetWidth-c.width),{x:L,y:"over"===E?c.top-P.top:c.top-P.top+c.height}},postProcessCallback:function(){return u.callPostProcessPopup(a.type,a.ePopup,a.eventSource,null,a.column,a.rowNode)}})},i.prototype.callPostProcessPopup=function(a,u,c,_,E,P){var M=this.gridOptionsService.getCallback("postProcessPopup");M&&M({column:E,rowNode:P,ePopup:u,type:a,eventSource:c,mouseEvent:_})},i.prototype.positionPopup=function(a){var u=this,c=a.ePopup,_=a.keepWithinBounds,E=a.nudgeX,P=a.nudgeY,M=a.skipObserver,L=a.updatePosition,B={width:0,height:0},U=function(Q){void 0===Q&&(Q=!1);var oe=L(),le=oe.x,fe=oe.y;Q&&c.clientWidth===B.width&&c.clientHeight===B.height||(B.width=c.clientWidth,B.height=c.clientHeight,E&&(le+=E),P&&(fe+=P),_&&(le=u.keepXYWithinBounds(c,le,fi.horizontal),fe=u.keepXYWithinBounds(c,fe,fi.vertical)),c.style.left=le+"px",c.style.top=fe+"px",a.postProcessCallback&&a.postProcessCallback())};if(U(),!M){var X=this.resizeObserverService.observeResize(c,function(){return U(!0)});setTimeout(function(){return X()},r.WAIT_FOR_POPUP_CONTENT_RESIZE)}},i.prototype.getActivePopups=function(){return this.popupList.map(function(a){return a.element})},i.prototype.getPopupList=function(){return this.popupList},i.prototype.getParentRect=function(){var a=this.gridOptionsService.getDocument(),u=this.getPopupParent();u===a.body?u=a.documentElement:"static"===getComputedStyle(u).position&&(u=u.offsetParent);var c=getComputedStyle(u),_=u.getBoundingClientRect();return{top:_.top+parseFloat(c.borderTopWidth)||0,left:_.left+parseFloat(c.borderLeftWidth)||0,right:_.right+parseFloat(c.borderRightWidth)||0,bottom:_.bottom+parseFloat(c.borderBottomWidth)||0}},i.prototype.keepXYWithinBounds=function(a,u,c){var _=c===fi.vertical,E=_?"clientHeight":"clientWidth",P=_?"top":"left",M=_?"offsetHeight":"offsetWidth",L=_?"scrollTop":"scrollLeft",B=this.gridOptionsService.getDocument(),U=B.documentElement,X=this.getPopupParent(),Q=X.getBoundingClientRect(),oe=B.documentElement.getBoundingClientRect(),le=X===B.body,fe=a[M],Oe=le?(_?ss:ls)(U)+U[L]:X[E];le&&(Oe-=Math.abs(oe[P]-Q[P]));var Ie=Oe-fe;return Math.min(Math.max(u,0),Math.abs(Ie))},i.prototype.keepPopupPositionedRelativeTo=function(a){var u=this,c=this.getPopupParent(),_=c.getBoundingClientRect(),E=a.element.getBoundingClientRect(),P=_.top-E.top,M=_.left-E.left,L=P,B=M,U=a.ePopup.style.top,X=parseInt(U.substring(0,U.length-1),10),Q=a.ePopup.style.left,oe=parseInt(Q.substring(0,Q.length-1),10);return new en(function(le){u.getFrameworkOverrides().setInterval(function(){var fe=c.getBoundingClientRect(),de=a.element.getBoundingClientRect();if(0==de.top&&0==de.left&&0==de.height&&0==de.width)a.hidePopup();else{var Ie=fe.top-de.top;if(Ie!=L){var Be=u.keepXYWithinBounds(a.ePopup,X+P-Ie,fi.vertical);a.ePopup.style.top=Be+"px"}L=Ie;var Xe=fe.left-de.left;if(Xe!=B){var me=u.keepXYWithinBounds(a.ePopup,oe+M-Xe,fi.horizontal);a.ePopup.style.left=me+"px"}B=Xe}},200).then(function(fe){le(function(){null!=fe&&window.clearInterval(fe)})})})},i.prototype.addPopup=function(a){var u,c=this,_=a.modal,E=a.eChild,P=a.closeOnEsc,M=a.closedCallback,L=a.click,B=a.alwaysOnTop,U=a.afterGuiAttached,X=a.positionCallback,Q=a.anchorToElement,oe=a.ariaLabel,le=this.gridOptionsService.getDocument(),fe=new en(function(St){return St(function(){})});if(!le)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:fe};var de=this.popupList.findIndex(function(St){return St.element===E});if(-1!==de){var Oe=this.popupList[de];return{hideFunc:Oe.hideFunc,stopAnchoringPromise:Oe.stopAnchoringPromise}}var Ie=this.getPopupParent();null==E.style.top&&(E.style.top="0px"),null==E.style.left&&(E.style.left="0px");var Be=document.createElement("div"),Xe=this.environment.getTheme().allThemes;Xe.length&&(u=Be.classList).add.apply(u,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(zy(arguments[i]));return p}(Xe)),Be.classList.add("ag-popup"),E.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),E.hasAttribute("role")||Br(E,"dialog"),Zi(E,oe),this.focusService.isKeyboardMode()&&E.classList.add($o.AG_KEYBOARD_FOCUS),Be.appendChild(E),Ie.appendChild(Be),B?this.setAlwaysOnTop(Be,!0):this.bringPopupToFront(Be);var me=!1,He=function(St){Be.contains(le.activeElement)&&St.key===ve.ESCAPE&&Dt({keyboardEvent:St})},nt=function(St){return Dt({mouseEvent:St})},dt=function(St){return Dt({touchEvent:St})},Dt=function(St){void 0===St&&(St={});var pr=St.mouseEvent,Fr=St.touchEvent,pt=St.keyboardEvent;c.isEventFromCurrentPopup({mouseEvent:pr,touchEvent:Fr},E)||c.isEventSameChainAsOriginalEvent({originalMouseEvent:L,mouseEvent:pr,touchEvent:Fr})||me||(me=!0,Ie.removeChild(Be),le.removeEventListener("keydown",He),le.removeEventListener("mousedown",nt),le.removeEventListener("touchstart",dt),le.removeEventListener("contextmenu",nt),c.eventService.removeEventListener(J.EVENT_DRAG_STARTED,nt),M&&M(pr||Fr||pt),c.popupList=c.popupList.filter(function(Bt){return Bt.element!==E}),fe&&fe.then(function(Bt){return Bt&&Bt()}))};return U&&U({hidePopup:Dt}),window.setTimeout(function(){P&&le.addEventListener("keydown",He),_&&(le.addEventListener("mousedown",nt),c.eventService.addEventListener(J.EVENT_DRAG_STARTED,nt),le.addEventListener("touchstart",dt),le.addEventListener("contextmenu",nt))},0),X&&X(),Q&&(fe=this.keepPopupPositionedRelativeTo({element:Q,ePopup:E,hidePopup:Dt})),this.popupList.push({element:E,wrapper:Be,hideFunc:Dt,stopAnchoringPromise:fe,instanceId:qy++,isAnchored:!!Q}),{hideFunc:Dt,stopAnchoringPromise:fe}},i.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(a){return a.isAnchored})},i.prototype.isEventFromCurrentPopup=function(a,u){var E=a.mouseEvent||a.touchEvent;if(!E)return!1;var P=this.popupList.findIndex(function(B){return B.element===u});if(-1===P)return!1;for(var M=P;M<this.popupList.length;M++)if(Xu(this.popupList[M].element,E))return!0;return this.isElementWithinCustomPopup(E.target)},i.prototype.isElementWithinCustomPopup=function(a){for(var u=this.gridOptionsService.getDocument();a&&a!==u.body;){if(a.classList.contains("ag-custom-component-popup")||null===a.parentElement)return!0;a=a.parentElement}return!1},i.prototype.isEventSameChainAsOriginalEvent=function(a){var u=a.originalMouseEvent,c=a.mouseEvent,_=a.touchEvent,E=null;if(c?E=c:_&&(E=_.touches[0]),E&&u){var M=c?c.screenY:0,L=Math.abs(u.screenX-(c?c.screenX:0))<5,B=Math.abs(u.screenY-M)<5;if(L&&B)return!0}return!1},i.prototype.getWrapper=function(a){for(;!a.classList.contains("ag-popup")&&a.parentElement;)a=a.parentElement;return a.classList.contains("ag-popup")?a:null},i.prototype.setAlwaysOnTop=function(a,u){var c=this.getWrapper(a);c&&(c.classList.toggle("ag-always-on-top",!!u),u&&this.bringPopupToFront(c))},i.prototype.bringPopupToFront=function(a){var u=this.getPopupParent(),c=Array.prototype.slice.call(u.querySelectorAll(".ag-popup")),_=c.length,E=Array.prototype.slice.call(u.querySelectorAll(".ag-popup.ag-always-on-top")),P=E.length,M=this.getWrapper(a);if(M&&!(_<=1)&&u.contains(a)){var L=c.indexOf(M),B=M.querySelectorAll("div"),U=[];for(B.forEach(function(le){0!==le.scrollTop&&U.push([le,le.scrollTop])}),P?M.classList.contains("ag-always-on-top")?L!==_-1&&Rt(E).insertAdjacentElement("afterend",M):L!==_-P-1&&E[0].insertAdjacentElement("beforebegin",M):L!==_-1&&Rt(c).insertAdjacentElement("afterend",M);U.length;){var Q=U.pop();Q[0].scrollTop=Q[1]}this.eventService.dispatchEvent({type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:M})}},i.WAIT_FOR_POPUP_CONTENT_RESIZE=200,jo([$("focusService")],i.prototype,"focusService",void 0),jo([$("ctrlsService")],i.prototype,"ctrlsService",void 0),jo([$("resizeObserverService")],i.prototype,"resizeObserverService",void 0),jo([ce],i.prototype,"postConstruct",null),r=jo([Le("popupService")],i)}(Me),ng=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Nd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Xy=function(p){function i(r,a,u){void 0===r&&(r="default"),void 0===a&&(a="listbox");var c=p.call(this,i.getTemplate(r))||this;return c.cssIdentifier=r,c.ariaRole=a,c.listName=u,c.renderedRows=new Map,c.rowHeight=20,c}return ng(i,p),i.prototype.postConstruct=function(){var r=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(a){return r.onFocusIn(a)},onFocusOut:function(a){return r.onFocusOut(a)},focusInnerElement:function(a){return r.focusInnerElement(a)},onTabKeyDown:function(a){return r.onTabKeyDown(a)},handleKeyDown:function(a){return r.handleKeyDown(a)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,J.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},i.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},i.prototype.setAriaProperties=function(){var a=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),u=this.eContainer;Br(u,this.ariaRole),Zi(u,a)},i.prototype.addResizeObserver=function(){var r=this,u=this.resizeObserverService.observeResize(this.getGui(),function(){return r.drawVirtualRows()});this.addDestroyFunc(u)},i.prototype.focusInnerElement=function(r){this.focusRow(r?this.model.getRowCount()-1:0)},i.prototype.onFocusIn=function(r){var a=r.target;return a.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=rf(a)-1),!1},i.prototype.onFocusOut=function(r){return this.getFocusableElement().contains(r.relatedTarget)||(this.lastFocusedRowIndex=null),!1},i.prototype.handleKeyDown=function(r){switch(r.key){case ve.UP:case ve.DOWN:this.navigate(r.key===ve.UP)&&r.preventDefault()}},i.prototype.onTabKeyDown=function(r){this.navigate(r.shiftKey)?r.preventDefault():this.forceFocusOutOfContainer(r.shiftKey)},i.prototype.navigate=function(r){if(null==this.lastFocusedRowIndex)return!1;var a=this.lastFocusedRowIndex+(r?-1:1);return!(a<0||a>=this.model.getRowCount()||(this.focusRow(a),0))},i.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},i.prototype.focusRow=function(r){var a=this;this.ensureIndexVisible(r),window.setTimeout(function(){if(a.isAlive()){var u=a.renderedRows.get(r);u&&u.eDiv.focus()}},10)},i.prototype.getComponentAt=function(r){var a=this.renderedRows.get(r);return a&&a.rowComponent},i.prototype.forEachRenderedRow=function(r){this.renderedRows.forEach(function(a,u){return r(a.rowComponent,u)})},i.getTemplate=function(r){return'\n            <div class="ag-virtual-list-viewport ag-'+r+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+r+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},i.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},i.prototype.ensureIndexVisible=function(r){var a=this.model.getRowCount();if("number"!=typeof r||r<0||r>=a)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+r);else{var u=r*this.rowHeight,c=u+this.rowHeight,_=this.getGui(),E=_.scrollTop,P=_.offsetHeight,B=E+P<c;E>u?_.scrollTop=u:B&&(_.scrollTop=c-P)}},i.prototype.setComponentCreator=function(r){this.componentCreator=r},i.prototype.setComponentUpdater=function(r){this.componentUpdater=r},i.prototype.getRowHeight=function(){return this.rowHeight},i.prototype.getScrollTop=function(){return this.getGui().scrollTop},i.prototype.setRowHeight=function(r){this.rowHeight=r,this.refresh()},i.prototype.refresh=function(r){var a=this;if(null!=this.model&&this.isAlive()){var u=this.model.getRowCount();this.eContainer.style.height=u*this.rowHeight+"px",jt(function(){return a.eContainer.clientHeight>=u*a.rowHeight},function(){a.isAlive()&&(a.canSoftRefresh(r)?a.drawVirtualRows(!0):(a.clearVirtualRows(),a.drawVirtualRows()))})}},i.prototype.canSoftRefresh=function(r){return!!(r&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},i.prototype.clearVirtualRows=function(){var r=this;this.renderedRows.forEach(function(a,u){return r.removeRow(u)})},i.prototype.drawVirtualRows=function(r){if(this.isAlive()){var a=this.getGui(),u=a.scrollTop,c=u+a.offsetHeight,_=Math.floor(u/this.rowHeight),E=Math.floor(c/this.rowHeight);this.ensureRowsRendered(_,E,r)}},i.prototype.ensureRowsRendered=function(r,a,u){var c=this;this.renderedRows.forEach(function(E,P){(P<r||P>a)&&P!==c.lastFocusedRowIndex&&c.removeRow(P)}),u&&this.refreshRows();for(var _=r;_<=a;_++)this.renderedRows.has(_)||_<this.model.getRowCount()&&this.insertRow(_)},i.prototype.insertRow=function(r){var a=this,u=this.model.getRow(r),c=document.createElement("div");if(c.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Br(c,"tree"===this.ariaRole?"treeitem":"option"),tc(c,this.model.getRowCount()),rc(c,r+1),c.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var _=this.model.isRowSelected(r);Di(c,!!_),Cl(c,_)}c.style.height=this.rowHeight+"px",c.style.top=this.rowHeight*r+"px";var E=this.componentCreator(u,c);E.addGuiEventListener("focusin",function(){return a.lastFocusedRowIndex=r}),c.appendChild(E.getGui()),this.renderedRows.has(r-1)?this.renderedRows.get(r-1).eDiv.insertAdjacentElement("afterend",c):this.renderedRows.has(r+1)?this.renderedRows.get(r+1).eDiv.insertAdjacentElement("beforebegin",c):this.eContainer.appendChild(c),this.renderedRows.set(r,{rowComponent:E,eDiv:c,value:u})},i.prototype.removeRow=function(r){var a=this.renderedRows.get(r);this.eContainer.removeChild(a.eDiv),this.destroyBean(a.rowComponent),this.renderedRows.delete(r)},i.prototype.refreshRows=function(){var r=this,a=this.model.getRowCount();this.renderedRows.forEach(function(u,c){var _,E;if(c>=a)r.removeRow(c);else{var P=r.model.getRow(c);null!==(E=(_=r.model).areRowsEqual)&&void 0!==E&&E.call(_,u.value,P)?r.componentUpdater(P,u.rowComponent):r.removeRow(c)}})},i.prototype.addScrollListener=function(){var r=this;this.addGuiEventListener("scroll",function(){return r.drawVirtualRows()},{passive:!0})},i.prototype.setModel=function(r){this.model=r},i.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),p.prototype.destroy.call(this))},Nd([$("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Nd([be("eContainer")],i.prototype,"eContainer",void 0),Nd([ce],i.prototype,"postConstruct",null),i}(Ks),Sn=["mouseover","mouseout","mouseenter","mouseleave"],ig=["touchstart","touchend","touchmove","touchcancel"],og=function(){function p(){this.isOutsideAngular=function(i){return sr(Sn,i)}}return p.prototype.setTimeout=function(i,r){window.setTimeout(i,r)},p.prototype.setInterval=function(i,r){return new en(function(a){a(window.setInterval(i,r))})},p.prototype.addEventListener=function(i,r,a,u){var c=sr(ig,r);i.addEventListener(r,a,{capture:!!u,passive:c})},p.prototype.dispatchEvent=function(i,r,a){r()},p.prototype.frameworkComponent=function(i){return null},p.prototype.isFrameworkComponent=function(i){return!1},p}(),_S=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),vo=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ag=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Zy=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return _S(i,p),i.prototype.getNextCellToFocus=function(r,a,u){return void 0===u&&(u=!1),u?this.getNextCellToFocusWithCtrlPressed(r,a):this.getNextCellToFocusWithoutCtrlPressed(r,a)},i.prototype.getNextCellToFocusWithCtrlPressed=function(r,a){var E,P,u=r===ve.UP,_=r===ve.LEFT;if(u||r===ve.DOWN)P=u?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),E=a.column;else{var M=this.columnModel.getAllDisplayedColumns(),L=this.gridOptionsService.is("enableRtl");P=a.rowIndex,E=_!==L?M[0]:Rt(M)}return{rowIndex:P,rowPinned:null,column:E}},i.prototype.getNextCellToFocusWithoutCtrlPressed=function(r,a){for(var u=a,c=!1;!c;){switch(r){case ve.UP:u=this.getCellAbove(u);break;case ve.DOWN:u=this.getCellBelow(u);break;case ve.RIGHT:u=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(u):this.getCellToRight(u);break;case ve.LEFT:u=this.gridOptionsService.is("enableRtl")?this.getCellToRight(u):this.getCellToLeft(u);break;default:u=null,console.warn("AG Grid: unknown key for navigation "+r)}c=!u||this.isCellGoodToFocusOn(u)}return u},i.prototype.isCellGoodToFocusOn=function(r){var u,a=r.column;switch(r.rowPinned){case"top":u=this.pinnedRowModel.getPinnedTopRow(r.rowIndex);break;case"bottom":u=this.pinnedRowModel.getPinnedBottomRow(r.rowIndex);break;default:u=this.rowModel.getRow(r.rowIndex)}return!!u&&!a.isSuppressNavigable(u)},i.prototype.getCellToLeft=function(r){if(!r)return null;var a=this.columnModel.getDisplayedColBefore(r.column);return a?{rowIndex:r.rowIndex,column:a,rowPinned:r.rowPinned}:null},i.prototype.getCellToRight=function(r){if(!r)return null;var a=this.columnModel.getDisplayedColAfter(r.column);return a?{rowIndex:r.rowIndex,column:a,rowPinned:r.rowPinned}:null},i.prototype.getRowBelow=function(r){var a=r.rowIndex,u=r.rowPinned;if(this.isLastRowInContainer(r))switch(u){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var c=this.rowModel.getRow(r.rowIndex);return this.getNextStickyPosition(c)||{rowIndex:a+1,rowPinned:u}},i.prototype.getNextStickyPosition=function(r,a){if(this.gridOptionsService.is("groupRowsSticky")&&r&&r.sticky){var u=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(ag(arguments[i]));return p}(this.rowRenderer.getStickyTopRowCtrls()).sort(function(P,M){return P.getRowNode().rowIndex-M.getRowNode().rowIndex}),c=a?-1:1,_=u.findIndex(function(P){return P.getRowNode().rowIndex===r.rowIndex}),E=u[_+c];if(E)return{rowIndex:E.getRowNode().rowIndex,rowPinned:null}}},i.prototype.getCellBelow=function(r){if(!r)return null;var a=this.getRowBelow(r);return a?{rowIndex:a.rowIndex,column:r.column,rowPinned:a.rowPinned}:null},i.prototype.isLastRowInContainer=function(r){var a=r.rowPinned,u=r.rowIndex;return"top"===a?this.pinnedRowModel.getPinnedTopRowData().length-1<=u:"bottom"===a?this.pinnedRowModel.getPinnedBottomRowData().length-1<=u:this.paginationProxy.getPageLastRow()<=u},i.prototype.getRowAbove=function(r){var a=r.rowIndex,u=r.rowPinned;if(u?0===a:a===this.paginationProxy.getPageFirstRow())return"top"===u?null:u&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var _=this.rowModel.getRow(r.rowIndex);return this.getNextStickyPosition(_,!0)||{rowIndex:a-1,rowPinned:u}},i.prototype.getCellAbove=function(r){if(!r)return null;var a=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});return a?{rowIndex:a.rowIndex,column:r.column,rowPinned:a.rowPinned}:null},i.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},i.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},i.prototype.getNextTabbedCell=function(r,a){return a?this.getNextTabbedCellBackwards(r):this.getNextTabbedCellForwards(r)},i.prototype.getNextTabbedCellForwards=function(r){var a=this.columnModel.getAllDisplayedColumns(),u=r.rowIndex,c=r.rowPinned,_=this.columnModel.getDisplayedColAfter(r.column);if(!_){_=a[0];var E=this.getRowBelow(r);if(s(E)||!E.rowPinned&&!this.paginationProxy.isRowInPage(E))return null;u=E?E.rowIndex:null,c=E?E.rowPinned:null}return{rowIndex:u,column:_,rowPinned:c}},i.prototype.getNextTabbedCellBackwards=function(r){var a=this.columnModel.getAllDisplayedColumns(),u=r.rowIndex,c=r.rowPinned,_=this.columnModel.getDisplayedColBefore(r.column);if(!_){_=Rt(a);var E=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});if(s(E)||!E.rowPinned&&!this.paginationProxy.isRowInPage(E))return null;u=E?E.rowIndex:null,c=E?E.rowPinned:null}return{rowIndex:u,column:_,rowPinned:c}},vo([$("columnModel")],i.prototype,"columnModel",void 0),vo([$("rowModel")],i.prototype,"rowModel",void 0),vo([$("rowRenderer")],i.prototype,"rowRenderer",void 0),vo([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),vo([$("paginationProxy")],i.prototype,"paginationProxy",void 0),vo([Le("cellNavigationService")],i)}(Me),Qy=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Na=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},em=function(p,i){return function(r,a){i(r,a,p)}},tm=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.consuming=!1,r}return Qy(i,p),i.prototype.setBeans=function(r){this.logger=r.create("AlignedGridsService")},i.prototype.init=function(){this.addManagedListener(this.eventService,J.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,J.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},i.prototype.fireEvent=function(r){if(!this.consuming){var a=this.gridOptionsService.get("alignedGrids");a&&a.forEach(function(u){if(u.api){var c=u.api.__getAlignedGridService();r(c)}})}},i.prototype.onEvent=function(r){this.consuming=!0,r(),this.consuming=!1},i.prototype.fireColumnEvent=function(r){this.fireEvent(function(a){a.onColumnEvent(r)})},i.prototype.fireScrollEvent=function(r){"horizontal"===r.direction&&this.fireEvent(function(a){a.onScrollEvent(r)})},i.prototype.onScrollEvent=function(r){var a=this;this.onEvent(function(){a.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(r.left)})},i.prototype.getMasterColumns=function(r){var a=[];return r.columns?r.columns.forEach(function(u){a.push(u)}):r.column&&a.push(r.column),a},i.prototype.getColumnIds=function(r){var a=[];return r.columns?r.columns.forEach(function(u){a.push(u.getColId())}):r.column&&a.push(r.column.getColId()),a},i.prototype.onColumnEvent=function(r){var a=this;this.onEvent(function(){switch(r.type){case J.EVENT_COLUMN_MOVED:case J.EVENT_COLUMN_VISIBLE:case J.EVENT_COLUMN_PINNED:case J.EVENT_COLUMN_RESIZED:a.processColumnEvent(r);break;case J.EVENT_COLUMN_GROUP_OPENED:a.processGroupOpenedEvent(r);break;case J.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},i.prototype.processGroupOpenedEvent=function(r){var a=r.columnGroup,u=null;if(a){var c=a.getGroupId();u=this.columnModel.getProvidedColumnGroup(c)}a&&!u||(this.logger.log("onColumnEvent-> processing "+r+" expanded = "+a.isExpanded()),this.columnModel.setColumnGroupOpened(u,a.isExpanded(),"alignedGridChanged"))},i.prototype.processColumnEvent=function(r){var u,a=this,c=r.column,_=null;if(c&&(_=this.columnModel.getPrimaryColumn(c.getColId())),!c||_){var E=this.getMasterColumns(r);switch(r.type){case J.EVENT_COLUMN_MOVED:var P=r,L=r.columnApi.getColumnState().map(function(de){return{colId:de.colId}});this.columnModel.applyColumnState({state:L,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" toIndex = "+P.toIndex);break;case J.EVENT_COLUMN_VISIBLE:var B=r;L=r.columnApi.getColumnState().map(function(Ie){return{colId:Ie.colId,hide:Ie.hide}}),this.columnModel.applyColumnState({state:L},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" visible = "+B.visible);break;case J.EVENT_COLUMN_PINNED:var U=r;L=r.columnApi.getColumnState().map(function(Ie){return{colId:Ie.colId,pinned:Ie.pinned}}),this.columnModel.applyColumnState({state:L},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" pinned = "+U.pinned);break;case J.EVENT_COLUMN_RESIZED:var X=r,Q={};E.forEach(function(de){a.logger.log("onColumnEvent-> processing "+r.type+" actualWidth = "+de.getActualWidth()),Q[de.getId()]={key:de.getColId(),newWidth:de.getActualWidth()}}),null===(u=X.flexColumns)||void 0===u||u.forEach(function(de){Q[de.getId()]&&delete Q[de.getId()]}),this.columnModel.setColumnWidths(Object.values(Q),!1,X.finished,"alignedGridChanged")}var le=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),fe=this.gridOptionsService.get("alignedGrids");fe&&fe.forEach(function(de){de.api&&de.api.setAlwaysShowVerticalScroll(le)})}},Na([$("columnModel")],i.prototype,"columnModel",void 0),Na([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Na([em(0,ar("loggerFactory"))],i.prototype,"setBeans",null),Na([ce],i.prototype,"init",null),Na([Le("alignedGridsService")],i)}(Me),Gd=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),qs=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},rm=function(p,i){return function(r,a){i(r,a,p)}},nm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Gd(i,p),i.prototype.setBeans=function(r){this.logger=r.create("selectionService"),this.reset()},i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedListener(this.eventService,J.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},i.prototype.setLastSelectedNode=function(r){this.lastSelectedNode=r},i.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},i.prototype.getSelectedNodes=function(){var r=[];return G(this.selectedNodes,function(a,u){u&&r.push(u)}),r},i.prototype.getSelectedRows=function(){var r=[];return G(this.selectedNodes,function(a,u){u&&u.data&&r.push(u.data)}),r},i.prototype.removeGroupsFromSelection=function(){var r=this;G(this.selectedNodes,function(a,u){u&&u.group&&(r.selectedNodes[u.id]=void 0)})},i.prototype.updateGroupsFromChildrenSelections=function(r,a){if(!this.gridOptionsService.is("groupSelectsChildren")||"clientSide"!==this.rowModel.getType())return!1;var c=this.rowModel.getRootNode();a||(a=new st(!0,c)).setInactive();var _=!1;return a.forEachChangedNodeDepthFirst(function(E){if(E!==c){var P=E.calculateSelectedFromChildren();_=E.selectThisNode(null!==P&&P,void 0,r)||_}}),_},i.prototype.getNodeForIdIfSelected=function(r){return this.selectedNodes[r]},i.prototype.clearOtherNodes=function(r,a){var u=this,c={},_=0;return G(this.selectedNodes,function(E,P){P&&P.id!==r.id&&(_+=u.selectedNodes[P.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:a}),u.groupSelectsChildren&&P.parent&&(c[P.parent.id]=P.parent))}),G(c,function(E,P){var M=P.calculateSelectedFromChildren();P.selectThisNode(null!==M&&M,void 0,a)}),_},i.prototype.onRowSelected=function(r){var a=r.node;this.groupSelectsChildren&&a.group||(this.selectedNodes[a.id]=a.isSelected()?a:void 0)},i.prototype.syncInRowNode=function(r,a){this.syncInOldRowNode(r,a),this.syncInNewRowNode(r)},i.prototype.syncInOldRowNode=function(r,a){o(a)&&r.id!==a.id&&a&&this.selectedNodes[a.id]==r&&(this.selectedNodes[a.id]=a)},i.prototype.syncInNewRowNode=function(r){o(this.selectedNodes[r.id])?(r.setSelectedInitialValue(!0),this.selectedNodes[r.id]=r):r.setSelectedInitialValue(!1)},i.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},i.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var a=this.rowModel.getTopLevelNodes();if(null!==a){var u=[];return function c(_){for(var E=0,P=_.length;E<P;E++){var M=_[E];M.isSelected()?u.push(M):M.group&&M.children&&c(M.children)}}(a),u}}},i.prototype.setRowModel=function(r){this.rowModel=r},i.prototype.isEmpty=function(){var r=0;return G(this.selectedNodes,function(a,u){u&&r++}),0===r},i.prototype.deselectAllRowNodes=function(r){var a=function(M){return M.selectThisNode(!1,void 0,c)},u="clientSide"===this.rowModel.getType(),c=r.source,_=r.justFiltered,E=r.justCurrentPage;if(E||_){if(!u)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(_,E).forEach(a)}else G(this.selectedNodes,function(M,L){L&&a(L)}),this.reset();u&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(c),this.eventService.dispatchEvent({type:J.EVENT_SELECTION_CHANGED,source:c})},i.prototype.getNodesToSelect=function(r,a){var u=this;if(void 0===r&&(r=!1),void 0===a&&(a=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var c=[];if(a)return this.paginationProxy.forEachNodeOnPage(function(E){if(E.group)if(E.expanded)u.groupSelectsChildren||c.push(E);else{var P=function(M){var L;c.push(M),null!==(L=M.childrenAfterFilter)&&void 0!==L&&L.length&&M.childrenAfterFilter.forEach(P)};P(E)}else c.push(E)}),c;var _=this.rowModel;return r?(_.forEachNodeAfterFilter(function(E){c.push(E)}),c):(_.forEachNode(function(E){c.push(E)}),c)},i.prototype.selectAllRowNodes=function(r){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var a=r.source;this.getNodesToSelect(r.justFiltered,r.justCurrentPage).forEach(function(P){return P.selectThisNode(!0,void 0,a)}),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(a),this.eventService.dispatchEvent({type:J.EVENT_SELECTION_CHANGED,source:a})},qs([$("rowModel")],i.prototype,"rowModel",void 0),qs([$("paginationProxy")],i.prototype,"paginationProxy",void 0),qs([rm(0,ar("loggerFactory"))],i.prototype,"setBeans",null),qs([ce],i.prototype,"init",null),qs([Le("selectionService")],i)}(Me),Bd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},im=function(){function p(){}return p.prototype.sizeColumnsToFit=function(i){typeof i>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(i,"api")},p.prototype.setColumnGroupOpened=function(i,r){this.columnModel.setColumnGroupOpened(i,r,"api")},p.prototype.getColumnGroup=function(i,r){return this.columnModel.getColumnGroup(i,r)},p.prototype.getProvidedColumnGroup=function(i){return this.columnModel.getProvidedColumnGroup(i)},p.prototype.getDisplayNameForColumn=function(i,r){return this.columnModel.getDisplayNameForColumn(i,r)||""},p.prototype.getDisplayNameForColumnGroup=function(i,r){return this.columnModel.getDisplayNameForColumnGroup(i,r)||""},p.prototype.getColumn=function(i){return this.columnModel.getPrimaryColumn(i)},p.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},p.prototype.applyColumnState=function(i){return this.columnModel.applyColumnState(i,"api")},p.prototype.getColumnState=function(){return this.columnModel.getColumnState()},p.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},p.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},p.prototype.setColumnGroupState=function(i){this.columnModel.setColumnGroupState(i,"api")},p.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},p.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},p.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},p.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},p.prototype.getDisplayedColAfter=function(i){return this.columnModel.getDisplayedColAfter(i)},p.prototype.getDisplayedColBefore=function(i){return this.columnModel.getDisplayedColBefore(i)},p.prototype.setColumnVisible=function(i,r){this.columnModel.setColumnVisible(i,r,"api")},p.prototype.setColumnsVisible=function(i,r){this.columnModel.setColumnsVisible(i,r,"api")},p.prototype.setColumnPinned=function(i,r){this.columnModel.setColumnPinned(i,r,"api")},p.prototype.setColumnsPinned=function(i,r){this.columnModel.setColumnsPinned(i,r,"api")},p.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},p.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},p.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},p.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},p.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},p.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},p.prototype.moveColumn=function(i,r){this.columnModel.moveColumn(i,r,"api")},p.prototype.moveColumnByIndex=function(i,r){this.columnModel.moveColumnByIndex(i,r,"api")},p.prototype.moveColumns=function(i,r){this.columnModel.moveColumns(i,r,"api")},p.prototype.moveRowGroupColumn=function(i,r){this.columnModel.moveRowGroupColumn(i,r)},p.prototype.setColumnAggFunc=function(i,r){this.columnModel.setColumnAggFunc(i,r)},p.prototype.setColumnWidth=function(i,r,a,u){void 0===a&&(a=!0),this.columnModel.setColumnWidths([{key:i,newWidth:r}],!1,a,u)},p.prototype.setColumnWidths=function(i,r,a){void 0===r&&(r=!0),this.columnModel.setColumnWidths(i,!1,r,a)},p.prototype.setPivotMode=function(i){this.columnModel.setPivotMode(i)},p.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},p.prototype.getPivotResultColumn=function(i,r){return this.columnModel.getSecondaryPivotColumn(i,r)},p.prototype.setValueColumns=function(i){this.columnModel.setValueColumns(i,"api")},p.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},p.prototype.removeValueColumn=function(i){this.columnModel.removeValueColumn(i,"api")},p.prototype.removeValueColumns=function(i){this.columnModel.removeValueColumns(i,"api")},p.prototype.addValueColumn=function(i){this.columnModel.addValueColumn(i,"api")},p.prototype.addValueColumns=function(i){this.columnModel.addValueColumns(i,"api")},p.prototype.setRowGroupColumns=function(i){this.columnModel.setRowGroupColumns(i,"api")},p.prototype.removeRowGroupColumn=function(i){this.columnModel.removeRowGroupColumn(i,"api")},p.prototype.removeRowGroupColumns=function(i){this.columnModel.removeRowGroupColumns(i,"api")},p.prototype.addRowGroupColumn=function(i){this.columnModel.addRowGroupColumn(i,"api")},p.prototype.addRowGroupColumns=function(i){this.columnModel.addRowGroupColumns(i,"api")},p.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},p.prototype.setPivotColumns=function(i){this.columnModel.setPivotColumns(i,"api")},p.prototype.removePivotColumn=function(i){this.columnModel.removePivotColumn(i,"api")},p.prototype.removePivotColumns=function(i){this.columnModel.removePivotColumns(i,"api")},p.prototype.addPivotColumn=function(i){this.columnModel.addPivotColumn(i,"api")},p.prototype.addPivotColumns=function(i){this.columnModel.addPivotColumns(i,"api")},p.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},p.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},p.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},p.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},p.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},p.prototype.autoSizeColumn=function(i,r){return this.columnModel.autoSizeColumn(i,r,"api")},p.prototype.autoSizeColumns=function(i,r){this.columnModel.autoSizeColumns({columns:i,skipHeader:r})},p.prototype.autoSizeAllColumns=function(i){this.columnModel.autoSizeAllColumns(i,"api")},p.prototype.setPivotResultColumns=function(i){this.columnModel.setSecondaryColumns(i,"api")},p.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},p.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Ye.removeAllReferences.bind(window,this,"Column API"),100)},p.prototype.getAllColumns=function(){return lr("28.0","getAllColumns","getColumns"),this.getColumns()},p.prototype.getOriginalColumnGroup=function(i){return lr("27.0","getOriginalColumnGroup","getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(i)},p.prototype.getPrimaryColumns=function(){return lr("28.0","getPrimaryColumns","getColumns"),this.getColumns()},p.prototype.getSecondaryColumns=function(){return lr("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},p.prototype.setSecondaryColumns=function(i){lr("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(i)},p.prototype.getSecondaryPivotColumn=function(i,r){return lr("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(i,r)},Bd([$("columnModel")],p.prototype,"columnModel",void 0),Bd([ze],p.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Bd([Le("columnApi")],p)}(),hi=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ko=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},om=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.initialised=!1,r}return hi(i,p),i.prototype.init=function(){var r=this;this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(J.EVENT_CELL_VALUE_CHANGED,function(a){return r.callColumnCellValueChangedHandler(a)},this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",function(a){return r.isTreeData=a.currentValue})},i.prototype.getValue=function(r,a,u,c){if(void 0===u&&(u=!1),void 0===c&&(c=!1),this.initialised||this.init(),a){var L,_=r.getColDef(),E=_.field,P=r.getColId(),M=a.data,B=a.groupData&&void 0!==a.groupData[P],U=!c&&a.aggData&&void 0!==a.aggData[P];if(u&&_.filterValueGetter?L=this.executeFilterValueGetter(_.filterValueGetter,M,r,a):this.isTreeData&&U?L=a.aggData[P]:this.isTreeData&&_.valueGetter?L=this.executeValueGetter(_.valueGetter,M,r,a):this.isTreeData&&E&&M?L=he(M,E,r.isFieldContainsDots()):B?L=a.groupData[P]:U?L=a.aggData[P]:_.valueGetter?L=this.executeValueGetter(_.valueGetter,M,r,a):E&&M&&(L=he(M,E,r.isFieldContainsDots())),this.cellExpressions&&"string"==typeof L&&0===L.indexOf("=")){var X=L.substring(1);L=this.executeValueGetter(X,M,r,a)}if(null==L){var Q=this.getOpenedGroup(a,r);if(null!=Q)return Q}return L}},i.prototype.getOpenedGroup=function(r,a){if(this.gridOptionsService.is("showOpenedGroup")&&a.getColDef().showRowGroup)for(var c=a.getColDef().showRowGroup,_=r.parent;null!=_;){if(_.rowGroupColumn&&(!0===c||c===_.rowGroupColumn.getColId()))return _.key;_=_.parent}},i.prototype.setValue=function(r,a,u,c){var _=this.columnModel.getPrimaryColumn(a);if(!r||!_)return!1;s(r.data)&&(r.data={});var E=_.getColDef(),P=E.field,M=E.valueSetter;if(s(P)&&s(M))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var B,L={node:r,data:r.data,oldValue:this.getValue(_,r),newValue:u,colDef:_.getColDef(),column:_,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return L.newValue=u,void 0===(B=o(M)?"function"==typeof M?M(L):this.expressionService.evaluate(M,L):this.setValueUsingField(r.data,P,u,_.isFieldContainsDots()))&&(B=!0),!!B&&(r.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),L.newValue=this.getValue(_,r),this.eventService.dispatchEvent({type:J.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:L.column,api:L.api,columnApi:L.columnApi,colDef:L.colDef,context:L.context,data:r.data,node:r,oldValue:L.oldValue,newValue:L.newValue,value:L.newValue,source:c}),!0)},i.prototype.callColumnCellValueChangedHandler=function(r){var a=r.colDef.onCellValueChanged;"function"==typeof a&&a({node:r.node,data:r.data,oldValue:r.oldValue,newValue:r.newValue,colDef:r.colDef,column:r.column,api:r.api,columnApi:r.columnApi,context:r.context})},i.prototype.setValueUsingField=function(r,a,u,c){if(!a)return!1;var _=!1;if(c)for(var E=a.split("."),P=r;E.length>0&&P;){var M=E.shift();0===E.length?(_=P[M]==u)||(P[M]=u):P=P[M]}else(_=r[a]==u)||(r[a]=u);return!_},i.prototype.executeFilterValueGetter=function(r,a,u,c){var _={data:a,node:c,column:u,colDef:u.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,c)};return"function"==typeof r?r(_):this.expressionService.evaluate(r,_)},i.prototype.executeValueGetter=function(r,a,u,c){var _=u.getColId(),E=this.valueCache.getValue(c,_);if(void 0!==E)return E;var M,P={data:a,node:c,column:u,colDef:u.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,c)};return M="function"==typeof r?r(P):this.expressionService.evaluate(r,P),this.valueCache.setValue(c,_,M),M},i.prototype.getValueCallback=function(r,a){var u=this.columnModel.getPrimaryColumn(a);return u?this.getValue(u,r):null},i.prototype.getKeyForNode=function(r,a){var u=this.getValue(r,a),c=r.getColDef().keyCreator,_=u;return c&&(_=c({value:u,colDef:r.getColDef(),column:r,node:a,data:a.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),"string"==typeof _||null==_||"[object Object]"===(_=String(_))&&Ce(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),_},Ko([$("expressionService")],i.prototype,"expressionService",void 0),Ko([$("columnModel")],i.prototype,"columnModel",void 0),Ko([$("valueCache")],i.prototype,"valueCache",void 0),Ko([ce],i.prototype,"init",null),Ko([Le("valueService")],i)}(Me),am=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),kd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},sm=function(p,i){return function(r,a){i(r,a,p)}},lm=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.expressionToFunctionCache={},r}return am(i,p),i.prototype.setBeans=function(r){this.logger=r.create("ExpressionService")},i.prototype.evaluate=function(r,a){if("string"==typeof r)return this.evaluateExpression(r,a);console.error("AG Grid: value should be either a string or a function",r)},i.prototype.evaluateExpression=function(r,a){try{return this.createExpressionFunction(r)(a.value,a.context,a.oldValue,a.newValue,a.value,a.node,a.data,a.colDef,a.rowIndex,a.api,a.columnApi,a.getValue,a.column,a.columnGroup)}catch(_){return console.log("Processing of the expression failed"),console.log("Expression = "+r),console.log("Params =",a),console.log("Exception = "+_),null}},i.prototype.createExpressionFunction=function(r){if(this.expressionToFunctionCache[r])return this.expressionToFunctionCache[r];var a=this.createFunctionBody(r),u=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",a);return this.expressionToFunctionCache[r]=u,u},i.prototype.createFunctionBody=function(r){return r.indexOf("return")>=0?r:"return "+r+";"},kd([sm(0,ar("loggerFactory"))],i.prototype,"setBeans",null),kd([Le("expressionService")],i)}(Me),um=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),cm=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.templateCache={},r.waitingCallbacks={},r}return um(i,p),i.prototype.getTemplate=function(r,a){var u=this.templateCache[r];if(u)return u;var c=this.waitingCallbacks[r],_=this;if(!c){this.waitingCallbacks[r]=c=[];var E=new XMLHttpRequest;E.onload=function(){_.handleHttpResult(this,r)},E.open("GET",r),E.send()}return a&&c.push(a),null},i.prototype.handleHttpResult=function(r,a){if(200===r.status&&null!==r.response){this.templateCache[a]=r.response||r.responseText;for(var u=this.waitingCallbacks[a],c=0;c<u.length;c++)(0,u[c])()}else console.warn("AG Grid: Unable to get template error "+r.status+" - "+a)},i=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le("templateService")],i),i}(Me),dm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Xs=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Wd=function(p,i){return function(r,a){i(r,a,p)}},Eu=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return dm(i,p),i.prototype.setBeans=function(r){this.logging=r.is("debug")},i.prototype.create=function(r){return new sg(r,this.isLogging.bind(this))},i.prototype.isLogging=function(){return this.logging},Xs([Wd(0,ar("gridOptionsService"))],i.prototype,"setBeans",null),Xs([Le("loggerFactory")],i)}(Me),sg=function(){function p(i,r){this.name=i,this.isLoggingFunc=r}return p.prototype.isLogging=function(){return this.isLoggingFunc()},p.prototype.log=function(i){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+i)},p}(),Hd=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Js=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},lg=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Hd(i,p),i.prototype.setComp=function(r,a,u){var c=this;this.view=r,this.eGridHostDiv=a,this.eGui=u,this.dragAndDropService.addDropTarget({getContainer:function(){return c.eGui},isInterestedIn:function(E){return E===Wr.HeaderCell||E===Wr.ToolPanel},getIconName:function(){return rr.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(a),this.createManagedBean(new $c(this.view)),this.addRtlSupport(),this.addManagedListener(this,J.EVENT_KEYBOARD_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,J.EVENT_MOUSE_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!1)});var _=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return _()}),this.ctrlsService.registerGridCtrl(this)},i.prototype.isDetailGrid=function(){var r;return(null===(r=this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id"))||void 0===r?void 0:r.startsWith("detail"))||!1},i.prototype.showDropZones=function(){return qe.isRegistered(ke.RowGroupingModule)},i.prototype.showSideBar=function(){return qe.isRegistered(ke.SideBarModule)},i.prototype.showStatusBar=function(){return qe.isRegistered(ke.StatusBarModule)},i.prototype.showWatermark=function(){return qe.isRegistered(ke.EnterpriseCoreModule)},i.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:J.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},i.prototype.addRtlSupport=function(){var r=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(r)},i.prototype.destroyGridUi=function(){this.view.destroyGridUi()},i.prototype.getGui=function(){return this.eGui},i.prototype.setResizeCursor=function(r){this.view.setCursor(r?"ew-resize":null)},i.prototype.disableUserSelect=function(r){this.view.setUserSelect(r?"none":null)},i.prototype.focusNextInnerContainer=function(r){var a=this.gridOptionsService.getDocument(),u=this.view.getFocusableContainers(),_=u.findIndex(function(E){return E.contains(a.activeElement)})+(r?-1:1);return!(_<=0||_>=u.length)&&this.focusService.focusInto(u[_])},i.prototype.focusInnerElement=function(r){var a=this.view.getFocusableContainers();if(r){if(a.length>1)return this.focusService.focusInto(Rt(a),!0);var u=Rt(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(u,!0))return!0}return this.focusService.focusFirstHeader()},i.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.view.forceFocusOutOfContainer(r)},Js([$("focusService")],i.prototype,"focusService",void 0),Js([$("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Js([$("columnModel")],i.prototype,"columnModel",void 0),Js([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Js([$("mouseEventService")],i.prototype,"mouseEventService",void 0),Js([$("dragAndDropService")],i.prototype,"dragAndDropService",void 0),i}(Me),ug=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ga=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},cg=function(p){function i(r){var a=p.call(this)||this;return a.eGridDiv=r,a}return ug(i,p),i.prototype.postConstruct=function(){var r=this;this.logger=this.loggerFactory.create("GridComp");var a={destroyGridUi:function(){return r.destroyBean(r)},setRtlClass:function(c){return r.addCssClass(c)},addOrRemoveKeyboardFocusClass:function(c){return r.addOrRemoveCssClass($o.AG_KEYBOARD_FOCUS,c)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(c){r.getGui().style.userSelect=c??"",r.getGui().style.webkitUserSelect=c??""},setCursor:function(c){r.getGui().style.cursor=c??""}};this.ctrl=this.createManagedBean(new lg);var u=this.createTemplate();this.setTemplate(u),this.ctrl.setComp(a,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(c){return r.ctrl.focusInnerElement(c)}})},i.prototype.insertGridIntoDom=function(){var r=this,a=this.getGui();this.eGridDiv.appendChild(a),this.addDestroyFunc(function(){r.eGridDiv.removeChild(a),r.logger.log("Grid removed from DOM")})},i.prototype.updateLayoutClasses=function(r,a){var u=this.eRootWrapperBody.classList;u.toggle(cr.AUTO_HEIGHT,a.autoHeight),u.toggle(cr.NORMAL,a.normal),u.toggle(cr.PRINT,a.print),this.addOrRemoveCssClass(cr.AUTO_HEIGHT,a.autoHeight),this.addOrRemoveCssClass(cr.NORMAL,a.normal),this.addOrRemoveCssClass(cr.PRINT,a.print)},i.prototype.createTemplate=function(){return'<div class="ag-root-wrapper" role="presentation">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},i.prototype.getFocusableElement=function(){return this.eRootWrapperBody},i.prototype.getFocusableContainers=function(){var r=[this.gridBodyComp.getGui()];return this.sideBarComp&&r.push(this.sideBarComp.getGui()),r.filter(function(a){return Vr(a)})},Ga([$("loggerFactory")],i.prototype,"loggerFactory",void 0),Ga([be("gridBody")],i.prototype,"gridBodyComp",void 0),Ga([be("sideBar")],i.prototype,"sideBarComp",void 0),Ga([be("rootWrapperBody")],i.prototype,"eRootWrapperBody",void 0),Ga([ce],i.prototype,"postConstruct",null),i}(Ks),Ud=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),gi=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Su=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Ba=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Su(arguments[i]));return p},Zs=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}var r;return Ud(i,p),r=i,i.prototype.progressSort=function(a,u,c){var _=this.getNextSortDirection(a);this.setSortForColumn(a,_,u,c)},i.prototype.setSortForColumn=function(a,u,c,_){"asc"!==u&&"desc"!==u&&(u=null);var P=[a];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&a.getColDef().showRowGroup){a.getColDef().field||(P=[]);var L=this.columnModel.getSourceColumnsForGroupColumn(a)?.filter(function(U){return U.getColDef().sortable});L&&(P=Ba(P,L))}P.forEach(function(U){return U.setSort(u,_)}),(c||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(P,_),this.updateSortIndex(a),this.dispatchSortChangedEvents(_)},i.prototype.updateSortIndex=function(a){var u=this.gridOptionsService.isColumnsSortingCoupledToGroup(),c=this.columnModel.getGroupDisplayColumnForGroup(a.getId()),_=u&&c||a,E=this.getIndexableColumnsOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(L){return L.setSortIndex(null)});var P=E.filter(function(L){return L!==_});(_.getSort()?Ba(P,[_]):P).forEach(function(L,B){return L.setSortIndex(B)})},i.prototype.onSortChanged=function(a){this.dispatchSortChangedEvents(a)},i.prototype.isSortActive=function(){var u=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});return u&&u.length>0},i.prototype.dispatchSortChangedEvents=function(a){this.eventService.dispatchEvent({type:J.EVENT_SORT_CHANGED,source:a})},i.prototype.clearSortBarTheseColumns=function(a,u){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){a.includes(c)||c.setSort(void 0,u)})},i.prototype.getNextSortDirection=function(a){var u;if(u=a.getColDef().sortingOrder?a.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):r.DEFAULT_SORTING_ORDER,!Array.isArray(u)||u.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+u),null;var c=a.getColDef().field?a.getSort():this.getDisplaySortForColumn(a),_=u[0];if("mixed"!==c){var E=u.indexOf(c);_=E<0||E==u.length-1?u[0]:u[E+1]}return r.DEFAULT_SORTING_ORDER.indexOf(_)<0?(console.warn("AG Grid: invalid sort type "+_),null):_},i.prototype.getColumnsOrderedForSort=function(){var a=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),u={};return a.forEach(function(c,_){return u[c.getId()]=_}),a.sort(function(c,_){var E=c.getSortIndex(),P=_.getSortIndex();return null!=E&&null!=P?E-P:null==E&&null==P?u[c.getId()]>u[_.getId()]?1:-1:null==P?-1:1}),a},i.prototype.getIndexableColumnsOrdered=function(){var a=this;return this.gridOptionsService.isColumnsSortingCoupledToGroup()?this.getColumnsOrderedForSort().filter(function(u){return u.getColDef().showRowGroup?!(!u.getColDef().field||!u.getSort())||a.columnModel.getSourceColumnsForGroupColumn(u)?.some(function(_){return!!_.getSort()}):!!u.getSort()}):this.getColumnsWithSortingOrdered()},i.prototype.getColumnsWithSortingOrdered=function(){return this.getColumnsOrderedForSort().filter(function(u){return!!u.getSort()})},i.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(a){return{sort:a.getSort(),colId:a.getId()}})},i.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(a){return{sort:a.getSort(),column:a}})},i.prototype.canColumnDisplayMixedSort=function(a){var u=this.gridOptionsService.isColumnsSortingCoupledToGroup(),c=!!a.getColDef().showRowGroup;return u&&c},i.prototype.getDisplaySortForColumn=function(a){var u=this.columnModel.getSourceColumnsForGroupColumn(a);if(!this.canColumnDisplayMixedSort(a)||!u?.length)return a.getSort();var _=a.getColDef().field?Ba([a],u):u,E=_[0].getSort();return _.every(function(M){return M.getSort()==E})?E:"mixed"},i.prototype.getDisplaySortIndexForColumn=function(a){var u=this;if(!this.gridOptionsService.isColumnsSortingCoupledToGroup())return this.getColumnsWithSortingOrdered().indexOf(a);var _=this.columnModel.getGroupDisplayColumnForGroup(a.getId());return _?a.getSort()?this.getDisplaySortIndexForColumn(_):null:this.getIndexableColumnsOrdered().filter(function(P){return!u.columnModel.getGroupDisplayColumnForGroup(P.getId())}).indexOf(a)},i.DEFAULT_SORTING_ORDER=["asc","desc",null],gi([$("columnModel")],i.prototype,"columnModel",void 0),r=gi([Le("sortController")],i)}(Me),pm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),pg=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return pm(i,p),i.prototype.setMouseOver=function(r){this.selectedColumns=r,this.eventService.dispatchEvent({type:J.EVENT_COLUMN_HOVER_CHANGED})},i.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:J.EVENT_COLUMN_HOVER_CHANGED})},i.prototype.isHovered=function(r){return!!this.selectedColumns&&this.selectedColumns.indexOf(r)>=0},i=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le("columnHoverService")],i),i}(Me),fm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),$d=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Qs=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.executeNextFuncs=[],r.executeLaterFuncs=[],r.active=!1,r.animationThreadCount=0,r}return fm(i,p),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){return r.gridBodyCtrl=a.gridBodyCtrl})},i.prototype.isActive=function(){return this.active},i.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},i.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},i.prototype.executeNextVMTurn=function(r){this.active?this.executeNextFuncs.push(r):r()},i.prototype.executeLaterVMTurn=function(r){this.active?this.executeLaterFuncs.push(r):r()},i.prototype.ensureAnimationCssClassPresent=function(){var r=this;this.animationThreadCount++;var a=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){r.animationThreadCount===a&&r.gridBodyCtrl.setColumnMovingCss(!1)})},i.prototype.flush=function(){var r=this.executeNextFuncs;this.executeNextFuncs=[];var a=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==r.length||0!==a.length)&&(window.setTimeout(function(){return r.forEach(function(u){return u()})},0),window.setTimeout(function(){return a.forEach(function(u){return u()})},300))},$d([$("ctrlsService")],i.prototype,"ctrlsService",void 0),$d([ce],i.prototype,"postConstruct",null),$d([Le("columnAnimationService")],i)}(Me),hm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),fg=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},gm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return hm(i,p),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){r.centerRowContainerCon=a.centerRowContainerCtrl,r.addManagedListener(r.eventService,J.EVENT_BODY_HEIGHT_CHANGED,r.onBodyHeightChanged.bind(r)),r.addManagedListener(r.eventService,J.EVENT_SCROLL_VISIBILITY_CHANGED,r.onScrollVisibilityChanged.bind(r)),r.checkPageSize()})},i.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")},i.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},i.prototype.onBodyHeightChanged=function(){this.checkPageSize()},i.prototype.checkPageSize=function(){if(!this.notActive()){var r=this.gridOptionsService.getRowHeightAsNumber(),a=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(a>0){var u=Math.floor(a/r);this.gridOptionsService.set("paginationPageSize",u)}}},fg([$("ctrlsService")],i.prototype,"ctrlsService",void 0),fg([ce],i.prototype,"postConstruct",null),fg([Le("paginationAutoPageSizeService")],i)}(Me),vm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),hg=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},_m=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.cacheVersion=0,r}return vm(i,p),i.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},i.prototype.onDataChanged=function(){this.neverExpires||this.expire()},i.prototype.expire=function(){this.cacheVersion++},i.prototype.setValue=function(r,a,u){this.active&&(r.__cacheVersion!==this.cacheVersion&&(r.__cacheVersion=this.cacheVersion,r.__cacheData={}),r.__cacheData[a]=u)},i.prototype.getValue=function(r,a){if(this.active&&r.__cacheVersion===this.cacheVersion)return r.__cacheData[a]},hg([ce],i.prototype,"init",null),hg([Le("valueCache")],i)}(Me),ym=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},gg=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return ym(i,p),i.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,J.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},i.prototype.onCellValueChanged=function(r){"paste"!==r.source&&this.doChangeDetection(r.node,r.column)},i.prototype.doChangeDetection=function(r,a){if(!this.gridOptionsService.is("suppressChangeDetection")){if(this.clientSideRowModel&&!r.isRowPinned()){var u=this.gridOptionsService.is("aggregateOnlyChangedColumns"),c=new st(u,this.clientSideRowModel.getRootNode());c.addParentNode(r.parent,[a]),this.clientSideRowModel.doAggregate(c)}this.rowRenderer.refreshCells()}},wu([$("rowModel")],i.prototype,"rowModel",void 0),wu([$("rowRenderer")],i.prototype,"rowRenderer",void 0),wu([ce],i.prototype,"init",null),wu([Le("changeDetectionService")],i)}(Me),vg=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_g=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},jd=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return vg(i,p),i.prototype.adaptFunction=function(r,a){var u=this.componentMetadataProvider.retrieve(r);return u&&u.functionAdapter?u.functionAdapter(a):null},i.prototype.adaptCellRendererFunction=function(r){return function(){function u(){}return u.prototype.refresh=function(c){return!1},u.prototype.getGui=function(){return this.eGui},u.prototype.init=function(c){var _=r(c),E=typeof _;this.eGui="string"!==E&&"number"!==E&&"boolean"!==E?null!=_?_:gr("<span></span>"):gr("<span>"+_+"</span>")},u}()},i.prototype.doesImplementIComponent=function(r){return!!r&&r.prototype&&"getGui"in r.prototype},_g([$("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),_g([Le("agComponentUtils")],i)}(Me),Cm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Kd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Em=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Cm(i,p),i.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},i.prototype.retrieve=function(r){return this.componentMetaData[r]},Kd([$("agComponentUtils")],i.prototype,"agComponentUtils",void 0),Kd([ce],i.prototype,"postConstruct",null),Kd([Le("componentMetadataProvider")],i)}(Me),Sm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),zd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},wm=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Du={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Cg={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Dm=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.calculatedSizes={},r}return Sm(i,p),i.prototype.postConstruct=function(){var a,r=this,u=null!==(a=this.getTheme().el)&&void 0!==a?a:this.eGridDiv;this.mutationObserver=new MutationObserver(function(){r.calculatedSizes={},r.fireGridStylesChangedEvent()}),this.mutationObserver.observe(u||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},i.prototype.fireGridStylesChangedEvent=function(){this.eventService.dispatchEvent({type:J.EVENT_GRID_STYLES_CHANGED})},i.prototype.getSassVariable=function(r){var a=this.getTheme(),u=a.themeFamily,c=a.el;if(u&&0===u.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[u]||(this.calculatedSizes[u]={}),this.calculatedSizes[u][r]??(this.calculatedSizes[u][r]=this.calculateValueForSassProperty(r,u,c),this.calculatedSizes[u][r])},i.prototype.calculateValueForSassProperty=function(r,a,u){var c,_="ag-theme-"+(a.match("material")?"material":a.match("balham")?"balham":a.match("alpine")?"alpine":"custom"),E=Du[_][r],P=this.gridOptionsService.getDocument();if(u||(u=this.eGridDiv),!Cg[r])return E;var M=Cg[r],L=P.createElement("div"),B=Array.from(u.classList);(c=L.classList).add.apply(c,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(wm(arguments[i]));return p}([a],B)),L.style.position="absolute";var U=M.reduce(function(oe,le){var fe=P.createElement("div");return fe.style.position="static",fe.classList.add(le),oe.appendChild(fe),fe},L),X=0;if(P.body){P.body.appendChild(L);var Q=-1!==r.toLowerCase().indexOf("height")?"height":"width";X=parseInt(window.getComputedStyle(U)[Q],10),P.body.removeChild(L)}return X||E},i.prototype.isThemeDark=function(){var r=this.getTheme().theme;return!!r&&r.indexOf("dark")>=0},i.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},i.prototype.getTheme=function(){for(var r=/\bag-(material|(?:theme-([\w\-]*)))\b/g,a=this.eGridDiv,u=null,c=[];a;){if(u=r.exec(a.className)){var _=a.className.match(r);_&&(c=_);break}a=a.parentElement||void 0}if(!u)return{allThemes:c};var E=u[0];return{theme:E,el:a,themeFamily:E.replace(/-dark$/,""),allThemes:c}},i.prototype.getFromTheme=function(r,a){var u;return null!==(u=this.getSassVariable(a))&&void 0!==u?u:r},i.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},i.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},i.prototype.setRowHeightVariable=function(r){var u=r+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=u&&this.eGridDiv.style.setProperty("--ag-line-height",u)},i.prototype.getMinColWidth=function(){var r=this.getFromTheme(null,"headerCellMinWidth");return o(r)?Math.max(r,10):10},i.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),p.prototype.destroy.call(this)},zd([$("eGridDiv")],i.prototype,"eGridDiv",void 0),zd([ce],i.prototype,"postConstruct",null),zd([Le("environment")],i)}(Me),Xd=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),bu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},vi=function(p,i){return function(r,a){i(r,a,p)}},el=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.scrollY=0,r.uiBodyHeight=0,r}return Xd(i,p),i.prototype.agWire=function(r){this.logger=r.create("RowContainerHeightService")},i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,J.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=lf(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},i.prototype.isStretching=function(){return this.stretching},i.prototype.getDivStretchOffset=function(){return this.divStretchOffset},i.prototype.updateOffset=function(){if(this.stretching){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,u=this.getUiBodyHeight();(a!==this.scrollY||u!==this.uiBodyHeight)&&(this.scrollY=a,this.uiBodyHeight=u,this.calculateOffset())}},i.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var r=this.scrollY/this.maxScrollY,a=r*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+a+" ("+this.pixelsToShave+" * "+r+")"),this.setDivStretchOffset(a)},i.prototype.setUiContainerHeight=function(r){r!==this.uiContainerHeight&&(this.uiContainerHeight=r,this.eventService.dispatchEvent({type:J.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},i.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},i.prototype.setDivStretchOffset=function(r){var a="number"==typeof r?Math.floor(r):null;this.divStretchOffset!==a&&(this.divStretchOffset=a,this.eventService.dispatchEvent({type:J.EVENT_HEIGHT_SCALE_CHANGED}))},i.prototype.setModelHeight=function(r){this.modelHeight=r,this.stretching=null!=r&&this.maxDivHeight>0&&r>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},i.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},i.prototype.getRealPixelPosition=function(r){return r-this.divStretchOffset},i.prototype.getUiBodyHeight=function(){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return a.bottom-a.top},i.prototype.getScrollPositionForPixel=function(r){if(this.pixelsToShave<=0)return r;var a=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(r/a)},bu([$("ctrlsService")],i.prototype,"ctrlsService",void 0),bu([vi(0,ar("loggerFactory"))],i.prototype,"agWire",null),bu([ce],i.prototype,"postConstruct",null),bu([Le("rowContainerHeightService")],i)}(Me),zr=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_o=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Pu=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return zr(i,p),i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},i.prototype.updateSelectableAfterGrouping=function(r){this.isRowSelectableFunc&&this.recurseDown(r.childrenAfterGroup,function(u){return u.childrenAfterGroup})},i.prototype.recurseDown=function(r,a){var u=this;r&&r.forEach(function(c){var _;c.group&&(c.hasChildren()&&u.recurseDown(a(c),a),_=u.groupSelectsChildren?o((a(c)||[]).find(function(P){return!0===P.selectable})):!!u.isRowSelectableFunc&&u.isRowSelectableFunc(c),c.setRowSelectable(_))})},_o([ce],i.prototype,"init",null),_o([Le("selectableService")],i)}(Me),Nn=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ka=function(p){function i(){var r=p.call(this)||this;return r.previousAndFirstButtonsDisabled=!1,r.nextButtonDisabled=!1,r.lastButtonDisabled=!1,r.areListenersSetup=!1,r}return Nn(i,p),i.prototype.postConstruct=function(){var r=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Vt(r?"last":"first",this.gridOptionsService)),this.btPrevious.insertAdjacentElement("afterbegin",Vt(r?"next":"previous",this.gridOptionsService)),this.btNext.insertAdjacentElement("afterbegin",Vt(r?"previous":"next",this.gridOptionsService)),this.btLast.insertAdjacentElement("afterbegin",Vt(r?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},i.prototype.onPaginationChanged=function(){var a=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(a),a&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},i.prototype.setupListeners=function(){var r=this;this.areListenersSetup||(this.addManagedListener(this.eventService,J.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(a){var u=a.el,c=a.fn;r.addManagedListener(u,"click",c),r.addManagedListener(u,"keydown",function(_){(_.key===ve.ENTER||_.key===ve.SPACE)&&(_.preventDefault(),c())})}),this.areListenersSetup=!0)},i.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},i.prototype.setCurrentPageLabel=function(){var r=this.paginationProxy.getTotalPages()>0,a=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(r?a+1:0)},i.prototype.formatNumber=function(r){var a=this.gridOptionsService.getCallback("paginationNumberFormatter");if(a)return a({value:r});var c=this.localeService.getLocaleTextFunc();return Zr(r,c("thousandSeparator",","),c("decimalSeparator","."))},i.prototype.getTemplate=function(){var r=this.localeService.getLocaleTextFunc(),a=r("page","Page"),u=r("to","to"),c=r("of","of"),_=r("firstPage","First Page"),E=r("previousPage","Previous Page"),P=r("nextPage","Next Page"),M=r("lastPage","Last Page"),L=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+L+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+L+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+L+'-to">'+u+'</span>\n                    <span id="ag-'+L+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+L+'-of">'+c+'</span>\n                    <span id="ag-'+L+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+_+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+E+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+L+'-start-page">'+a+'</span>\n                        <span id="ag-'+L+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+L+'-of-page">'+c+'</span>\n                        <span id="ag-'+L+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+P+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+M+'"></div>\n                </span>\n            </div>'},i.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},i.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},i.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},i.prototype.enableOrDisableButtons=function(){var r=this.paginationProxy.getCurrentPage(),a=this.paginationProxy.isLastPageFound(),u=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===r,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var c=this.isZeroPagesToDisplay();this.nextButtonDisabled=a&&r===u-1||c,this.lastButtonDisabled=!a||c||r===u-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},i.prototype.toggleButtonDisabled=function(r,a){af(r,a),r.classList.toggle("ag-disabled",a),a?r.removeAttribute("tabindex"):r.setAttribute("tabindex","0")},i.prototype.updateRowLabels=function(){var _,E,r=this.paginationProxy.getCurrentPage(),a=this.paginationProxy.getPageSize(),u=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?_=E=0:(E=(_=a*r+1)+a-1,u&&E>c&&(E=c)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(_),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(E)},i.prototype.isZeroPagesToDisplay=function(){var r=this.paginationProxy.isLastPageFound(),a=this.paginationProxy.getTotalPages();return r&&0===a},i.prototype.setTotalLabels=function(){var r=this.paginationProxy.isLastPageFound(),a=this.paginationProxy.getTotalPages(),u=r?this.paginationProxy.getMasterRowCount():null;if(1===u){var c=this.paginationProxy.getRow(0);if(c&&c.group&&!c.groupData&&!c.aggData)return void this.setTotalLabelsToZero()}if(r)this.lbTotal.innerHTML=this.formatNumber(a),this.lbRecordCount.innerHTML=this.formatNumber(u);else{var E=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=E,this.lbRecordCount.innerHTML=E}},i.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},wn([$("paginationProxy")],i.prototype,"paginationProxy",void 0),wn([$("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),wn([be("btFirst")],i.prototype,"btFirst",void 0),wn([be("btPrevious")],i.prototype,"btPrevious",void 0),wn([be("btNext")],i.prototype,"btNext",void 0),wn([be("btLast")],i.prototype,"btLast",void 0),wn([be("lbRecordCount")],i.prototype,"lbRecordCount",void 0),wn([be("lbFirstRowOnPage")],i.prototype,"lbFirstRowOnPage",void 0),wn([be("lbLastRowOnPage")],i.prototype,"lbLastRowOnPage",void 0),wn([be("lbCurrent")],i.prototype,"lbCurrent",void 0),wn([be("lbTotal")],i.prototype,"lbTotal",void 0),wn([ce],i.prototype,"postConstruct",null),i}(Ge),Va=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Zn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Gn=(()=>(function(p){p[p.Loading=0]="Loading",p[p.NoRows=1]="NoRows"}(Gn||(Gn={})),Gn))(),Wa=function(p){function i(){var r=p.call(this,i.TEMPLATE)||this;return r.inProgress=!1,r.destroyRequested=!1,r.manuallyDisplayed=!1,r}return Va(i,p),i.prototype.updateLayoutClasses=function(r,a){var u=this.eOverlayWrapper.classList;u.toggle(cr.AUTO_HEIGHT,a.autoHeight),u.toggle(cr.NORMAL,a.normal),u.toggle(cr.PRINT,a.print)},i.prototype.postConstruct=function(){this.createManagedBean(new $c(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,J.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,J.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},i.prototype.setWrapperTypeClass=function(r){var a=this.eOverlayWrapper.classList;a.toggle("ag-overlay-loading-wrapper",r===Gn.Loading),a.toggle("ag-overlay-no-rows-wrapper",r===Gn.NoRows)},i.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var u=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(u,Gn.Loading)}},i.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var u=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(u,Gn.NoRows)}},i.prototype.showOverlay=function(r,a){var u=this;this.inProgress||(this.setWrapperTypeClass(a),this.destroyActiveOverlay(),this.inProgress=!0,r&&r.then(function(c){u.inProgress=!1,u.eOverlayWrapper.appendChild(c.getGui()),u.activeOverlay=c,u.destroyRequested&&(u.destroyRequested=!1,u.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},i.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),kt(this.eOverlayWrapper))},i.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},i.prototype.destroy=function(){this.destroyActiveOverlay(),p.prototype.destroy.call(this)},i.prototype.showOrHideOverlay=function(){var r=this.paginationProxy.isEmpty(),a=this.gridOptionsService.is("suppressNoRowsOverlay");r&&!a?this.showNoRowsOverlay():this.hideOverlay()},i.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},i.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},i.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Zn([$("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Zn([$("paginationProxy")],i.prototype,"paginationProxy",void 0),Zn([$("gridApi")],i.prototype,"gridApi",void 0),Zn([$("columnModel")],i.prototype,"columnModel",void 0),Zn([be("eOverlayWrapper")],i.prototype,"eOverlayWrapper",void 0),Zn([ce],i.prototype,"postConstruct",null),i}(Ge),Ha=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Bi=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ua=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Ha(i,p),i.prototype.getFirstRow=function(){var a,r=0;return this.pinnedRowModel.getPinnedTopRowCount()?a="top":this.rowModel.getRowCount()?(a=null,r=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(a="bottom"),void 0===a?null:{rowIndex:r,rowPinned:a}},i.prototype.getLastRow=function(){var r,a=null,u=this.pinnedRowModel.getPinnedBottomRowCount(),c=this.pinnedRowModel.getPinnedTopRowCount();return u?(a="bottom",r=u-1):this.rowModel.getRowCount()?(a=null,r=this.paginationProxy.getPageLastRow()):c&&(a="top",r=c-1),void 0===r?null:{rowIndex:r,rowPinned:a}},i.prototype.getRowNode=function(r){switch(r.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},i.prototype.sameRow=function(r,a){return!r&&!a||!(r&&!a||!r&&a)&&r.rowIndex===a.rowIndex&&r.rowPinned==a.rowPinned},i.prototype.before=function(r,a){switch(r.rowPinned){case"top":if("top"!==a.rowPinned)return!0;break;case"bottom":if("bottom"!==a.rowPinned)return!1;break;default:if(o(a.rowPinned))return"top"!==a.rowPinned}return r.rowIndex<a.rowIndex},i.prototype.rowMax=function(r){var u,a=this;return r.forEach(function(c){(void 0===u||a.before(u,c))&&(u=c)}),u},i.prototype.rowMin=function(r){var u,a=this;return r.forEach(function(c){(void 0===u||a.before(c,u))&&(u=c)}),u},Bi([$("rowModel")],i.prototype,"rowModel",void 0),Bi([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Bi([$("paginationProxy")],i.prototype,"paginationProxy",void 0),Bi([Le("rowPositionUtils")],i)}(Me),$a=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Sg=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return $a(i,p),i.prototype.createId=function(r){return this.createIdFromValues({rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned})},i.prototype.createIdFromValues=function(r){return r.rowIndex+"."+(r.rowPinned??"null")+"."+r.column.getId()},i.prototype.equals=function(r,a){return r.column===a.column&&r.rowPinned===a.rowPinned&&r.rowIndex===a.rowIndex},i=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le("cellPositionUtils")],i),i}(Me),wg=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ja=function p(i){this.cellValueChanges=i},Ru=function(p){function i(r,a,u,c){var _=p.call(this,r)||this;return _.initialRange=a,_.finalRange=u,_.ranges=c,_}return wg(i,p),i}(ja),Jd=function(){function p(i){this.actionStack=[],this.maxStackSize=i||p.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return p.prototype.pop=function(){return this.actionStack.pop()},p.prototype.push=function(i){i.cellValueChanges&&i.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(i))},p.prototype.clear=function(){this.actionStack=[]},p.prototype.getCurrentStackSize=function(){return this.actionStack.length},p.DEFAULT_STACK_SIZE=10,p}(),Og=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),tl=function(){return tl=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},tl.apply(this,arguments)},Qn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},bm=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Rm=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.cellValueChanges=[],r.activeCellEdit=null,r.activeRowEdit=null,r.isPasting=!1,r.isRangeInAction=!1,r.onCellValueChanged=function(a){var u={column:a.column,rowIndex:a.rowIndex,rowPinned:a.rowPinned},c=null!==r.activeCellEdit&&r.cellPositionUtils.equals(r.activeCellEdit,u),_=null!==r.activeRowEdit&&r.rowPositionUtils.sameRow(r.activeRowEdit,u);if(c||_||r.isPasting||r.isRangeInAction){var B=a.oldValue,U=a.value,X={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:a.column.getColId(),newValue:U,oldValue:B};r.cellValueChanges.push(X)}},r.clearStacks=function(){r.undoStack.clear(),r.redoStack.clear()},r}return Og(i,p),i.prototype.init=function(){var r=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var a=this.gridOptionsService.getNum("undoRedoCellEditingLimit");a<=0||(this.undoStack=new Jd(a),this.redoStack=new Jd(a),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,J.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,J.EVENT_MODEL_UPDATED,function(u){u.keepUndoRedoStack||r.clearStacks()}),this.addManagedListener(this.eventService,J.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,J.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,J.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,J.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,J.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,J.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,J.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,J.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl()}))}},i.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},i.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},i.prototype.undo=function(r){this.eventService.dispatchEvent({type:J.EVENT_UNDO_STARTED,source:r});var u=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:J.EVENT_UNDO_ENDED,source:r,operationPerformed:u})},i.prototype.redo=function(r){this.eventService.dispatchEvent({type:J.EVENT_REDO_STARTED,source:r});var u=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:J.EVENT_REDO_ENDED,source:r,operationPerformed:u})},i.prototype.undoRedo=function(r,a,u,c,_){if(!r)return!1;var E=r.pop();return!(!E||!E.cellValueChanges||(this.processAction(E,function(P){return P[c]},_),E instanceof Ru?this.processRange(E.ranges||[E[u]]):this.processCell(E.cellValueChanges),a.push(E),0))},i.prototype.processAction=function(r,a,u){var c=this;r.cellValueChanges.forEach(function(_){var M=_.columnId,B=c.getRowNode({rowIndex:_.rowIndex,rowPinned:_.rowPinned});B.displayed&&B.setDataValue(M,a(_),u)})},i.prototype.processRange=function(r){var u,a=this;this.rangeService.removeAllCellRanges(!0),r.forEach(function(c,_){if(c){var E=c.startRow,P=c.endRow;_===r.length-1&&(u={rowPinned:E.rowPinned,rowIndex:E.rowIndex,columnId:c.startColumn.getColId()},a.setLastFocusedCell(u)),a.rangeService.addCellRange({rowStartIndex:E.rowIndex,rowStartPinned:E.rowPinned,rowEndIndex:P.rowIndex,rowEndPinned:P.rowPinned,columnStart:c.startColumn,columns:c.columns})}})},i.prototype.processCell=function(r){var a=r[0],E=this.getRowNode({rowIndex:a.rowIndex,rowPinned:a.rowPinned});this.setLastFocusedCell({rowPinned:a.rowPinned,rowIndex:E.rowIndex,columnId:a.columnId},!!this.rangeService)},i.prototype.setLastFocusedCell=function(r,a){var u=r.rowIndex,c=r.columnId,_=r.rowPinned,E=this.gridBodyCtrl.getScrollFeature(),P=this.columnModel.getGridColumn(c);if(P){E.ensureIndexVisible(u),E.ensureColumnVisible(P);var M={rowIndex:u,column:P,rowPinned:_};this.focusService.setFocusedCell(tl(tl({},M),{forceBrowserFocus:!0})),a&&this.rangeService.setRangeToCell(M)}},i.prototype.addRowEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,J.EVENT_ROW_EDITING_STARTED,function(a){r.activeRowEdit={rowIndex:a.rowIndex,rowPinned:a.rowPinned}}),this.addManagedListener(this.eventService,J.EVENT_ROW_EDITING_STOPPED,function(){var a=new ja(r.cellValueChanges);r.pushActionsToUndoStack(a),r.activeRowEdit=null})},i.prototype.addCellEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,J.EVENT_CELL_EDITING_STARTED,function(a){r.activeCellEdit={column:a.column,rowIndex:a.rowIndex,rowPinned:a.rowPinned}}),this.addManagedListener(this.eventService,J.EVENT_CELL_EDITING_STOPPED,function(a){if(r.activeCellEdit=null,a.valueChanged&&!r.activeRowEdit&&!r.isPasting&&!r.isRangeInAction){var c=new ja(r.cellValueChanges);r.pushActionsToUndoStack(c)}})},i.prototype.addPasteListeners=function(){var r=this;this.addManagedListener(this.eventService,J.EVENT_PASTE_START,function(){r.isPasting=!0}),this.addManagedListener(this.eventService,J.EVENT_PASTE_END,function(){var a=new ja(r.cellValueChanges);r.pushActionsToUndoStack(a),r.isPasting=!1})},i.prototype.addFillListeners=function(){var r=this;this.addManagedListener(this.eventService,J.EVENT_FILL_START,function(){r.isRangeInAction=!0}),this.addManagedListener(this.eventService,J.EVENT_FILL_END,function(a){var u=new Ru(r.cellValueChanges,a.initialRange,a.finalRange);r.pushActionsToUndoStack(u),r.isRangeInAction=!1})},i.prototype.addCellKeyListeners=function(){var r=this;this.addManagedListener(this.eventService,J.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){r.isRangeInAction=!0}),this.addManagedListener(this.eventService,J.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var a;a=r.rangeService&&r.gridOptionsService.isEnableRangeSelection()?new Ru(r.cellValueChanges,void 0,void 0,function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(bm(arguments[i]));return p}(r.rangeService.getCellRanges())):new ja(r.cellValueChanges),r.pushActionsToUndoStack(a),r.isRangeInAction=!1})},i.prototype.pushActionsToUndoStack=function(r){this.undoStack.push(r),this.cellValueChanges=[],this.redoStack.clear()},i.prototype.getRowNode=function(r){switch(r.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},Qn([$("focusService")],i.prototype,"focusService",void 0),Qn([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Qn([$("rowModel")],i.prototype,"rowModel",void 0),Qn([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Qn([$("cellPositionUtils")],i.prototype,"cellPositionUtils",void 0),Qn([$("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),Qn([$("columnModel")],i.prototype,"columnModel",void 0),Qn([gt("rangeService")],i.prototype,"rangeService",void 0),Qn([ce],i.prototype,"init",null),Qn([Le("undoRedoService")],i)}(Me),Tm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Zd=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Tu=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Tm(i,p),i.prototype.findHeader=function(r,a){var u;if(u=r.column instanceof Mr?this.columnModel["getDisplayedGroup"+a](r.column):this.columnModel["getDisplayedCol"+a](r.column))return{column:u,headerRowIndex:r.headerRowIndex}},i.prototype.findColAtEdgeForHeaderRow=function(r,a){var u=this.columnModel.getAllDisplayedColumns(),c=u["start"===a?0:u.length-1];if(c){var E=this.ctrlsService.getHeaderRowContainerCtrl(c.getPinned()).getRowType(r);return E==Kr.COLUMN_GROUP?{headerRowIndex:r,column:this.columnModel.getColumnGroupAtLevel(c,r)}:{headerRowIndex:null==E?-1:r,column:c}}},Zd([$("columnModel")],i.prototype,"columnModel",void 0),Zd([$("ctrlsService")],i.prototype,"ctrlsService",void 0),Zd([Le("headerPositionUtils")],i)}(Me),Mm=function(){function p(){}return p.prototype.buildColumnDefs=function(i,r,a){var u=this,c=[],_={};return i.forEach(function(E){for(var M=!0,L=u.createDefFromColumn(E,r,a),B=E.getOriginalParent();B;){var U=null;if(B.isPadding())B=B.getOriginalParent();else{var X=_[B.getGroupId()];if(X){X.children.push(L),M=!1;break}(U=u.createDefFromGroup(B))&&(U.children=[L],_[U.groupId]=U,L=U,B=B.getOriginalParent())}}M&&c.push(L)}),c},p.prototype.createDefFromGroup=function(i){var r=j(i.getColGroupDef(),["children"]);return r&&(r.groupId=i.getGroupId()),r},p.prototype.createDefFromColumn=function(i,r,a){var u=j(i.getColDef());return u.colId=i.getColId(),u.width=i.getActualWidth(),u.rowGroup=i.isRowGroupActive(),u.rowGroupIndex=i.isRowGroupActive()?r.indexOf(i):null,u.pivot=i.isPivotActive(),u.pivotIndex=i.isPivotActive()?a.indexOf(i):null,u.aggFunc=i.isValueActive()?i.getAggFunc():null,u.hide=!i.isVisible()||void 0,u.pinned=i.isPinned()?i.getPinned():null,u.sort=i.getSort()?i.getSort():null,u.sortIndex=null!=i.getSortIndex()?i.getSortIndex():null,u},p=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le("columnDefFactory")],p),p}(),Yr=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},On=function(){function p(){}return p.prototype.getInitialRowClasses=function(i){var r=[];return o(i.extraCssClass)&&r.push(i.extraCssClass),r.push("ag-row"),r.push(i.rowFocused?"ag-row-focus":"ag-row-no-focus"),i.fadeRowIn&&r.push("ag-opacity-zero"),r.push(i.rowIsEven?"ag-row-even":"ag-row-odd"),i.rowNode.isRowPinned()&&r.push("ag-row-pinned"),i.rowNode.isSelected()&&r.push("ag-row-selected"),i.rowNode.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+i.rowLevel),i.rowNode.stub&&r.push("ag-row-loading"),i.fullWidthRow&&r.push("ag-full-width-row"),i.expandable&&(r.push("ag-row-group"),r.push(i.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),i.rowNode.dragging&&r.push("ag-row-dragging"),Yu(r,this.processClassesFromGridOptions(i.rowNode)),Yu(r,this.preProcessRowClassRules(i.rowNode)),r.push(i.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),i.firstRowOnPage&&r.push("ag-row-first"),i.lastRowOnPage&&r.push("ag-row-last"),i.fullWidthRow&&("left"===i.pinned&&r.push("ag-cell-last-left-pinned"),"right"===i.pinned&&r.push("ag-cell-first-right-pinned")),r},p.prototype.processClassesFromGridOptions=function(i){var r=[],a=function(P){"string"==typeof P?r.push(P):Array.isArray(P)&&P.forEach(function(M){return r.push(M)})},u=this.gridOptionsService.get("rowClass");if(u){if("function"==typeof u)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];a(u)}var c=this.gridOptionsService.getCallback("getRowClass");return c&&a(c({data:i.data,node:i,rowIndex:i.rowIndex})),r},p.prototype.preProcessRowClassRules=function(i){var r=[];return this.processRowClassRules(i,function(a){r.push(a)},function(a){}),r},p.prototype.processRowClassRules=function(i,r,a){var u={data:i.data,node:i,rowIndex:i.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),u,r,a)},p.prototype.calculateRowLevel=function(i){return i.group?i.level:i.parent?i.parent.level+1:0},Yr([$("stylingService")],p.prototype,"stylingService",void 0),Yr([$("gridOptionsService")],p.prototype,"gridOptionsService",void 0),Yr([Le("rowCssClassCalculator")],p)}(),ep=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Mu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},tp=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return ep(i,p),i.prototype.init=function(){var r=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(a){return r.isAccentedSort=a.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return r.primaryColumnsSortGroups=r.gridOptionsService.isColumnsSortingCoupledToGroup()})},i.prototype.doFullSort=function(r,a){var c=r.map(function(_,E){return{currentPos:E,rowNode:_}});return c.sort(this.compareRowNodes.bind(this,a)),c.map(function(_){return _.rowNode})},i.prototype.compareRowNodes=function(r,a,u){for(var c=a.rowNode,_=u.rowNode,E=0,P=r.length;E<P;E++){var X,M=r[E],L="desc"===M.sort,B=this.getValue(c,M.column),U=this.getValue(_,M.column),Q=this.getComparator(M,c);if(X=Q?Q(B,U,c,_,L):Ye.defaultComparator(B,U,this.isAccentedSort),!isNaN(X)&&0!==X)return"asc"===M.sort?X:-1*X}return a.currentPos-u.currentPos},i.prototype.getComparator=function(r,a){var u=r.column,c=u.getColDef().comparator;if(null!=c)return c;if(u.getColDef().showRowGroup){var _=!a.group&&u.getColDef().field;if(_){var E=this.columnModel.getPrimaryColumn(_);if(E)return E.getColDef().comparator}}},i.prototype.getValue=function(r,a){var u,c;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(a,r,!1,!1);if(r.rowGroupColumn===a){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(a.getColDef().keyCreator)return r.key;var M=null===(u=r.allLeafChildren)||void 0===u?void 0:u[0];return M?this.valueService.getValue(a,M,!1,!1):void 0}var L=this.columnModel.getGroupDisplayColumnForGroup(a.getId());return L?null===(c=r.groupData)||void 0===c?void 0:c[L.getId()]:void 0}return r.group&&a.getColDef().showRowGroup?void 0:this.valueService.getValue(a,r,!1,!1)},Mu([$("valueService")],i.prototype,"valueService",void 0),Mu([$("columnModel")],i.prototype,"columnModel",void 0),Mu([ce],i.prototype,"init",null),Mu([Le("rowNodeSorter")],i)}(Me),rp=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Am=function(p){function i(){var a=null!==p&&p.apply(this,arguments)||this;return a.ready=!1,a.readyCallbacks=[],a}var r;return rp(i,p),r=i,i.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var a=this.createReadyParams();this.readyCallbacks.forEach(function(u){return u(a)}),this.readyCallbacks.length=0}},i.prototype.whenReady=function(a){this.ready?a(this.createReadyParams()):this.readyCallbacks.push(a)},i.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},i.prototype.registerFakeHScrollComp=function(a){this.fakeHScrollComp=a,this.checkReady()},i.prototype.registerFakeVScrollComp=function(a){this.fakeVScrollComp=a,this.checkReady()},i.prototype.registerGridHeaderCtrl=function(a){this.gridHeaderCtrl=a,this.checkReady()},i.prototype.registerCenterRowContainerCtrl=function(a){this.centerRowContainerCtrl=a,this.checkReady()},i.prototype.registerLeftRowContainerCtrl=function(a){this.leftRowContainerCtrl=a,this.checkReady()},i.prototype.registerRightRowContainerCtrl=function(a){this.rightRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopCenterRowContainerCtrl=function(a){this.topCenterRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopLeftRowContainerCon=function(a){this.topLeftRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopRightRowContainerCtrl=function(a){this.topRightRowContainerCtrl=a,this.checkReady()},i.prototype.registerStickyTopCenterRowContainerCtrl=function(a){this.stickyTopCenterRowContainerCtrl=a,this.checkReady()},i.prototype.registerStickyTopLeftRowContainerCon=function(a){this.stickyTopLeftRowContainerCtrl=a,this.checkReady()},i.prototype.registerStickyTopRightRowContainerCtrl=function(a){this.stickyTopRightRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomCenterRowContainerCtrl=function(a){this.bottomCenterRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomLeftRowContainerCtrl=function(a){this.bottomLeftRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomRightRowContainerCtrl=function(a){this.bottomRightRowContainerCtrl=a,this.checkReady()},i.prototype.registerHeaderContainer=function(a,u){switch(u){case"left":this.leftHeaderRowContainerCtrl=a;break;case"right":this.rightHeaderRowContainerCtrl=a;break;default:this.centerHeaderRowContainerCtrl=a}this.checkReady()},i.prototype.registerGridBodyCtrl=function(a){this.gridBodyCtrl=a,this.checkReady()},i.prototype.registerGridCtrl=function(a){this.gridCtrl=a,this.checkReady()},i.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},i.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},i.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},i.prototype.getGridCtrl=function(){return this.gridCtrl},i.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},i.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},i.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},i.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},i.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},i.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},i.prototype.getHeaderRowContainerCtrl=function(a){switch(a){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},i.NAME="ctrlsService",i=r=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le(r.NAME)],i),i}(Me),np=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),xm=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.registry={},r}return np(i,p),i.prototype.register=function(r){this.registry[r.controllerName]=r.controllerClass},i.prototype.getInstance=function(r){var a=this.registry[r];if(null!=a)return new a},i=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le("ctrlsFactory")],i),i}(Me),_i=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),rl=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Pg=function(p){function i(r,a){var u=p.call(this,r)||this;return u.direction=a,u.hideTimeout=null,u}return _i(i,p),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,J.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Vn()||Mn())},i.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=ra(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},i.prototype.addActiveListenerToggles=function(){var r=this,c=this.getGui();["mouseenter","mousedown","touchstart"].forEach(function(_){return r.addManagedListener(c,_,function(){return r.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(_){return r.addManagedListener(c,_,function(){return r.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},i.prototype.onScrollVisibilityChanged=function(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.setScrollVisible()},i.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var r=this;this.addManagedListener(this.eventService,J.EVENT_BODY_SCROLL,function(a){a.direction===r.direction&&(null!==r.hideTimeout&&(window.clearTimeout(r.hideTimeout),r.hideTimeout=null),r.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,J.EVENT_BODY_SCROLL_END,function(){r.hideTimeout=window.setTimeout(function(){r.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),r.hideTimeout=null},400)})},i.prototype.getViewport=function(){return this.eViewport},i.prototype.getContainer=function(){return this.eContainer},rl([be("eViewport")],i.prototype,"eViewport",void 0),rl([be("eContainer")],i.prototype,"eContainer",void 0),rl([$("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),rl([$("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(Ge),Rg=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ka=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Tg=function(p){function i(){return p.call(this,i.TEMPLATE,"horizontal")||this}return Rg(i,p),i.prototype.postConstruct=function(){var r=this;p.prototype.postConstruct.call(this);var a=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,a),this.addManagedListener(this.eventService,J.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",a),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new ru(function(u){return r.eContainer.style.width=u+"px"}))},i.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),p.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},i.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},i.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var r=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=r+"px"}},i.prototype.onScrollVisibilityChanged=function(){p.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},i.prototype.setFakeHScrollSpacerWidths=function(){var r=this.scrollVisibleService.isVerticalScrollShowing(),a=this.columnModel.getDisplayedColumnsRightWidth(),u=!this.enableRtl&&r,c=this.gridOptionsService.getScrollbarWidth();u&&(a+=c),Un(this.eRightSpacer,a),this.eRightSpacer.classList.toggle("ag-scroller-corner",a<=c);var _=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&r&&(_+=c),Un(this.eLeftSpacer,_),this.eLeftSpacer.classList.toggle("ag-scroller-corner",_<=c)},i.prototype.setScrollVisible=function(){var r=this.scrollVisibleService.isHorizontalScrollShowing(),a=this.invisibleScrollbar,u=this.gridOptionsService.is("suppressHorizontalScroll"),c=r&&this.gridOptionsService.getScrollbarWidth()||0,E=u?0:0===c&&a?16:c;this.addOrRemoveCssClass("ag-scrollbar-invisible",a),ia(this.getGui(),E),ia(this.eViewport,E),ia(this.eContainer,E),this.setDisplayed(r,{skipAriaHidden:!0})},i.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Ka([be("eLeftSpacer")],i.prototype,"eLeftSpacer",void 0),Ka([be("eRightSpacer")],i.prototype,"eRightSpacer",void 0),Ka([$("columnModel")],i.prototype,"columnModel",void 0),Ka([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ka([ce],i.prototype,"postConstruct",null),i}(Pg),Im=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ip=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Lm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Im(i,p),i.prototype.postConstruct=function(){var r=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,J.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedPropertyListener("domLayout",r)},i.prototype.checkContainerWidths=function(){var r=this.gridOptionsService.isDomLayout("print"),a=r?0:this.columnModel.getDisplayedColumnsLeftWidth(),u=r?0:this.columnModel.getDisplayedColumnsRightWidth();a!=this.leftWidth&&(this.leftWidth=a,this.eventService.dispatchEvent({type:J.EVENT_LEFT_PINNED_WIDTH_CHANGED})),u!=this.rightWidth&&(this.rightWidth=u,this.eventService.dispatchEvent({type:J.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},i.prototype.getPinnedRightWidth=function(){return this.rightWidth},i.prototype.getPinnedLeftWidth=function(){return this.leftWidth},ip([$("columnModel")],i.prototype,"columnModel",void 0),ip([ce],i.prototype,"postConstruct",null),ip([Le("pinnedWidthService")],i)}(Me),Fm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),nl=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},op=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.events=[],r}return Fm(i,p),i.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},i.prototype.dispatchExpanded=function(r){var a=this;null!=this.clientSideRowModel?(this.events.push(r),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){a.clientSideRowModel&&a.clientSideRowModel.onRowGroupOpened(),a.events.forEach(function(c){return a.eventService.dispatchEvent(c)}),a.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(r)},nl([$("animationFrameService")],i.prototype,"animationFrameService",void 0),nl([$("rowModel")],i.prototype,"rowModel",void 0),nl([ce],i.prototype,"postConstruct",null),nl([Le("rowNodeEventThrottle")],i)}(Me),Au=function(){return Au=Object.assign||function(p){for(var i,r=1,a=arguments.length;r<a;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(p[u]=i[u]);return p},Au.apply(this,arguments)},ki=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ap=function(p,i){return function(r,a){i(r,a,p)}},Mg=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c};function sp(p){return!0===p||"true"===p}var Ig=function(){function p(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new zi}return Object.defineProperty(p.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),p.prototype.agWire=function(i,r){this.gridOptions.api=i,this.gridOptions.columnApi=r,this.api=i,this.columnApi=r},p.prototype.init=function(){this.gridOptionLookup=new Set(function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Mg(arguments[i]));return p}(Eo.ALL_PROPERTIES,Eo.EVENT_CALLBACKS));var i=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),i),this.getScrollbarWidth()},p.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},p.prototype.is=function(i){return sp(this.gridOptions[i])},p.prototype.get=function(i){return this.gridOptions[i]},p.prototype.getNum=function(i){return function xg(p){return"number"==typeof p?p:"string"==typeof p?parseInt(p,10):void 0}(this.gridOptions[i])},p.prototype.getCallback=function(i){return this.mergeGridCommonParams(this.gridOptions[i])},p.prototype.exists=function(i){return o(this.gridOptions[i])},p.prototype.mergeGridCommonParams=function(i){var r=this;return i?function(u){var c=u;return c.api=r.api,c.columnApi=r.columnApi,c.context=r.context,i(c)}:i},p.prototype.set=function(i,r,a,u){if(void 0===a&&(a=!1),void 0===u&&(u={}),this.gridOptionLookup.has(i)){var c=this.gridOptions[i];if(a||c!==r){this.gridOptions[i]=r;var _=Au({type:i,currentValue:r,previousValue:c},u);this.propertyEventService.dispatchEvent(_)}}},p.prototype.addEventListener=function(i,r){this.propertyEventService.addEventListener(i,r)},p.prototype.removeEventListener=function(i,r){this.propertyEventService.removeEventListener(i,r)},p.prototype.globalEventHandler=function(i,r){if(!this.destroyed){var a=Eo.getCallbackForEvent(i);"function"==typeof this.gridOptions[a]&&this.gridOptions[a](r)}},p.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var r="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:eo();null!=r&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:J.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},p.prototype.isRowModelType=function(i){return this.gridOptions.rowModelType===i||"clientSide"===i&&s(this.gridOptions.rowModelType)},p.prototype.isDomLayout=function(i){var r;return(null!==(r=this.get("domLayout"))&&void 0!==r?r:"normal")===i},p.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},p.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},p.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},p.prototype.getRowHeightForNode=function(i,r,a){if(void 0===r&&(r=!1),null==a&&(a=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(r)return{height:a,estimated:!0};var u={node:i,data:i.data},c=this.getCallback("getRowHeight")(u);if(this.isNumeric(c))return 0===c&&Ce(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,c),estimated:!1}}return i.detail&&this.is("masterDetail")?this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:a,estimated:!1}},p.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||s(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var i=this.gridOptions.rowHeight;return i&&this.isNumeric(i)?(this.environment.setRowHeightVariable(i),i):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},p.prototype.isNumeric=function(i){return!isNaN(i)&&"number"==typeof i&&isFinite(i)},p.prototype.getDomDataKey=function(){return this.domDataKey},p.prototype.getDomData=function(i,r){var a=i[this.getDomDataKey()];return a?a[r]:void 0},p.prototype.setDomData=function(i,r,a){var u=this.getDomDataKey(),c=i[u];s(c)&&(i[u]=c={}),c[r]=a},p.prototype.getDocument=function(){var i=null;return this.gridOptions.getDocument&&o(this.gridOptions.getDocument)?i=this.gridOptions.getDocument():this.eGridDiv&&(i=this.eGridDiv.ownerDocument),i&&o(i)?i:document},p.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},p.prototype.getRowIdFunc=function(){var i=this.getCallback("getRowId");if(i)return i;var r=this.get("getRowNodeId");return r?function(a){return r(a.data)}:void 0},p.prototype.getAsyncTransactionWaitMillis=function(){return o(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},p.prototype.isAnimateRows=function(){return!this.is("ensureDomOrder")&&this.is("animateRows")},p.prototype.isTreeData=function(){return this.is("treeData")&&qe.assertRegistered(ke.RowGroupingModule,"Tree Data")},p.prototype.isMasterDetail=function(){return this.is("masterDetail")&&qe.assertRegistered(ke.MasterDetailModule,"masterDetail")},p.prototype.isEnableRangeSelection=function(){return this.is("enableRangeSelection")&&qe.isRegistered(ke.RangeSelectionModule)},p.prototype.isColumnsSortingCoupledToGroup=function(){var i=this.get("autoGroupColumnDef");return this.isRowModelType("clientSide")&&!i?.comparator},p.prototype.getGroupAggFiltering=function(){var i=this.gridOptions.groupAggFiltering;return"function"==typeof i?this.getCallback("groupAggFiltering"):sp(i)?function(){return!0}:void 0},p.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?Jp("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},p.prototype.isGroupUseEntireRow=function(i){return!i&&!!this.gridOptions.groupDisplayType&&Jp("groupRows",this.gridOptions.groupDisplayType)},ki([$("gridOptions")],p.prototype,"gridOptions",void 0),ki([$("eventService")],p.prototype,"eventService",void 0),ki([$("environment")],p.prototype,"environment",void 0),ki([$("eGridDiv")],p.prototype,"eGridDiv",void 0),ki([ap(0,ar("gridApi")),ap(1,ar("columnApi"))],p.prototype,"agWire",null),ki([ce],p.prototype,"init",null),ki([ze],p.prototype,"destroy",null),ki([Le("gridOptionsService")],p)}(),xu=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Nm=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return xu(i,p),i.prototype.getLocaleTextFunc=function(){var r=this.gridOptionsService.getCallback("getLocaleText");if(r)return function(c,_,E){return r({key:c,defaultValue:_,variableValues:E})};var a=this.gridOptionsService.get("localeTextFunc");if(a)return a;var u=this.gridOptionsService.get("localeText");return function(c,_,E){var P=u&&u[c];if(P&&E&&E.length)for(var M=0;!(M>=E.length)&&-1!==P.indexOf("${variable}");)P=P.replace("${variable}",E[M++]);return P??_}},i=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c}([Le("localeService")],i),i}(Me),Gm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),zo=function(p){function i(){return p.call(this,i.TEMPLATE,"vertical")||this}return Gm(i,p),i.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.createManagedBean(new fh(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this)},i.prototype.setScrollVisible=function(){var r=this.scrollVisibleService.isVerticalScrollShowing(),a=this.invisibleScrollbar,u=r&&this.gridOptionsService.getScrollbarWidth()||0,c=0===u&&a?16:u;this.addOrRemoveCssClass("ag-scrollbar-invisible",a),Un(this.getGui(),c),Un(this.eViewport,c),Un(this.eContainer,c),this.setDisplayed(r,{skipAriaHidden:!0})},i.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);u>3&&c&&Object.defineProperty(i,r,c)}([ce],i.prototype,"postConstruct",null),i}(Pg),up=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Lg=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(up(arguments[i]));return p},cp=function(){function p(i,r,a){r?(this.gridOptions=r,(new mS).create(i,r,function(u){var c=new cg(i);u.createBean(c)},void 0,a)):console.error("AG Grid: no gridOptions provided to the grid")}return p.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},p}(),mS=function(){function p(){}return p.prototype.create=function(i,r,a,u,c){var _=this,E=!!r.debug,P=this.getRegisteredModules(c),M=this.createBeansList(r.rowModelType,P),L=this.createProvidedBeans(i,r,c);if(M){var B={providedBeanInstances:L,beanClasses:M,debug:E},U=new sg("AG Grid",function(){return r.debug}),X=new sg("Context",function(){return B.debug}),Q=new or(B,X),oe=Q.getBean("beans");this.registerModuleUserComponents(oe,P),this.registerStackComponents(oe,P),this.registerControllers(oe,P),a(Q),oe.ctrlsService.whenReady(function(){_.setColumnsAndData(oe),_.dispatchGridReadyEvent(oe);var le=qe.isRegistered(ke.EnterpriseCoreModule);U.log("initialised successfully, enterprise = "+le)}),u&&u(Q)}},p.prototype.registerControllers=function(i,r){r.forEach(function(a){a.controllers&&a.controllers.forEach(function(u){return i.ctrlsFactory.register(u)})})},p.prototype.registerStackComponents=function(i,r){var a=this.createAgStackComponentsList(r);i.agStackComponentsRegistry.setupComponents(a)},p.prototype.getRegisteredModules=function(i){var r=i?i.modules:null,a=qe.getRegisteredModules(),u=[],c={};function _(E,P){(function M(L){c[L.moduleName]||(c[L.moduleName]=!0,u.push(L),qe.register(L,E))})(P),P.dependantModules&&P.dependantModules.forEach(_.bind(null,E))}return r&&r.forEach(_.bind(null,!0)),a&&a.forEach(_.bind(null,!qe.isPackageBased())),u},p.prototype.registerModuleUserComponents=function(i,r){this.extractModuleEntity(r,function(u){return u.userComponents?u.userComponents:[]}).forEach(function(u){i.userComponentRegistry.registerDefaultComponent(u.componentName,u.componentClass)})},p.prototype.createProvidedBeans=function(i,r,a){var u=a?a.frameworkOverrides:null;s(u)&&(u=new og);var c={gridOptions:r,eGridDiv:i,globalEventListener:a?a.globalEventListener:null,frameworkOverrides:u};return a&&a.providedBeanInstances&&Object.assign(c,a.providedBeanInstances),c},p.prototype.createAgStackComponentsList=function(i){var r=[{componentName:"AgCheckbox",componentClass:Ta},{componentName:"AgRadioButton",componentClass:ho},{componentName:"AgToggleButton",componentClass:yu},{componentName:"AgInputTextField",componentClass:Td},{componentName:"AgInputTextArea",componentClass:fS},{componentName:"AgInputNumberField",componentClass:Vy},{componentName:"AgInputRange",componentClass:gS},{componentName:"AgSelect",componentClass:Dc},{componentName:"AgSlider",componentClass:Kh},{componentName:"AgGridBody",componentClass:_h},{componentName:"AgHeaderRoot",componentClass:Wo},{componentName:"AgSortIndicator",componentClass:ws},{componentName:"AgPagination",componentClass:ka},{componentName:"AgOverlayWrapper",componentClass:Wa},{componentName:"AgGroupComponent",componentClass:Yh},{componentName:"AgPanel",componentClass:Ad},{componentName:"AgDialog",componentClass:Fa},{componentName:"AgRowContainer",componentClass:Is},{componentName:"AgFakeHorizontalScroll",componentClass:Tg},{componentName:"AgFakeVerticalScroll",componentClass:zo}],a=this.extractModuleEntity(i,function(u){return u.agStackComponents?u.agStackComponents:[]});return r.concat(a)},p.prototype.createBeansList=function(i,r){var a=this.getRowModelClass(i,r);if(a){var u=[a,th,Ua,Sg,Tu,gm,Uf,E_,jd,Em,Sy,UE,el,Ih,Nm,Zu,Iy,Zl,ef,zi,Ig,rg,nm,Wc,PE,xh,Ny,kh,lm,Lv,cm,tm,XE,_m,om,Eu,Ji,uS,Sd,rr,im,$o,Z_,Dm,Zy,xy,Uh,X_,Zs,pg,Qs,Pu,Gv,gg,Oy,Rm,tf,Mm,On,Pd,tp,Am,Lm,op,xm],c=this.extractModuleEntity(r,function(E){return E.beans?E.beans:[]});u.push.apply(u,Lg(c));var _=[];return u.forEach(function(E){_.indexOf(E)<0&&_.push(E)}),_}},p.prototype.extractModuleEntity=function(i,r){return[].concat.apply([],Lg(i.map(r)))},p.prototype.setColumnsAndData=function(i){var r=i.gridOptionsService.get("columnDefs");i.columnModel.setColumnDefs(r||[],"gridInitializing"),i.rowModel.start()},p.prototype.dispatchGridReadyEvent=function(i){i.eventService.dispatchEvent({type:J.EVENT_GRID_READY})},p.prototype.getRowModelClass=function(i,r){i||(i="clientSide");var a={};r.forEach(function(_){G(_.rowModels,function(E,P){a[E]=P})});var u=a[i];if(o(u))return u;var c={clientSide:ke.ClientSideRowModelModule,infinite:ke.InfiniteRowModelModule,serverSide:ke.ServerSideRowModelModule,viewport:ke.ViewportRowModelModule};c[i]?qe.assertRegistered(c[i],"rowModelType = '"+i+"'"):console.error("AG Grid: could not find row model for rowModelType = "+i)},p}(),CS=function(){function p(){}return p.prototype.wrap=function(i,r,a,u){var c=this;void 0===a&&(a=[]);var _=this.createWrapper(i,u);return r.forEach(function(E){c.createMethod(_,E,!0)}),a.forEach(function(E){c.createMethod(_,E,!1)}),_},p.prototype.unwrap=function(i){return i},p.prototype.createMethod=function(i,r,a){i.addMethod(r,this.createMethodProxy(i,r,a))},p.prototype.createMethodProxy=function(i,r,a){return function(){return i.hasMethod(r)?i.callMethod(r,arguments):(a&&console.warn("AG Grid: Framework component is missing the method "+r+"()"),null)}},p}(),Bm={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","doughnut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],histogramGroup:["histogram"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},km=["chartSettings","chartData","chartFormat"],Fg=["chartUnlink","chartLink","chartDownload"],Vm={settings:"chartSettings",data:"chartData",format:"chartFormat"},za=typeof global>"u"?{}:global;za.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,za.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,za.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,za.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,za.Node=typeof Node>"u"?{}:Node,za.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Hm=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},dp=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Hm(arguments[i]));return p},Um=function(){function p(i,r,a,u,c,_){this.nextId=0,this.allNodesMap={},this.rootNode=i,this.gridOptionsService=r,this.eventService=a,this.columnModel=u,this.beans=_,this.selectionService=c,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=p.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return p.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()},p.prototype.getCopyOfNodesMap=function(){return Ye.cloneObject(this.allNodesMap)},p.prototype.getRowNode=function(i){return this.allNodesMap[i]},p.prototype.setRowData=function(i){var r=this;if("string"!=typeof i){var a=this.rootNode,u=this.rootNode.sibling;a.childrenAfterFilter=null,a.childrenAfterGroup=null,a.childrenAfterAggFilter=null,a.childrenAfterSort=null,a.childrenMapped=null,a.updateHasChildren(),this.nextId=0,this.allNodesMap={},i?a.allLeafChildren=i.map(function(c){return r.createNode(c,r.rootNode,p.TOP_LEVEL)}):(a.allLeafChildren=[],a.childrenAfterGroup=[]),u&&(u.childrenAfterFilter=a.childrenAfterFilter,u.childrenAfterGroup=a.childrenAfterGroup,u.childrenAfterAggFilter=a.childrenAfterAggFilter,u.childrenAfterSort=a.childrenAfterSort,u.childrenMapped=a.childrenMapped,u.allLeafChildren=a.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},p.prototype.updateRowData=function(i,r){var a={remove:[],update:[],add:[]},u=[];return this.executeRemove(i,a,u),this.executeUpdate(i,a,u),this.executeAdd(i,a),this.updateSelection(u,"rowDataChanged"),r&&Ye.sortRowNodesByOrder(this.rootNode.allLeafChildren,r),a},p.prototype.updateSelection=function(i,r){var a=i.length>0;a&&i.forEach(function(c){c.setSelected(!1,!1,!0,r)}),this.selectionService.updateGroupsFromChildrenSelections(r),a&&this.eventService.dispatchEvent({type:J.EVENT_SELECTION_CHANGED,source:r})},p.prototype.executeAdd=function(i,r){var u,a=this,c=i.add,_=i.addIndex;if(!Ye.missingOrEmpty(c)){var E=c.map(function(Q){return a.createNode(Q,a.rootNode,p.TOP_LEVEL)});if("number"==typeof _&&_>=0){var P=this.rootNode.allLeafChildren,M=P.length,L=_;if(this.doingTreeData&&_>0&&M>0)for(var B=0;B<M;B++)if((null===(u=P[B])||void 0===u?void 0:u.rowIndex)==_-1){L=B+1;break}var U=P.slice(0,L),X=P.slice(L,P.length);this.rootNode.allLeafChildren=dp(U,E,X)}else this.rootNode.allLeafChildren=dp(this.rootNode.allLeafChildren,E);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),r.add=E}},p.prototype.executeRemove=function(i,r,a){var u=this,c=i.remove;if(!Ye.missingOrEmpty(c)){var _={};c.forEach(function(E){var P=u.lookupRowNode(E);P&&(P.isSelected()&&a.push(P),P.clearRowTopAndRowIndex(),_[P.id]=!0,delete u.allNodesMap[P.id],r.remove.push(P))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(E){return!_[E.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},p.prototype.executeUpdate=function(i,r,a){var u=this,c=i.update;Ye.missingOrEmpty(c)||c.forEach(function(_){var E=u.lookupRowNode(_);E&&(E.updateData(_),!E.selectable&&E.isSelected()&&a.push(E),u.setMasterForRow(E,_,p.TOP_LEVEL,!1),r.update.push(E))})},p.prototype.lookupRowNode=function(i){var a,r=this.gridOptionsService.getRowIdFunc();if(r){var u=r({data:i,level:0});if(!(a=this.allNodesMap[u]))return console.error("AG Grid: could not find row id="+u+", data item was not found for this id"),null}else if(!(a=this.rootNode.allLeafChildren.find(function(c){return c.data===i})))return console.error("AG Grid: could not find data item as object was not found",i),console.error("Consider using getRowId to help the Grid find matching row data"),null;return a||null},p.prototype.createNode=function(i,r,a){var u=new ot(this.beans);return u.group=!1,this.setMasterForRow(u,i,a,!0),r&&!this.suppressParentsInRowNodes&&(u.parent=r),u.level=a,u.setDataAndId(i,this.nextId.toString()),this.allNodesMap[u.id]&&console.warn("AG Grid: duplicate node id '"+u.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[u.id]=u,this.nextId++,u},p.prototype.setMasterForRow=function(i,r,a,u){if(this.doingTreeData)i.setMaster(!1),u&&(i.expanded=!1);else if(i.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(r))),u){var c=this.columnModel.getRowGroupColumns();i.expanded=!!i.master&&this.isExpanded(a+(c?c.length:0))}},p.prototype.isExpanded=function(i){var r=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===r||i<r},p.TOP_LEVEL=0,p.ROOT_NODE_ID="ROOT_NODE_ID",p}(),Ng=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),on=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ya=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c},Iu=function(){for(var p=[],i=0;i<arguments.length;i++)p=p.concat(Ya(arguments[i]));return p},ei=(()=>(function(p){p[p.Normal=0]="Normal",p[p.AfterFilter=1]="AfterFilter",p[p.AfterFilterAndSort=2]="AfterFilterAndSort",p[p.PivotNodes=3]="PivotNodes"}(ei||(ei={})),ei))(),Gg=function(p){function i(){var r=null!==p&&p.apply(this,arguments)||this;return r.onRowHeightChanged_debounced=Ye.debounce(r.onRowHeightChanged.bind(r),100),r.rowsToDisplay=[],r}return Ng(i,p),i.prototype.init=function(){var r=this.refreshModel.bind(this,{step:Ot.EVERYTHING}),a=!this.gridOptionsService.is("suppressAnimationFrame"),u=this.refreshModel.bind(this,{step:Ot.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:a});this.addManagedListener(this.eventService,J.EVENT_NEW_COLUMNS_LOADED,u),this.addManagedListener(this.eventService,J.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,J.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Ot.PIVOT})),this.addManagedListener(this.eventService,J.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,J.EVENT_GRID_STYLES_CHANGED,this.resetRowHeights.bind(this));var c=this.refreshModel.bind(this,{step:Ot.MAP,keepRenderedRows:!0,animate:a});this.addManagedPropertyListener("groupRemoveSingleChildren",c),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",c),this.rootNode=new ot(this.beans),this.nodeManager=new Um(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},i.prototype.start=function(){var r=this.gridOptionsService.get("rowData");r&&this.setRowData(r)},i.prototype.ensureRowHeightsValid=function(r,a,u,c){var _,E=!1;do{_=!1;for(var P=this.getRowIndexAtPixel(r),M=this.getRowIndexAtPixel(a),L=Math.max(P,u),B=Math.min(M,c),U=L;U<=B;U++){var X=this.getRow(U);if(X.rowHeightEstimated){var Q=this.gridOptionsService.getRowHeightForNode(X);X.setRowHeight(Q.height),_=!0,E=!0}}_&&this.setRowTopAndRowIndex()}while(_);return E},i.prototype.setRowTopAndRowIndex=function(){for(var r=this.environment.getDefaultRowHeight(),a=0,u=new Set,c=this.gridOptionsService.isDomLayout("normal"),_=0;_<this.rowsToDisplay.length;_++){var E=this.rowsToDisplay[_];if(null!=E.id&&u.add(E.id),null==E.rowHeight){var P=this.gridOptionsService.getRowHeightForNode(E,c,r);E.setRowHeight(P.height,P.estimated)}E.setRowTop(a),E.setRowIndex(_),a+=E.rowHeight}return u},i.prototype.clearRowTopAndRowIndex=function(r,a){var u=r.isActive(),c=function(E){E&&null!=E.id&&!a.has(E.id)&&E.clearRowTopAndRowIndex()},_=function(E){c(E),c(E.detailNode),c(E.sibling),E.hasChildren()&&E.childrenAfterGroup&&(u&&-1!=E.level&&!E.expanded||E.childrenAfterGroup.forEach(_))};_(this.rootNode)},i.prototype.ensureRowsAtPixel=function(r,a,u){var c=this;void 0===u&&(u=0);var _=this.getRowIndexAtPixel(a),E=this.getRow(_),P=!this.gridOptionsService.is("suppressAnimationFrame");return E!==r[0]&&(r.forEach(function(M){Ye.removeFromArray(c.rootNode.allLeafChildren,M)}),r.forEach(function(M,L){Ye.insertIntoArray(c.rootNode.allLeafChildren,M,Math.max(_+u,0)+L)}),this.refreshModel({step:Ot.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:P}),!0)},i.prototype.highlightRowAtPixel=function(r,a){var u=null!=a?this.getRowIndexAtPixel(a):null,c=null!=u?this.getRow(u):null;if(c&&r&&c!==r&&null!=a){var _=this.getHighlightPosition(a,c);this.lastHighlightedRow&&this.lastHighlightedRow!==c&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),c.setHighlighted(_),this.lastHighlightedRow=c}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},i.prototype.getHighlightPosition=function(r,a){if(!a){var u=this.getRowIndexAtPixel(r);if(!(a=this.getRow(u||0)))return jn.Below}return r-a.rowTop<a.rowHeight/2?jn.Above:jn.Below},i.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},i.prototype.isLastRowIndexKnown=function(){return!0},i.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},i.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var a=this.rootNode.childrenAfterAggFilter;return a?a.length:0},i.prototype.getTopLevelRowDisplayedIndex=function(r){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return r;var u=this.rootNode.childrenAfterSort[r];if(this.gridOptionsService.is("groupHideOpenParents"))for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},i.prototype.getRowBounds=function(r){if(Ye.missing(this.rowsToDisplay))return null;var a=this.rowsToDisplay[r];return a?{rowTop:a.rowTop,rowHeight:a.rowHeight}:null},i.prototype.onRowGroupOpened=function(){var r=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ot.MAP,keepRenderedRows:!0,animate:r})},i.prototype.onFilterChanged=function(r){if(!r.afterDataChange){var a=this.gridOptionsService.isAnimateRows(),u=0===r.columns.length||r.columns.some(function(_){return _.isPrimary()});this.refreshModel({step:u?Ot.FILTER:Ot.FILTER_AGGREGATES,keepRenderedRows:!0,animate:a})}},i.prototype.onSortChanged=function(){var r=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ot.SORT,keepRenderedRows:!0,animate:r,keepEditingRows:!0})},i.prototype.getType=function(){return"clientSide"},i.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Ot.PIVOT}):this.refreshModel({step:Ot.AGGREGATE})},i.prototype.createChangePath=function(r){var a=Ye.missingOrEmpty(r),u=new st(!1,this.rootNode);return(a||this.gridOptionsService.isTreeData())&&u.setInactive(),u},i.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(r){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||null==r.rowNodeTransactions)return!1;var a=r.rowNodeTransactions.filter(function(c){return null!=c.add&&c.add.length>0||null!=c.remove&&c.remove.length>0});return null==a||0==a.length},i.prototype.buildRefreshModelParams=function(r){var a=Ot.EVERYTHING,u={everything:Ot.EVERYTHING,group:Ot.EVERYTHING,filter:Ot.FILTER,map:Ot.MAP,aggregate:Ot.AGGREGATE,sort:Ot.SORT,pivot:Ot.PIVOT};if(Ye.exists(r)&&(a=u[r]),!Ye.missing(a))return{step:a,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error("AG Grid: invalid step "+r+", available steps are "+Object.keys(u).join(", "))},i.prototype.refreshModel=function(r){var a="object"==typeof r&&"step"in r?r:this.buildRefreshModelParams(r);if(a&&!this.isSuppressModelUpdateAfterUpdateTransaction(a)){var u=this.createChangePath(a.rowNodeTransactions);switch(a.step){case Ot.EVERYTHING:this.doRowGrouping(a.groupState,a.rowNodeTransactions,a.rowNodeOrder,u,!!a.afterColumnsChanged);case Ot.FILTER:this.doFilter(u);case Ot.PIVOT:this.doPivot(u);case Ot.AGGREGATE:this.doAggregate(u);case Ot.FILTER_AGGREGATES:this.doFilterAggregates(u);case Ot.SORT:this.doSort(a.rowNodeTransactions,u);case Ot.MAP:this.doRowsToDisplay()}var c=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(u,c),this.eventService.dispatchEvent({type:J.EVENT_MODEL_UPDATED,animate:a.animate,keepRenderedRows:a.keepRenderedRows,newData:a.newData,newPage:!1,keepUndoRedoStack:a.keepUndoRedoStack})}},i.prototype.isEmpty=function(){var r=Ye.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Ye.missing(this.rootNode)||r||!this.columnModel.isReady()},i.prototype.isRowsToRender=function(){return Ye.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},i.prototype.getNodesInRangeForSelection=function(r,a){var _,u=!a,c=!1,E=[],P=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(M){var L=u&&!c;if(u||(M===a||M===r)&&(u=!0),!M.group||!P){var U=u&&!c,X=M.isParentOfNode(_);(U||X)&&E.push(M)}L&&(M===a||M===r)&&(c=!0,_=M===a?a:r)}),E},i.prototype.setDatasource=function(r){console.error("AG Grid: should never call setDatasource on clientSideRowController")},i.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},i.prototype.getRootNode=function(){return this.rootNode},i.prototype.getRow=function(r){return this.rowsToDisplay[r]},i.prototype.isRowPresent=function(r){return this.rowsToDisplay.indexOf(r)>=0},i.prototype.getRowIndexAtPixel=function(r){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var a=0,u=this.rowsToDisplay.length-1;if(r<=0)return 0;if(Ye.last(this.rowsToDisplay).rowTop<=r)return this.rowsToDisplay.length-1;for(var _=-1,E=-1;;){var P=Math.floor((a+u)/2),M=this.rowsToDisplay[P];if(this.isRowInPixel(M,r))return P;if(M.rowTop<r?a=P+1:M.rowTop>r&&(u=P-1),_===a&&E===u)return P;_=a,E=u}},i.prototype.isRowInPixel=function(r,a){return r.rowTop<=a&&r.rowTop+r.rowHeight>a},i.prototype.forEachLeafNode=function(r){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(a,u){return r(a,u)})},i.prototype.forEachNode=function(r,a){void 0===a&&(a=!1),this.recursivelyWalkNodesAndCallback({nodes:Iu(this.rootNode.childrenAfterGroup||[]),callback:r,recursionType:ei.Normal,index:0,includeFooterNodes:a})},i.prototype.forEachNodeAfterFilter=function(r,a){void 0===a&&(a=!1),this.recursivelyWalkNodesAndCallback({nodes:Iu(this.rootNode.childrenAfterAggFilter||[]),callback:r,recursionType:ei.AfterFilter,index:0,includeFooterNodes:a})},i.prototype.forEachNodeAfterFilterAndSort=function(r,a){void 0===a&&(a=!1),this.recursivelyWalkNodesAndCallback({nodes:Iu(this.rootNode.childrenAfterSort||[]),callback:r,recursionType:ei.AfterFilterAndSort,index:0,includeFooterNodes:a})},i.prototype.forEachPivotNode=function(r,a){void 0===a&&(a=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:r,recursionType:ei.PivotNodes,index:0,includeFooterNodes:a})},i.prototype.recursivelyWalkNodesAndCallback=function(r){var a,u=r.nodes,c=r.callback,_=r.recursionType,E=r.includeFooterNodes,P=r.index,M=u[0];E&&null!==(a=M?.parent)&&void 0!==a&&a.sibling&&u.push(M.parent.sibling);for(var L=0;L<u.length;L++){var B=u[L];if(c(B,P++),B.hasChildren()&&!B.footer){var U=null;switch(_){case ei.Normal:U=B.childrenAfterGroup;break;case ei.AfterFilter:U=B.childrenAfterAggFilter;break;case ei.AfterFilterAndSort:U=B.childrenAfterSort;break;case ei.PivotNodes:U=B.leafGroup?null:B.childrenAfterSort}U&&(P=this.recursivelyWalkNodesAndCallback({nodes:Iu(U),callback:c,recursionType:_,index:P,includeFooterNodes:E}))}}return P},i.prototype.doAggregate=function(r){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:r})},i.prototype.doFilterAggregates=function(r){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:r}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},i.prototype.expandOrCollapseAll=function(r){var a=this.gridOptionsService.isTreeData(),u=this.columnModel.isPivotActive(),c=function(P){P&&P.forEach(function(M){var L=function(){M.expanded=r,c(M.childrenAfterGroup)};a?Ye.exists(M.childrenAfterGroup)&&L():u?!M.leafGroup&&L():M.group&&L()})};this.rootNode&&c(this.rootNode.childrenAfterGroup),this.refreshModel({step:Ot.MAP}),this.eventService.dispatchEvent({type:J.EVENT_EXPAND_COLLAPSE_ALL,source:r?"expandAll":"collapseAll"})},i.prototype.doSort=function(r,a){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,changedPath:a})},i.prototype.doRowGrouping=function(r,a,u,c,_){this.groupStage?(a?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:a,rowNodeOrder:u,changedPath:c}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:c,afterColumnsChanged:_}),this.restoreGroupState(r)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",c)&&this.eventService.dispatchEvent({type:J.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},i.prototype.restoreGroupState=function(r){r&&Ye.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(a,u){"boolean"==typeof r[u]&&(a.expanded=r[u])})},i.prototype.doFilter=function(r){this.filterStage.execute({rowNode:this.rootNode,changedPath:r})},i.prototype.doPivot=function(r){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:r})},i.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var r={};return Ye.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(a,u){return r[u]=a.expanded}),r},i.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},i.prototype.getRowNode=function(r){if("string"==typeof r&&0==r.indexOf(ot.ID_PREFIX_ROW_GROUP)){var u=void 0;return this.forEachNode(function(c){c.id===r&&(u=c)}),u}return this.nodeManager.getRowNode(r)},i.prototype.setRowData=function(r){var a=this.getGroupState();this.nodeManager.setRowData(r),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:J.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:Ot.EVERYTHING,groupState:a,newData:!0})},i.prototype.batchUpdateRowData=function(r,a){var u=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var c=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){u.executeBatchUpdateRowData()},c)}this.rowDataTransactionBatch.push({rowDataTransaction:r,callback:a})},i.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},i.prototype.executeBatchUpdateRowData=function(){var r=this;this.valueCache.onDataChanged();var a=[],u=[],c=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(E){var P=r.nodeManager.updateRowData(E.rowDataTransaction,void 0);u.push(P),E.callback&&a.push(E.callback.bind(null,P)),"number"==typeof E.rowDataTransaction.addIndex&&(c=!0)}),this.commonUpdateRowData(u,void 0,c),a.length>0&&window.setTimeout(function(){a.forEach(function(E){return E()})},0),u.length>0&&this.eventService.dispatchEvent({type:J.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:u}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},i.prototype.updateRowData=function(r,a){this.valueCache.onDataChanged();var u=this.nodeManager.updateRowData(r,a);return this.commonUpdateRowData([u],a,"number"==typeof r.addIndex),u},i.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.is("suppressMaintainUnsortedOrder")){var a={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var u=0;u<this.rootNode.allLeafChildren.length;u++)a[this.rootNode.allLeafChildren[u].id]=u;return a}},i.prototype.commonUpdateRowData=function(r,a,u){var c=!this.gridOptionsService.is("suppressAnimationFrame");u&&(a=this.createRowNodeOrder()),this.refreshModel({step:Ot.EVERYTHING,rowNodeTransactions:r,rowNodeOrder:a,keepRenderedRows:!0,keepEditingRows:!0,animate:c}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:J.EVENT_ROW_DATA_UPDATED})},i.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},i.prototype.onRowHeightChanged=function(){this.refreshModel({step:Ot.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},i.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},i.prototype.resetRowHeights=function(){var r=!1;this.forEachNode(function(a){a.setRowHeight(a.rowHeight,!0);var u=a.detailNode;u&&u.setRowHeight(u.rowHeight,!0),r=!0}),this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),r&&this.onRowHeightChanged()},on([$("columnModel")],i.prototype,"columnModel",void 0),on([$("selectionService")],i.prototype,"selectionService",void 0),on([$("filterManager")],i.prototype,"filterManager",void 0),on([$("valueCache")],i.prototype,"valueCache",void 0),on([$("beans")],i.prototype,"beans",void 0),on([$("filterStage")],i.prototype,"filterStage",void 0),on([$("sortStage")],i.prototype,"sortStage",void 0),on([$("flattenStage")],i.prototype,"flattenStage",void 0),on([gt("groupStage")],i.prototype,"groupStage",void 0),on([gt("aggregationStage")],i.prototype,"aggregationStage",void 0),on([gt("pivotStage")],i.prototype,"pivotStage",void 0),on([gt("filterAggregatesStage")],i.prototype,"filterAggregatesStage",void 0),on([ce],i.prototype,"init",null),on([Le("rowModel")],i)}(Me),$m=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),pp=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ES=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return $m(i,p),i.prototype.execute=function(r){this.filterService.filter(r.changedPath)},pp([$("filterService")],i.prototype,"filterService",void 0),pp([Le("filterStage")],i)}(Me),Bg=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),il=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},yi=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Bg(i,p),i.prototype.execute=function(r){var a=this,u=this.sortController.getSortOptions(),c=Ye.exists(u)&&u.length>0,_=c&&Ye.exists(r.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),E=u.some(function(P){return!!a.columnModel.getGroupDisplayColumnForGroup(P.column.getId())});this.sortService.sort(u,c,_,r.rowNodeTransactions,r.changedPath,E)},il([$("sortService")],i.prototype,"sortService",void 0),il([$("sortController")],i.prototype,"sortController",void 0),il([$("columnModel")],i.prototype,"columnModel",void 0),il([Le("sortStage")],i)}(Me),jm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),fp=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},mi=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return jm(i,p),i.prototype.execute=function(r){var a=r.rowNode,u=[],c={value:0},_=this.columnModel.isPivotMode(),E=_&&a.leafGroup;return this.recursivelyAddToRowsToDisplay(E?[a]:a.childrenAfterSort,u,c,_,0),!E&&u.length>0&&this.gridOptionsService.is("groupIncludeTotalFooter")&&(a.createFooter(),this.addRowNodeToRowsToDisplay(a.sibling,u,c,0)),u},i.prototype.recursivelyAddToRowsToDisplay=function(r,a,u,c,_){if(!Ye.missingOrEmpty(r))for(var E=this.gridOptionsService.is("groupHideOpenParents"),P=this.gridOptionsService.is("groupRemoveSingleChildren"),M=!P&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),L=0;L<r.length;L++){var B=r[L],U=B.hasChildren(),Q=P&&U&&1===B.childrenAfterGroup.length,oe=M&&U&&B.leafGroup&&1===B.childrenAfterGroup.length;if(!(c&&!U||E&&B.expanded&&!B.master&&(!c||!B.leafGroup)||Q||oe)&&this.addRowNodeToRowsToDisplay(B,a,u,_),!c||!B.leafGroup)if(U){var Oe=Q||oe;(B.expanded||Oe)&&(this.recursivelyAddToRowsToDisplay(B.childrenAfterSort,a,u,c,Oe?_:_+1),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(B.sibling,a,u,_))}else if(B.master&&B.expanded){var Be=this.createDetailNode(B);this.addRowNodeToRowsToDisplay(Be,a,u,_)}}},i.prototype.addRowNodeToRowsToDisplay=function(r,a,u,c){var _=this.gridOptionsService.isGroupMultiAutoColumn();a.push(r),r.setUiLevel(_?0:c)},i.prototype.createDetailNode=function(r){if(Ye.exists(r.detailNode))return r.detailNode;var a=new ot(this.beans);return a.detail=!0,a.selectable=!1,a.parent=r,Ye.exists(r.id)&&(a.id="detail_"+r.id),a.data=r.data,a.level=r.level+1,r.detailNode=a,a},fp([$("columnModel")],i.prototype,"columnModel",void 0),fp([$("beans")],i.prototype,"beans",void 0),fp([Le("flattenStage")],i)}(Me),ti=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),cn=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},kg=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return ti(i,p),i.prototype.init=function(){this.postSortFunc=this.getPostSortFunc()},i.prototype.sort=function(r,a,u,c,_,E){var P=this,M=this.gridOptionsService.is("groupMaintainOrder"),L=this.columnModel.getAllGridColumns().some(function(Q){return Q.isRowGroupActive()}),B={};u&&c&&(B=this.calculateDirtyNodes(c));var U=this.columnModel.isPivotMode();_&&_.forEachChangedNodeDepthFirst(function(Q){if(P.pullDownGroupDataForHideOpenParents(Q.childrenAfterAggFilter,!0),!a||M&&L&&!Q.leafGroup&&!E||U&&Q.leafGroup){var fe=Q.childrenAfterAggFilter.slice(0);if(M&&Q.childrenAfterSort){var de=Q.childrenAfterSort.reduce(function(Ie,Be,Xe){return Ie[Be.id]=Xe,Ie},{});fe.sort(function(Ie,Be){return(de[Ie.id]||0)-(de[Be.id]||0)})}Q.childrenAfterSort=fe}else Q.childrenAfterSort=u?P.doDeltaSort(Q,B,_,r):P.rowNodeSorter.doFullSort(Q.childrenAfterAggFilter,r);Q.sibling&&(Q.sibling.childrenAfterSort=Q.childrenAfterSort),P.updateChildIndexes(Q),P.postSortFunc&&P.postSortFunc({nodes:Q.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(_)},i.prototype.getPostSortFunc=function(){var r=this.gridOptionsService.getCallback("postSortRows");if(r)return r;var a=this.gridOptionsService.get("postSort");return a?function(u){return a(u.nodes)}:void 0},i.prototype.calculateDirtyNodes=function(r){var a={},u=function(c){c&&c.forEach(function(_){return a[_.id]=!0})};return r&&r.forEach(function(c){u(c.add),u(c.update),u(c.remove)}),a},i.prototype.doDeltaSort=function(r,a,u,c){var _=this,E=r.childrenAfterAggFilter,P=r.childrenAfterSort;if(!P)return this.rowNodeSorter.doFullSort(E,c);var M={},L=[];E.forEach(function(Q){a[Q.id]||!u.canSkip(Q)?L.push(Q):M[Q.id]=!0});var B=P.filter(function(Q){return M[Q.id]}),U=function(Q,oe){return{currentPos:oe,rowNode:Q}},X=L.map(U).sort(function(Q,oe){return _.rowNodeSorter.compareRowNodes(c,Q,oe)});return this.mergeSortedArrays(c,X,B.map(U)).map(function(Q){return Q.rowNode})},i.prototype.mergeSortedArrays=function(r,a,u){for(var c=[],_=0,E=0;_<a.length&&E<u.length;){var P=this.rowNodeSorter.compareRowNodes(r,a[_],u[E]);c.push(P<0?a[_++]:u[E++])}for(;_<a.length;)c.push(a[_++]);for(;E<u.length;)c.push(u[E++]);return c},i.prototype.updateChildIndexes=function(r){if(!Ye.missing(r.childrenAfterSort))for(var a=r.childrenAfterSort,u=0;u<a.length;u++){var c=a[u],E=u===r.childrenAfterSort.length-1;c.setFirstChild(0===u),c.setLastChild(E),c.setChildIndex(u)}},i.prototype.updateGroupDataForHideOpenParents=function(r){var a=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.isTreeData())return Ye.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var c=function(_){a.pullDownGroupDataForHideOpenParents(_.childrenAfterSort,!1),_.childrenAfterSort.forEach(function(E){E.hasChildren()&&c(E)})};r&&r.executeFromRootNode(function(_){return c(_)})}},i.prototype.pullDownGroupDataForHideOpenParents=function(r,a){var u=this;!this.gridOptionsService.is("groupHideOpenParents")||Ye.missing(r)||r.forEach(function(c){u.columnModel.getGroupDisplayColumns().forEach(function(E){var P=E.getColDef().showRowGroup;if("string"==typeof P){var L=u.columnModel.getPrimaryColumn(P);if(L!==c.rowGroupColumn)if(a)c.setGroupValue(E.getId(),void 0);else{var U=c.getFirstChildOfFirstChild(L);U&&c.setGroupValue(E.getId(),U.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},cn([$("columnModel")],i.prototype,"columnModel",void 0),cn([$("rowNodeSorter")],i.prototype,"rowNodeSorter",void 0),cn([ce],i.prototype,"init",null),cn([Le("sortService")],i)}(Me),Vg=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Wg=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Km=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Vg(i,p),i.prototype.filter=function(r){var a=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(a,r)},i.prototype.filterNodes=function(r,a){var u=this,c=function(M,L){M.childrenAfterFilter=M.hasChildren()&&r&&!L?M.childrenAfterGroup.filter(function(B){var U=B.childrenAfterFilter&&B.childrenAfterFilter.length>0,X=B.data&&u.filterManager.doesRowPassFilter({rowNode:B});return U||X}):M.childrenAfterGroup,M.sibling&&(M.sibling.childrenAfterFilter=M.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var _=function(M,L){if(M.childrenAfterGroup)for(var B=0;B<M.childrenAfterGroup.length;B++){var U=M.childrenAfterGroup[B],X=L||u.filterManager.doesRowPassFilter({rowNode:U});U.childrenAfterGroup?_(M.childrenAfterGroup[B],X):c(U,X)}c(M,L)};a.executeFromRootNode(function(M){return _(M,!1)})}else a.forEachChangedNodeDepthFirst(function(M){return c(M,!1)},!0)},i.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},Wg([$("filterManager")],i.prototype,"filterManager",void 0),Wg([Le("filterService")],i)}(Me),zm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Lu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ol=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return zm(i,p),i.prototype.postConstruct=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},i.prototype.isActive=function(){var r=this.gridOptionsService.exists("getRowId"),a=this.gridOptionsService.is("immutableData");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&(r||a)},i.prototype.setRowData=function(r){var a=this.createTransactionForRowData(r);if(a){var u=function(p,i){var r="function"==typeof Symbol&&p[Symbol.iterator];if(!r)return p;var u,_,a=r.call(p),c=[];try{for(;(void 0===i||i-- >0)&&!(u=a.next()).done;)c.push(u.value)}catch(E){_={error:E}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(_)throw _.error}}return c}(a,2),E=this.clientSideRowModel.updateRowData(u[0],u[1]);E&&this.rowRenderer.refreshFullWidthRows(E.update)}},i.prototype.createTransactionForRowData=function(r){if(Ye.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var a=this.gridOptionsService.getRowIdFunc();if(null!=a){var u={remove:[],update:[],add:[]},c=this.clientSideRowModel.getCopyOfNodesMap(),E=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return Ye.exists(r)&&r.forEach(function(P,M){var L=a({data:P,level:0}),B=c[L];E&&(E[L]=M),B?(B.data!==P&&u.update.push(P),c[L]=void 0):u.add.push(P)}),Ye.iterateObject(c,function(P,M){M&&u.remove.push(M.data)}),[u,E]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Lu([$("rowModel")],i.prototype,"rowModel",void 0),Lu([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Lu([ce],i.prototype,"postConstruct",null),Lu([Le("immutableService")],i)}(Me),Hg={version:"29.1.0",moduleName:ke.ClientSideRowModelModule,beans:[ES,yi,mi,kg,Km,ol],rowModels:{clientSide:Gg}},qm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Fu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},gp=function(p){function i(r,a,u){var c=p.call(this,r)||this;return c.parentCache=a,c.params=u,c.startRow=r*u.blockSize,c.endRow=c.startRow+u.blockSize,c}return qm(i,p),i.prototype.postConstruct=function(){this.createRowNodes()},i.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},i.prototype.setDataAndId=function(r,a,u){!r.id&&r.alreadyRendered&&(r.alreadyRendered=!1),Ye.exists(a)?r.setDataAndId(a,u.toString()):r.setDataAndId(void 0,void 0)},i.prototype.loadFromDatasource=function(){var r=this,a=this.createLoadParams();Ye.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){r.params.datasource.getRows(a)},0)},i.prototype.processServerFail=function(){},i.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}},i.prototype.forEachNode=function(r,a,u){var c=this;this.rowNodes.forEach(function(_,E){c.startRow+E<u&&r(_,a.next())})},i.prototype.getLastAccessed=function(){return this.lastAccessed},i.prototype.getRow=function(r,a){return void 0===a&&(a=!1),a||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[r-this.startRow]},i.prototype.getStartRow=function(){return this.startRow},i.prototype.getEndRow=function(){return this.endRow},i.prototype.createRowNodes=function(){this.rowNodes=[];for(var r=0;r<this.params.blockSize;r++){var a=this.startRow+r,u=new ot(this.beans);u.setRowHeight(this.params.rowHeight),u.uiLevel=0,u.setRowIndex(a),u.setRowTop(this.params.rowHeight*a),this.rowNodes.push(u)}},i.prototype.processServerResult=function(r){var a=this;this.rowNodes.forEach(function(c,_){a.setDataAndId(c,r.rowData?r.rowData[_]:void 0,a.startRow+_)}),this.parentCache.pageLoaded(this,null!=r.rowCount&&r.rowCount>=0?r.rowCount:void 0)},i.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(r){r.clearRowTopAndRowIndex()})},Fu([$("beans")],i.prototype,"beans",void 0),Fu([ce],i.prototype,"postConstruct",null),Fu([ze],i.prototype,"destroyRowNodes",null),i}(js),Nu=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Gu=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Ug=function(p,i){return function(r,a){i(r,a,p)}},qa=function(p){function i(r){var a=p.call(this)||this;return a.lastRowIndexKnown=!1,a.blocks={},a.blockCount=0,a.rowCount=r.initialRowCount,a.params=r,a}return Nu(i,p),i.prototype.setBeans=function(r){this.logger=r.create("InfiniteCache")},i.prototype.getRow=function(r,a){void 0===a&&(a=!1);var u=Math.floor(r/this.params.blockSize),c=this.blocks[u];if(!c){if(a)return;c=this.createBlock(u)}return c.getRow(r)},i.prototype.createBlock=function(r){var a=this.createBean(new gp(r,this,this.params));return this.blocks[a.getId()]=a,this.blockCount++,this.purgeBlocksIfNeeded(a),this.params.rowNodeBlockLoader.addBlock(a),a},i.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(a){return a.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},i.prototype.destroyAllBlocks=function(){var r=this;this.getBlocksInOrder().forEach(function(a){return r.destroyBlock(a)})},i.prototype.getRowCount=function(){return this.rowCount},i.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},i.prototype.pageLoaded=function(r,a){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+r.getId()+", lastRow = "+a),this.checkRowCount(r,a),this.onCacheUpdated())},i.prototype.purgeBlocksIfNeeded=function(r){var a=this,u=this.getBlocksInOrder().filter(function(M){return M!=r});u.sort(function(M,L){return L.getLastAccessed()-M.getLastAccessed()});var _=this.params.maxBlocksInCache>0,E=_?this.params.maxBlocksInCache-1:null,P=i.MAX_EMPTY_BLOCKS_TO_KEEP-1;u.forEach(function(M,L){if(M.getState()===gp.STATE_WAITING_TO_LOAD&&L>=P||_&&L>=E){if(a.isBlockCurrentlyDisplayed(M)||a.isBlockFocused(M))return;a.removeBlockFromCache(M)}})},i.prototype.isBlockFocused=function(r){var a=this.focusService.getFocusCellToUseAfterRefresh();if(!a||null!=a.rowPinned)return!1;var u=r.getStartRow(),c=r.getEndRow();return a.rowIndex>=u&&a.rowIndex<c},i.prototype.isBlockCurrentlyDisplayed=function(r){var a=r.getStartRow(),u=r.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(a,u)},i.prototype.removeBlockFromCache=function(r){r&&this.destroyBlock(r)},i.prototype.checkRowCount=function(r,a){if("number"==typeof a&&a>=0)this.rowCount=a,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var c=(r.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<c&&(this.rowCount=c)}},i.prototype.setRowCount=function(r,a){this.rowCount=r,Ye.exists(a)&&(this.lastRowIndexKnown=a),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},i.prototype.forEachNodeDeep=function(r){var a=this,u=new an;this.getBlocksInOrder().forEach(function(c){return c.forEachNode(r,u,a.rowCount)})},i.prototype.getBlocksInOrder=function(){return Ye.getAllValuesInObject(this.blocks).sort(function(u,c){return u.getId()-c.getId()})},i.prototype.destroyBlock=function(r){delete this.blocks[r.getId()],this.destroyBean(r),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(r)},i.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:J.EVENT_STORE_UPDATED}))},i.prototype.destroyAllBlocksPastVirtualRowCount=function(){var r=this,a=[];this.getBlocksInOrder().forEach(function(u){u.getId()*r.params.blockSize>=r.rowCount&&a.push(u)}),a.length>0&&a.forEach(function(u){return r.destroyBlock(u)})},i.prototype.purgeCache=function(){var r=this;this.getBlocksInOrder().forEach(function(a){return r.removeBlockFromCache(a)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},i.prototype.getRowNodesInRange=function(r,a){var u=this,c=[],_=-1,E=!1,P=new an;Ye.missing(r)&&(E=!0);var M=!1;return this.getBlocksInOrder().forEach(function(B){if(!M){if(E&&_+1!==B.getId())return void(M=!0);_=B.getId(),B.forEachNode(function(U){var X=U===r||U===a;(E||X)&&c.push(U),X&&(E=!E)},P,u.rowCount)}}),M||E?[]:c},i.MAX_EMPTY_BLOCKS_TO_KEEP=2,Gu([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Gu([$("focusService")],i.prototype,"focusService",void 0),Gu([Ug(0,ar("loggerFactory"))],i.prototype,"setBeans",null),Gu([ze],i.prototype,"destroyAllBlocks",null),i}(Me),Bu=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ci=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},$g=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Bu(i,p),i.prototype.getRowBounds=function(r){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*r}},i.prototype.ensureRowHeightsValid=function(r,a,u,c){return!1},i.prototype.init=function(){var r=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return r.destroyCache()}),this.verifyProps())},i.prototype.verifyProps=function(){(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator"))&&Ye.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},i.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},i.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,J.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,J.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,J.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},i.prototype.onFilterChanged=function(){this.reset()},i.prototype.onSortChanged=function(){this.reset()},i.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},i.prototype.isSortModelDifferent=function(){return!Ye.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},i.prototype.getType=function(){return"infinite"},i.prototype.setDatasource=function(r){this.destroyDatasource(),this.datasource=r,r&&this.reset()},i.prototype.isEmpty=function(){return!this.infiniteCache},i.prototype.isRowsToRender=function(){return!!this.infiniteCache},i.prototype.getNodesInRangeForSelection=function(r,a){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(r,a):[]},i.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsService.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var u=this.createModelUpdatedEvent();this.eventService.dispatchEvent(u)}},i.prototype.createModelUpdatedEvent=function(){return{type:J.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},i.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new an},this.infiniteCache=this.createBean(new qa(this.cacheParams))},i.prototype.defaultIfInvalid=function(r,a){return r>0?r:a},i.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},i.prototype.onCacheUpdated=function(){var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)},i.prototype.getRow=function(r){if(this.infiniteCache&&!(r>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(r)},i.prototype.getRowNode=function(r){var a;return this.forEachNode(function(u){u.id===r&&(a=u)}),a},i.prototype.forEachNode=function(r){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(r)},i.prototype.getTopLevelRowCount=function(){return this.getRowCount()},i.prototype.getTopLevelRowDisplayedIndex=function(r){return r},i.prototype.getRowIndexAtPixel=function(r){if(0!==this.rowHeight){var a=Math.floor(r/this.rowHeight),u=this.getRowCount()-1;return a>u?u:a}return 0},i.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},i.prototype.isRowPresent=function(r){return!!this.getRowNode(r.id)},i.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},i.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},i.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},i.prototype.setRowCount=function(r,a){this.infiniteCache&&this.infiniteCache.setRowCount(r,a)},Ci([$("filterManager")],i.prototype,"filterManager",void 0),Ci([$("sortController")],i.prototype,"sortController",void 0),Ci([$("selectionService")],i.prototype,"selectionService",void 0),Ci([$("rowRenderer")],i.prototype,"rowRenderer",void 0),Ci([$("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),Ci([ce],i.prototype,"init",null),Ci([ze],i.prototype,"destroyDatasource",null),Ci([Le("rowModel")],i)}(Me),Kg={version:"29.1.0",moduleName:ke.InfiniteRowModelModule,rowModels:{infinite:$g}},vp=function(){function p(){}return p.prototype.setBeans=function(i){this.beans=i},p.prototype.getFileName=function(i){var r=this.getDefaultFileExtension();return(null==i||!i.length)&&(i=this.getDefaultFileName()),-1===i.indexOf(".")?i+"."+r:i},p.prototype.getData=function(i){var r=this.createSerializingSession(i);return this.beans.gridSerializer.serialize(r,i)},p}(),_p=function(){function p(i){this.groupColumns=[];var a=i.valueService,u=i.gridOptionsService,c=i.processCellCallback,_=i.processHeaderCallback,E=i.processGroupHeaderCallback,P=i.processRowGroupCallback;this.columnModel=i.columnModel,this.valueService=a,this.gridOptionsService=u,this.processCellCallback=c,this.processHeaderCallback=_,this.processGroupHeaderCallback=E,this.processRowGroupCallback=P}return p.prototype.prepare=function(i){this.groupColumns=i.filter(function(r){return!!r.getColDef().showRowGroup})},p.prototype.extractHeaderValue=function(i){return this.getHeaderName(this.processHeaderCallback,i)??""},p.prototype.extractRowCellValue=function(i,r,a,u,c){var E=!this.gridOptionsService.is("groupHideOpenParents")&&this.shouldRenderGroupSummaryCell(c,i,r)?this.createValueForGroupNode(c):this.valueService.getValue(i,c);return this.processCell({accumulatedRowIndex:a,rowNode:c,column:i,value:E,processCellCallback:this.processCellCallback,type:u})??""},p.prototype.shouldRenderGroupSummaryCell=function(i,r,a){var u;if(!i||!i.group)return!1;if(-1!==this.groupColumns.indexOf(r)){if(null!==(u=i.groupData)&&void 0!==u&&u[r.getId()])return!0;if(i.footer&&-1===i.level){var E=r.getColDef();return null==E||!0===E.showRowGroup||E.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var M=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===a&&M},p.prototype.getHeaderName=function(i,r){return i?i({column:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(r,"csv",!0)},p.prototype.createValueForGroupNode=function(i){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var r=i.footer,a=[i.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;i.parent;)a.push((i=i.parent).key);var u=a.reverse().join(" -> ");return r?"Total "+u:u},p.prototype.processCell=function(i){var c=i.value,_=i.processCellCallback;return _?_({accumulatedRowIndex:i.accumulatedRowIndex,column:i.column,node:i.rowNode,value:c,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:i.type}):c??""},p}(),yp=function(){function p(){}return p.download=function(i,r){var a=document.defaultView||window;if(a){var u=document.createElement("a"),c=a.URL.createObjectURL(r);u.setAttribute("href",c),u.setAttribute("download",i),u.style.display="none",document.body.appendChild(u),u.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:a})),document.body.removeChild(u),a.setTimeout(function(){a.URL.revokeObjectURL(c)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},p}(),zg=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Xm=function(p){function i(r){var a=p.call(this,r)||this;a.isFirstLine=!0,a.result="";var c=r.columnSeparator;return a.suppressQuotes=r.suppressQuotes,a.columnSeparator=c,a}return zg(i,p),i.prototype.addCustomContent=function(r){var a=this;r&&("string"==typeof r?(/^\s*\n/.test(r)||this.beginNewLine(),r=r.replace(/\r?\n/g,"\r\n"),this.result+=r):r.forEach(function(u){a.beginNewLine(),u.forEach(function(c,_){0!==_&&(a.result+=a.columnSeparator),a.result+=a.putInQuotes(c.data.value||""),c.mergeAcross&&a.appendEmptyCells(c.mergeAcross)})}))},i.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},i.prototype.onNewHeaderGroupingRowColumn=function(r,a,u,c){0!=u&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(a),this.appendEmptyCells(c)},i.prototype.appendEmptyCells=function(r){for(var a=1;a<=r;a++)this.result+=this.columnSeparator+this.putInQuotes("")},i.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},i.prototype.onNewHeaderRowColumn=function(r,a){0!=a&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(r))},i.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},i.prototype.onNewBodyRowColumn=function(r,a,u){0!=a&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(r,a,a,"csv",u))},i.prototype.putInQuotes=function(r){return this.suppressQuotes?r:null==r?'""':("string"==typeof r?a=r:"function"==typeof r.toString?a=r.toString():(console.warn("AG Grid: unknown value type during csv conversion"),a=""),'"'+a.replace(/"/g,'""')+'"');var a},i.prototype.parse=function(){return this.result},i.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},i}(_p),Jm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Xa=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},Yg=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Jm(i,p),i.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},i.prototype.getMergedParams=function(r){var a=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},a,r)},i.prototype.export=function(r){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var a=this.getMergedParams(r),u=this.getData(a),c=new Blob(["\ufeff",u],{type:"text/plain"});return yp.download(this.getFileName(a.fileName),c),u},i.prototype.exportDataAsCsv=function(r){return this.export(r)},i.prototype.getDataAsCsv=function(r,a){void 0===a&&(a=!1);var u=a?Object.assign({},r):this.getMergedParams(r);return this.getData(u)},i.prototype.getDefaultFileName=function(){return"export.csv"},i.prototype.getDefaultFileExtension=function(){return"csv"},i.prototype.createSerializingSession=function(r){var a=this;return new Xm({columnModel:a.columnModel,valueService:a.valueService,gridOptionsService:a.gridOptionsService,processCellCallback:r.processCellCallback||void 0,processHeaderCallback:r.processHeaderCallback||void 0,processGroupHeaderCallback:r.processGroupHeaderCallback||void 0,processRowGroupCallback:r.processRowGroupCallback||void 0,suppressQuotes:r.suppressQuotes||!1,columnSeparator:r.columnSeparator||","})},i.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},Xa([$("columnModel")],i.prototype,"columnModel",void 0),Xa([$("valueService")],i.prototype,"valueService",void 0),Xa([$("gridSerializer")],i.prototype,"gridSerializer",void 0),Xa([$("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Xa([ce],i.prototype,"postConstruct",null),Xa([Le("csvCreator")],i)}(vp),Zm=function(){var p=function(i,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])})(i,r)};return function(i,r){function a(){this.constructor=i}p(i,r),i.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Vi=function(p,i,r,a){var _,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,i,r,a);else for(var E=p.length-1;E>=0;E--)(_=p[E])&&(c=(u<3?_(c):u>3?_(i,r,c):_(i,r))||c);return u>3&&c&&Object.defineProperty(i,r,c),c},ku=(()=>(function(p){p[p.HEADER_GROUPING=0]="HEADER_GROUPING",p[p.HEADER=1]="HEADER",p[p.BODY=2]="BODY"}(ku||(ku={})),ku))(),qg=function(p){function i(){return null!==p&&p.apply(this,arguments)||this}return Zm(i,p),i.prototype.serialize=function(r,a){void 0===a&&(a={});var u=this.getColumnsToExport(a.allColumns,a.columnKeys);return Ye.compose(this.prepareSession(u),this.prependContent(a),this.exportColumnGroups(a,u),this.exportHeaders(a,u),this.processPinnedTopRows(a,u),this.processRows(a,u),this.processPinnedBottomRows(a,u),this.appendContent(a))(r).parse()},i.prototype.processRow=function(r,a,u,c){var _=a.shouldRowBeSkipped||function(){return!1},E=this.gridOptionsService.context,P=this.gridOptionsService.api,M=this.gridOptionsService.columnApi,L=this.gridOptionsService.is("groupRemoveSingleChildren"),B=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),X=null!=a.rowPositions||!!a.onlySelected,Q=this.gridOptionsService.is("groupHideOpenParents")&&!X,oe=this.columnModel.isPivotMode()?c.leafGroup:!c.group,de=1===c.allChildrenCount&&(L||B&&c.leafGroup);if((a.skipGroups||a.skipRowGroups)&&a.skipGroups&&Ye.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!oe&&(a.skipRowGroups||de||Q)||a.onlySelected&&!c.isSelected()||a.skipPinnedTop&&"top"===c.rowPinned||a.skipPinnedBottom&&"bottom"===c.rowPinned)&&(-1!==c.level||c.leafGroup||c.footer)&&!_({node:c,api:P,columnApi:M,context:E})){var Be=r.onNewBodyRow();if(u.forEach(function(me,He){Be.onColumn(me,He,c)}),a.getCustomContentBelowRow){var Xe=a.getCustomContentBelowRow({node:c,api:P,columnApi:M,context:E});Xe&&r.addCustomContent(Xe)}}},i.prototype.appendContent=function(r){return function(a){var u=r.customFooter||r.appendContent;return u&&(r.customFooter&&Ye.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),a.addCustomContent(u)),a}},i.prototype.prependContent=function(r){return function(a){var u=r.customHeader||r.prependContent;return u&&(r.customHeader&&Ye.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),a.addCustomContent(u)),a}},i.prototype.prepareSession=function(r){return function(a){return a.prepare(r),a}},i.prototype.exportColumnGroups=function(r,a){var u=this;return function(c){if(r.skipColumnGroupHeaders)r.columnGroups&&Ye.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var _=new ct,E=u.displayedGroupCreator.createDisplayedGroups(a,u.columnModel.getGridBalancedTree(),_,null);u.recursivelyAddHeaderGroups(E,c,r.processGroupHeaderCallback)}return c}},i.prototype.exportHeaders=function(r,a){return function(u){if(r.skipHeader||r.skipColumnHeaders)r.skipHeader&&Ye.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var c=u.onNewHeaderRow();a.forEach(function(_,E){c.onColumn(_,E,void 0)})}return u}},i.prototype.processPinnedTopRows=function(r,a){var u=this;return function(c){var _=u.processRow.bind(u,c,r,a);return r.rowPositions?r.rowPositions.filter(function(E){return"top"===E.rowPinned}).sort(function(E,P){return E.rowIndex-P.rowIndex}).map(function(E){return u.pinnedRowModel.getPinnedTopRow(E.rowIndex)}).forEach(_):u.pinnedRowModel.forEachPinnedTopRow(_),c}},i.prototype.processRows=function(r,a){var u=this;return function(c){var _=u.rowModel,E=_.getType(),P="clientSide"===E,M="serverSide"===E,L=!P&&r.onlySelected,B=u.processRow.bind(u,c,r,a),U=r.exportedRows,X=void 0===U?"filteredAndSorted":U;if(r.rowPositions)r.rowPositions.filter(function(oe){return null==oe.rowPinned}).sort(function(oe,le){return oe.rowIndex-le.rowIndex}).map(function(oe){return _.getRow(oe.rowIndex)}).forEach(B);else if(u.columnModel.isPivotMode())P?_.forEachPivotNode(B,!0):_.forEachNode(B);else if(r.onlySelectedAllPages||L){var Q=u.selectionService.getSelectedNodes();u.replicateSortedOrder(Q),Q.forEach(B)}else"all"===X?_.forEachNode(B):P?_.forEachNodeAfterFilterAndSort(B,!0):M?_.forEachNodeAfterFilterAndSort(B):_.forEachNode(B);return c}},i.prototype.replicateSortedOrder=function(r){var a=this,u=this.sortController.getSortOptions(),c=function(_,E){var P,M,L,B;return null!=_.rowIndex&&null!=E.rowIndex?_.rowIndex-E.rowIndex:_.level===E.level?(null===(P=_.parent)||void 0===P?void 0:P.id)===(null===(M=E.parent)||void 0===M?void 0:M.id)?a.rowNodeSorter.compareRowNodes(u,{rowNode:_,currentPos:null!==(L=_.rowIndex)&&void 0!==L?L:-1},{rowNode:E,currentPos:null!==(B=E.rowIndex)&&void 0!==B?B:-1}):c(_.parent,E.parent):_.level>E.level?c(_.parent,E):c(_,E.parent)};r.sort(c)},i.prototype.processPinnedBottomRows=function(r,a){var u=this;return function(c){var _=u.processRow.bind(u,c,r,a);return r.rowPositions?r.rowPositions.filter(function(E){return"bottom"===E.rowPinned}).sort(function(E,P){return E.rowIndex-P.rowIndex}).map(function(E){return u.pinnedRowModel.getPinnedBottomRow(E.rowIndex)}).forEach(_):u.pinnedRowModel.forEachPinnedBottomRow(_),c}},i.prototype.getColumnsToExport=function(r,a){void 0===r&&(r=!1);var u=this.columnModel.isPivotMode();return a&&a.length?this.columnModel.getGridColumns(a):r&&!u?(this.gridOptionsService.isTreeData()?this.columnModel.getGridColumns([ts]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},i.prototype.recursivelyAddHeaderGroups=function(r,a,u){var c=[];r.forEach(function(_){_.getChildren&&_.getChildren().forEach(function(P){return c.push(P)})}),r.length>0&&r[0]instanceof Mr&&this.doAddHeaderHeader(a,r,u),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,a,u)},i.prototype.doAddHeaderHeader=function(r,a,u){var c=this,_=r.onNewHeaderGroupingRow(),E=0;a.forEach(function(P){var L,M=P;L=u?u({columnGroup:M,api:c.gridOptionsService.api,columnApi:c.gridOptionsService.columnApi,context:c.gridOptionsService.context}):c.columnModel.getDisplayNameForColumnGroup(M,"header");var B=M.getLeafColumns().reduce(function(U,X,Q,oe){var le=Ye.last(U);return"open"===X.getColumnGroupShow()?(!le||null!=le[1])&&U.push(le=[Q]):le&&null==le[1]&&(le[1]=Q-1),Q===oe.length-1&&le&&null==le[1]&&(le[1]=Q),U},[]);_.onColumn(M,L||"",E++,M.getLeafColumns().length-1,B)})},Vi([$("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),Vi([$("columnModel")],i.prototype,"columnModel",void 0),Vi([$("rowModel")],i.prototype,"rowModel",void 0),Vi([$("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Vi([$("selectionService")],i.prototype,"selectionService",void 0),Vi([$("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),Vi([$("rowNodeSorter")],i.prototype,"rowNodeSorter",void 0),Vi([$("sortController")],i.prototype,"sortController",void 0),Vi([Le("gridSerializer")],i)}(Me),Xg={version:"29.1.0",moduleName:ke.CsvExportModule,beans:[Yg,qg]},eC=function(){function p(){}return p.createHeader=function(i){void 0===i&&(i={});var u=["version"];return i.version||(i.version="1.0"),i.encoding&&u.push("encoding"),i.standalone&&u.push("standalone"),"<?xml "+u.map(function(_){return _+'="'+i[_]+'"'}).join(" ")+" ?>"},p.createXml=function(i,r){var a=this,u="";i.properties&&(i.properties.prefixedAttributes&&i.properties.prefixedAttributes.forEach(function(_){Object.keys(_.map).forEach(function(E){u+=a.returnAttributeIfPopulated(_.prefix+E,_.map[E],r)})}),i.properties.rawMap&&Object.keys(i.properties.rawMap).forEach(function(_){u+=a.returnAttributeIfPopulated(_,i.properties.rawMap[_],r)}));var c="<"+i.name+u;return i.children||null!=i.textNode?null!=i.textNode?c+">"+i.textNode+"</"+i.name+">\r\n":(c+=">\r\n",i.children&&i.children.forEach(function(_){c+=a.createXml(_,r)}),c+"</"+i.name+">\r\n"):c+"/>\r\n"},p.returnAttributeIfPopulated=function(i,r,a){if(!r&&""!==r&&0!==r)return"";var u=r;return"boolean"==typeof r&&a&&(u=a(r))," "+i+'="'+u+'"'},p}(),rC=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),nC=function(){function p(){}return p.addFolders=function(i){i.forEach(this.addFolder.bind(this))},p.addFolder=function(i){this.folders.push({path:i,created:new Date,isBase64:!1})},p.addFile=function(i,r,a){void 0===a&&(a=!1),this.files.push({path:i,created:new Date,content:r,isBase64:a})},p.getContent=function(i){void 0===i&&(i="application/zip");var r=this.buildFileStream(),a=this.buildUint8Array(r);return this.clearStream(),new Blob([a],{type:i})},p.clearStream=function(){this.folders=[],this.files=[]},p.buildFileStream=function(i){var r,a;void 0===i&&(i="");var u=this.folders.concat(this.files),c=u.length,_="",E=0,P=0;try{for(var M=function(p){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&p[i],a=0;if(r)return r.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&a>=p.length&&(p=void 0),{value:p&&p[a++],done:!p}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),L=M.next();!L.done;L=M.next()){var U=this.getHeader(L.value,E),X=U.fileHeader,Q=U.folderHeader,oe=U.content;E+=X.length+oe.length,P+=Q.length,i+=X+oe,_+=Q}}catch(fe){r={error:fe}}finally{try{L&&!L.done&&(a=M.return)&&a.call(M)}finally{if(r)throw r.error}}return i+_+this.buildFolderEnd(c,P,E)},p.getHeader=function(i,r){var a=i.content,u=i.path,c=i.created,_=i.isBase64,P=Ye.decToHex,M=(0,Ye.utf8_encode)(u),L=M!==u,B=this.convertTime(c),U=this.convertDate(c),X="";if(L){var Q=P(1,1)+P(this.getFromCrc32Table(M),4)+M;X="up"+P(Q.length,2)+Q}var oe=a?this.getConvertedContent(a,_):{size:0,content:""},le=oe.size,fe=oe.content,de="\n\0"+(L?"\0\b":"\0\0")+"\0\0"+P(B,2)+P(U,2)+P(le?this.getFromCrc32Table(fe):0,4)+P(le,4)+P(le,4)+P(M.length,2)+P(X.length,2);return{fileHeader:"PK\x03\x04"+de+M+X,folderHeader:"PK\x01\x02\x14\0"+de+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\x10\0\0\0")+P(r,4)+M+X,content:fe||""}},p.getConvertedContent=function(i,r){return void 0===r&&(r=!1),r&&(i=i.split(";base64,")[1]),{size:(i=r?atob(i):i).length,content:i}},p.buildFolderEnd=function(i,r,a){var u=Ye.decToHex;return"PK\x05\x06\0\0\0\0"+u(i,2)+u(i,2)+u(r,4)+u(a,4)+"\0\0"},p.buildUint8Array=function(i){for(var r=new Uint8Array(i.length),a=0;a<r.length;a++)r[a]=i.charCodeAt(a);return r},p.getFromCrc32Table=function(i){if(!i.length)return 0;for(var r=i.length,a=new Uint8Array(r),u=0;u<r;u++)a[u]=i.charCodeAt(u);var c=-1;for(u=0;u<r;u++)c=c>>>8^rC[255&(c^a[u])];return-1^c},p.convertTime=function(i){var r=i.getHours();return r<<=6,r|=i.getMinutes(),(r<<=5)|i.getSeconds()/2},p.convertDate=function(i){var r=i.getFullYear()-1980;return r<<=4,r|=i.getMonth()+1,(r<<=5)|i.getDate()},p.folders=[],p.files=[],p}(),Jg=[Hg,Kg,Xg];qe.registerModules(Jg)},241:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var ag_grid_community__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(898),__extends$3i=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),__decorate$2r=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$16=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},LicenseManager=function(l){function t(){var n=null!==l&&l.apply(this,arguments)||this;return n.watermarkMessage=void 0,n}var e;return __extends$3i(t,l),e=t,t.prototype.validateLicense=function(){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(e.licenseKey))this.isWebsiteUrl()||this.outputMissingLicenseKey();else if(e.licenseKey.length>32){var n=e.extractLicenseComponents(e.licenseKey),s=n.license,d=n.version,v=n.isTrial;n.md5===this.md5.md5(s)?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d)&&d?this.validateLicenseKeyForVersion(d,!!v,s):this.validateLegacyKey(s):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(n){var o=n.substring(n.lastIndexOf("_")+1,n.length);return new Date(parseInt(e.decode(o),10))},t.extractLicenseComponents=function(n){var o=n.replace(/[\u200B-\u200D\uFEFF]/g,""),s=(o=o.replace(/\r?\n|\r/g,"")).length-32,d=o.substring(s),v=o.substring(0,s),C=__read$16(e.extractBracketedInformation(o),2);return{md5:d,license:v,version:C[0],isTrial:C[1]}},t.prototype.getLicenseDetails=function(n){var o=e.extractLicenseComponents(n),d=o.license,v=o.version,C=o.isTrial,m=o.md5===this.md5.md5(d),w=null;return m&&(w=e.extractExpiry(d),m=!isNaN(w.getTime())),{licenseKey:n,valid:m,expiry:m?e.formatDate(w):null,version:v||"legacy",isTrial:C}},t.prototype.isDisplayWatermark=function(){return!this.isLocalhost()&&!this.isWebsiteUrl()&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.prototype.getHostname=function(){var d=(this.gridOptionsService.getDocument().defaultView||window).location.hostname;return void 0===d?"":d},t.prototype.isWebsiteUrl=function(){return null!==this.getHostname().match(/^((?:\w+\.)?ag-grid\.com)$/)},t.prototype.isLocalhost=function(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)},t.formatDate=function(n){var s=n.getDate(),d=n.getMonth(),v=n.getFullYear();return s+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][d]+" "+v},t.getGridReleaseDate=function(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))},t.decode=function(n){for(var v,C,m,w,D,b,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",T=0,A=n.replace(/[^A-Za-z0-9+/=]/g,"");T<A.length;)m=o.indexOf(A.charAt(T++)),v=(15&(w=o.indexOf(A.charAt(T++))))<<4|(D=o.indexOf(A.charAt(T++)))>>2,C=(3&D)<<6|(b=o.indexOf(A.charAt(T++))),s+=String.fromCharCode(m<<2|w>>4),64!=D&&(s+=String.fromCharCode(v)),64!=b&&(s+=String.fromCharCode(C));return e.utf8_decode(s)},t.utf8_decode=function(n){n=n.replace(/rn/g,"n");for(var o="",s=0;s<n.length;s++){var d=n.charCodeAt(s);d<128?o+=String.fromCharCode(d):d>127&&d<2048?(o+=String.fromCharCode(d>>6|192),o+=String.fromCharCode(63&d|128)):(o+=String.fromCharCode(d>>12|224),o+=String.fromCharCode(d>>6&63|128),o+=String.fromCharCode(63&d|128))}return o},t.setLicenseKey=function(n){e.licenseKey=n},t.extractBracketedInformation=function(n){var o=n.split("[").filter(function(v){return v.indexOf("]")>-1}).map(function(v){return v.split("]")[0]});if(!o||0===o.length)return[null,null];var s=1===o.filter(function(v){return"TRIAL"===v}).length;return[o.filter(function(v){return 0===v.indexOf("v")}).map(function(v){return v.replace(/^v/,"")})[0],s]},t.prototype.validateLicenseKeyForVersion=function(n,o,s){"2"===n&&(o?this.validateForTrial(s):this.validateLegacyKey(s))},t.prototype.validateLegacyKey=function(n){var o=e.getGridReleaseDate(),s=e.extractExpiry(n),d=!1,v=!1;if(isNaN(s.getTime())||(d=!0,v=o<s),d){if(!v){var C=e.formatDate(s),m=e.formatDate(o);this.outputIncompatibleVersion(C,m)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(n){var o=e.extractExpiry(n),s=new Date,d=!1,v=!1;if(isNaN(o.getTime())||(d=!0,v=o>s),d){if(!v){var C=e.formatDate(o);this.outputExpiredTrialKey(C)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(n){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+n+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(n,o){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+n+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+o+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTY3NjUzMjQzNzkwMg==",__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("md5")],t.prototype,"md5",void 0),__decorate$2r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],t.prototype,"validateLicense",null),e=__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("licenseManager")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3h=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2q=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MD5=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.ieCompatibility=!1,e}return __extends$3h(t,l),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,n){var o=e[0],s=e[1],d=e[2],v=e[3];o=this.ff(o,s,d,v,n[0],7,-680876936),v=this.ff(v,o,s,d,n[1],12,-389564586),d=this.ff(d,v,o,s,n[2],17,606105819),s=this.ff(s,d,v,o,n[3],22,-1044525330),o=this.ff(o,s,d,v,n[4],7,-176418897),v=this.ff(v,o,s,d,n[5],12,1200080426),d=this.ff(d,v,o,s,n[6],17,-1473231341),s=this.ff(s,d,v,o,n[7],22,-45705983),o=this.ff(o,s,d,v,n[8],7,1770035416),v=this.ff(v,o,s,d,n[9],12,-1958414417),d=this.ff(d,v,o,s,n[10],17,-42063),s=this.ff(s,d,v,o,n[11],22,-1990404162),o=this.ff(o,s,d,v,n[12],7,1804603682),v=this.ff(v,o,s,d,n[13],12,-40341101),d=this.ff(d,v,o,s,n[14],17,-1502002290),s=this.ff(s,d,v,o,n[15],22,1236535329),o=this.gg(o,s,d,v,n[1],5,-165796510),v=this.gg(v,o,s,d,n[6],9,-1069501632),d=this.gg(d,v,o,s,n[11],14,643717713),s=this.gg(s,d,v,o,n[0],20,-373897302),o=this.gg(o,s,d,v,n[5],5,-701558691),v=this.gg(v,o,s,d,n[10],9,38016083),d=this.gg(d,v,o,s,n[15],14,-660478335),s=this.gg(s,d,v,o,n[4],20,-405537848),o=this.gg(o,s,d,v,n[9],5,568446438),v=this.gg(v,o,s,d,n[14],9,-1019803690),d=this.gg(d,v,o,s,n[3],14,-187363961),s=this.gg(s,d,v,o,n[8],20,1163531501),o=this.gg(o,s,d,v,n[13],5,-1444681467),v=this.gg(v,o,s,d,n[2],9,-51403784),d=this.gg(d,v,o,s,n[7],14,1735328473),s=this.gg(s,d,v,o,n[12],20,-1926607734),o=this.hh(o,s,d,v,n[5],4,-378558),v=this.hh(v,o,s,d,n[8],11,-2022574463),d=this.hh(d,v,o,s,n[11],16,1839030562),s=this.hh(s,d,v,o,n[14],23,-35309556),o=this.hh(o,s,d,v,n[1],4,-1530992060),v=this.hh(v,o,s,d,n[4],11,1272893353),d=this.hh(d,v,o,s,n[7],16,-155497632),s=this.hh(s,d,v,o,n[10],23,-1094730640),o=this.hh(o,s,d,v,n[13],4,681279174),v=this.hh(v,o,s,d,n[0],11,-358537222),d=this.hh(d,v,o,s,n[3],16,-722521979),s=this.hh(s,d,v,o,n[6],23,76029189),o=this.hh(o,s,d,v,n[9],4,-640364487),v=this.hh(v,o,s,d,n[12],11,-421815835),d=this.hh(d,v,o,s,n[15],16,530742520),s=this.hh(s,d,v,o,n[2],23,-995338651),o=this.ii(o,s,d,v,n[0],6,-198630844),v=this.ii(v,o,s,d,n[7],10,1126891415),d=this.ii(d,v,o,s,n[14],15,-1416354905),s=this.ii(s,d,v,o,n[5],21,-57434055),o=this.ii(o,s,d,v,n[12],6,1700485571),v=this.ii(v,o,s,d,n[3],10,-1894986606),d=this.ii(d,v,o,s,n[10],15,-1051523),s=this.ii(s,d,v,o,n[1],21,-2054922799),o=this.ii(o,s,d,v,n[8],6,1873313359),v=this.ii(v,o,s,d,n[15],10,-30611744),d=this.ii(d,v,o,s,n[6],15,-1560198380),s=this.ii(s,d,v,o,n[13],21,1309151649),o=this.ii(o,s,d,v,n[4],6,-145523070),v=this.ii(v,o,s,d,n[11],10,-1120210379),d=this.ii(d,v,o,s,n[2],15,718787259),s=this.ii(s,d,v,o,n[9],21,-343485551),e[0]=this.add32(o,e[0]),e[1]=this.add32(s,e[1]),e[2]=this.add32(d,e[2]),e[3]=this.add32(v,e[3])},t.prototype.cmn=function(e,n,o,s,d,v){return n=this.add32(this.add32(n,e),this.add32(s,v)),this.add32(n<<d|n>>>32-d,o)},t.prototype.ff=function(e,n,o,s,d,v,C){return this.cmn(n&o|~n&s,e,n,d,v,C)},t.prototype.gg=function(e,n,o,s,d,v,C){return this.cmn(n&s|o&~s,e,n,d,v,C)},t.prototype.hh=function(e,n,o,s,d,v,C){return this.cmn(n^o^s,e,n,d,v,C)},t.prototype.ii=function(e,n,o,s,d,v,C){return this.cmn(o^(n|~s),e,n,d,v,C)},t.prototype.md51=function(e){var s,n=e.length,o=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=e.length;s+=64)this.md5cycle(o,this.md5blk(e.substring(s-64,s)));e=e.substring(s-64);var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<e.length;s++)d[s>>2]|=e.charCodeAt(s)<<(s%4<<3);if(d[s>>2]|=128<<(s%4<<3),s>55)for(this.md5cycle(o,d),s=0;s<16;s++)d[s]=0;return d[14]=8*n,this.md5cycle(o,d),o},t.prototype.md5blk=function(e){for(var n=[],o=0;o<64;o+=4)n[o>>2]=e.charCodeAt(o)+(e.charCodeAt(o+1)<<8)+(e.charCodeAt(o+2)<<16)+(e.charCodeAt(o+3)<<24);return n},t.prototype.rhex=function(e){for(var n="0123456789abcdef".split(""),o="",s=0;s<4;s++)o+=n[e>>8*s+4&15]+n[e>>8*s&15];return o},t.prototype.hex=function(e){for(var n=0;n<e.length;n++)e[n]=this.rhex(e[n]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,n){return this.ieCompatibility?this.add32Compat(e,n):this.add32Std(e,n)},t.prototype.add32Std=function(e,n){return e+n&4294967295},t.prototype.add32Compat=function(e,n){var o=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(o>>16)<<16|65535&o},__decorate$2q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),__decorate$2q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("md5")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3g=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2p=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},WatermarkComp=function(l){function t(){return l.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return __extends$3g(t,l),t.prototype.postConstruct=function(){var e=this,n=this.shouldDisplayWatermark();this.setDisplayed(n),n&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.setDisplayed(!1)},5e3))},t.prototype.shouldDisplayWatermark=function(){var s=(this.gridOptionsService.getDocument().defaultView||window).location.pathname,d=this.licenseManager.isDisplayWatermark();return!!s&&-1!==s.indexOf("forceWatermark")||d},__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("licenseManager")],t.prototype,"licenseManager",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),__decorate$2p([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$i="29.1.0",EnterpriseCoreModule={version:VERSION$i,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.EnterpriseCoreModule,beans:[LicenseManager,MD5],agStackComponents:[{componentName:"AgWatermark",componentClass:WatermarkComp}]},__extends$3f=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2o=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$C=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SOURCE_PASTE="paste",EXPORT_TYPE_DRAG_COPY="dragCopy",EXPORT_TYPE_CLIPBOARD="clipboard",CellClearType=(()=>(function(l){l[l.CellRange=0]="CellRange",l[l.SelectedRows=1]="SelectedRows",l[l.FocusedCell=2]="FocusedCell"}(CellClearType||(CellClearType={})),CellClearType))(),ClipboardService=function(l){function t(){var n=null!==l&&l.apply(this,arguments)||this;return n.lastPasteOperationTime=0,n.navigatorApiFailed=!1,n}var e;return __extends$3f(t,l),e=t,t.prototype.init=function(){var n=this;this.logger=this.loggerFactory.create("ClipboardService"),"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(o){n.gridCtrl=o.gridCtrl})},t.prototype.pasteFromClipboard=function(){var n=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsService.is("suppressClipboardApi")&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(s){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn(s),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),n.navigatorApiFailed=!0,n.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var n=this,o=!1,s=function(d){var v=(new Date).getTime();v-n.lastPasteOperationTime<50&&(o=!0,d.preventDefault()),n.lastPasteOperationTime=v};this.executeOnTempElement(function(d){d.addEventListener("paste",s),d.focus({preventScroll:!0})},function(d){var v=d.value;o?n.refocusLastFocusedCell():n.processClipboardData(v),d.removeEventListener("paste",s)})},t.prototype.refocusLastFocusedCell=function(){var n=this.focusService.getFocusedCell();n&&this.focusService.setFocusedCell({rowIndex:n.rowIndex,column:n.column,rowPinned:n.rowPinned,forceBrowserFocus:!0})},t.prototype.getClipboardDelimiter=function(){var n=this.gridOptionsService.get("clipboardDelimiter");return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n)?n:"\t"},t.prototype.processClipboardData=function(n){var o=this;if(null!=n){var s=e.stringToArray(n,this.getClipboardDelimiter()),d=this.gridOptionsService.getCallback("processDataFromClipboard");d&&(s=d({data:s})),null!=s&&(this.gridOptionsService.is("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(s),this.doPasteOperation(function(C,m,w,D){o.rangeService&&o.rangeService.isMoreThanOneCell()&&!o.hasOnlyOneValueToPaste(s)?o.pasteIntoActiveRange(s,C,m,D):o.pasteStartingFromFocusedCell(s,C,m,w,D)}))}},t.stringToArray=function(n,o){void 0===o&&(o=",");var s=[],d=function(I){return"\r"===I||"\n"===I},v=!1;if(""===n)return[[""]];for(var m,w,D,C=function(I,N,G){var V=n[G-1],W=n[G],j=n[G+1],K=function(){s[I]||(s[I]=[]),s[I][N]||(s[I][N]="")};if(K(),'"'===W){if(v)return'"'===j?(s[I][N]+='"',G++):v=!1,m=I,w=N,D=G,"continue";if(void 0===V||V===o||d(V))return v=!0,m=I,w=N,D=G,"continue"}if(!v){if(W===o)return N++,K(),m=I,w=N,D=G,"continue";if(d(W))return N=0,I++,K(),"\r"===W&&"\n"===j&&G++,m=I,w=N,D=G,"continue"}s[I][N]+=W,m=I,w=N,D=G},b=0,T=0,A=0;A<n.length;A++)C(b,T,A),b=m,T=w,A=D;return s},t.prototype.doPasteOperation=function(n){var v,d="clipboard";if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_START,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,source:d}),this.clientSideRowModel){var C=this.gridOptionsService.is("aggregateOnlyChangedColumns");v=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Dkq(C,this.clientSideRowModel.getRootNode())}var m={},w=[];n(m,w,this.focusService.getFocusedCell(),v),v&&this.clientSideRowModel.doAggregate(v),this.rowRenderer.refreshCells(),this.dispatchFlashCells(m),this.fireRowChanged(w),this.refocusLastFocusedCell(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_END,source:d})},t.prototype.pasteIntoActiveRange=function(n,o,s,d){var v=this,C=this.getRangeSize()%n.length!=0,m=0,w=0;this.iterateActiveRanges(!1,function(b,T,A,I){if(I-m>=n.length){if(C)return;m+=w,w=0}var G=n[I-m];s.push(T);var V=v.gridOptionsService.getCallback("processCellFromClipboard");A.forEach(function(W,j){if(W.isCellEditable(T)&&!W.isSuppressPaste(T)){j>=G.length&&(j%=G.length);var K=v.processCell(T,W,G[j],EXPORT_TYPE_DRAG_COPY,V);T.setDataValue(W,K,SOURCE_PASTE),d&&d.addParentNode(T.parent,[W]);var q=v.cellPositionUtils.createIdFromValues({rowIndex:b.rowIndex,column:W,rowPinned:b.rowPinned});o[q]=!0}}),w++})},t.prototype.pasteStartingFromFocusedCell=function(n,o,s,d,v){if(d){var C={rowIndex:d.rowIndex,rowPinned:d.rowPinned},m=this.columnModel.getDisplayedColumnsStartingAt(d.column);this.isPasteSingleValueIntoRange(n)?this.pasteSingleValueIntoRange(n,s,o,v):this.pasteMultipleValues(n,C,s,m,o,EXPORT_TYPE_CLIPBOARD,v)}},t.prototype.isPasteSingleValueIntoRange=function(n){return this.hasOnlyOneValueToPaste(n)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(n,o,s,d){var v=this,C=n[0][0];this.iterateActiveRanges(!1,function(w,D,b){o.push(D),b.forEach(function(T){return v.updateCellValue(D,T,C,s,EXPORT_TYPE_CLIPBOARD,d)})})},t.prototype.hasOnlyOneValueToPaste=function(n){return 1===n.length&&1===n[0].length},t.prototype.copyRangeDown=function(){var n=this;if(this.rangeService&&!this.rangeService.isEmpty()){var o=[];this.doPasteOperation(function(d,v,C,m){var w=n.gridOptionsService.getCallback("processCellForClipboard"),D=n.gridOptionsService.getCallback("processCellFromClipboard");n.iterateActiveRanges(!0,function(T,A,I){o.length?(v.push(A),I.forEach(function(N,G){if(N.isCellEditable(A)&&!N.isSuppressPaste(A)){var V=n.processCell(A,N,o[G],EXPORT_TYPE_DRAG_COPY,D);A.setDataValue(N,V,SOURCE_PASTE),m&&m.addParentNode(A.parent,[N]);var K=n.cellPositionUtils.createIdFromValues({rowIndex:T.rowIndex,column:N,rowPinned:T.rowPinned});d[K]=!0}})):I.forEach(function(N){var G=n.processCell(A,N,n.valueService.getValue(N,A),EXPORT_TYPE_DRAG_COPY,w);o.push(G)})})})}},t.prototype.removeLastLineIfBlank=function(n){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n);if(o&&1===o.length&&""===o[0]){if(1===n.length)return;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(n,o)}},t.prototype.fireRowChanged=function(n){var o=this;"fullRow"===this.gridOptionsService.get("editType")&&n.forEach(function(s){o.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_VALUE_CHANGED,node:s,data:s.data,rowIndex:s.rowIndex,rowPinned:s.rowPinned})})},t.prototype.pasteMultipleValues=function(n,o,s,d,v,C,m){var w=this,D=o,b=null!=this.clientSideRowModel&&!this.gridOptionsService.isTreeData();n.forEach(function(A){var I=function(){for(;;){if(!D)return null;var A=w.rowPositionUtils.getRowNode(D);if(D=w.cellNavigationService.getRowBelow({rowPinned:D.rowPinned,rowIndex:D.rowIndex}),null==A)return null;if(!(A.detail||A.footer||b&&A.group))return A}}();I&&(A.forEach(function(N,G){return w.updateCellValue(I,d[G],N,v,C,m)}),s.push(I))})},t.prototype.updateCellValue=function(n,o,s,d,v,C){if(n&&o&&o.isCellEditable(n)&&!o.isSuppressPaste(n)){var m=this.processCell(n,o,s,v,this.gridOptionsService.getCallback("processCellFromClipboard"));n.setDataValue(o,m,SOURCE_PASTE),d[this.cellPositionUtils.createIdFromValues({rowIndex:n.rowIndex,column:o,rowPinned:n.rowPinned})]=!0,C&&C.addParentNode(n.parent,[o])}},t.prototype.copyToClipboard=function(n){void 0===n&&(n={}),this.copyOrCutToClipboard(n)},t.prototype.cutToClipboard=function(n){void 0===n&&(n={}),this.copyOrCutToClipboard(n,!0)},t.prototype.copyOrCutToClipboard=function(n,o){var s=n.includeHeaders,d=n.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+s),null==s&&(s=this.gridOptionsService.is("copyHeadersToClipboard")),null==d&&(d=this.gridOptionsService.is("copyGroupHeadersToClipboard"));var v={includeHeaders:s,includeGroupHeaders:d},C=!this.gridOptionsService.is("suppressCopyRowsToClipboard"),m=null;!this.rangeService||this.rangeService.isEmpty()||this.shouldSkipSingleCellRange()?C&&!this.selectionService.isEmpty()?(this.copySelectedRowsToClipboard(v),m=CellClearType.SelectedRows):this.focusService.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(v),m=CellClearType.FocusedCell):(this.copySelectedRangeToClipboard(v),m=CellClearType.CellRange),o&&null!==m&&this.clearCellsAfterCopy(m)},t.prototype.clearCellsAfterCopy=function(n){if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),n===CellClearType.CellRange)this.rangeService.clearCellRangeCellValues(void 0,"clipboardService");else if(n===CellClearType.SelectedRows)this.clearSelectedRows();else{var o=this.focusService.getFocusedCell();if(null==o)return;var s=this.rowPositionUtils.getRowNode(o);s&&this.clearCellValue(s,o.column)}this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})},t.prototype.clearSelectedRows=function(){var n,o,s,d,v=this.selectionService.getSelectedNodes(),C=this.columnModel.getAllDisplayedColumns();try{for(var m=__values$C(v),w=m.next();!w.done;w=m.next()){var D=w.value;try{for(var b=(s=void 0,__values$C(C)),T=b.next();!T.done;T=b.next())this.clearCellValue(D,T.value)}catch(I){s={error:I}}finally{try{T&&!T.done&&(d=b.return)&&d.call(b)}finally{if(s)throw s.error}}}}catch(I){n={error:I}}finally{try{w&&!w.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}},t.prototype.clearCellValue=function(n,o){o.isCellEditable(n)&&n.setDataValue(o,null,"clipboardService")},t.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsService.is("suppressCopySingleCellRanges")&&!this.rangeService.isMoreThanOneCell()},t.prototype.iterateActiveRanges=function(n,o,s){var d=this;if(this.rangeService&&!this.rangeService.isEmpty()){var v=this.rangeService.getCellRanges();n?this.iterateActiveRange(v[0],o,s,!0):v.forEach(function(C,m){return d.iterateActiveRange(C,o,s,m===v.length-1)})}},t.prototype.iterateActiveRange=function(n,o,s,d){if(this.rangeService){var v=this.rangeService.getRangeStartRow(n),C=this.rangeService.getRangeEndRow(n);s&&n.columns&&s(n.columns);for(var m=0,w=!1;!w&&null!=v;){var D=this.rowPositionUtils.getRowNode(v);w=this.rowPositionUtils.sameRow(v,C),o(v,D,n.columns,m++,w&&d),v=this.cellNavigationService.getRowBelow(v)}}},t.prototype.copySelectedRangeToClipboard=function(n){if(void 0===n&&(n={}),this.rangeService&&!this.rangeService.isEmpty()){var s=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(n):this.buildDataFromRanges(n),v=s.cellsToFlash;this.copyDataToClipboard(s.data),this.dispatchFlashCells(v)}},t.prototype.buildDataFromMergedRanges=function(n){var o=this,s=new Set,d=this.rangeService.getCellRanges(),v=new Map,C=[],m={};d.forEach(function(T){T.columns.forEach(function(G){return s.add(G)});var A=o.getRangeRowPositionsAndCellsToFlash(T),N=A.cellsToFlash;A.rowPositions.forEach(function(G){var V=G.rowIndex+"-"+(G.rowPinned||"null");v.get(V)||(v.set(V,!0),C.push(G))}),Object.assign(m,N)});var w=this.columnModel.getAllDisplayedColumns(),D=Array.from(s);return D.sort(function(T,A){return w.indexOf(T)-w.indexOf(A)}),{data:this.buildExportParams({columns:D,rowPositions:C,includeHeaders:n.includeHeaders,includeGroupHeaders:n.includeGroupHeaders}),cellsToFlash:m}},t.prototype.buildDataFromRanges=function(n){var o=this,s=this.rangeService.getCellRanges(),d=[],v={};return s.forEach(function(C){var m=o.getRangeRowPositionsAndCellsToFlash(C),w=m.rowPositions;Object.assign(v,m.cellsToFlash),d.push(o.buildExportParams({columns:C.columns,rowPositions:w,includeHeaders:n.includeHeaders,includeGroupHeaders:n.includeGroupHeaders}))}),{data:d.join("\n"),cellsToFlash:v}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(n){for(var o=this,s=[],d={},v=this.rangeService.getRangeStartRow(n),C=this.rangeService.getRangeEndRow(n),m=v;m&&(s.push(m),n.columns.forEach(function(w){var A=o.cellPositionUtils.createIdFromValues({rowIndex:m.rowIndex,column:w,rowPinned:m.rowPinned});d[A]=!0}),!this.rowPositionUtils.sameRow(m,C));)m=this.cellNavigationService.getRowBelow(m);return{rowPositions:s,cellsToFlash:d}},t.prototype.copyFocusedCellToClipboard=function(n){var o;void 0===n&&(n={});var s=this.focusService.getFocusedCell();if(null!=s){var d=this.cellPositionUtils.createId(s),m=this.buildExportParams({columns:[s.column],rowPositions:[{rowPinned:s.rowPinned,rowIndex:s.rowIndex}],includeHeaders:n.includeHeaders,includeGroupHeaders:n.includeGroupHeaders});this.copyDataToClipboard(m),this.dispatchFlashCells(((o={})[d]=!0,o))}},t.prototype.copySelectedRowsToClipboard=function(n){void 0===n&&(n={});var v=this.buildExportParams({columns:n.columnKeys,includeHeaders:n.includeHeaders,includeGroupHeaders:n.includeGroupHeaders});this.copyDataToClipboard(v)},t.prototype.buildExportParams=function(n){var o=this,d=n.rowPositions,v=n.includeHeaders,m=n.includeGroupHeaders,D={columnKeys:n.columns,rowPositions:d,skipColumnHeaders:!(void 0!==v&&v),skipColumnGroupHeaders:!(void 0!==m&&m),suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!d,processCellCallback:this.gridOptionsService.getCallback("processCellForClipboard"),processRowGroupCallback:function(b){return o.processRowGroupCallback(b)},processHeaderCallback:this.gridOptionsService.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:this.gridOptionsService.getCallback("processGroupHeaderForClipboard")};return this.csvCreator.getDataAsCsv(D,!0)},t.prototype.processRowGroupCallback=function(n){var o=n.node,s=o.key,d=s??"";if(n.node.footer){var v="";s&&s.length&&(v=" "+s),d="Total"+v}var C=this.gridOptionsService.getCallback("processCellForClipboard");if(C){var m=o.rowGroupColumn;return!m&&o.footer&&-1===o.level&&(m=this.columnModel.getRowGroupColumns()[0]),C({value:d,node:o,column:m,type:"clipboard"})}return d},t.prototype.dispatchFlashCells=function(n){var o=this;window.setTimeout(function(){o.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FLASH_CELLS,cells:n})},0)},t.prototype.processCell=function(n,o,s,d,v){return v?v({column:o,node:n,value:s,type:d}):s},t.prototype.copyDataToClipboard=function(n){var o=this,s=this.gridOptionsService.getCallback("sendToClipboard");s?s({data:n}):!this.gridOptionsService.is("suppressClipboardApi")&&navigator.clipboard?navigator.clipboard.writeText(n).catch(function(v){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn(v),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),o.copyDataToClipboardLegacy(n)}):this.copyDataToClipboardLegacy(n)},t.prototype.copyDataToClipboardLegacy=function(n){var o=this;this.executeOnTempElement(function(s){var d=o.gridOptionsService.getDocument(),v=d.activeElement;s.value=n||" ",s.select(),s.focus({preventScroll:!0}),d.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=v&&null!=v.focus&&v.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(n,o){var s=this.gridOptionsService.getDocument(),d=s.createElement("textarea");d.style.width="1px",d.style.height="1px",d.style.top=s.documentElement.scrollTop+"px",d.style.left=s.documentElement.scrollLeft+"px",d.style.position="absolute",d.style.opacity="0";var v=this.gridCtrl.getGui();v.appendChild(d);try{n(d)}catch{console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}o?window.setTimeout(function(){o(d),v.removeChild(d)},100):v.removeChild(d)},t.prototype.getRangeSize=function(){var n=this.rangeService.getCellRanges(),o=0,s=0;return n.length>0&&(o=this.rangeService.getRangeStartRow(n[0]).rowIndex,s=this.rangeService.getRangeEndRow(n[0]).rowIndex),o-s+1},__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("csvCreator")],t.prototype,"csvCreator",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],t.prototype,"selectionService",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],t.prototype,"rangeService",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"rowModel",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$2o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),e=__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("clipboardService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$h="29.1.0",ClipboardModule={version:VERSION$h,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,beans:[ClipboardService],dependantModules:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC]},__extends$3e=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2n=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ExpandState=(()=>(function(l){l[l.EXPANDED=0]="EXPANDED",l[l.COLLAPSED=1]="COLLAPSED",l[l.INDETERMINATE=2]="INDETERMINATE"}(ExpandState||(ExpandState={})),ExpandState))(),PrimaryColsHeaderPanel=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$3e(t,l),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(o){o.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var n=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(n("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(n("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(ExpandState.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,n=!this.params.suppressColumnSelectAll,o=!this.params.suppressColumnExpandAll,s=this.columnModel.isPrimaryColumnGroupsPresent(),d=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(d("searchOoo","Search...")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSelect.getGui(),n),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,o&&s)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(function(){var n=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:n})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var n=this;e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&setTimeout(function(){return n.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===ExpandState.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.expandState===ExpandState.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.expandState===ExpandState.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.expandState===ExpandState.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],t.prototype,"eExpand",void 0),__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSelect")],t.prototype,"eSelect",void 0),__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),__decorate$2n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),ColumnModelItem=function(){function l(t,e,n,o,s){void 0===o&&(o=!1),this.eventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.displayName=t,this.dept=n,this.group=o,o?(this.columnGroup=e,this.expanded=s,this.children=[]):this.column=e}return l.prototype.isGroup=function(){return this.group},l.prototype.getDisplayName=function(){return this.displayName},l.prototype.getColumnGroup=function(){return this.columnGroup},l.prototype.getColumn=function(){return this.column},l.prototype.getDept=function(){return this.dept},l.prototype.isExpanded=function(){return!!this.expanded},l.prototype.getChildren=function(){return this.children},l.prototype.isPassesFilter=function(){return this.passesFilter},l.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:l.EVENT_EXPANDED_CHANGED}))},l.prototype.setPassesFilter=function(t){this.passesFilter=t},l.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},l.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},l.EVENT_EXPANDED_CHANGED="expandedChanged",l}(),__extends$3d=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2m=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$15=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$E=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$15(arguments[t]));return l},__values$B=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ToolPanelContextMenu=function(l){function t(e,n,o){var s=l.call(this,'<div class="ag-menu"></div>')||this;return s.column=e,s.mouseEvent=n,s.parentEl=o,s.displayName=null,s}return __extends$3d(t,l),t.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},t.prototype.initializeProperties=function(e){this.columns=e instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(n){return n.isPrimary()&&n.isAllowRowGroup()}),this.allowValues=this.columns.some(function(n){return n.isPrimary()&&n.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(n){return n.isPrimary()&&n.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,n=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(o){return o.isPrimary()&&o.isAllowRowGroup()},activeFunction:function(o){return o.isRowGroupActive()},activateLabel:function(){return n("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return n("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var o=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(o){return o.isPrimary()&&o.isAllowValue()},activeFunction:function(o){return o.isValueActive()},activateLabel:function(){return n("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return n("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var o=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(o){return e.columnModel.isPivotMode()&&o.isPrimary()&&o.isAllowPivot()},activeFunction:function(o){return o.isPivotActive()},activateLabel:function(){return n("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return n("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var o=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return __spread$E(e).concat(this.columns.filter(function(n){return-1===e.indexOf(n)}))},t.prototype.removeColumnsFromList=function(e){var n=this;return e.filter(function(o){return-1===n.columns.indexOf(o)})},t.prototype.displayContextMenu=function(){var e=this,n=this.getGui(),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),s=this.getMappedMenuItems(),d=this.localeService.getLocaleTextFunc(),v=function(){};n.appendChild(o.getGui()),o.addMenuItems(s),o.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,function(){e.parentEl.focus(),v()});var C=this.popupService.addPopup({modal:!0,eChild:n,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(o.getGui())},ariaLabel:d("ariaLabelContextMenu","Context Menu"),closedCallback:function(m){m instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(o)}});C&&(v=C.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:n})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,n,o=[],s=function(w){var D=d.columns.some(function(T){return w.allowedFunction(T)&&!w.activeFunction(T)}),b=d.columns.some(function(T){return w.allowedFunction(T)&&w.activeFunction(T)});D&&o.push({name:w.activateLabel(d.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(w.addIcon,d.gridOptionsService,null),action:function(){return w.activateFunction()}}),b&&o.push({name:w.deactivateLabel(d.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(w.removeIcon,d.gridOptionsService,null),action:function(){return w.deActivateFunction()}})},d=this;try{for(var v=__values$B(this.menuItemMap.values()),C=v.next();!C.done;C=v.next())s(C.value)}catch(w){e={error:w}}finally{try{C&&!C.done&&(n=v.return)&&n.call(v)}finally{if(e)throw e.error}}return o},__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],t.prototype,"popupService",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$2m([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3c=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2l=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelColumnGroupComp=function(l){function t(e,n,o,s){var d=l.call(this)||this;return d.modelItem=e,d.allowDragging=n,d.eventType=o,d.focusWrapper=s,d.processingColumnStateChange=!1,d.modelItem=e,d.columnGroup=e.getColumnGroup(),d.columnDept=e.getDept(),d.allowDragging=n,d}return __extends$3c(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var n=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,ColumnModelItem.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup).forEach(function(d){return e.addOrRemoveCssClass(d,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,n=this.columnGroup.getColGroupDef();if(n){var o=function(){e.setTooltip(n.headerTooltip)};o(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,o)}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.onContextMenu=function(e){var n=this,s=this.columnGroup;if(!this.gridOptionsService.is("functionsReadOnly")){var v=this.createBean(new ToolPanelContextMenu(s,e,this.focusWrapper));this.addDestroyFunc(function(){v.isAlive()&&n.destroyBean(v)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(n){e.addManagedListener(n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var n=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:n?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(){n&&e.onChangeCommon(!0)},onGridExit:function(){n&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(o)})}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(n){e[n.getId()]=n.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eColumnGroupIcons,!0);this.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],n=function(o){o.forEach(function(s){s.isPassesFilter()&&(s.isGroup()?n(s.getChildren()):e.push(s.getColumn()))})};return n(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),n=e("ariaColumnGroup","Column Group"),o=this.cbSelect.getValue(),s=void 0===o?e("ariaIndeterminate","indeterminate"):o?e("ariaVisible","visible"):e("ariaHidden","hidden"),d=e("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+n),this.cbSelect.setInputAriaLabel(d+" ("+s+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),n=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(n),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",n),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,n=this.columnModel.isPivotMode(),o=this.getVisibleLeafColumns(),s=0,d=0;if(o.forEach(function(v){!n&&v.getColDef().lockVisible||(e.isColumnChecked(v,n)?s++:d++)}),!(s>0&&d>0))return s>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),n=0;return this.columnGroup.getLeafColumns().forEach(function(o){e?o.isAnyFunctionAllowed()&&n++:o.getColDef().lockVisible||n++}),0===n},t.prototype.isColumnChecked=function(e,n){if(n){var o=e.isPivotActive(),s=e.isRowGroupActive(),d=e.isValueActive();return o||s||d}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,!e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var n=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!n||!e&&n)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],t.prototype,"cbSelect",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],t.prototype,"eLabel",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),__decorate$2l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3b=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2k=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PRIMARY_COLS_LIST_ITEM_HOVERED="ag-list-item-hovered",PrimaryColsListPanelItemDragFeature=function(l){function t(e,n){var o=l.call(this)||this;return o.comp=e,o.virtualList=n,o.currentDragColumn=null,o.lastHoveredColumnItem=null,o}return __extends$3b(t,l),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.columnPanelItemDragStart=function(e){this.currentDragColumn=e.column,this.getCurrentColumns().find(function(d){var v=d.getColDef();return!!v.suppressMovable||!!v.lockPosition})&&(this.moveBlocked=!0)},t.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragColumn=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(o){return o===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(o){return e.onDragging(o)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(n){return e.scrollTop=n}})},t.prototype.onDragging=function(e){if(this.currentDragColumn&&!this.moveBlocked){var n=this.getDragColumnItem(e),o=this.virtualList.getComponentAt(n.rowIndex);if(o){var s=o.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===n.rowIndex&&this.lastHoveredColumnItem.position===n.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(s,""+PRIMARY_COLS_LIST_ITEM_HOVERED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(s,"ag-item-highlight-"+n.position))}}},t.prototype.getDragColumnItem=function(e){var n=this.virtualList.getGui(),o=parseFloat(window.getComputedStyle(n).paddingTop),s=this.virtualList.getRowHeight(),d=this.virtualList.getScrollTop(),v=Math.max(0,(e.y-o+d)/s),C=this.comp.getDisplayedColsList().length-1,m=0|Math.min(C,v);return{rowIndex:m,position:Math.round(v)>v||v>C?"bottom":"top",component:this.virtualList.getComponentAt(m)}},t.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),n=this.getCurrentColumns();null!=e&&this.columnModel.moveColumns(n,e,"toolPanelUi"),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},t.prototype.getMoveDiff=function(e){var n=this.columnModel.getAllGridColumns(),o=this.getCurrentColumns(),d=o.length;return n.indexOf(o[0])<e?d:0},t.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},t.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var o,e=this.lastHoveredColumnItem.component,n="top"===this.lastHoveredColumnItem.position;e instanceof ToolPanelColumnGroupComp?(o=e.getColumns()[0],n=!0):o=e.getColumn();var d=this.columnModel.getAllGridColumns().indexOf(o),v=n?d:d+1;return v-this.getMoveDiff(v)},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+PRIMARY_COLS_LIST_ITEM_HOVERED).forEach(function(n){[PRIMARY_COLS_LIST_ITEM_HOVERED,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(o){n.classList.remove(o)})}),this.lastHoveredColumnItem=null},__decorate$2k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$2k([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3a=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2j=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelColumnComp=function(l){function t(e,n,o,s,d){var v=l.call(this)||this;return v.column=e,v.columnDept=n,v.allowDragging=o,v.groupsExist=s,v.focusWrapper=d,v.processingColumnStateChange=!1,v}return __extends$3a(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var n=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.displayName);this.eLabel.innerHTML=s;var d=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+d),this.setupDragging(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null).forEach(function(C){return e.addOrRemoveCssClass(C,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,n=function(){var o=e.column.getColDef().headerTooltip;e.setTooltip(o)};n(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,n)},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var n=this,s=this.column;if(!this.gridOptionsService.is("functionsReadOnly")){var v=this.createBean(new ToolPanelContextMenu(s,e,this.focusWrapper));this.addDestroyFunc(function(){v.isAlive()&&n.destroyBean(v)})}},t.prototype.handleKeyDown=function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsService.is("functionsReadOnly")){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),n=e("ariaColumn","Column"),o=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+n),this.cbSelect.setInputAriaLabel(s+" ("+o+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var n=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:n?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(){n&&e.onChangeCommon(!0)},onGridExit:function(){n&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(o)})}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var n=this.column.isAnyFunctionActive();this.cbSelect.setValue(n)}else this.cbSelect.setValue(this.column.isVisible());var o=!0,s=!0;if(e){var d=this.gridOptionsService.is("functionsReadOnly"),v=!this.column.isAnyFunctionAllowed();s=o=!d&&!v}else{var C=this.column.getColDef();o=!C.lockVisible,s=!!C.enableRowGroup||!!C.enableValue||!(C.lockPosition||C.suppressMovable)}this.cbSelect.setReadOnly(!o),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!s),this.addOrRemoveCssClass("ag-column-select-column-readonly",!s&&!o);var N=e&&this.gridOptionsService.is("functionsPassive");this.cbSelect.setPassive(N),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],t.prototype,"eLabel",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],t.prototype,"cbSelect",void 0),__decorate$2j([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$39=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2i=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},UIColumnModel=function(){function l(t){this.items=t}return l.prototype.getRowCount=function(){return this.items.length},l.prototype.getRow=function(t){return this.items[t]},l}(),PRIMARY_COLS_LIST_PANEL_CLASS="ag-column-select-list",PrimaryColsListPanel=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e}return __extends$39(t,l),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,n,o){var s=this;this.params=e,this.allowDragging=n,this.eventType=o,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED].forEach(function(m){s.addManagedListener(s.eventService,m,s.fireSelectionChangedEvent.bind(s))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var C=this.localeService.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("column-select","tree",C)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(m,w){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(w,m.getDept()+1),s.createComponentFromItem(m,w)}),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsService.is("suppressMovableColumns")&&this.createManagedBean(new PrimaryColsListPanelItemDragFeature(this,this.virtualList))},t.prototype.createComponentFromItem=function(e,n){if(e.isGroup()){var o=new ToolPanelColumnGroupComp(e,this.allowDragging,this.eventType,n);return this.getContext().createBean(o),o}var s=new ToolPanelColumnComp(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,n);return this.getContext().createBean(s),s},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),n=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||n?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(n){if(n.isGroup()){var o=n.getColumnGroup();o&&(e[o.getId()]=n.isExpanded())}}),e},t.prototype.setExpandedStates=function(e){this.allColsTree&&this.forEachItem(function(n){if(n.isGroup()){var o=n.getColumnGroup();if(o){var s=e[o.getId()];null!=s&&n.setExpanded(s)}}})},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var n=this.colDefService.createColumnTree(e);this.buildListModel(n),this.groupsExist=e.some(function(o){return o&&typeof o.children<"u"}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var n=this,o=this.onColumnExpanded.bind(this),d=function(m,w,D){m.forEach(function(b){b instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?v(b,w,D):C(b,w,D)})},v=function(m,w,D){var b=m.getColGroupDef();if(!b||!b.suppressColumnsToolPanel){if(m.isPadding())return void d(m.getChildren(),w,D);var A=n.columnModel.getDisplayNameForProvidedColumnGroup(null,m,n.eventType),I=new ColumnModelItem(A,m,w,!0,n.expandGroupsByDefault);D.push(I),function(m){m.addEventListener(ColumnModelItem.EVENT_EXPANDED_CHANGED,o);var w=m.removeEventListener.bind(m,ColumnModelItem.EVENT_EXPANDED_CHANGED,o);n.destroyColumnItemFuncs.push(w)}(I),d(m.getChildren(),w+1,I.getChildren())}},C=function(m,w,D){if(!m.getColDef()||!m.getColDef().suppressColumnsToolPanel){var T=n.columnModel.getDisplayNameForColumn(m,"columnToolPanel");D.push(new ColumnModelItem(T,m,w))}};this.destroyColumnTree(),d(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var n=function(s){s.isPassesFilter()&&(e.displayedColsList.push(s),s.isGroup()&&s.isExpanded()&&s.getChildren().forEach(n))};this.allColsTree.forEach(n),this.virtualList.setModel(new UIColumnModel(this.displayedColsList));var o=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=o&&this.focusRowIfAlive(o),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var n=this;window.setTimeout(function(){n.isAlive()&&n.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var n=function(o){o.forEach(function(s){e(s),s.isGroup()&&n(s.getChildren())})};n(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(n){n.isGroup()&&n.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,n){if(n){var o=[];this.forEachItem(function(d){if(d.isGroup()){var v=d.getColumnGroup().getId();n.indexOf(v)>=0&&(d.setExpanded(e),o.push(v))}});var s=n.filter(function(d){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(o,d)});s.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",s)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,n=0;return this.forEachItem(function(o){o.isGroup()&&(o.isExpanded()?e++:n++)}),e>0&&n>0?ExpandState.INDETERMINATE:n>0?ExpandState.COLLAPSED:ExpandState.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,n=0,o=this.columnModel.isPivotMode();if(this.forEachItem(function(s){if(!s.isGroup()&&s.isPassesFilter()){var C,d=s.getColumn(),v=d.getColDef();if(o){if(!d.isAllowPivot()&&!d.isAllowRowGroup()&&!d.isAllowValue())return;C=d.isValueActive()||d.isPivotActive()||d.isRowGroupActive()}else{if(v.lockVisible)return;C=d.isVisible()}C?e++:n++}}),!(e>0&&n>0))return!(0===e||n>0)},t.prototype.setFilterText=function(e){this.filterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,n=function(s){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.filterText))return!0;var d=s.getDisplayName();return null==d||-1!==d.toLowerCase().indexOf(e.filterText)},o=function(s,d){var v=!1;if(s.isGroup()){var C=n(s);s.getChildren().forEach(function(w){var D=o(w,C||d);D&&(v=D)})}var m=!(!d&&!v)||n(s);return s.setPassesFilter(m),m};this.allColsTree.forEach(function(s){return o(s,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="'+PRIMARY_COLS_LIST_PANEL_CLASS+'" role="presentation"></div>',__decorate$2i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],t.prototype,"colDefService",void 0),__decorate$2i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),__decorate$2i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyColumnTree",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$38=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2h=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PivotModePanel=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$38(t,l),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var n=this.gridOptionsService.api;n&&n.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbPivotMode")],t.prototype,"cbPivotMode",void 0),__decorate$2h([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$37=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2g=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AggregationStage=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$37(t,l),t.prototype.execute=function(e){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(this.columnModel.getValueColumns()),o=!this.getGroupRowAggFunc(),s=e.changedPath&&e.changedPath.isActive();if(!(n&&o&&s)){var d=this.createAggDetails(e);this.recursivelyCreateAggData(d)}},t.prototype.getGroupRowAggFunc=function(){var e=this.gridOptionsService.getCallback("getGroupRowAgg");if(e)return e;var n=this.gridOptionsService.get("groupRowAggNodes");return n?function(o){return n(o.nodes)}:void 0},t.prototype.createAggDetails=function(e){var n=this.columnModel.isPivotActive(),o=this.columnModel.getValueColumns(),s=n?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:o,pivotColumns:s}},t.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.gridOptionsService.getGroupAggFiltering()||this.gridOptionsService.is("suppressAggFilteredOnly")},t.prototype.recursivelyCreateAggData=function(e){var n=this;this.filteredOnly=!this.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(s){if(s.hasChildren()){if(-1===s.level){var C=!n.columnModel.isPivotMode();if(n.gridOptionsService.is("suppressAggAtRootLevel")&&C)return}n.aggregateRowNode(s,e)}else s.aggData&&s.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,n){var v,o=0===n.valueColumns.length,s=0===n.pivotColumns.length,d=this.getGroupRowAggFunc();v=d?d({nodes:e.childrenAfterFilter}):o?null:s?this.aggregateRowNodeUsingValuesOnly(e,n):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(v),e.sibling&&e.sibling.setAggData(v)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var n=this,o={},s=this.pivotStage.getPivotColumnDefs();return s.filter(function(d){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.pivotTotalColumnIds)}).forEach(function(d){var C,m=d.pivotValueColumn,w=d.colId;C=e.leafGroup?n.getValuesFromMappedSet(e.childrenMapped,d.pivotKeys||[],m):n.getValuesPivotNonLeaf(e,w),o[w]=n.aggregateValues(C,m.getAggFunc(),m,e)}),s.filter(function(d){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.pivotTotalColumnIds)}).forEach(function(d){var v=[],C=d.pivotValueColumn,m=d.pivotTotalColumnIds,w=d.colId;!m||!m.length||(m.forEach(function(D){v.push(o[D])}),o[w]=n.aggregateValues(v,C.getAggFunc(),C,e))}),o},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,n){var o=this,s={},d=n.changedPath.isActive()?n.changedPath.getValueColumnsForNode(e,n.valueColumns):n.valueColumns,v=n.changedPath.isActive()?n.changedPath.getNotValueColumnsForNode(e,n.valueColumns):null,C=this.getValuesNormal(e,d),m=e.aggData;return d.forEach(function(w,D){s[w.getId()]=o.aggregateValues(C[D],w.getAggFunc(),w,e)}),v&&m&&v.forEach(function(w){s[w.getId()]=m[w.getId()]}),s},t.prototype.getValuesPivotNonLeaf=function(e,n){var o=[];return e.childrenAfterFilter.forEach(function(s){o.push(s.aggData[n])}),o},t.prototype.getValuesFromMappedSet=function(e,n,o){var s=this,d=e;if(n.forEach(function(C){return d=d?d[C]:null}),!d)return[];var v=[];return d.forEach(function(C){var m=s.valueService.getValue(o,C);v.push(m)}),v},t.prototype.getValuesNormal=function(e,n){var o=[];n.forEach(function(){return o.push([])});for(var s=n.length,d=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,v=d.length,C=0;C<v;C++)for(var m=d[C],w=0;w<s;w++){var b=this.valueService.getValue(n[w],m);o[w].push(b)}return o},t.prototype.aggregateValues=function(e,n,o,s){var d="string"==typeof n?this.aggFuncService.getAggFunc(n):n;return"function"!=typeof d?(console.error("AG Grid: unrecognised aggregation function "+n),null):d({values:e,column:o,colDef:o?o.getColDef():void 0,rowNode:s,data:s?s.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context})},__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pivotStage")],t.prototype,"pivotStage",void 0),__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],t.prototype,"aggFuncService",void 0),__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggregationStage")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),BatchRemover=function(){function l(){this.allSets={},this.allParents=[]}return l.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},l.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},l.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},l.prototype.getAllParents=function(){return this.allParents},l.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var n=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(o){return!n.removeFromChildrenAfterGroup[o.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(o){return!n.removeFromAllLeafChildren[o.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},l}(),__extends$36=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2f=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$14=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$D=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$14(arguments[t]));return l},GroupStage=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.groupIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,e}return __extends$36(t,l),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsService.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsService.get("getDataPath"))},t.prototype.execute=function(e){var n=this.createGroupingDetails(e);n.transactions?this.handleTransaction(n):this.shotgunResetEverything(n,!0===e.afterColumnsChanged),this.positionLeafsAndGroups(e.changedPath),this.orderGroups(n.rootNode),this.selectableService.updateSelectableAfterGrouping(n.rootNode)},t.prototype.positionLeafsAndGroups=function(e){this.usingTreeData||e.forEachChangedNodeDepthFirst(function(n){if(n.childrenAfterGroup){var d,o=[],s=[];n.childrenAfterGroup.forEach(function(v){var C;null!==(C=v.childrenAfterGroup)&&void 0!==C&&C.length?""!==v.key||d?s.push(v):d=v:o.push(v)}),d&&s.push(d),n.childrenAfterGroup=__spread$D(o,s)}},!1)},t.prototype.createGroupingDetails=function(e){var n=e.rowNode,o=e.changedPath,s=e.rowNodeTransactions,d=e.rowNodeOrder,v=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsService.is("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.getNum("groupDefaultExpanded"),groupedCols:v,rootNode:n,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!v?0:v.length,rowNodeOrder:d,transactions:s,changedPath:o}},t.prototype.handleTransaction=function(e){var n=this;e.transactions.forEach(function(o){var s=n.usingTreeData?void 0:new BatchRemover;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(o.remove)&&n.removeNodes(o.remove,e,s),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(o.update)&&n.moveNodesInWrongPath(o.update,e,s),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(o.add)&&n.insertNodes(o.add,e,!1),s){var d=s.getAllParents().slice();s.flush(),n.removeEmptyGroups(d,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(n){n.childrenAfterGroup&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.sortRowNodesByOrder(n.childrenAfterGroup,e.rowNodeOrder)&&e.changedPath.addParentNode(n)},!1,!0)},t.prototype.orderGroups=function(e){if(!this.usingTreeData){var n=this.getInitialGroupOrderComparator();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n)&&function o(s){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s.childrenAfterGroup)&&!s.leafGroup&&(s.childrenAfterGroup.sort(function(v,C){return n({nodeA:v,nodeB:C})}),s.childrenAfterGroup.forEach(function(v){return o(v)}))}(e)}},t.prototype.getInitialGroupOrderComparator=function(){var e=this.gridOptionsService.getCallback("initialGroupOrderComparator");if(e)return e;var n=this.gridOptionsService.get("defaultGroupOrderComparator");return n?function(o){return n(o.nodeA,o.nodeB)}:void 0},t.prototype.getExistingPathForNode=function(e,n){for(var o=[],s=this.usingTreeData?e:e.parent;s&&s!==n.rootNode;)o.push({key:s.key,rowGroupColumn:s.rowGroupColumn,field:s.field}),s=s.parent;return o.reverse(),o},t.prototype.moveNodesInWrongPath=function(e,n,o){var s=this;e.forEach(function(d){n.changedPath.isActive()&&n.changedPath.addParentNode(d.parent);var v=function(D){return D.key},C=s.getExistingPathForNode(d,n).map(v),m=s.getGroupInfo(d,n).map(v);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(C,m)||s.moveNode(d,n,o)})},t.prototype.moveNode=function(e,n,o){this.removeNodesInStages([e],n,o),this.insertOneNode(e,n,!0),e.setData(e.data),n.changedPath.isActive()&&n.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,n,o){this.removeNodesInStages(e,n,o),n.changedPath.isActive()&&e.forEach(function(s){return n.changedPath.addParentNode(s.parent)})},t.prototype.removeNodesInStages=function(e,n,o){if(this.removeNodesFromParents(e,n,o),this.usingTreeData){this.postRemoveCreateFillerNodes(e,n);var s=e.map(function(d){return d.parent});this.removeEmptyGroups(s,n)}},t.prototype.forEachParentGroup=function(e,n,o){for(var s=n;s&&s!==e.rootNode;)o(s),s=s.parent},t.prototype.removeNodesFromParents=function(e,n,o){var s=this,d=null==o,v=o||new BatchRemover;e.forEach(function(C){s.removeFromParent(C,v),s.forEachParentGroup(n,C.parent,function(m){v.removeFromAllLeafChildren(m,C)})}),d&&v.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,n){var o=this;e.forEach(function(s){if(s.hasChildren()){var v=o.getExistingPathForNode(s,n),C=o.findParentForNode(s,v,n);C.expanded=s.expanded,C.allLeafChildren=s.allLeafChildren,C.childrenAfterGroup=s.childrenAfterGroup,C.childrenMapped=s.childrenMapped,C.updateHasChildren(),C.childrenAfterGroup.forEach(function(m){return m.parent=C})}})},t.prototype.removeEmptyGroups=function(e,n){for(var o=this,s=!0,v=function(){s=!1;var C=new BatchRemover;e.forEach(function(m){o.forEachParentGroup(n,m,function(w){(function(C){var m=o.getChildrenMappedKey(C.key,C.rowGroupColumn),w=C.parent;return!!(w&&w.childrenMapped&&w.childrenMapped[m]&&C.isEmptyRowGroupNode())})(w)&&(s=!0,o.removeFromParent(w,C),w.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))})}),C.flush()};s;)v()},t.prototype.removeFromParent=function(e,n){e.parent&&(n?n.removeFromChildrenAfterGroup(e.parent,e):(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[o]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,n){var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);n&&(null!=n.childrenMapped&&(n.childrenMapped[o]=e),n.childrenAfterGroup.push(e),n.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,n){return null!=e&&null!=n&&e.pivotMode===n.pivotMode&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(e.groupedCols,n.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var n=this,o=function(s){s&&s.forEach(function(d){!n.usingTreeData&&!d.group||(n.setGroupData(d,{field:d.field,key:d.key,rowGroupColumn:d.rowGroupColumn}),o(d.childrenAfterGroup))})};o(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,n){if(!this.noChangeInGroupingColumns(e,n)){this.selectionService.removeGroupsFromSelection();var o=e.rootNode;o.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren();var d=o.sibling;d&&(d.childrenAfterGroup=o.childrenAfterGroup,d.childrenMapped=o.childrenMapped),this.insertNodes(o.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,n){var o=!1,s=this.columnModel.getGroupDisplayColumns(),d=s?s.map(function(v){return v.getId()}).join("-"):"";return n&&(o=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==d&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=d,o},t.prototype.insertNodes=function(e,n,o){var s=this;e.forEach(function(d){s.insertOneNode(d,n,o),n.changedPath.isActive()&&n.changedPath.addParentNode(d.parent)})},t.prototype.insertOneNode=function(e,n,o){var s=this.getGroupInfo(e,n),d=this.findParentForNode(e,s,n);d.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[d.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(d,e,o):(e.parent=d,e.level=s.length,d.childrenAfterGroup.push(e),d.updateHasChildren())},t.prototype.findParentForNode=function(e,n,o){var s=this,d=o.rootNode;return n.forEach(function(v,C){(d=s.getOrCreateNextNode(d,v,C,o)).allLeafChildren.push(e)}),d},t.prototype.swapGroupWithUserNode=function(e,n,o){n.parent=e.parent,n.key=e.key,n.field=e.field,n.groupData=e.groupData,n.level=e.level,o||(n.expanded=e.expanded),n.leafGroup=e.leafGroup,n.rowGroupIndex=e.rowGroupIndex,n.allLeafChildren=e.allLeafChildren,n.childrenAfterGroup=e.childrenAfterGroup,n.childrenMapped=e.childrenMapped,n.updateHasChildren(),this.removeFromParent(e),n.childrenAfterGroup.forEach(function(s){return s.parent=n}),this.addToParent(n,e.parent)},t.prototype.getOrCreateNextNode=function(e,n,o,s){var d=this.getChildrenMappedKey(n.key,n.rowGroupColumn),v=e.childrenMapped?e.childrenMapped[d]:void 0;return v||(v=this.createGroup(n,e,o,s),this.addToParent(v,e)),v},t.prototype.createGroup=function(e,n,o,s){var d=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return d.group=!0,d.field=e.field,d.rowGroupColumn=e.rowGroupColumn,this.setGroupData(d,e),d.id=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),d.key=e.key,d.level=o,d.leafGroup=!this.usingTreeData&&o===s.groupedColCount-1,d.allLeafChildren=[],d.setAllChildrenCount(0),d.rowGroupIndex=this.usingTreeData?null:o,d.childrenAfterGroup=[],d.childrenMapped={},d.updateHasChildren(),d.parent=s.includeParents?n:null,this.setExpandedInitialValue(s,d),this.gridOptionsService.is("groupIncludeFooter")&&d.createFooter(),d},t.prototype.setGroupData=function(e,n){var o=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(d){(o.usingTreeData||e.rowGroupColumn&&d.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[d.getColId()]=n.key)})},t.prototype.getChildrenMappedKey=function(e,n){return n?n.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,n){if(e.pivotMode&&n.leafGroup)n.expanded=!1;else{var o=this.gridOptionsService.getCallback("isGroupOpenByDefault");n.expanded=o?1==o({rowNode:n,field:n.field,key:n.key,level:n.level,rowGroupColumn:n.rowGroupColumn}):-1===e.expandByDefault||n.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,n){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,n)},t.prototype.getGroupInfoFromCallback=function(e){var n=this.getDataPath?this.getDataPath(e.data):null;return(null==n||0===n.length)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),n?n.map(function(s){return{key:s,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,n){var o=this,s=[];return n.groupedCols.forEach(function(d){var v=o.valueService.getKeyForNode(d,e),C=null!=v&&""!==v;if((n.pivotMode||!o.gridOptionsService.is("groupAllowUnbalanced"))&&!C&&(v="",C=!0),C){var w={key:v,field:d.getColDef().field,rowGroupColumn:d};s.push(w)}}),s},__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectableService")],t.prototype,"selectableService",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],t.prototype,"beans",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],t.prototype,"selectionService",void 0),__decorate$2f([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("groupStage")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$35=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$L=function(){return __assign$L=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$L.apply(this,arguments)},__decorate$2e=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$13=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$C=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$13(arguments[t]));return l},PivotColDefService=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$35(t,l),e=t,t.prototype.createPivotColumnDefs=function(n){var o=this.columnModel.getPivotColumns(),s=this.columnModel.getValueColumns(),v=this.recursiveBuildGroup(0,n,[],o.length,o),m=function C(D,b){return void 0===b&&(b=[]),D.forEach(function(T){void 0!==T.children?C(T.children,b):b.push(T)}),b}(v);return this.addRowGroupTotals(v,m,s),this.addExpandablePivotGroups(v,m),this.addPivotTotalsToGroups(v,m),{pivotColumnGroupDefs:v,pivotColumnDefs:m.map(function(D){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(D)})}},t.prototype.recursiveBuildGroup=function(n,o,s,d,v){var C=this,m=this.columnModel.getValueColumns();if(n>=d)return this.buildMeasureCols(s);var w=v[n].getColDef(),D=this.headerNameComparator.bind(this,w.pivotComparator);if(1===m.length&&this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&n===d-1){var b=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(o,function(A){var I=__spread$C(s,[A]);b.push(__assign$L(__assign$L({},C.createColDef(m[0],A,I)),{columnGroupShow:"open"}))}),b.sort(D),b}var T=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(o,function(A,I){var N=__spread$C(s,[A]);T.push({children:C.recursiveBuildGroup(n+1,I,N,d,v),headerName:A,pivotKeys:N,columnGroupShow:"open",groupId:C.generateColumnGroupId(N)})}),T.sort(D),T},t.prototype.buildMeasureCols=function(n){var o=this,s=this.columnModel.getValueColumns();return 0===s.length?[this.createColDef(null,"-",n)]:s.map(function(d){var v=o.columnModel.getDisplayNameForColumn(d,"header");return __assign$L(__assign$L({},o.createColDef(d,v,n)),{columnGroupShow:"open"})})},t.prototype.addExpandablePivotGroups=function(n,o){var s=this;if(!this.gridOptionsService.is("suppressExpandablePivotGroups")&&!this.gridOptionsService.get("pivotColumnGroupTotals")){var d=function(v,C,m){var w=v;if(w.children){var D=new Map;w.children.forEach(function(N){d(N,C,D)});var b=!w.children.some(function(N){return N.children});s.columnModel.getValueColumns().forEach(function(N){var G=s.columnModel.getDisplayNameForColumn(N,"header"),V=s.createColDef(N,G,v.pivotKeys);V.pivotTotalColumnIds=D.get(N.getColId()),V.columnGroupShow="closed",V.aggFunc=N.getAggFunc(),b||(v.children.push(V),C.push(V))}),s.merge(m,D)}else{var T=v;if(!T.pivotValueColumn)return;var A=T.pivotValueColumn.getColId(),I=m.has(A)?m.get(A):[];I.push(T.colId),m.set(A,I)}};n.forEach(function(v){d(v,o,new Map)})}},t.prototype.addPivotTotalsToGroups=function(n,o){var s=this;if(this.gridOptionsService.get("pivotColumnGroupTotals")){var d="after"===this.gridOptionsService.get("pivotColumnGroupTotals"),v=this.columnModel.getValueColumns(),C=v.map(function(w){return w.getAggFunc()});if(C&&!(C.length<1)&&this.sameAggFuncs(C)){var m=v[0];n.forEach(function(w){s.recursivelyAddPivotTotal(w,o,m,d)})}}},t.prototype.recursivelyAddPivotTotal=function(n,o,s,d){var v=this,C=n;if(!C.children)return n.colId?[n.colId]:null;var w=[];if(C.children.forEach(function(I){var N=v.recursivelyAddPivotTotal(I,o,s,d);N&&(w=w.concat(N))}),C.children.length>1){var b=this.localeService.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),T=this.createColDef(s,b,n.pivotKeys,!0);T.pivotTotalColumnIds=w,T.aggFunc=s.getAggFunc();var A=n.children;d?A.push(T):A.unshift(T),o.push(T)}return w},t.prototype.addRowGroupTotals=function(n,o,s){var d=this;if(this.gridOptionsService.get("pivotRowTotals"))for(var v="after"===this.gridOptionsService.get("pivotRowTotals"),C=v?s.slice():s.slice().reverse(),m=function(b){var T=C[b],A=[];n.forEach(function(N){A=A.concat(d.extractColIdsForValueColumn(N,T))});var I=C.length>1||!w.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn");w.createRowGroupTotal(n,o,T,A,v,I)},w=this,D=0;D<C.length;D++)m(D)},t.prototype.extractColIdsForValueColumn=function(n,o){var s=this;if(!n.children)return n.pivotValueColumn===o&&n.colId?[n.colId]:[];var C=[];return n.children.forEach(function(m){s.extractColIdsForValueColumn(m,o);var w=s.extractColIdsForValueColumn(m,o);C=C.concat(w)}),C},t.prototype.createRowGroupTotal=function(n,o,s,d,v,C){var w;if(0===this.columnModel.getValueColumns().length)w=this.createColDef(null,"-",[]);else{var D=this.columnModel.getDisplayNameForColumn(s,"header");(w=this.createColDef(s,D,[])).pivotTotalColumnIds=d}w.colId=e.PIVOT_ROW_TOTAL_PREFIX+w.colId,o.push(w);var b=C?{children:[w],pivotKeys:[],groupId:e.PIVOT_ROW_TOTAL_PREFIX+"_pivotGroup_"+s.getColId()}:w;v?n.push(b):n.unshift(b)},t.prototype.createColDef=function(n,o,s,d){void 0===d&&(d=!1);var v={};if(n){var C=n.getColDef();Object.assign(v,C),v.hide=!1}return v.headerName=o,v.colId=this.generateColumnId(s||[],n&&!d?n.getColId():""),v.field=v.colId,v.valueGetter=function(m){var w;return null===(w=m.data)||void 0===w?void 0:w[m.colDef.field]},v.pivotKeys=s,v.pivotValueColumn=n,!0===v.filter&&(v.filter="agNumberColumnFilter"),v},t.prototype.sameAggFuncs=function(n){if(1==n.length)return!0;for(var o=1;o<n.length;o++)if(n[o]!==n[0])return!1;return!0},t.prototype.headerNameComparator=function(n,o,s){return n?n(o.headerName,s.headerName):o.headerName&&!s.headerName?1:!o.headerName&&s.headerName?-1:o.headerName&&s.headerName?o.headerName<s.headerName?-1:o.headerName>s.headerName?1:0:0},t.prototype.merge=function(n,o){o.forEach(function(s,d,v){var C=n.has(d)?n.get(d):[],m=__spread$C(C,s);n.set(d,m)})},t.prototype.generateColumnGroupId=function(n){return"pivotGroup_"+this.columnModel.getPivotColumns().map(function(s){return s.getColId()}).join("-")+"_"+n.join("-")},t.prototype.generateColumnId=function(n,o){return"pivot_"+this.columnModel.getPivotColumns().map(function(d){return d.getColId()}).join("-")+"_"+n.join("-")+"_"+o},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),e=__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotColDefService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$34=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2d=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PivotStage=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.uniqueValues={},e}return __extends$34(t,l),t.prototype.execute=function(e){var n=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(n):this.executePivotOff(n)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e){var n=this.bucketUpRowNodes(e),o=this.setUniqueValues(n),s=this.columnModel.getValueColumns(),d=s.map(function(I){return I.getId()+"-"+I.getColDef().headerName}).join("#"),v=s.map(function(I){return I.getAggFunc().toString()}).join("#"),C=this.aggregationColumnsHashLastTime!==d,m=this.aggregationFuncsHashLastTime!==v;this.aggregationColumnsHashLastTime=d,this.aggregationFuncsHashLastTime=v;var w=this.columnModel.getRowGroupColumns().map(function(I){return I.getId()}).join("#"),D=w!==this.groupColumnsHashLastTime;if(this.groupColumnsHashLastTime=w,o||C||D||m){var b=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),T=b.pivotColumnGroupDefs;this.pivotColumnDefs=b.pivotColumnDefs,this.columnModel.setSecondaryColumns(T,"rowModelUpdated"),e&&e.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var n=this,o={};e.forEachChangedNodeDepthFirst(function(d){d.leafGroup&&(d.childrenMapped=null)});var s=function(d){var v;d.leafGroup?n.bucketRowNode(d,o):null===(v=d.childrenAfterFilter)||void 0===v||v.forEach(s)};return e.executeFromRootNode(s),o},t.prototype.bucketRowNode=function(e,n){var o=this.columnModel.getPivotColumns();e.childrenMapped=0===o.length?null:this.bucketChildren(e.childrenAfterFilter,o,0,n),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,n,o,s){var d=this,v={},C=n[o];if(e.forEach(function(w){var D=d.valueService.getKeyForNode(C,w);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(D)&&(D=""),s[D]||(s[D]={}),v[D]||(v[D]=[]),v[D].push(w)}),o===n.length-1)return v;var m={};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(v,function(w,D){m[w]=d.bucketChildren(D,n,o+1,s[w])}),m},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},__decorate$2d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$2d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pivotColDefService")],t.prototype,"pivotColDefService",void 0),__decorate$2d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotStage")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$33=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2c=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AGBigInt=typeof BigInt>"u"?null:BigInt,AggFuncService=function(l){function t(){var n=null!==l&&l.apply(this,arguments)||this;return n.aggFuncsMap={},n.initialised=!1,n}var e;return __extends$33(t,l),e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=aggSum,this.aggFuncsMap[e.AGG_FIRST]=aggFirst,this.aggFuncsMap[e.AGG_LAST]=aggLast,this.aggFuncsMap[e.AGG_MIN]=aggMin,this.aggFuncsMap[e.AGG_MAX]=aggMax,this.aggFuncsMap[e.AGG_COUNT]=aggCount,this.aggFuncsMap[e.AGG_AVG]=aggAvg,this.initialised=!0},t.prototype.isAggFuncPossible=function(n,o){var s=this.getFuncNames(n),d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(s,o),v=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.aggFuncsMap[o]);return d&&v},t.prototype.getDefaultAggFunc=function(n){var o=n.getColDef().defaultAggFunc;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)&&this.isAggFuncPossible(n,o))return o;if(this.isAggFuncPossible(n,e.AGG_SUM))return e.AGG_SUM;var s=this.getFuncNames(n);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(s)?s[0]:null},t.prototype.addAggFuncs=function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(n,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(n,o){this.init(),this.aggFuncsMap[n]=o},t.prototype.getAggFunc=function(n){return this.init(),this.aggFuncsMap[n]},t.prototype.getFuncNames=function(n){return n.getColDef().allowedAggFuncs??Object.keys(this.aggFuncsMap).sort()},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",__decorate$2c([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),e=__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggFuncService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),l;function aggSum(l){for(var t=l.values,e=null,n=0;n<t.length;n++){var o=t[n];"number"==typeof o?null===e?e=o:e+=AGBigInt?"number"==typeof e?o:AGBigInt(o):o:"bigint"==typeof o&&(e=null===e?o:("bigint"==typeof e?e:AGBigInt(e))+o)}return e}function aggFirst(l){return l.values.length>0?l.values[0]:null}function aggLast(l){return l.values.length>0?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(l.values):null}function aggMin(l){for(var t=l.values,e=null,n=0;n<t.length;n++){var o=t[n];("number"==typeof o||"bigint"==typeof o)&&(null===e||e>o)&&(e=o)}return e}function aggMax(l){for(var t=l.values,e=null,n=0;n<t.length;n++){var o=t[n];("number"==typeof o||"bigint"==typeof o)&&(null===e||e<o)&&(e=o)}return e}function aggCount(l){for(var t=l.values,e=0,n=0;n<t.length;n++){var o=t[n];e+=null!=o&&"number"==typeof o.value?o.value:1}return e}function aggAvg(l){for(var t,e,n,o=l.values,s=0,d=0,v=0;v<o.length;v++){var C=o[v],m=null;"number"==typeof C||"bigint"==typeof C?(m=C,d++):null!=C&&("number"==typeof C.value||"bigint"==typeof C.value)&&"number"==typeof C.count&&(m=AGBigInt?C.value*("number"==typeof C.value?C.count:AGBigInt(C.count)):C.value*C.count,d+=C.count),"number"==typeof m?s+=AGBigInt?"number"==typeof s?m:AGBigInt(m):m:"bigint"==typeof m&&(s=("bigint"==typeof s?s:AGBigInt(s))+m)}var w=null;d>0&&(w=AGBigInt?s/("number"==typeof s?d:AGBigInt(d)):s/d);var D=null===(e=null===(t=l.rowNode)||void 0===t?void 0:t.aggData)||void 0===e?void 0:e[null===(n=l.column)||void 0===n?void 0:n.getColId()];return D&&D.count===d&&D.value===w?D:{count:d,value:w,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var __extends$32=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2b=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DropZoneColumnComp=function(l){function t(e,n,o,s,d){var v=l.call(this)||this;return v.column=e,v.dragSourceDropTarget=n,v.ghost=o,v.dropZonePurpose=s,v.horizontal=d,v.popupShowing=!1,v}return __extends$32(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE);var n=this.getGui(),o=this.gridOptionsService.is("functionsReadOnly");this.addElementClasses(n),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!o&&this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_SORT_CHANGED,function(){e.setupAria()}),this.setupTooltip()},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc(),n=this.getColumnAndAggFuncName(),o=n.name,s=n.aggFuncName,d=e("ariaDropZoneColumnComponentAggFuncSeperator"," of "),v={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},C=this.column.getSort(),m=this.gridOptionsService.is("rowGroupPanelSuppressSort"),w=[[s&&""+s+d,o,this.isGroupingZone()&&!m&&C&&", "+v[C]].filter(function(I){return!!I}).join("")],D=this.gridOptionsService.is("functionsReadOnly");if(this.isAggregationZone()&&!D){var b=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");w.push(b)}if(this.isGroupingZone()&&this.column.getColDef().sortable&&!m){var T=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");w.push(T)}var A=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");w.push(A),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.getGui(),w.join(". "))},t.prototype.setupTooltip=function(){var e=this,n=function(){var o=e.column.getColDef().headerTooltip;e.setTooltip(o)};n(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,n)},t.prototype.setupSort=function(){var e=this,n=this.column.getColDef().sortable,o=this.isGroupingZone();if(n&&o&&!this.gridOptionsService.is("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);var s=function(d){d.preventDefault();var v="ctrl"===e.gridOptionsService.get("multiSortKey");e.sortController.progressSort(e.column,v?d.ctrlKey||d.metaKey:d.shiftKey,"uiColumnSorted")};this.addGuiEventListener("click",s),this.addGuiEventListener("keydown",function(d){d.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&e.isGroupingZone()&&s(d)})}},t.prototype.addDragSource=function(){var e=this,n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,defaultIconName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(n)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eButton,!this.gridOptionsService.is("functionsReadOnly"));var n={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(s){var d=s.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER;s.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DELETE&&(s.preventDefault(),e.dispatchEvent(n)),d&&e.isAggregationZone()&&!e.gridOptionsService.is("functionsReadOnly")&&(s.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(s){e.dispatchEvent(n),s.stopPropagation()});var o=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eButton);this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,function(){e.dispatchEvent(n)}),this.addDestroyFunc(o.destroy.bind(o))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,n="";if(this.isAggregationZone()){var o=this.column.getAggFunc(),s="string"==typeof o?o:"agg";n=this.localeService.getLocaleTextFunc()(s,s)}return{name:e,aggFuncName:n}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),n=e.name,o=e.aggFuncName,s=this.isAggregationZone()?o+"("+n+")":n,d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(s);this.eText.innerHTML=d},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("select-agg-func"),o=this.aggFuncService.getFuncNames(this.column),s=this.getGui(),d=n.getGui();n.setModel({getRow:function(b){return o[b]},getRowCount:function(){return o.length}}),this.getContext().createBean(n);var v=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');v.style.top="0px",v.style.left="0px",v.appendChild(d),v.style.width=s.clientWidth+"px";var m=this.localeService.getLocaleTextFunc(),w=this.popupService.addPopup({modal:!0,eChild:v,closeOnEsc:!0,closedCallback:function(){e.destroyBean(n),e.popupShowing=!1,s.focus()},ariaLabel:m("ariaLabelAggregationFunction","Aggregation Function")});w&&n.setComponentCreator(this.createAggSelect.bind(this,w.hideFunc)),n.addGuiEventListener("keydown",function(b){if(b.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||b.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE){var T=n.getLastFocusedRow();if(null==T)return;var A=n.getComponentAt(T);A&&A.selectItem()}}),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:s,ePopup:v,keepWithinBounds:!0,column:this.column,position:"under"}),n.refresh();var D=o.findIndex(function(b){return b===e.column.getAggFunc()});-1===D&&(D=0),n.focusRow(D)}},t.prototype.createAggSelect=function(e,n){var o=this,d=this.localeService.getLocaleTextFunc(),v=n.toString(),C=d(v,v);return new AggItemComp(function(){e(),o.gridOptionsService.is("functionsPassive")?o.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[o.column],aggFunc:n}):o.columnModel.setColumnAggFunc(o.column,n,"toolPanelDragAndDrop")},C)},t.prototype.addElementClasses=function(e,n){e.classList.add("ag-column-drop-cell"+(n=n?"-"+n:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+n)},t.prototype.isAggregationZone=function(){return"aggregation"===this.dropZonePurpose},t.prototype.isGroupingZone=function(){return"rowGroup"===this.dropZonePurpose},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],t.prototype,"popupService",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],t.prototype,"aggFuncService",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],t.prototype,"sortController",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eText")],t.prototype,"eText",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDragHandle")],t.prototype,"eDragHandle",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eButton")],t.prototype,"eButton",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSortIndicator")],t.prototype,"eSortIndicator",void 0),__decorate$2b([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),AggItemComp=function(l){function t(e,n){var o=l.call(this,'<div class="ag-select-agg-func-item"/>')||this;return o.selectItem=e,o.getGui().innerText=n,o.addGuiEventListener("click",o.selectItem),o}return __extends$32(t,l),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$31=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2a=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$12=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$B=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$12(arguments[t]));return l},BaseDropZonePanel=function(l){function t(e,n){var o=l.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return o.horizontal=e,o.dropZonePurpose=n,o.state=t.STATE_NOT_DRAGGING,o.guiDestroyFunctions=[],o.childColumnComponents=[],o.resizeEnabled=!1,o.addElementClasses(o.getGui()),o.eColumnDropList=document.createElement("div"),o.addElementClasses(o.eColumnDropList,"list"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(o.eColumnDropList,"listbox"),o}return __extends$31(t,l),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),l.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var o=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN,s=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP;if(this.horizontal){var d=this.gridOptionsService.is("enableRtl");o=!d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT||d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT,s=!d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT||d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT}if(o||s){var v=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,s);v&&(e.preventDefault(),v.focus())}},t.prototype.addElementClasses=function(e,n){e.classList.add("ag-column-drop"+(n=n?"-"+n:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+n)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.HeaderCell||e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},t.prototype.checkInsertIndex=function(e){var n=this.getNewInsertIndex(e);if(n<0)return!1;var o=n!==this.insertIndex;return o&&(this.insertIndex=n),o},t.prototype.getNewInsertIndex=function(e){var n=this,o=e.event,s=this.horizontal?o.clientX:o.clientY,d=this.childColumnComponents.map(function(D){return D.getGui().getBoundingClientRect()}),v=d.findIndex(function(D){return n.horizontal?D.right>s&&D.left<s:D.top<s&&D.bottom>s});if(-1===v){var C=this.beans.gridOptionsService.is("enableRtl");return d.every(function(D){return s>(n.horizontal?D.right:D.bottom)})?C&&this.horizontal?0:this.childColumnComponents.length:d.every(function(D){return s<(n.horizontal?D.left:D.top)})?C&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=v?v+1:v},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var n=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var o=n.filter(this.isColumnDroppable.bind(this));if(o.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&!e.fromNudge){var d=e.dragSource.getDragItem();this.setColumnsVisible(d.columns,!1,"uiColumnDragged")}this.potentialDndColumns=o,this.checkInsertIndex(e),this.refreshGui()}},t.prototype.setColumnsVisible=function(e,n,o){if(void 0===o&&(o="api"),e){var s=e.filter(function(d){return!d.getColDef().lockVisible});this.colModel.setColumnsVisible(s,n,o)}},t.prototype.isPotentialDndColumns=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.isRowGroupPanel=function(){return"rowGroup"===this.dropZonePurpose},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var n=e.dragSource.getDragItem().columns||[];this.removeColumns(n)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&!e.fromNudge){var s=e.dragSource.getDragItem();this.setColumnsVisible(s.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsService.is("functionsPassive")||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var n=this.getExistingColumns().filter(function(o){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,o)});this.updateColumns(n)},t.prototype.addColumns=function(e){if(e){var n=this.getExistingColumns().slice(),o=e.filter(function(s){return n.indexOf(s)<0});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(n,o,this.insertIndex),this.updateColumns(n)}},t.prototype.rearrangeColumns=function(e){var n=this.getNonGhostColumns().slice();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(n,e,this.insertIndex),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(n,this.getExistingColumns())&&(this.updateColumns(n),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,n=this.resizeEnabled,o=this.getFocusedItem(),s=this.focusService.findNextFocusableElement();s||(s=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),n&&this.toggleResizable(n),this.restoreFocus(o,s)},t.prototype.getFocusedItem=function(){var e=this.getGui(),n=this.gridOptionsService.getDocument().activeElement;return e.contains(n)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(n):-1},t.prototype.restoreFocus=function(e,n){var o=this.getGui(),s=Array.from(o.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===s.length&&n.focus();var v=s[Math.min(s.length-1,e)];v&&v.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,n=this.getExistingColumns();return this.isPotentialDndColumns()?n.filter(function(o){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e.potentialDndColumns,o)}):n},t.prototype.addColumnsToGui=function(){var e=this,o=this.getNonGhostColumns().map(function(d){return e.createColumnComponent(d,!1)});if(this.isPotentialDndColumns()){var s=this.potentialDndColumns.map(function(d){return e.createColumnComponent(d,!0)});this.insertIndex>=o.length?o.push.apply(o,__spread$B(s)):o.splice.apply(o,__spread$B([this.insertIndex,0],s))}this.appendChild(this.eColumnDropList),o.forEach(function(d,v){v>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(d.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(n,o){var s=n.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaPosInSet(s,o+1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaSetSize(s,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,n){var o=this,s=new DropZoneColumnComp(e,this.dropTarget,n,this.dropZonePurpose,this.horizontal);return s.addEventListener(DropZoneColumnComp.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(s),this.guiDestroyFunctions.push(function(){return o.destroyBean(s)}),n||this.childColumnComponents.push(s),s},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,n=document.createElement("div");if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaHidden(n,!0),this.addElementClasses(n,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),n.appendChild(e),!this.horizontal){var o=document.createElement("span");this.addElementClasses(o,"title"),o.innerHTML=this.params.title,n.appendChild(o)}this.appendChild(n)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var n=this.beans.gridOptionsService.is("enableRtl"),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(n?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(o,"cell-separator"),e.appendChild(o)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"colModel",void 0),__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$30=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$29=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},RowGroupDropZonePanel=function(l){function t(e){return l.call(this,e,"rowGroup")||this}return __extends$30(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),n=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),o=e("groups","Row Groups");l.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){this.gridOptionsService.is("functionsPassive")?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$29([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"passBeansUp",null),t}(BaseDropZonePanel),__extends$2$=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$28=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PivotDropZonePanel=function(l){function t(e){return l.call(this,e,"pivot")||this}return __extends$2$(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),n=e("pivotColumnsEmptyMessage","Drag here to set column labels"),o=e("pivots","Column Labels");l.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var n=this.columnModel.isPivotActive();this.setDisplayed(e&&n);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){this.gridOptionsService.is("functionsPassive")?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_PIVOT:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$28([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"passBeansUp",null),t}(BaseDropZonePanel),__extends$2_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$27=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GridHeaderDropZones=function(l){function t(){return l.call(this)||this}return __extends$2_(t,l),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.addManagedPropertyListener("rowGroupPanelShow",this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),n=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(e,"presentation"),this.rowGroupComp=new RowGroupDropZonePanel(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new PivotDropZonePanel(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,n),this.addManagedListener(this.pivotComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,n),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsService.get("rowGroupPanelShow");if("always"===e)this.rowGroupComp.setDisplayed(!0);else if("onlyWhenGrouping"===e){var n=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(n)}else this.rowGroupComp.setDisplayed(!1)}},__decorate$27([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$27([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2Z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$26=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FilterAggregatesStage=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2Z(t,l),t.prototype.execute=function(e){var n=this,o=this.columnModel.isPivotMode(),s=this.filterManager.isAggregateFilterPresent(),C=this.gridOptionsService.getGroupAggFiltering()||(o?function(b){return b.node.leafGroup}:function(b){return!b.node.group}),w=function(b,T){void 0===T&&(T=!1),b.childrenAfterFilter&&(b.childrenAfterAggFilter=b.childrenAfterFilter,T&&b.childrenAfterAggFilter.forEach(function(A){return w(A,T)}),n.setAllChildrenCount(b)),b.sibling&&(b.sibling.childrenAfterAggFilter=b.childrenAfterAggFilter)};e.changedPath.forEachChangedNodeDepthFirst(s?function(b){var T;b.childrenAfterAggFilter=(null===(T=b.childrenAfterFilter)||void 0===T?void 0:T.filter(function(A){var I;return C({node:A})&&n.filterManager.doesRowPassAggregateFilters({rowNode:A})?(w(A,!0),!0):null===(I=A.childrenAfterAggFilter)||void 0===I?void 0:I.length}))||null,n.setAllChildrenCount(b),b.sibling&&(b.sibling.childrenAfterAggFilter=b.childrenAfterAggFilter)}:w,!0)},t.prototype.setAllChildrenCountTreeData=function(e){var n=0;e.childrenAfterAggFilter.forEach(function(o){n++,n+=o.allChildrenCount}),e.setAllChildrenCount(n)},t.prototype.setAllChildrenCountGridGrouping=function(e){var n=0;e.childrenAfterAggFilter.forEach(function(o){o.group?n+=o.allChildrenCount:n++}),e.setAllChildrenCount(n)},t.prototype.setAllChildrenCount=function(e){e.hasChildren()?this.gridOptionsService.isTreeData()?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e):e.setAllChildrenCount(null)},__decorate$26([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$26([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$26([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("filterAggregatesStage")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$g="29.1.0",__extends$2Y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$25=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GroupFilter=function(l){function t(){return l.call(this,'\n            <div class="ag-group-filter">\n                <div ref="eGroupField"></div>\n                <div ref="eUnderlyingFilter"></div>\n            </div>\n        ')||this}return __extends$2Y(t,l),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e){var n=this;return this.params=e,this.validateParams(),this.updateGroups().then(function(){n.addManagedListener(n.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.onColumnRowGroupChanged()})})},t.prototype.validateParams=function(){var e=this.params.colDef;e.field&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "field". This property will be ignored.')},"groupFilterFieldParam"),e.filterValueGetter&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.')},"groupFilterFilterValueGetterParam"),e.filterParams&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')},"groupFilterFilterParams")},t.prototype.updateGroups=function(){var e=this.updateGroupField();return this.getUnderlyingFilters(e)},t.prototype.getSourceColumns=function(){return this.groupColumn=this.params.column,this.gridOptionsService.is("treeData")?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.")},"groupFilterTreeData"),[]):this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn)||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Group Column Filter only works on group columns. Please use a different filter.")},"groupFilterNotGroupColumn"),[])},t.prototype.updateGroupField=function(){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);var n=this.getSourceColumns(),o=n.filter(function(s){return s.isFilterAllowed()});return o.length?(1===n.length?(this.selectedColumn=o[0],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!1)):((!this.selectedColumn||!o.some(function(s){return s.getId()===e.selectedColumn.getId()}))&&(this.selectedColumn=o[0]),this.createGroupFieldSelectElement(o),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>')),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!0)),o):(this.selectedColumn=void 0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!1),null)},t.prototype.createGroupFieldSelectElement=function(e){var n=this;this.eGroupFieldSelect=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);var o=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(o("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(e.map(function(s){var d;return{value:s.getId(),text:null!==(d=n.columnModel.getDisplayNameForColumn(s,"groupFilter",!1))&&void 0!==d?d:void 0}})),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange(function(s){return n.updateSelectedColumn(s)}),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),1===e.length&&this.eGroupFieldSelect.setDisabled(!0)},t.prototype.getUnderlyingFilters=function(e){var n=this;if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve();var o=[],s=[];return e.forEach(function(d){var v=n.filterManager.getOrCreateFilterWrapper(d,"COLUMN_MENU");v?.filterPromise&&o.push(v.filterPromise.then(function(C){return C&&s.push({filter:C,column:d}),d.getId()===n.selectedColumn.getId()&&(n.selectedFilter=C??void 0),C}))}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(o).then(function(){n.filterColumnPairs=s,n.groupColumn.setFilterActive(n.isFilterActive(),"columnRowGroupChanged")})},t.prototype.addUnderlyingFilterElement=function(){var e=this;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve();var n=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return n?n.guiPromise.then(function(o){var s;e.eUnderlyingFilter.appendChild(o),null===(s=n.filterPromise)||void 0===s||s.then(function(d){var v,C;null===(v=d?.afterGuiAttached)||void 0===v||v.call(d,e.afterGuiAttachedParams),(null===(C=e.afterGuiAttachedParams)||void 0===C||!C.suppressFocus)&&e.eGroupFieldSelect&&!e.eGroupFieldSelect.isDisabled()&&e.eGroupFieldSelect.getFocusableElement().focus()})}):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},t.prototype.updateSelectedColumn=function(e){var n,o;if(e){null===(o=null===(n=this.selectedFilter)||void 0===n?void 0:n.afterGuiDetached)||void 0===o||o.call(n);var s=this.getFilterColumnPair(e);this.selectedColumn=s?.column,this.selectedFilter=s?.filter,this.dispatchEvent({type:t.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}},t.prototype.isFilterActive=function(){var e;return!(null===(e=this.filterColumnPairs)||void 0===e||!e.some(function(n){return n.filter.isFilterActive()}))},t.prototype.doesFilterPass=function(){return!0},t.prototype.getModel=function(){return null},t.prototype.setModel=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},t.prototype.afterGuiAttached=function(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement()},t.prototype.afterGuiDetached=function(){var e,n;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eUnderlyingFilter),null===(n=null===(e=this.selectedFilter)||void 0===e?void 0:e.afterGuiDetached)||void 0===n||n.call(e)},t.prototype.onColumnRowGroupChanged=function(){var e=this;this.updateGroups().then(function(){e.dispatchEvent({type:t.EVENT_COLUMN_ROW_GROUP_CHANGED}),e.eventService.dispatchEvent({type:"filterAllowedUpdated"})})},t.prototype.getFilterColumnPair=function(e){var n;if(e)return null===(n=this.filterColumnPairs)||void 0===n?void 0:n.find(function(o){return o.column.getId()===e})},t.prototype.getSelectedFilter=function(){return this.selectedFilter},t.prototype.getSelectedColumn=function(){return this.selectedColumn},t.prototype.isFilterAllowed=function(){return!!this.selectedColumn},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupField")],t.prototype,"eGroupField",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eUnderlyingFilter")],t.prototype,"eUnderlyingFilter",void 0),__decorate$25([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$2X=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$24=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GroupFloatingFilterComp=function(l){function t(){return l.call(this,'\n            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>\n        ')||this}return __extends$2X(t,l),t.prototype.init=function(e){var n=this;this.params=e;var o="multipleColumns"===this.gridOptionsService.get("groupDisplayType");return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(s){n.params.parentFilterInstance(function(d){n.parentFilterInstance=d,o?n.setupUnderlyingFloatingFilterElement().then(function(){return s()}):(n.setupReadOnlyFloatingFilterElement(),s())})}).then(function(){n.addManagedListener(n.parentFilterInstance,GroupFilter.EVENT_SELECTED_COLUMN_CHANGED,function(){return n.onSelectedColumnChanged()}),n.addManagedListener(n.parentFilterInstance,GroupFilter.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.onColumnRowGroupChanged()})})},t.prototype.setupReadOnlyFloatingFilterElement=function(){var e=this;if(!this.eFloatingFilterText){this.eFloatingFilterText=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.INo);var n=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),o=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(n+" "+o("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.params.showParentFilter()})}this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())},t.prototype.setupUnderlyingFloatingFilterElement=function(){var e=this;this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eFloatingFilter);var n=this.parentFilterInstance.getSelectedColumn();if(n&&!n.isVisible()){var o=this.filterManager.getFloatingFilterCompDetails(n,this.params.showParentFilter);if(o)return this.columnVisibleChangedListener||(this.columnVisibleChangedListener=this.addManagedListener(n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this))),o.newAgStackInstance().then(function(s){var d,v;e.underlyingFloatingFilter=s,null===(d=e.underlyingFloatingFilter)||void 0===d||d.onParentModelChanged(null===(v=e.parentFilterInstance.getSelectedFilter())||void 0===v?void 0:v.getModel()),e.appendChild(s.getGui()),e.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},t.prototype.onColumnVisibleChanged=function(){this.setupUnderlyingFloatingFilterElement()},t.prototype.onParentModelChanged=function(e,n){var o,s;this.showingUnderlyingFloatingFilter?null===(o=this.underlyingFloatingFilter)||void 0===o||o.onParentModelChanged(null===(s=this.parentFilterInstance.getSelectedFilter())||void 0===s?void 0:s.getModel(),n):this.updateDisplayedValue()},t.prototype.updateDisplayedValue=function(){if(this.parentFilterInstance&&this.eFloatingFilterText){var e=this.parentFilterInstance.getSelectedFilter();if(!e)return this.eFloatingFilterText.setValue(""),void this.eFloatingFilterText.setDisplayed(!1);if(this.eFloatingFilterText.setDisplayed(!0),e.getModelAsString){var n=e.getModel();this.eFloatingFilterText.setValue(null==n?"":e.getModelAsString(n))}else this.eFloatingFilterText.setValue("")}},t.prototype.onSelectedColumnChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.onColumnRowGroupChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilter")],t.prototype,"eFloatingFilter",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),RowGroupingModule={version:VERSION$g,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,beans:[AggregationStage,FilterAggregatesStage,GroupStage,PivotColDefService,PivotStage,AggFuncService],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:GridHeaderDropZones}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:GroupFilter},{componentName:"agGroupColumnFloatingFilter",componentClass:GroupFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$2W=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$23=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ValuesDropZonePanel=function(l){function t(e){return l.call(this,e,"aggregation")||this}return __extends$2W(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),n=e("valueColumnsEmptyMessage","Drag here to aggregate"),o=e("values","Values");l.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:n,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){this.gridOptionsService.is("functionsPassive")?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},__decorate$23([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$23([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),__decorate$23([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$23([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"passBeansUp",null),t}(BaseDropZonePanel),__extends$2V=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$22=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PrimaryColsPanel=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$2V(t,l),t.prototype.init=function(e,n,o){this.allowDragging=e,this.params=n,this.eventType=o,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2U=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$K=function(){return __assign$K=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$K.apply(this,arguments)},__decorate$21=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ColumnToolPanel=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return __extends$2U(t,l),t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var n=this;if(this.params=__assign$K(__assign$K(__assign$K({},{suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi}),e),{context:this.gridOptionsService.context}),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.childDestroyFuncs.push(function(){return n.destroyBean(n.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new PrimaryColsPanel),this.childDestroyFuncs.push(function(){return n.destroyBean(n.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new RowGroupDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return n.destroyBean(n.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new ValuesDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return n.destroyBean(n.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new PivotDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return n.destroyBean(n.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var s=this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){n.resetChildrenHeight(),n.setLastVisible()});this.childDestroyFuncs.push(function(){return s()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var n=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return n.destroyBean(n.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new RowGroupDropZonePanel(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new ValuesDropZonePanel(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new PivotDropZonePanel(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var n=e.getGui();e.toggleResizable(!n.classList.contains("ag-last-column-drop")&&!n.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(d){return d.classList.remove("ag-last-column-drop")});var o=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o);s&&s.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var n=this.getGui().children,o=0;o<n.length;o++){var s=n[o];s.style.removeProperty("height"),s.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',__decorate$21([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$21([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2T=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$20=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},HorizontalResizeComp=function(l){function t(){var e=l.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return __extends$2T(t,l),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsService.is("enableRtl"))},t.prototype.dispatchResizeEvent=function(e,n,o){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_SIZE_CHANGED,width:o,started:e,ended:n})},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)},t.prototype.onResizeEnd=function(e){return this.onResizing(e,!0)},t.prototype.onResizing=function(e,n){void 0===n&&(n=!1);var s=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(s=Math.min(this.maxWidth,s)),this.elementToResize.style.width=s+"px",this.dispatchResizeEvent(!1,n,s)},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),__decorate$20([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2S=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1$=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SideBarButtonComp=function(l){function t(e){var n=l.call(this)||this;return n.toolPanelDef=e,n}return __extends$2S(t,l),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span ref ="eLabel" class="ag-side-button-label"></span>\n                </button>\n            </div>'},t.prototype.setLabel=function(){var e=this.localeService.getLocaleTextFunc(),n=this.toolPanelDef,o=e(n.labelKey,n.labelDefault);this.eLabel.innerText=o},t.prototype.setIcon=function(){this.eIconWrapper.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eToggleButton")],t.prototype,"eToggleButton",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eIconWrapper")],t.prototype,"eIconWrapper",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],t.prototype,"eLabel",void 0),__decorate$1$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2R=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1_=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SideBarButtonsComp=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return __extends$2R(t,l),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB&&e.shiftKey){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(n,!0)&&e.preventDefault()}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(n){n.setSelected(e===n.getToolPanelId())})},t.prototype.addButtonComp=function(e){var n=this,o=this.createBean(new SideBarButtonComp(e));this.buttonComps.push(o),this.appendChild(o),o.addEventListener(SideBarButtonComp.EVENT_TOGGLE_BUTTON_CLICKED,function(){n.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"clearButtons",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),SideBarDefParser=function(){function l(){}return l.parse=function(t){if(t){if(!0===t)return{toolPanels:[l.DEFAULT_COLUMN_COMP,l.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return l.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(o){var s=l.DEFAULT_BY_KEY[o];s?e.push(s):console.warn("AG Grid: the key "+o+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(l.DEFAULT_BY_KEY).join(","))}),0===e.length?void 0:{toolPanels:e,defaultToolPanel:e[0].id}}return{toolPanels:l.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}}},l.parseComponents=function(t){var e=[];return t&&t.forEach(function(n){var o=null;if("string"==typeof n){var s=l.DEFAULT_BY_KEY[n];if(!s)return void console.warn("AG Grid: the key "+n+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(l.DEFAULT_BY_KEY).join(","));o=s}else o=n;e.push(o)}),e},l.DEFAULT_BY_KEY={columns:l.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:l.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},l}(),__extends$2Q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1Z=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelWrapper=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$2Q(t,l),t.prototype.setupResize=function(){var e=this.getGui(),n=this.resizeBar=this.createManagedBean(new HorizontalResizeComp);n.setElementToResize(e),this.appendChild(n)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var n=e.id,o=e.minWidth,s=e.maxWidth,d=e.width;this.toolPanelId=n,this.width=d;var m=this.userComponentFactory.getToolPanelCompDetails(e,{}).newAgStackInstance();null!=m?(m.then(this.setToolPanelComponent.bind(this)),null!=o&&this.resizeBar.setMinWidth(o),null!=s&&this.resizeBar.setMaxWidth(s)):console.warn("AG Grid: error processing tool panel component "+n+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setToolPanelComponent=function(e){var n=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){n.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var n=this.gridOptionsService.is("enableRtl"),o="left"===e;this.resizeBar.setInverted(n?o:!o)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),__decorate$1Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"setupResize",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2P=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1Y=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SideBarComp=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return __extends$2P(t,l),t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(SideBarButtonsComp.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.addManagedPropertyListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var o=this.focusService,s=this.sideBarButtonsComp,d=this.getGui(),v=s.getGui(),m=this.gridOptionsService.getDocument().activeElement,w=d.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),D=e.target;if(w){if(v.contains(m))return void(o.focusInto(w,e.shiftKey)&&e.preventDefault());if(e.shiftKey){var b=null;w.contains(m)?b=this.focusService.findNextFocusableElement(w,void 0,!0):o.isTargetUnderManagedComponent(w,D)&&e.shiftKey&&(b=this.focusService.findFocusableElementBeforeTabGuard(w,D)),b||(b=v.querySelector(".ag-selected button")),b&&(e.preventDefault(),b.focus())}}}},t.prototype.handleKeyDown=function(e){var n=this.gridOptionsService.getDocument();if(this.sideBarButtonsComp.getGui().contains(n.activeElement)){var o=this.sideBarButtonsComp.getGui(),s=Array.prototype.slice.call(o.querySelectorAll(".ag-side-button")),d=n.activeElement,v=s.findIndex(function(w){return w.contains(d)}),C=null;switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:C=Math.max(0,v-1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:C=Math.min(v+1,s.length-1)}if(null!==C){var m=s[C].querySelector("button");m&&(m.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var n=e.toolPanelId,o=this.openedItem();this.openToolPanel(o===n?void 0:n,"sideBarButtonClicked")},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsService.get("sideBar");if(this.sideBar=SideBarDefParser.parse(e),this.sideBar&&this.sideBar.toolPanels){this.setDisplayed(!this.sideBar.hiddenByDefault);var o=this.sideBar.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(o),this.setupToolPanels(o),this.setSideBarPosition(this.sideBar.position),this.sideBar.hiddenByDefault||this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}},t.prototype.getDef=function(){return this.sideBar},t.prototype.setSideBarPosition=function(e){e||(e="right");var n="left"===e,o=n?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",n),this.addOrRemoveCssClass("ag-side-bar-right",!n),this.toolPanelWrappers.forEach(function(s){s.setResizerSizerSide(o)}),this},t.prototype.setupToolPanels=function(e){var n=this;e.forEach(function(o){if(null!=o.id){if("agColumnsToolPanel"===o.toolPanel&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===o.toolPanel&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,"Filters Tool Panel"))return;var d=new ToolPanelWrapper;n.getContext().createBean(d),d.setToolPanelDef(o),d.setDisplayed(!1),n.getGui().appendChild(d.getGui()),n.toolPanelWrappers.push(d)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e,n){void 0===n&&(n="api");var o=this.openedItem();o!==e&&(this.toolPanelWrappers.forEach(function(v){var C=e===v.getToolPanelId();v.setDisplayed(C)}),o!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,o??void 0,n)))},t.prototype.getToolPanelInstance=function(e){var n=this.toolPanelWrappers.filter(function(o){return o.getToolPanelId()===e})[0];if(n)return n.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e,n,o){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e}),n&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,source:o,key:n,visible:!1}),e&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,source:o,key:e,visible:!0})},t.prototype.close=function(e){void 0===e&&(e="api"),this.openToolPanel(void 0,e)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(n){n.isDisplayed()&&(e=n.getToolPanelId())}),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(n.getGui()),e.destroyBean(n)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2O=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1X=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelColDefService=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isColGroupDef=function(n){return n&&typeof n.children<"u"},e.getId=function(n){return e.isColGroupDef(n)?n.groupId:n.colId},e}return __extends$2O(t,l),t.prototype.createColumnTree=function(e){var n=this,o=[],s=function(v,C){if(n.isColGroupDef(v)){var m=v,D=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm(m,typeof m.groupId<"u"?m.groupId:m.headerName,!1,C),b=[];return m.children.forEach(function(N){var G=s(N,C+1);G&&b.push(G)}),D.setChildren(b),D}var T=v,I=n.columnModel.getPrimaryColumn(T.colId?T.colId:T.field);return I||o.push(T),I},d=[];return e.forEach(function(v){var C=s(v,0);C&&d.push(C)}),o.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",o),d},t.prototype.syncLayoutWithGrid=function(e){var n=this.getLeafPathTrees();e(this.mergeLeafPathTrees(n))},t.prototype.getLeafPathTrees=function(){var e=function(s,d){var v;if(s instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)if(s.isPadding())v=d;else{var C=Object.assign({},s.getColGroupDef());C.groupId=s.getGroupId(),C.children=[d],v=C}else{var m=Object.assign({},s.getColDef());m.colId=s.getColId(),v=m}var w=s.getOriginalParent();return w?e(w,v):v};return this.columnModel.getAllGridColumns().filter(function(s){var d=s.getColDef();return s.isPrimary()&&!d.showRowGroup}).map(function(s){return e(s,s.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var n=this,s=function(w,D){if(!n.isColGroupDef(D))return w;var b=w,T=D;return T.children&&T.groupId&&n.addChildrenToGroup(b,T.groupId,T.children[0])||T.children.forEach(function(I){return s(b,I)}),b},d=[],v=1;v<=e.length;v++){var C=e[v-1],m=e[v];D=m,n.isColGroupDef(w=C)&&n.isColGroupDef(D)&&n.getId(w)===n.getId(D)?e[v]=s(C,m):d.push(C)}var w,D;return d},t.prototype.addChildrenToGroup=function(e,n,o){var s=this;if(!this.isColGroupDef(e))return!0;var D,b,T,A,I,N,v=e,C=o;if(b=C,T=(D=v).children.map(s.getId),A=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(T,s.getId(b)),N=(I=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(D.children))&&s.getId(I)!==s.getId(b),A&&N)return v.children.push(C),!0;if(v.groupId===n){var m=v.children.map(this.getId);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(m,this.getId(C)))return v.children.push(C),!0}return v.children.forEach(function(D){return s.addChildrenToGroup(D,n,o)}),!1},__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("toolPanelColDefService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$f="29.1.0",SideBarModule={version:VERSION$f,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SideBarModule,beans:[ToolPanelColDefService],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:HorizontalResizeComp},{componentName:"AgSideBar",componentClass:SideBarComp},{componentName:"AgSideBarButtons",componentClass:SideBarButtonsComp}],dependantModules:[EnterpriseCoreModule]},__decorate$1W=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ModelItemUtils=function(){function l(){}return l.prototype.selectAllChildren=function(t,e,n){var o=this.extractAllLeafColumns(t);this.setAllColumns(o,e,n)},l.prototype.setColumn=function(t,e,n){this.setAllColumns([t],e,n)},l.prototype.setAllColumns=function(t,e,n){this.columnModel.isPivotMode()?this.setAllPivot(t,e,n):this.setAllVisible(t,e,n)},l.prototype.extractAllLeafColumns=function(t){var e=[],n=function(o){o.forEach(function(s){s.isPassesFilter()&&(s.isGroup()?n(s.getChildren()):e.push(s.getColumn()))})};return n(t),e},l.prototype.setAllVisible=function(t,e,n){var o=[];t.forEach(function(s){s.getColDef().lockVisible||s.isVisible()!=e&&o.push({colId:s.getId(),hide:!e})}),o.length>0&&this.columnModel.applyColumnState({state:o},n)},l.prototype.setAllPivot=function(t,e,n){this.gridOptionsService.is("functionsPassive")?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,n)},l.prototype.setAllPivotPassive=function(t,e){var n=this.columnModel.getPivotColumns().slice(),o=this.columnModel.getValueColumns().slice(),s=this.columnModel.getRowGroupColumns().slice(),d=!1,v=!1,C=!1;t.forEach(e?function(I){I.isAnyFunctionActive()||(I.isAllowValue()?(o.push(I),v=!0):I.isAllowRowGroup()?(s.push(I),d=!0):I.isAllowPivot()&&(n.push(I),C=!0))}:function(I){I.isAnyFunctionActive()&&(n.indexOf(I)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(n,I),d=!0),o.indexOf(I)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(o,I),v=!0),s.indexOf(I)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(s,I),C=!0))}),d&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n}),C&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:s}),v&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:s})},l.prototype.setAllPivotActive=function(t,e,n){var o=this,s=[];t.forEach(e?function(m){if(!m.isAnyFunctionActive())if(m.isAllowValue()){var w="string"==typeof m.getAggFunc()?m.getAggFunc():o.aggFuncService.getDefaultAggFunc(m);s.push({colId:m.getId(),aggFunc:w})}else m.isAllowRowGroup()?s.push({colId:m.getId(),rowGroup:!0}):m.isAllowPivot()&&s.push({colId:m.getId(),pivot:!0})}:function(m){(m.isPivotActive()||m.isRowGroupActive()||m.isValueActive())&&s.push({colId:m.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),s.length>0&&this.columnModel.applyColumnState({state:s},n)},__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],l.prototype,"aggFuncService",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],l.prototype,"columnModel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],l.prototype,"gridOptionsService",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("eventService")],l.prototype,"eventService",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("modelItemUtils")],l)}(),VERSION$e="29.1.0",ColumnsToolPanelModule={version:VERSION$e,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnToolPanelModule,beans:[ModelItemUtils],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:PrimaryColsHeaderPanel},{componentName:"AgPrimaryColsList",componentClass:PrimaryColsListPanel},{componentName:"AgPrimaryCols",componentClass:PrimaryColsPanel}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:ColumnToolPanel}],dependantModules:[EnterpriseCoreModule,RowGroupingModule,SideBarModule]},workbook={getTemplate:function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}}},excelWorkbook={getTemplate:function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}}},column={getTemplate:function(l){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:l.width}}]}}}},cell={getTemplate:function(l){var t=l.mergeAcross,e=l.styleId,n=l.data,o={};return t&&(o.MergeAcross=t),e&&(o.StyleID=e),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:o}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:n?.type}}]},textNode:n?.value}]}}},row={getTemplate:function(l){return{name:"Row",children:l.cells.map(function(e){return cell.getTemplate(e)})}}},worksheet={getTemplate:function(l){var t=l.table,e=l.name,o=t.rows,s=t.columns.map(function(v){return column.getTemplate(v)}),d=o.map(function(v){return row.getTemplate(v)});return{name:"Worksheet",children:[{name:"Table",children:s.concat(d)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:e}}]}}}},documentProperties={getTemplate:function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}}},alignment={getTemplate:function(l){var t=l.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},borders={getTemplate:function(l){var t=l.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map(function(d,v){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==v?"Bottom":1==v?"Left":2==v?"Right":"Top",LineStyle:d.lineStyle,Weight:d.weight,Color:d.color}}]}}})}}},font={getTemplate:function(l){var t=l.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},interior={getTemplate:function(l){var t=l.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},protection={getTemplate:function(l){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:l.protection.protected,HideFormula:l.protection.hideFormula}}]}}}},numberFormat={getTemplate:function(l){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:l.numberFormat.format}}]}}}},style={getTemplate:function(l){var t=l.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:l.name||t}}]}}}},ExcelXmlFactory=function(){function l(){}return l.createExcel=function(t,e){var n=this.excelXmlHeader(),o=documentProperties.getTemplate(),s=excelWorkbook.getTemplate(),d=this.workbook(o,s,t,e);return""+n+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(d,function(v){return v?"1":"0"})},l.workbook=function(t,e,n,o){var s=[t,e,this.stylesXmlElement(n)].concat(worksheet.getTemplate(o));return Object.assign({},workbook.getTemplate(),{children:s})},l.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},l.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map(function(n){return e.styleXmlElement(n)}):[]}},l.styleXmlElement=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},style.getTemplate(t),{children:e})},l.addProperty=function(t,e){return function(n){return e[t]?n.concat({alignment,borders,font,interior,numberFormat,protection}[t].getTemplate(e)):n}},l.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,l}(),INCH_TO_EMU=9525,numberFormatMap={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},pixelsToPoint=function(l){return Math.round(72*l/96)},pointsToPixel=function(l){return Math.round(96*l/72)},pixelsToEMU=function(l){return Math.ceil(l*INCH_TO_EMU)},getFontFamilyId=function(l){if(void 0!==l){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(l||"Automatic");return Math.max(e,0)}},getHeightFromProperty=function(l,t){var e;if(t)return e="number"==typeof t?t:t({rowIndex:l}),pixelsToPoint(e)},setExcelImageTotalWidth=function(l,t){var e=l.position,n=e.colSpan,o=e.column;if(l.width)if(n)for(var s=t.slice(o-1,o+n-1),d=0,v=0;v<s.length;v++){var C=s[v].getActualWidth();if(l.width<d+C){l.position.colSpan=v+1,l.totalWidth=l.width,l.width=l.totalWidth-d;break}d+=C}else l.totalWidth=l.width},setExcelImageTotalHeight=function(l,t){var e=l.position,n=e.rowSpan,o=e.row;if(l.height)if(n)for(var s=0,d=0,v=o;v<o+n;v++){var C=pointsToPixel(getHeightFromProperty(v,t)||20);if(l.height<s+C){l.position.rowSpan=d+1,l.totalHeight=l.height,l.height=l.totalHeight-s;break}s+=C,d++}else l.totalHeight=l.height},createXmlPart=function(l){return""+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createHeader({encoding:"UTF-8",standalone:"yes"})+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(l)},getExcelColumnName=function(l){var n=String.fromCharCode,o=Math.floor(l/26),s=l%26;return o&&26!==l?s?o<26?n(65+o-1)+n(65+s-1):getExcelColumnName(o)+n(65+s-1):getExcelColumnName(o-1)+"Z":n(65+l-1)},__extends$2N=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$J=function(){return __assign$J=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$J.apply(this,arguments)},__read$11=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$A=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$11(arguments[t]));return l},BaseExcelSerializingSession=function(l){function t(e){var n=l.call(this,e)||this;return n.mixedStyles={},n.mixedStyleCounter=0,n.rows=[],n.config=Object.assign({},e),n.stylesByIds={},n.config.baseExcelStyles.forEach(function(o){n.stylesByIds[o.id]=o}),n.excelStyles=__spread$A(n.config.baseExcelStyles),n}return __extends$2N(t,l),t.prototype.addCustomContent=function(e){var n=this;e.forEach(function(o){var s=n.rows.length+1,d={height:getHeightFromProperty(s,o.height||n.config.rowHeight),cells:(o.cells||[]).map(function(v,C){var m,w=n.addImage(s,n.columnsToExport[C],null===(m=v.data)||void 0===m?void 0:m.value),D=__assign$J({},v);return w&&(D.data={},null!=w.value?D.data.value=w.value:(D.data.type="e",D.data.value=null)),D}),outlineLevel:o.outlineLevel||void 0};null!=o.collapsed&&(d.collapsed=o.collapsed),null!=o.hidden&&(d.hidden=o.hidden),n.rows.push(d)})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,n=[];return this.rows.push({cells:n,height:getHeightFromProperty(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(o,s,d,v,C){var m=e.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,rowIndex:1,value:"grouping-"+s,columnGroup:o});n.push(__assign$J(__assign$J({},e.createMergedCell(e.getStyleId(m),e.getDataTypeForValue("string"),s,v)),{collapsibleRanges:C}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(e){var n=this;l.prototype.prepare.call(this,e),this.columnsToExport=__spread$A(e),this.cols=e.map(function(o,s){return n.convertColumnToExcel(o,s)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(o,s){return Math.max(o,s.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.isNumerical=function(e){return isFinite(e)&&""!==e&&!isNaN(parseFloat(e))},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,n){var o=this.config.columnWidth;return o?"number"==typeof o?{width:o}:{width:o({column:e,index:n})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,n){var o=this;return function(s,d){var v=o.extractHeaderValue(s),C=o.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,rowIndex:e,value:v,column:s});n.push(o.createCell(o.getStyleId(C),o.getDataTypeForValue("string"),v))}},t.prototype.onNewRow=function(e,n){var o=[];return this.rows.push({cells:o,height:getHeightFromProperty(this.rows.length+1,n)}),{onColumn:e.bind(this,this.rows.length,o)()}},t.prototype.onNewBodyColumn=function(e,n){var o=this,s=0;return function(d,v,C){if(s>0)s-=1;else{if(!o.config.gridOptionsService.is("groupHideOpenParents")&&null!=C.level){var m=C.footer?1:0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o.rows).outlineLevel=C.level+m}var w=o.extractRowCellValue(d,v,e,"excel",C),D=o.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.BODY,rowIndex:e,value:w,column:d,node:C}),b=o.getStyleId(D),T=d.getColSpan(C),A=o.addImage(e,d,w);A?n.push(o.createCell(b,o.getDataTypeForValue(A.value),null==A.value?"":A.value)):T>1?(s=T-1,n.push(o.createMergedCell(b,o.getDataTypeForValue(w),w,T-1))):n.push(o.createCell(b,o.getDataTypeForValue(w),w))}}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var n=e.join("-");return this.mixedStyles[n]||this.addNewMixedStyle(e),this.mixedStyles[n].excelID},t.prototype.addNewMixedStyle=function(e){var n=this;this.mixedStyleCounter+=1;var o="mixedStyle"+this.mixedStyleCounter,s={};e.forEach(function(v){n.excelStyles.forEach(function(C){C.id===v&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.deepCloneObject(C))})}),s.id=o,s.name=o;var d=e.join("-");this.mixedStyles[d]={excelID:o,key:d,result:s},this.excelStyles.push(s),this.stylesByIds[o]=s},t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WKU),__extends$2M=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ExcelXmlSerializingSession=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2M(t,l),t.prototype.createExcel=function(e){return ExcelXmlFactory.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return this.isNumerical(e)?"Number":"String"},t.prototype.getType=function(e,n,o){if(this.isFormula(o))return"Formula";if(n&&n.dataType)switch(n.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+n.id+".dataType="+n.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,n,o){var s=this.getStyleById(e),d=this.getType(n,s,o)||n;return{styleId:s?e:void 0,data:{type:d,value:this.getValueTransformed(d,o)}}},t.prototype.getValueTransformed=function(e,n){var v,o=this;switch(e){case"String":return function(v){if(o.config.suppressTextAsCDATA)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(v);var C="<![CDATA[",m="]]>",w=new RegExp(m,"g");return C+String(v).replace(w,"]]"+m+C+">")+m}(n);case"Number":return Number(n).valueOf()+"";case"Boolean":return(v=n)&&"0"!==v&&"false"!==v?"1":"0";default:return n}},t.prototype.createMergedCell=function(e,n,o,s){return{styleId:this.getStyleById(e)?e:void 0,data:{type:n,value:o},mergeAcross:s}},t}(BaseExcelSerializingSession),coreFactory={getTemplate:function(l){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:l},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},contentTypeFactory={getTemplate:function(l){return{name:l.name,properties:{rawMap:{Extension:l.Extension,PartName:l.PartName,ContentType:l.ContentType}}}}},__read$10=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$z=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$10(arguments[t]));return l},contentTypesFactory={getTemplate:function(l){var t=new Array(l).fill(void 0).map(function(v,C){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(C+1)+".xml"}}),e=ExcelXlsxFactory.worksheetImages.size,n={};ExcelXlsxFactory.workbookImageIds.forEach(function(v){n[v.type]=!0});var o=new Array(e).fill(void 0).map(function(v,C){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(C+1)+".xml"}}),s=Object.keys(n).map(function(v){return{name:"Default",ContentType:"image/"+v,Extension:v}});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:__spread$z(s,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],o,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(v){return contentTypeFactory.getTemplate(v)})}}},getAnchor=function(l,t){return{name:"xdr:"+l,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},getExt=function(l){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(l.recolor&&l.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},getNvPicPr=function(l,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:l.id,descr:null!=l.altText?l.altText:void 0}},children:[getExt(l)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},getColorDetails=function(l){if(l.saturation||l.tint){var t=[];return l.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*l.saturation}}}),l.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*l.tint}}}),t}},getDuoTone=function(l,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:l.color}},children:getColorDetails(l)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:getColorDetails(t)}]}},getBlipFill=function(l,t){var e;if(l.transparency){var n=Math.min(Math.max(l.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*n)}}}]}if(l.recolor)switch(e||(e=[]),l.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(getDuoTone({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},getSpPr=function(l,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return l.rotation&&(e.properties={rawMap:{rot:6e4*Math.min(Math.max(l.rotation,0),360)}}),{name:"xdr:spPr",children:[e,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},getImageBoxSize=function(l){l.fitCell=!!l.fitCell||!l.width||!l.height;var t=l.position,e=void 0===t?{}:t,n=l.fitCell,o=l.width,s=void 0===o?0:o,d=l.height,v=void 0===d?0:d,C=l.totalHeight,m=l.totalWidth,w=e.offsetX,D=void 0===w?0:w,b=e.offsetY,T=void 0===b?0:b,A=e.row,I=void 0===A?1:A,N=e.rowSpan,G=void 0===N?1:N,V=e.column,W=void 0===V?1:V,j=e.colSpan,K=void 0===j?1:j;return{from:{row:I-1,col:W-1,offsetX:pixelsToEMU(D),offsetY:pixelsToEMU(T)},to:{row:I-1+(n?1:G-1),col:W-1+(n?1:K-1),offsetX:pixelsToEMU(s+D),offsetY:pixelsToEMU(v+T)},height:pixelsToEMU(C||v),width:pixelsToEMU(m||s)}},getPicture=function(l,t,e,n){return{name:"xdr:pic",children:[getNvPicPr(l,t+1),getBlipFill(l,e+1),getSpPr(l,n)]}},drawingFactory={getTemplate:function(l){var t=l.sheetIndex,e=ExcelXlsxFactory.worksheetImages.get(t),n=ExcelXlsxFactory.worksheetImageIds.get(t);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:e.map(function(s,d){var v=getImageBoxSize(s);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[getAnchor("from",v.from),getAnchor("to",v.to),getPicture(s,d,n.get(s.id).index,v),{name:"xdr:clientData"}]}})}}},__read$$=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},getColorChildren=function(l){var t=__read$$(l,4);return{name:"a:"+t[0],children:[{name:"a:"+t[1],properties:{rawMap:{val:t[2],lastClr:t[3]}}}]}},colorScheme={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[getColorChildren(["dk1","sysClr","windowText","000000"]),getColorChildren(["lt1","sysClr","window","FFFFFF"]),getColorChildren(["dk2","srgbClr","44546A"]),getColorChildren(["lt2","srgbClr","E7E6E6"]),getColorChildren(["accent1","srgbClr","4472C4"]),getColorChildren(["accent2","srgbClr","ED7D31"]),getColorChildren(["accent3","srgbClr","A5A5A5"]),getColorChildren(["accent4","srgbClr","FFC000"]),getColorChildren(["accent5","srgbClr","5B9BD5"]),getColorChildren(["accent6","srgbClr","70AD47"]),getColorChildren(["hlink","srgbClr","0563C1"]),getColorChildren(["folHlink","srgbClr","954F72"])]}}},__read$_=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},getFont$1=function(l){var t=__read$_(l,4);return{name:"a:"+t[0],properties:{rawMap:{script:t[2],typeface:t[1],panose:t[3]}}}},fontScheme={getTemplate:function(){var l=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[getFont$1(["latin","Calibri Light",void 0,"020F0302020204030204"]),getFont$1(["ea",""]),getFont$1(["cs",""]),getFont$1(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),getFont$1(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),getFont$1(["font",l("\u7b49\u7ebf Light"),"Hans"]),getFont$1(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),getFont$1(["font","Times New Roman","Arab"]),getFont$1(["font","Times New Roman","Hebr"]),getFont$1(["font","Tahoma","Thai"]),getFont$1(["font","Nyala","Ethi"]),getFont$1(["font","Vrinda","Beng"]),getFont$1(["font","Shruti","Gujr"]),getFont$1(["font","MoolBoran","Khmr"]),getFont$1(["font","Tunga","Knda"]),getFont$1(["font","Raavi","Guru"]),getFont$1(["font","Euphemia","Cans"]),getFont$1(["font","Plantagenet Cherokee","Cher"]),getFont$1(["font","Microsoft Yi Baiti","Yiii"]),getFont$1(["font","Microsoft Himalaya","Tibt"]),getFont$1(["font","MV Boli","Thaa"]),getFont$1(["font","Mangal","Deva"]),getFont$1(["font","Gautami","Telu"]),getFont$1(["font","Latha","Taml"]),getFont$1(["font","Estrangelo Edessa","Syrc"]),getFont$1(["font","Kalinga","Orya"]),getFont$1(["font","Kartika","Mlym"]),getFont$1(["font","DokChampa","Laoo"]),getFont$1(["font","Iskoola Pota","Sinh"]),getFont$1(["font","Mongolian Baiti","Mong"]),getFont$1(["font","Times New Roman","Viet"]),getFont$1(["font","Microsoft Uighur","Uigh"]),getFont$1(["font","Sylfaen","Geor"]),getFont$1(["font","Arial","Armn"]),getFont$1(["font","Leelawadee UI","Bugi"]),getFont$1(["font","Microsoft JhengHei","Bopo"]),getFont$1(["font","Javanese Text","Java"]),getFont$1(["font","Segoe UI","Lisu"]),getFont$1(["font","Myanmar Text","Mymr"]),getFont$1(["font","Ebrima","Nkoo"]),getFont$1(["font","Nirmala UI","Olck"]),getFont$1(["font","Ebrima","Osma"]),getFont$1(["font","Phagspa","Phag"]),getFont$1(["font","Estrangelo Edessa","Syrn"]),getFont$1(["font","Estrangelo Edessa","Syrj"]),getFont$1(["font","Estrangelo Edessa","Syre"]),getFont$1(["font","Nirmala UI","Sora"]),getFont$1(["font","Microsoft Tai Le","Tale"]),getFont$1(["font","Microsoft New Tai Lue","Talu"]),getFont$1(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[getFont$1(["latin","Calibri",void 0,"020F0502020204030204"]),getFont$1(["ea",""]),getFont$1(["cs",""]),getFont$1(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),getFont$1(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),getFont$1(["font",l("\u7b49\u7ebf"),"Hans"]),getFont$1(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),getFont$1(["font","Arial","Arab"]),getFont$1(["font","Arial","Hebr"]),getFont$1(["font","Tahoma","Thai"]),getFont$1(["font","Nyala","Ethi"]),getFont$1(["font","Vrinda","Beng"]),getFont$1(["font","Shruti","Gujr"]),getFont$1(["font","DaunPenh","Khmr"]),getFont$1(["font","Tunga","Knda"]),getFont$1(["font","Raavi","Guru"]),getFont$1(["font","Euphemia","Cans"]),getFont$1(["font","Plantagenet Cherokee","Cher"]),getFont$1(["font","Microsoft Yi Baiti","Yiii"]),getFont$1(["font","Microsoft Himalaya","Tibt"]),getFont$1(["font","MV Boli","Thaa"]),getFont$1(["font","Mangal","Deva"]),getFont$1(["font","Gautami","Telu"]),getFont$1(["font","Latha","Taml"]),getFont$1(["font","Estrangelo Edessa","Syrc"]),getFont$1(["font","Kalinga","Orya"]),getFont$1(["font","Kartika","Mlym"]),getFont$1(["font","DokChampa","Laoo"]),getFont$1(["font","Iskoola Pota","Sinh"]),getFont$1(["font","Mongolian Baiti","Mong"]),getFont$1(["font","Arial","Viet"]),getFont$1(["font","Microsoft Uighur","Uigh"]),getFont$1(["font","Sylfaen","Geor"]),getFont$1(["font","Arial","Armn"]),getFont$1(["font","Leelawadee UI","Bugi"]),getFont$1(["font","Microsoft JhengHei","Bopo"]),getFont$1(["font","Javanese Text","Java"]),getFont$1(["font","Segoe UI","Lisu"]),getFont$1(["font","Myanmar Text","Mymr"]),getFont$1(["font","Ebrima","Nkoo"]),getFont$1(["font","Nirmala UI","Olck"]),getFont$1(["font","Ebrima","Osma"]),getFont$1(["font","Phagspa","Phag"]),getFont$1(["font","Estrangelo Edessa","Syrn"]),getFont$1(["font","Estrangelo Edessa","Syrj"]),getFont$1(["font","Estrangelo Edessa","Syre"]),getFont$1(["font","Nirmala UI","Sora"]),getFont$1(["font","Microsoft Tai Le","Tale"]),getFont$1(["font","Microsoft New Tai Lue","Talu"]),getFont$1(["font","Ebrima","Tfng"])]}]}}},__read$Z=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},getPropertyVal=function(l,t,e){return{name:"a:"+l,properties:{rawMap:{val:t}},children:e}},getGs=function(l){var t=__read$Z(l,6),e=t[0],n=t[1],s=t[3],d=t[4],v=t[5],C=[];return C.push(getPropertyVal("satMod",t[2])),s&&C.push(getPropertyVal("lumMod",s)),d&&C.push(getPropertyVal("tint",d)),v&&C.push(getPropertyVal("shade",v)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:n}},children:C}]}},getSolidFill=function(l,t){return{name:"a:solidFill",children:[getPropertyVal("schemeClr",l,t)]}},getGradFill=function(l){var t=__read$Z(l,5),e=t[0],n=t[1],o=t[2],s=t[3],v=__read$Z(t[4],2),C=v[0],m=v[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[getGs(n),getGs(o),getGs(s)]},{name:"a:lin",properties:{rawMap:{ang:C,scaled:m}}}]}},getLine=function(l){var t=__read$Z(l,4);return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[getSolidFill("phClr"),getPropertyVal("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},getEffectStyle=function(l){var t=[];if(l){var e=__read$Z(l,5);t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[getPropertyVal("srgbClr","000000",[getPropertyVal("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},getFillStyleList=function(){return{name:"a:fillStyleLst",children:[getSolidFill("phClr"),getGradFill(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),getGradFill(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},getLineStyleList=function(){return{name:"a:lnStyleLst",children:[getLine(["6350","flat","sng","ctr"]),getLine(["12700","flat","sng","ctr"]),getLine(["19050","flat","sng","ctr"])]}},getEffectStyleList=function(){return{name:"a:effectStyleLst",children:[getEffectStyle(),getEffectStyle(),getEffectStyle(["57150","19050","5400000","ctr","0"])]}},getBgFillStyleList=function(){return{name:"a:bgFillStyleLst",children:[getSolidFill("phClr"),getSolidFill("phClr",[getPropertyVal("tint","95000"),getPropertyVal("satMod","170000")]),getGradFill(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},formatScheme={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[getFillStyleList(),getLineStyleList(),getEffectStyleList(),getBgFillStyleList()]}}},themeElements={getTemplate:function(){return{name:"a:themeElements",children:[colorScheme.getTemplate(),fontScheme.getTemplate(),formatScheme.getTemplate()]}}},officeTheme={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[themeElements.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},buildSharedString=function(l){var t=[];return l.forEach(function(e,n){var o=n.toString(),s={name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(o))};o.trim().length!==o.length&&(s.properties={rawMap:{"xml:space":"preserve"}}),t.push({name:"si",children:[s]})}),t},sharedStrings={getTemplate:function(l){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.size,uniqueCount:l.size}},children:buildSharedString(l)}}},numberFormatFactory={getTemplate:function(l){return{name:"numFmt",properties:{rawMap:{formatCode:l.formatCode,numFmtId:l.numFmtId}}}}},numberFormatsFactory={getTemplate:function(l){return{name:"numFmts",properties:{rawMap:{count:l.length}},children:l.map(function(t){return numberFormatFactory.getTemplate(t)})}}},fontFactory={getTemplate:function(l){var n=l.color,s=l.fontName,v=l.family,C=l.scheme,m=l.italic,w=l.bold,D=l.strikeThrough,b=l.outline,T=l.shadow,A=l.underline,I=l.verticalAlign,N=[{name:"sz",properties:{rawMap:{val:l.size}}},{name:"color",properties:{rawMap:{theme:l.colorTheme,rgb:void 0===n?"FF000000":n}}},{name:"name",properties:{rawMap:{val:void 0===s?"Calibri":s}}}];return v&&N.push({name:"family",properties:{rawMap:{val:v}}}),C&&N.push({name:"scheme",properties:{rawMap:{val:C}}}),m&&N.push({name:"i"}),w&&N.push({name:"b"}),D&&N.push({name:"strike"}),b&&N.push({name:"outline"}),T&&N.push({name:"shadow"}),A&&N.push({name:"u",properties:{rawMap:{val:A}}}),I&&N.push({name:"vertAlign",properties:{rawMap:{val:I}}}),{name:"font",children:N}}},fontsFactory={getTemplate:function(l){return{name:"fonts",properties:{rawMap:{count:l.length}},children:l.map(function(t){return fontFactory.getTemplate(t)})}}},fillFactory={getTemplate:function(l){var e=l.fgTheme,n=l.fgTint,o=l.fgRgb,s=l.bgRgb,d=l.bgIndexed,v={name:"patternFill",properties:{rawMap:{patternType:l.patternType}}};return(e||n||o)&&(v.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:n,rgb:o}}}]),(d||s)&&(v.children||(v.children=[]),v.children.push({name:"bgColor",properties:{rawMap:{indexed:d,rgb:s}}})),{name:"fill",children:[v]}}},fillsFactory={getTemplate:function(l){return{name:"fills",properties:{rawMap:{count:l.length}},children:l.map(function(t){return fillFactory.getTemplate(t)})}}},getWeightName=function(l){switch(l){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},mappedBorderNames={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},mediumBorders=["Dashed","DashDot","DashDotDot"],colorMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},horizontalAlignmentMap={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},verticalAlignmentMap={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},convertLegacyPattern=function(l){return l?colorMap[l]||l:"none"},convertLegacyColor=function(l){return null==l?l:("#"===l.charAt(0)&&(l=l.substr(1)),6===l.length?"FF"+l:l)},convertLegacyBorder=function(l,t){if(!l)return"thin";var e=getWeightName(t),n=mappedBorderNames[l];return"Continuous"===l?e:"medium"===e&&-1!==mediumBorders.indexOf(n)?"medium"+n:n.charAt(0).toLowerCase()+n.substr(1)},convertLegacyHorizontalAlignment=function(l){return horizontalAlignmentMap[l]||"general"},convertLegacyVerticalAlignment=function(l){return verticalAlignmentMap[l]||void 0},getBorderColor=function(l){return{name:"color",properties:{rawMap:{rgb:convertLegacyColor(l||"#000000")}}}},borderFactory$1={getTemplate:function(l){var t=l.left,e=l.right,n=l.top,o=l.bottom,s=l.diagonal,d=t?[getBorderColor(t.color)]:void 0,v=e?[getBorderColor(e.color)]:void 0,C=n?[getBorderColor(n.color)]:void 0,m=o?[getBorderColor(o.color)]:void 0,w=s?[getBorderColor(s.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:d},{name:"right",properties:{rawMap:{style:e&&e.style}},children:v},{name:"top",properties:{rawMap:{style:n&&n.style}},children:C},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:m},{name:"diagonal",properties:{rawMap:{style:s&&s.style}},children:w}]}}},bordersFactory={getTemplate:function(l){return{name:"borders",properties:{rawMap:{count:l.length}},children:l.map(function(t){return borderFactory$1.getTemplate(t)})}}},getReadingOrderId=function(l){var e=["Context","LeftToRight","RightToLeft"].indexOf(l);return Math.max(e,0)},alignmentFactory={getTemplate:function(l){var t=l.horizontal,e=l.indent,n=l.readingOrder,o=l.rotate,s=l.shrinkToFit,d=l.vertical,v=l.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&convertLegacyHorizontalAlignment(t),indent:e,readingOrder:n&&getReadingOrderId(n),textRotation:o,shrinkToFit:s,vertical:d&&convertLegacyVerticalAlignment(d),wrapText:v}}}}},protectionFactory={getTemplate:function(l){return{name:"protection",properties:{rawMap:{hidden:!0===l.hideFormula?1:0,locked:!1===l.protected?0:1}}}}},xfFactory={getTemplate:function(l){var t=l.alignment,e=l.borderId,n=l.fillId,o=l.fontId,s=l.numFmtId,d=l.protection,v=l.xfId,C=[];return t&&C.push(alignmentFactory.getTemplate(t)),d&&C.push(protectionFactory.getTemplate(d)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:d?1:void 0,applyBorder:e?1:void 0,applyFill:n?1:void 0,borderId:e,fillId:n,applyFont:o?1:void 0,fontId:o,applyNumberFormat:s?1:void 0,numFmtId:s,xfId:v}},children:C.length?C:void 0}}},cellStylesXfsFactory={getTemplate:function(l){return{name:"cellStyleXfs",properties:{rawMap:{count:l.length}},children:l.map(function(t){return xfFactory.getTemplate(t)})}}},cellXfsFactory={getTemplate:function(l){return{name:"cellXfs",properties:{rawMap:{count:l.length}},children:l.map(function(t){return xfFactory.getTemplate(t)})}}},borderFactory={getTemplate:function(l){return{name:"cellStyle",properties:{rawMap:{builtinId:l.builtinId,name:l.name,xfId:l.xfId}}}}},cellStylesFactory={getTemplate:function(l){return{name:"cellStyles",properties:{rawMap:{count:l.length}},children:l.map(function(t){return borderFactory.getTemplate(t)})}}},__assign$I=function(){return __assign$I=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$I.apply(this,arguments)},stylesMap,registeredNumberFmts,registeredFonts,registeredFills,registeredBorders,registeredCellStyleXfs,registeredCellXfs,registeredCellStyles,currentSheet,getStyleName=function(l,t){return-1!==l.indexOf("mixedStyle")&&t>1&&(l+="_"+t),l},resetStylesheetValues=function(){stylesMap={base:0},registeredNumberFmts=[],registeredFonts=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],registeredFills=[{patternType:"none"},{patternType:"gray125"}],registeredBorders=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],registeredCellStyleXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],registeredCellXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],registeredCellStyles=[{builtinId:0,name:"Normal",xfId:0}]},registerFill=function(l){var t=convertLegacyPattern(l.pattern),e=convertLegacyColor(l.color),n=convertLegacyColor(l.patternColor),o=registeredFills.findIndex(function(s){return!(s.patternType!=t||s.fgRgb!=e||s.bgRgb!=n)});return-1===o&&(o=registeredFills.length,registeredFills.push({patternType:t,fgRgb:e,bgRgb:n})),o},registerNumberFmt=function(l){if(l=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(l),numberFormatMap[l])return numberFormatMap[l];var t=registeredNumberFmts.findIndex(function(e){return e.formatCode===l});return-1===t?registeredNumberFmts.push({formatCode:l,numFmtId:t=registeredNumberFmts.length+164}):t=registeredNumberFmts[t].numFmtId,t},registerBorders=function(l){var s,d,v,C,m,w,D,b,t=l.borderBottom,e=l.borderTop,n=l.borderLeft,o=l.borderRight;n&&(v=convertLegacyBorder(n.lineStyle,n.weight),D=convertLegacyColor(n.color)),o&&(C=convertLegacyBorder(o.lineStyle,o.weight),b=convertLegacyColor(o.color)),t&&(s=convertLegacyBorder(t.lineStyle,t.weight),m=convertLegacyColor(t.color)),e&&(d=convertLegacyBorder(e.lineStyle,e.weight),w=convertLegacyColor(e.color));var T=registeredBorders.findIndex(function(A){var I=A.left,N=A.right,G=A.top,V=A.bottom;if(!I&&(v||D)||!N&&(C||b)||!G&&(d||w)||!V&&(s||m))return!1;var W=I||{},Y=N||{},Z=G||{},se=V||{};return!(W.style!=v||W.color!=D||Y.style!=C||Y.color!=b||Z.style!=d||Z.color!=w||se.style!=s||se.color!=m)});return-1===T&&(T=registeredBorders.length,registeredBorders.push({left:{style:v,color:D},right:{style:C,color:b},top:{style:d,color:w},bottom:{style:s,color:m},diagonal:{style:void 0,color:void 0}})),T},registerFont=function(l){var t=l.fontName,e=void 0===t?"Calibri":t,n=l.color,o=l.size,s=l.bold,d=l.italic,v=l.outline,C=l.shadow,m=l.strikeThrough,w=l.underline,D=l.family,b=l.verticalAlign,T=e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(e),A=convertLegacyColor(n),I=getFontFamilyId(D),N=w?w.toLocaleLowerCase():void 0,G=b?b.toLocaleLowerCase():void 0,V=registeredFonts.findIndex(function(W){return!(W.fontName!=T||W.color!=A||W.size!=o||W.bold!=s||W.italic!=d||W.outline!=v||W.shadow!=C||W.strikeThrough!=m||W.underline!=N||W.verticalAlign!=G||W.family!=I)});return-1===V&&(V=registeredFonts.length,registeredFonts.push({fontName:T,color:A,size:o,bold:s,italic:d,outline:v,shadow:C,strikeThrough:m,underline:N,verticalAlign:G,family:I?.toString()})),V},registerStyle=function(l){var t=l.alignment,e=l.borders,n=l.font,o=l.interior,s=l.numberFormat,d=l.protection,v=l.id,C=0,m=0,w=0,D=0;v&&(v=getStyleName(v,currentSheet),null==stylesMap[v]&&(o&&(C=registerFill(o)),e&&(m=registerBorders(e)),n&&(w=registerFont(n)),s&&(D=registerNumberFmt(s.format)),stylesMap[v]=registeredCellXfs.length,registeredCellXfs.push({alignment:t,borderId:m||0,fillId:C||0,fontId:w||0,numFmtId:D||0,protection:d,xfId:0})))},stylesheetFactory={getTemplate:function(l){var t=numberFormatsFactory.getTemplate(registeredNumberFmts),e=fontsFactory.getTemplate(registeredFonts.map(function(C){return __assign$I(__assign$I({},C),{size:null!=C.size?C.size:l})})),n=fillsFactory.getTemplate(registeredFills),o=bordersFactory.getTemplate(registeredBorders),s=cellStylesXfsFactory.getTemplate(registeredCellStyleXfs),d=cellXfsFactory.getTemplate(registeredCellXfs),v=cellStylesFactory.getTemplate(registeredCellStyles);return resetStylesheetValues(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,n,o,s,d,v,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},getStyleId=function(l,t){return stylesMap[getStyleName(l,t)]||0},registerStyles=function(l,t){1===(currentSheet=t)&&resetStylesheetValues(),l.forEach(registerStyle)},sheetFactory={getTemplate:function(l,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:l,sheetId:e,"r:id":"rId"+e}}}}},sheetsFactory={getTemplate:function(l){return{name:"sheets",children:l.map(function(t,e){return sheetFactory.getTemplate(t,e)})}}},workbookFactory={getTemplate:function(l){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[sheetsFactory.getTemplate(l)]}}},getExcelCellWidth=function(l){return Math.ceil((l-12)/7+1)},columnFactory={getTemplate:function(l){var t=l.min,e=l.max,n=l.outlineLevel,o=l.s,s=l.width,d=l.hidden,v=l.bestFit,C=1,m="0";return s>1&&(C=getExcelCellWidth(s),m="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:n??void 0,width:C,style:o,hidden:d?"1":"0",bestFit:v?"1":"0",customWidth:m}}}}},convertLegacyType=function(l){var t=l.charAt(0).toLowerCase();return"s"===t?"inlineStr":t},cellFactory={getTemplate:function(l,t,e){var n=l.ref,s=l.styleId,d=l.data||{type:"empty",value:null},v=d.type,C=d.value,m=v;"f"===v?m="str":v.charAt(0)===v.charAt(0).toUpperCase()&&(m=convertLegacyType(v));var D,w={name:"c",properties:{rawMap:{r:n,t:"empty"===m?void 0:m,s:s?getStyleId(s,e):void 0}}};return"empty"===m?w:(D="str"===m&&"f"===v?[{name:"f",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(C))}]:"inlineStr"===m?[{name:"is",children:[{name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(C))}]}]:[{name:"v",textNode:C}],Object.assign({},w,{children:D}))}},__read$Y=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$y=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$Y(arguments[t]));return l},addEmptyCells=function(l,t){for(var e=[],n=0,o=0;o<l.length;o++)(s=l[o]).mergeAcross&&(e.push({pos:o,excelPos:n}),n+=s.mergeAcross),n++;if(e.length)for(o=e.length-1;o>=0;o--){for(var d=[],s=l[e[o].pos],v=1;v<=s.mergeAcross;v++)d.push({ref:""+getExcelColumnName(e[o].excelPos+1+v)+(t+1),styleId:s.styleId,data:{type:"empty",value:null}});d.length&&l.splice.apply(l,__spread$y([e[o].pos+1,0],d))}},shouldDisplayCell=function(l){var t;return""!==(null===(t=l.data)||void 0===t?void 0:t.value)||void 0!==l.styleId},rowFactory={getTemplate:function(l,t,e){var n=l.collapsed,o=l.hidden,s=l.height,d=l.outlineLevel,v=l.cells,C=void 0===v?[]:v;return addEmptyCells(C,t),{name:"row",properties:{rawMap:{r:t+1,collapsed:n,hidden:o?"1":"0",ht:s,customHeight:null!=s?"1":"0",spans:"1:1",outlineLevel:d||void 0}},children:C.filter(shouldDisplayCell).map(function(w,D){return cellFactory.getTemplate(w,D,e)})}}},mergeCellFactory={getTemplate:function(l){return{name:"mergeCell",properties:{rawMap:{ref:l}}}}},getMergedCellsAndAddColumnGroups=function(l,t){var e=[],n=[];l.forEach(function(d,v){var w,m=0;d.cells.forEach(function(D,b){var T=b+m+1,A=getExcelColumnName(T),I=v+1;if(D.mergeAcross){var N=getExcelColumnName(b+(m+=D.mergeAcross)+1);e.push(""+A+I+":"+N+I)}t[T-1]||(t[T-1]={});var G=D.collapsibleRanges;G&&G.forEach(function(V){n.push([T+V[0],T+V[1]])}),(w=t[T-1]).min=T,w.max=T,D.ref=""+A+I})}),n.sort(function(d,v){return d[0]!==v[0]?d[0]-v[0]:v[1]-d[1]});var o=new Map,s=new Map;return n.filter(function(d){var v=d.toString();return!o.get(v)&&(o.set(v,!0),!0)}).forEach(function(d){var v=t.find(function(m){return m.min==d[0]&&m.max==d[1]}),C=s.get(d[0]);t.push({min:d[0],max:d[1],outlineLevel:C||1,width:(v||{width:100}).width}),s.set(d[0],(C||0)+1)}),e},getPageOrientation=function(l){return!l||"Portrait"!==l&&"Landscape"!==l?"portrait":l.toLocaleLowerCase()},getPageSize=function(l){if(null==l)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(l);return-1===e?1:e+1},addColumns=function(l){return function(t){return l.length&&t.push({name:"cols",children:l.map(function(e){return columnFactory.getTemplate(e)})}),t}},addSheetData=function(l,t){return function(e){return l.length&&e.push({name:"sheetData",children:l.map(function(n,o){return rowFactory.getTemplate(n,o,t)})}),e}},addMergeCells=function(l){return function(t){return l.length&&t.push({name:"mergeCells",properties:{rawMap:{count:l.length}},children:l.map(function(e){return mergeCellFactory.getTemplate(e)})}),t}},addPageMargins=function(l){return function(t){var e=l.top,o=l.right,d=l.bottom,C=l.left,w=l.header,b=l.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===d?.75:d,footer:void 0===b?.3:b,header:void 0===w?.3:w,left:void 0===C?.7:C,right:void 0===o?.7:o,top:void 0===e?.75:e}}}),t}},addPageSetup=function(l){return function(t){return l&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:getPageOrientation(l.orientation),paperSize:getPageSize(l.pageSize)}}}),t}},replaceHeaderFooterTokens=function(l){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,n){l=l.replace(e,n)}),l},getHeaderPosition=function(l){return"Center"===l?"C":"Right"===l?"R":"L"},applyHeaderFontStyle=function(l,t){return t&&(l+="&amp;&quot;",l+=t.fontName||"Calibri",l+=t.bold!==t.italic?t.bold?",Bold":",Italic":t.bold?",Bold Italic":",Regular",l+="&quot;",t.size&&(l+="&amp;"+t.size),t.strikeThrough&&(l+="&amp;S"),t.underline&&(l+="&amp;"+("Double"===t.underline?"E":"U")),t.color&&(l+="&amp;K"+t.color.replace("#","").toUpperCase())),l},processHeaderFooterContent=function(l){return l.reduce(function(t,e){var n=getHeaderPosition(e.position);return""+applyHeaderFontStyle(t+"&amp;"+n,e.font)+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(replaceHeaderFooterTokens(e.value))},"")},buildHeaderFooter=function(l){var e=[];return["all","first","even"].forEach(function(n){var o=l[n],s="all"===n?"odd":n;!o||!o.header&&!o.footer||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(o,function(d,v){var C=""+d.charAt(0).toUpperCase()+d.slice(1);v&&e.push({name:""+s+C,properties:{rawMap:{"xml:space":"preserve"}},textNode:processHeaderFooterContent(v)})})}),e},addHeaderFooter=function(l){return function(t){return l?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=l.first?1:0,differentOddEven:null!=l.even?1:0}},children:buildHeaderFooter(l)}),t):t}},addDrawingRel=function(l){return function(t){return ExcelXlsxFactory.worksheetImages.get(l)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}},addSheetPr=function(){return function(l){return l.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),l}},addSheetFormatPr=function(l){return function(t){var e=l.reduce(function(n,o){return o.outlineLevel&&o.outlineLevel>n?o.outlineLevel:n},0);return t.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:e||void 0}}}),t}},worksheetFactory={getTemplate:function(l){var e=l.currentSheet,n=l.margins,o=void 0===n?{}:n,s=l.pageSetup,d=l.headerFooterConfig,v=l.worksheet.table,C=v.rows,m=v.columns,w=m&&m.length?getMergedCellsAndAddColumnGroups(C,m):[];return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(addSheetPr(),addSheetFormatPr(C),addColumns(m),addSheetData(C,e+1),addMergeCells(w),addPageMargins(o),addPageSetup(s),addHeaderFooter(d),addDrawingRel(e))([])}}},relationshipFactory={getTemplate:function(l){return{name:"Relationship",properties:{rawMap:{Id:l.Id,Type:l.Type,Target:l.Target}}}}},relationshipsFactory={getTemplate:function(l){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:l.map(function(e){return relationshipFactory.getTemplate(e)})}}},__read$X=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$x=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$X(arguments[t]));return l},ExcelXlsxFactory=function(){function l(){}return l.createExcel=function(t,e,n,o,s){return this.addSheetName(e),registerStyles(t,this.sheetNames.length),this.createWorksheet(e,n,o,s)},l.buildImageMap=function(t,e,n,o,s){var d=this.sheetNames.length,v=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:o.indexOf(n)+1}));var C=t;if(setExcelImageTotalWidth(C,o),setExcelImageTotalHeight(C,s),v){var m=v.find(function(w){return w.sheetId===d});m?m.image.push(C):v.push({sheetId:d,image:[C]})}else this.images.set(C.id,[{sheetId:d,image:[C]}]),this.workbookImageIds.set(C.id,{type:C.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(d,C)},l.buildSheetImageMap=function(t,e){var n=this.worksheetImageIds.get(t);n||this.worksheetImageIds.set(t,n=new Map);var o=this.worksheetImages.get(t);o?(o.push(e),n.get(e.id)||n.set(e.id,{index:n.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),n.set(e.id,{index:0,type:e.imageType}))},l.addSheetName=function(t){for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.name)||"",n="";-1!==this.sheetNames.indexOf(""+e+n);)if(""===n)n="_1";else{var o=parseInt(n.slice(1),10);n="_"+(o+1)}t.name=""+e+n,this.sheetNames.push(t.name)},l.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},l.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET},l.createWorkbook=function(){return createXmlPart(workbookFactory.getTemplate(this.sheetNames))},l.createStylesheet=function(t){return createXmlPart(stylesheetFactory.getTemplate(t))},l.createSharedStrings=function(){return createXmlPart(sharedStrings.getTemplate(this.sharedStrings))},l.createCore=function(t){return createXmlPart(coreFactory.getTemplate(t))},l.createContentTypes=function(t){return createXmlPart(contentTypesFactory.getTemplate(t))},l.createRels=function(){var t=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return createXmlPart(t)},l.createTheme=function(){return createXmlPart(officeTheme.getTemplate())},l.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(o,s){return{Id:"rId"+(s+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(s+1)+".xml"}}),n=relationshipsFactory.getTemplate(__spread$x(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return createXmlPart(n)},l.createDrawing=function(t){return createXmlPart(drawingFactory.getTemplate({sheetIndex:t}))},l.createDrawingRel=function(t){var e=this,n=this.worksheetImageIds.get(t),o=[];return n.forEach(function(s,d){o.push({Id:"rId"+(s.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(d).index+1)+"."+s.type})}),createXmlPart(relationshipsFactory.getTemplate(o))},l.createWorksheetDrawingRel=function(t){var e=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return createXmlPart(e)},l.createWorksheet=function(t,e,n,o){return createXmlPart(worksheetFactory.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:n,headerFooterConfig:o}))},l.sharedStrings=new Map,l.sheetNames=[],l.images=new Map,l.worksheetImages=new Map,l.workbookImageIds=new Map,l.worksheetImageIds=new Map,l.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,l}(),__extends$2L=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ExcelXlsxSerializingSession=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2L(t,l),t.prototype.createExcel=function(e){var s=this.config;return ExcelXlsxFactory.createExcel(this.excelStyles,e,s.margins,s.pageSetup,s.headerFooterConfig)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":this.isNumerical(e)?"n":"s"},t.prototype.getType=function(e,n,o){if(this.isFormula(o))return"f";if(n&&n.dataType)switch(n.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+n.id+".dataType="+n.dataType+"]")}return e},t.prototype.addImage=function(e,n,o){if(this.config.addImageToCell){var s=this.config.addImageToCell(e,n,o);if(s)return ExcelXlsxFactory.buildImageMap(s.image,e,n,this.columnsToExport,this.config.rowHeight),s}},t.prototype.createCell=function(e,n,o){var s=this.getStyleById(e),d=this.getType(n,s,o)||n;return{styleId:s?e:void 0,data:{type:d,value:this.getCellValue(d,o)}}},t.prototype.createMergedCell=function(e,n,o,s){var d=o??"";return{styleId:this.getStyleById(e)?e:void 0,data:{type:n,value:"s"===n?ExcelXlsxFactory.getStringPosition(d).toString():o},mergeAcross:s}},t.prototype.getCellValue=function(e,n){if(null==n)return ExcelXlsxFactory.getStringPosition("").toString();switch(e){case"s":return""===n?"":ExcelXlsxFactory.getStringPosition(n).toString();case"f":return n.slice(1);case"n":return Number(n).toString();default:return n}},t}(BaseExcelSerializingSession),__extends$2K=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$H=function(){return __assign$H=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$H.apply(this,arguments)},__decorate$1V=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},getMultipleSheetsAsExcel=function(l){var t=l.data,e=l.fontSize,n=void 0===e?11:e,o=l.author,s=void 0===o?"AG Grid":o,d=ExcelXlsxFactory.images.size>0;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),d){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var v=0;ExcelXlsxFactory.images.forEach(function(D){var b=D[0].image[0];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/media/image"+ ++v+"."+b.imageType,b.base64,!0)})}if(!t||0===t.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void ExcelXlsxFactory.resetFactory();var C=t.length,m=0;return t.forEach(function(D,b){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/worksheets/sheet"+(b+1)+".xml",D),d&&ExcelXlsxFactory.worksheetImages.get(b)&&createImageRelationsForSheet(b,m++)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/workbook.xml",ExcelXlsxFactory.createWorkbook()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/styles.xml",ExcelXlsxFactory.createStylesheet(n)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/sharedStrings.xml",ExcelXlsxFactory.createSharedStrings()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/theme/theme1.xml",ExcelXlsxFactory.createTheme()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/_rels/workbook.xml.rels",ExcelXlsxFactory.createWorkbookRels(C)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("docProps/core.xml",ExcelXlsxFactory.createCore(s)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("[Content_Types].xml",ExcelXlsxFactory.createContentTypes(C)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("_rels/.rels",ExcelXlsxFactory.createRels()),ExcelXlsxFactory.resetFactory(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.getContent(l.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},exportMultipleSheetsAsExcel=function(l){var t=l.fileName,e=void 0===t?"export.xlsx":t,n=getMultipleSheetsAsExcel(l);n&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(e,n)},createImageRelationsForSheet=function(l,t){var e="xl/drawings",n=e+"/drawing"+(t+1)+".xml",s="xl/worksheets/_rels/sheet"+(l+1)+".xml.rels";ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(e+"/_rels/drawing"+(t+1)+".xml.rels",ExcelXlsxFactory.createDrawingRel(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(n,ExcelXlsxFactory.createDrawing(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(s,ExcelXlsxFactory.createWorksheetDrawingRel(t))},ExcelCreator=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.exportMode="xlsx",e}return __extends$2K(t,l),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var n=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({},n,e)},t.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),l.prototype.getData.call(this,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(e),o=this.getData(n),d=this.packageFile({data:[o],fontSize:n.fontSize,author:n.author,mimeType:n.mimeType});return d&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(this.getFileName(n.fileName),d),o},t.prototype.exportDataAsExcel=function(e){return this.export(e)},t.prototype.getDataAsExcel=function(e){var n=this.getMergedParams(e),o=this.getData(n);return e&&"xml"===e.exportMode?o:this.packageFile({data:[o],fontSize:n.fontSize,author:n.author,mimeType:n.mimeType})},t.prototype.setFactoryMode=function(e,n){void 0===n&&(n="xlsx"),("xlsx"===n?ExcelXlsxFactory:ExcelXmlFactory).factoryMode=e},t.prototype.getFactoryMode=function(e){return("xlsx"===e?ExcelXlsxFactory:ExcelXmlFactory).factoryMode},t.prototype.getSheetDataForExcel=function(e){var n=this.getMergedParams(e);return this.getData(n)},t.prototype.getMultipleSheetsAsExcel=function(e){return getMultipleSheetsAsExcel(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return exportMultipleSheetsAsExcel(e)},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var n=this,o=n.columnModel,s=n.valueService,d=n.gridOptionsService,v="xlsx"===this.getExportMode(),C="ag-grid";null!=e.sheetName&&(C=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(e.sheetName.toString().substr(0,31)));var m=__assign$H(__assign$H({},e),{sheetName:C,columnModel:o,valueService:s,gridOptionsService:d,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptionsService.get("excelStyles")||[],styleLinker:this.styleLinker.bind(this)});return new(v?ExcelXlsxSerializingSession:ExcelXmlSerializingSession)(m)},t.prototype.styleLinker=function(e){var n=e.rowType,o=e.rowIndex,s=e.value,d=e.column,v=e.columnGroup,C=e.node,m=n===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,w=n===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,D=m?d:v,b=[];if(m||w)return b.push("header"),w&&b.push("headerGroup"),D&&(b=b.concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getHeaderClassesFromColDef(D.getDefinition(),this.gridOptionsService,d||null,v||null))),b;var T=this.gridOptionsService.get("excelStyles"),A=["cell"];if(!T||!T.length)return A;var I=T.map(function(N){return N.id});return this.stylingService.processAllCellClasses(d.getDefinition(),{value:s,data:C.data,node:C,colDef:d.getDefinition(),column:d,rowIndex:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},function(N){I.indexOf(N)>-1&&A.push(N)}),A.sort(function(N,G){return I.indexOf(N)<I.indexOf(G)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressExcelExport")},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:e.mimeType||"application/vnd.ms-excel"}):getMultipleSheetsAsExcel(e)},__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("stylingService")],t.prototype,"stylingService",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridSerializer")],t.prototype,"gridSerializer",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],t.prototype,"gridOptionsService",void 0),__decorate$1V([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("excelCreator")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.z0n),VERSION$d="29.1.0",ExcelExportModule={version:VERSION$d,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule,beans:[ExcelCreator,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.YaM,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IFn],dependantModules:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC,EnterpriseCoreModule]},__extends$2J=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1U=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},EXPAND_STATE=(()=>(function(l){l[l.EXPANDED=0]="EXPANDED",l[l.COLLAPSED=1]="COLLAPSED",l[l.INDETERMINATE=2]="INDETERMINATE"}(EXPAND_STATE||(EXPAND_STATE={})),EXPAND_STATE))(),FiltersToolPanelHeaderPanel=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2J(t,l),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.localeService.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(EXPAND_STATE.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,n=!this.params.suppressExpandAll,o=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(o("searchOoo","Search..."));var d=this.columnModel.getAllGridColumns().some(function(v){return v.getOriginalParent()&&v.isFilterAllowed()});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,n&&d)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===EXPAND_STATE.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.currentExpandState===EXPAND_STATE.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===EXPAND_STATE.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===EXPAND_STATE.INDETERMINATE)},__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],t.prototype,"eExpand",void 0),__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),__decorate$1U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],t.prototype,"preConstruct",null),__decorate$1U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2I=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1T=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelFilterComp=function(l){function t(e){void 0===e&&(e=!1);var n=l.call(this,t.TEMPLATE)||this;return n.expanded=!1,n.hideHeader=e,n}return __extends$2I(t,l),t.prototype.postConstruct=function(){this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService),this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var n=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(o){o.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&n.toggleExpanded()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),this.hideHeader?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterToolPanelHeader,!1),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,n,o){if(null!=n){var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(e,this.gridOptionsService,o);n.appendChild(s)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(e){var o,n=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.expanded&&"filterDestroyed"===e.source&&!(null===(o=e.columns)||void 0===o)&&o.some(function(s){return s.getId()===n.column.getId()})&&this.columnModel.getPrimaryColumn(this.column)&&(this.removeFilterElement(),this.addFilterElement()),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){this.expanded||(this.expanded=!0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!1),this.addFilterElement())},t.prototype.addFilterElement=function(){var e=this,n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),o=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR");if(o){var d=o.guiPromise;o.filterPromise?.then(function(v){e.underlyingFilter=v,v&&d.then(function(C){C&&n.appendChild(C),e.agFilterToolPanelBody.appendChild(n),v.afterGuiAttached&&v.afterGuiAttached({container:"toolPanel"})})})}},t.prototype.collapse=function(){var e,n;this.expanded&&(this.expanded=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!0),null===(n=null===(e=this.underlyingFilter)||void 0===e?void 0:e.afterGuiDetached)||void 0===n||n.call(e))},t.prototype.removeFilterElement=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.agFilterToolPanelBody)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.refreshFilter=function(e){var n;if(this.expanded){var o=this.underlyingFilter;o&&(e?"function"==typeof o.refreshVirtualList&&o.refreshVirtualList():null===(n=o.afterGuiDetached)||void 0===n||n.call(o))}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterName")],t.prototype,"eFilterName",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterIcon")],t.prototype,"eFilterIcon",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],t.prototype,"eExpand",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1T([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2H=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1S=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ToolPanelFilterGroupComp=function(l){function t(e,n,o,s,d){var v=l.call(this)||this;return v.columnGroup=e,v.childFilterComps=n,v.depth=s,v.expandedCallback=o,v.showingColumn=d,v}return __extends$2H(t,l),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(n){e.filterGroupComp.addItem(n),n.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var n=function(){var o=e.columnGroup.getColDef().headerTooltip;e.setTooltip(o)};n(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,n)}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(e){this.childFilterComps.forEach(function(n){n instanceof t?n.refreshFilters(e):n.refreshFilter(e)})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,n){this.filterGroupComp.hideItem(e,n)},t.prototype.hideGroup=function(e){this.setDisplayed(!e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(n){n instanceof ToolPanelFilterComp&&e(n)})},t.prototype.addExpandCollapseListeners=function(){var e=this,n=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.expand()})},o=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.collapse()})};this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,n),this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_COLLAPSED,o)},t.prototype.getColumns=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(n){e.addManagedListener(n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some(function(o){return o.isFilterActive()}))},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',__decorate$1S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filterGroupComp")],t.prototype,"filterGroupComp",void 0),__decorate$1S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$1S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],t.prototype,"preConstruct",null),__decorate$1S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2G=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1R=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FiltersToolPanelListPanel=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.filterGroupComps=[],e}return __extends$2G(t,l),t.prototype.init=function(e){var n=this;this.initialised=!0;var o={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(o,e),this.params=o,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,function(){return n.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return n.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,function(s){"filters"===s.key&&n.refreshFilters(s.visible)}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this.columnModel.getPrimaryColumnTree();this.recreateFilters(e)},t.prototype.setFiltersLayout=function(e){var n=this.toolPanelColDefService.createColumnTree(e);this.recreateFilters(n)},t.prototype.recreateFilters=function(e){var n=this,o=this.gridOptionsService.getDocument().activeElement,s=this.getExpansionState();this.destroyFilters(),this.filterGroupComps=this.recursivelyAddComps(e,0,s);var d=this.filterGroupComps.length;d&&(this.filterGroupComps.forEach(function(v){return n.appendChild(v)}),this.setFirstAndLastVisible(0,d-1)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent(),this.getGui().contains(o)&&o.focus()},t.prototype.recursivelyAddComps=function(e,n,o){var s=this;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(e.map(function(d){if(d instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(s.recursivelyAddFilterGroupComps(d,n,o));var v=d;if(!s.shouldDisplayFilter(v))return[];var m=new ToolPanelFilterComp(0===n);if(s.createBean(m),m.setColumn(v),o.get(v.getId())&&m.expand(),n>0)return m;var w=s.createBean(new ToolPanelFilterGroupComp(v,[m],s.onGroupExpanded.bind(s),n,!0));return w.addCssClassToTitleBar("ag-filter-toolpanel-header"),o.get(w.getFilterGroupId())||w.collapse(),w}))},t.prototype.recursivelyAddFilterGroupComps=function(e,n,o){if(this.filtersExistInChildren(e.getChildren())){var s=e.getColGroupDef();if(s&&s.suppressFiltersToolPanel)return[];var d=e.isPadding()?n:n+1,v=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(this.recursivelyAddComps(e.getChildren(),d,o));if(e.isPadding())return v;var C=new ToolPanelFilterGroupComp(e,v,this.onGroupExpanded.bind(this),n,!1);return this.createBean(C),C.addCssClassToTitleBar("ag-filter-toolpanel-header"),!1===o.get(C.getFilterGroupId())&&C.collapse(),[C]}},t.prototype.filtersExistInChildren=function(e){var n=this;return e.some(function(o){return o instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?n.filtersExistInChildren(o.getChildren()):n.shouldDisplayFilter(o)})},t.prototype.shouldDisplayFilter=function(e){var n=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!n},t.prototype.getExpansionState=function(){var e=new Map,n=function(o){e.set(o.getFilterGroupId(),o.isExpanded()),o.getChildren().forEach(function(s){s instanceof ToolPanelFilterGroupComp?n(s):e.set(s.getColumn().getId(),s.isExpanded())})};return this.filterGroupComps.forEach(n),e},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,n){var o=[],s=function(v){var C=v.getFilterGroupId();(!n||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,C))&&(e&&v.isColumnGroup()?v.expand():v.collapse(),o.push(C)),v.getChildren().forEach(function(w){w instanceof ToolPanelFilterGroupComp&&s(w)})};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),n){var d=n.filter(function(v){return o.indexOf(v)<0});d.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",d)}},t.prototype.expandFilters=function(e,n){var o=[],s=function(v){if(v instanceof ToolPanelFilterGroupComp){var C=!1;return v.getChildren().forEach(function(D){s(D)&&(e?(v.expand(),C=!0):v.isColumnGroup()||v.collapse())}),C}var m=v.getColumn().getColId(),w=!n||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,m);return w&&(e?v.expand():v.collapse(),o.push(m)),w};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),n){var d=n.filter(function(v){return o.indexOf(v)<0});d.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",d)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e=0,n=0,o=function(d){d.isColumnGroup()&&(d.isExpanded()?e++:n++,d.getChildren().forEach(function(v){v instanceof ToolPanelFilterGroupComp&&o(v)}))};this.filterGroupComps.forEach(o),this.dispatchEvent({type:"groupExpanded",state:e>0&&n>0?EXPAND_STATE.INDETERMINATE:n>0?EXPAND_STATE.COLLAPSED:EXPAND_STATE.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var s,d,n=function(v){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)||-1!==v.toLowerCase().indexOf(e)},o=function(v,C){if(!(v instanceof ToolPanelFilterGroupComp))return n(v.getColumnFilterName()||"");var m=v.getChildren(),w=n(v.getFilterGroupName()),D=C||w;if(D){v.hideGroup(!1);for(var b=0;b<m.length;b++)o(m[b],D),v.hideGroupItem(!1,b);return!0}var T=!1;return m.forEach(function(A,I){var N=o(A,C);v.hideGroupItem(!N,I),N&&(T=!0)}),v.hideGroup(!T),T};this.filterGroupComps.forEach(function(v,C){o(v,!1),void 0===s?v.containsCssClass("ag-hidden")||(s=C,d=C):!v.containsCssClass("ag-hidden")&&d!==C&&(d=C)}),this.setFirstAndLastVisible(s,d)},t.prototype.setFirstAndLastVisible=function(e,n){this.filterGroupComps.forEach(function(o,s){o.removeCssClass("ag-first-group-visible"),o.removeCssClass("ag-last-group-visible"),s===e&&o.addCssClass("ag-first-group-visible"),s===n&&o.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(e){this.filterGroupComps.forEach(function(n){return n.refreshFilters(e)})},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',__decorate$1R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$1R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$1R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),__decorate$1R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2F=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$G=function(){return __assign$G=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$G.apply(this,arguments)},__decorate$1Q=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FiltersToolPanel=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return __extends$2F(t,l),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(d){return d()}),this.listenerDestroyFuncs=[]),this.initialised=!0,this.params=__assign$G(__assign$G(__assign$G({},{suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi}),e),{context:this.gridOptionsService.context}),this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$c="29.1.0",FiltersToolPanelModule={version:VERSION$c,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:FiltersToolPanelHeaderPanel},{componentName:"AgFiltersToolPanelList",componentClass:FiltersToolPanelListPanel}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:FiltersToolPanel}],dependantModules:[SideBarModule,EnterpriseCoreModule]},__extends$2E=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),TimeInterval=function(){function l(t,e,n){this._encode=t,this._decode=e,this._rangeCallback=n}return l.prototype.floor=function(t){var e=new Date(t),n=this._encode(e);return this._decode(n)},l.prototype.ceil=function(t){var e=new Date(Number(t)-1),n=this._encode(e);return this._decode(n+1)},l.prototype.range=function(t,e,n){var o,s=null===(o=this._rangeCallback)||void 0===o?void 0:o.call(this,t,e),d=this._encode(n?this.floor(t):this.ceil(t)),v=this._encode(n?this.ceil(e):this.floor(e));if(v<d)return[];for(var C=[],m=d;m<=v;m++){var w=this._decode(m);C.push(w)}return s?.(),C},l}(),CountableTimeInterval=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2E(t,l),t.prototype.getOffset=function(e,n){var o="number"==typeof e||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(o)%n},t.prototype.every=function(e,n){var d,o=this,s=0,v=(n??{}).snapTo,C=void 0===v?"start":v;if("string"==typeof C){var m=s;d=function(T,A){return s=o.getOffset("start"===C?T:A,e),function(){return s=m}}}else"number"==typeof C?s=this.getOffset(new Date(C),e):C instanceof Date&&(s=this.getOffset(C,e));return new TimeInterval(function(T){var A=o._encode(T);return Math.floor((A-s)/e)},function(T){return o._decode(T*e+s)},d)},t}(TimeInterval);function encode$b(l){return l.getTime()}function decode$b(l){return new Date(l)}var millisecond=new CountableTimeInterval(encode$b,decode$b);new Date(0).getFullYear();var durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay,offset$2=(new Date).getTimezoneOffset()*durationMinute;function encode$a(l){return Math.floor((l.getTime()-offset$2)/durationSecond)}function decode$a(l){return new Date(offset$2+l*durationSecond)}var second=new CountableTimeInterval(encode$a,decode$a),offset$1=(new Date).getTimezoneOffset()*durationMinute;function encode$9(l){return Math.floor((l.getTime()-offset$1)/durationMinute)}function decode$9(l){return new Date(offset$1+l*durationMinute)}var minute=new CountableTimeInterval(encode$9,decode$9),offset=(new Date).getTimezoneOffset()*durationMinute;function encode$8(l){return Math.floor((l.getTime()-offset)/durationHour)}function decode$8(l){return new Date(offset+l*durationHour)}var hour=new CountableTimeInterval(encode$8,decode$8);function encode$7(l){var t=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate());return Math.floor(t/durationDay)}function decode$7(l){var t=new Date(0);return t.setDate(t.getDate()+l),t.setHours(0,0,0,0),t}var day=new CountableTimeInterval(encode$7,decode$7),baseSunday=new Date(2023,0,1);function weekday(l){var t=Date.UTC(baseSunday.getFullYear(),baseSunday.getMonth(),baseSunday.getDate())+l*durationDay;return new CountableTimeInterval(function e(o){var s=Date.UTC(o.getFullYear(),o.getMonth(),o.getDate());return Math.floor((s-t)/durationWeek)},function n(o){var s=new Date(t);return s.setDate(s.getDate()+7*o),s})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6);function encode$6(l){return 12*l.getFullYear()+l.getMonth()}function decode$6(l){var t=Math.floor(l/12);return new Date(t,l-12*t,1)}var month=new CountableTimeInterval(encode$6,decode$6);function encode$5(l){return l.getFullYear()}function decode$5(l){var t=new Date;return t.setFullYear(l),t.setMonth(0,1),t.setHours(0,0,0,0),t}var year=new CountableTimeInterval(encode$5,decode$5);function encode$4(l){return Math.floor(l.getTime()/durationMinute)}function decode$4(l){return new Date(l*durationMinute)}var utcMinute=new CountableTimeInterval(encode$4,decode$4);function encode$3(l){return Math.floor(l.getTime()/durationHour)}function decode$3(l){return new Date(l*durationHour)}var utcHour=new CountableTimeInterval(encode$3,decode$3);function encode$2(l){return Math.floor(l.getTime()/durationDay)}function decode$2(l){var t=new Date(0);return t.setUTCDate(t.getUTCDate()+l),t.setUTCHours(0,0,0,0),t}var utcDay=new CountableTimeInterval(encode$2,decode$2);function encode$1(l){return 12*l.getUTCFullYear()+l.getUTCMonth()}function decode$1(l){var t=Math.floor(l/12);return new Date(Date.UTC(t,l-12*t,1))}var utcMonth=new CountableTimeInterval(encode$1,decode$1);function encode(l){return l.getUTCFullYear()}function decode(l){var t=new Date;return t.setUTCFullYear(l),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var utcYear=new CountableTimeInterval(encode,decode),time=Object.freeze({__proto__:null,millisecond,second,minute,hour,day,sunday,monday,tuesday,wednesday,thursday,friday,saturday,month,year,utcMinute,utcHour,utcDay,utcMonth,utcYear}),MOBILE=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];function isDesktop(){var l=navigator.userAgent;return!MOBILE.some(function(t){return t.test(l)})}var HdpiCanvas=function(){function l(t){var e=t.document,n=void 0===e?window.document:e,o=t.width,s=void 0===o?600:o,d=t.height,v=void 0===d?300:d,C=t.domLayer,m=void 0!==C&&C,w=t.zIndex,D=void 0===w?0:w,b=t.name,T=void 0===b?void 0:b,A=t.overrideDevicePixelRatio,I=void 0===A?void 0:A;this._container=void 0,this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=n,this.element=n.createElement("canvas"),this.element.width=s,this.element.height=v,this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var N=this.element.style;N.userSelect="none",N.display="block",m&&(N.position="absolute",N.zIndex=String(D),N.top="0",N.left="0",N.pointerEvents="none",N.opacity="1",T&&(this.element.id=T)),this.setPixelRatio(I),this.resize(s,v)}return Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.element.style.display=t?"block":"none",this._enabled=!!t},enumerable:!1,configurable:!0}),l.prototype.remove=function(){this.element.parentNode?.removeChild(this.element)},l.prototype.destroy=function(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)},l.prototype.snapshot=function(){},l.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},l.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},l.prototype.getDataURL=function(t){return this.element.toDataURL(t)},l.prototype.download=function(t,e){void 0===e&&(e="image/png"),t=(t||"").trim()||"image";var n=this.getDataURL(e),o=this.document,s=o.createElement("a");s.href=n,s.download=t,s.style.display="none",o.body.appendChild(s),s.click(),o.body.removeChild(s)},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),l.prototype.setPixelRatio=function(t){var e=t??window.devicePixelRatio;isDesktop()||(e=1),e!==this.pixelRatio&&(l.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),l.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,o=n.element,s=n.context,d=n.pixelRatio;o.width=Math.round(t*d),o.height=Math.round(e*d),o.style.width=t+"px",o.style.height=e+"px",s.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(l,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext},enumerable:!1,configurable:!0}),Object.defineProperty(l,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!1,configurable:!0}),Object.defineProperty(l,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!1,configurable:!0}),l.measureText=function(t,e,n,o){var s=this.textMeasuringContext;return s.font=e,s.textBaseline=n,s.textAlign=o,s.measureText(t)},l.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var o=n.measureText(t);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},l.measureSvgText=function(t,e){var n=this.textSizeCache,o=n[e];if(o){var s=o[t];if(s)return s}else n[e]={};var d=this.svgText;d.style.font=e,d.textContent=t;var v=d.getBBox(),C={width:v.width,height:v.height};return n[e][t]=C,C},l.overrideScale=function(t,e){var n=0,o={save:function(){this.$save(),n++},restore:function(){if(!(n>0))throw new Error("Unable to restore() past depth 0");this.$restore(),n--},setTransform:function(d,v,C,m,w,D){"object"==typeof d?this.$setTransform(d):this.$setTransform(d*e,v*e,C*e,m*e,w*e,D*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)}};for(var s in o)o.hasOwnProperty(s)&&(t["$"+s]||(t["$"+s]=t[s]),t[s]=o[s])},l.textSizeCache={},l}(),BBox=function(){function l(t,e,n,o){this.x=t,this.y=e,this.width=n,this.height=o}return l.prototype.clone=function(){var t=this;return new l(t.x,t.y,t.width,t.height)},l.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},l.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},l.prototype.isInfinite=function(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0},l.prototype.shrink=function(t,e){switch(e){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=2*t;break;case"horizontal":this.x+=t,this.width-=2*t;break;default:this.x+=t,this.width-=2*t,this.y+=t,this.height-=2*t}},l.prototype.grow=function(t,e){this.shrink(-t,e)},l.merge=function(t){var e=1/0,n=1/0,o=-1/0,s=-1/0;return t.forEach(function(d){d.x<e&&(e=d.x),d.y<n&&(n=d.y),d.x+d.width>o&&(o=d.x+d.width),d.y+d.height>s&&(s=d.y+d.height)}),new l(e,n,o-e,s-n)},l}(),__read$W=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},Matrix=function(){function l(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return l.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},Object.defineProperty(l.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!1,configurable:!0}),l.prototype.AxB=function(t,e,n){var s=t[1]*e[0]+t[3]*e[1],d=t[0]*e[2]+t[2]*e[3],v=t[1]*e[2]+t[3]*e[3],C=t[0]*e[4]+t[2]*e[5]+t[4],m=t[1]*e[4]+t[3]*e[5]+t[5];(n=n||t)[0]=t[0]*e[0]+t[2]*e[1],n[1]=s,n[2]=d,n[3]=v,n[4]=C,n[5]=m},l.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},l.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new l(e)},l.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},l.prototype.inverse=function(){var t=__read$W(this.elements,6),e=t[0],n=t[1],o=t[2],s=t[3],d=t[4],v=t[5],C=1/(e*s-n*o);return new l([s*=C,-(n*=C),-(o*=C),e*=C,o*v-s*d,n*d-e*v])},l.prototype.inverseTo=function(t){var e=__read$W(this.elements,6),n=e[0],o=e[1],s=e[2],d=e[3],v=e[4],C=e[5],m=1/(n*d-o*s);return t.setElements([d*=m,-(o*=m),-(s*=m),n*=m,s*C-d*v,o*v-n*C]),this},l.prototype.invertSelf=function(){var t=this.elements,e=t[0],n=t[1],o=t[2],s=t[3],d=t[4],v=t[5],C=1/(e*s-n*o);return e*=C,n*=C,o*=C,t[0]=s*=C,t[1]=-n,t[2]=-o,t[3]=e,t[4]=o*v-s*d,t[5]=n*d-e*v,this},l.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},l.prototype.transformBBox=function(t,e){var n=this.elements,o=n[0],s=n[1],d=n[2],v=n[3],C=.5*t.width,m=.5*t.height,w=t.x+C,D=t.y+m,b=Math.abs(C*o)+Math.abs(m*d),T=Math.abs(C*s)+Math.abs(m*v);return e||(e=new BBox(0,0,0,0)),e.x=w*o+D*d+n[4]-b,e.y=w*s+D*v+n[5]-T,e.width=b+b,e.height=T+T,e},l.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},l.flyweight=function(t){return l.instance.setElements(t.elements)},l.updateTransformMatrix=function(t,e,n,o,s,d,v){var T,A,C=__read$W([0,0],2),m=C[0],w=C[1],D=e,b=n;1===D&&1===b?(T=0,A=0):(T=null==v?.scalingCenterX?m:v?.scalingCenterX,A=null==v?.scalingCenterY?w:v?.scalingCenterY);var V,W,I=o,N=Math.cos(I),G=Math.sin(I);0===I?(V=0,W=0):(V=null==v?.rotationCenterX?m:v?.rotationCenterX,W=null==v?.rotationCenterY?w:v?.rotationCenterY);var Y=T*(1-D)-V,re=A*(1-b)-W;return t.setElements([N*D,G*D,-G*b,N*b,N*Y-G*re+V+s,G*Y+N*re+W+d]),t},l.instance=new l,l}(),ID_MAP={};function createId$1(l){var t,e=l.constructor,n=e.hasOwnProperty("className")?e.className:e.name;if(!n)throw new Error("The "+e+" is missing the 'className' property.");var o=(null!==(t=ID_MAP[n])&&void 0!==t?t:0)+1;return ID_MAP[n]=o,n+"-"+o}function windowValue(l){return(typeof window<"u"?window:void 0)?.[l]}var RedrawType=(()=>(function(l){l[l.NONE=0]="NONE",l[l.TRIVIAL=1]="TRIVIAL",l[l.MINOR=2]="MINOR",l[l.MAJOR=3]="MAJOR"}(RedrawType||(RedrawType={})),RedrawType))();function evalAvailable(){try{return eval(""),!0}catch(l){return!1}}var EVAL_USEABLE=evalAvailable();function SceneChangeDetection(opts){var _a=opts||{},_b=_a.redraw,redraw=void 0===_b?RedrawType.TRIVIAL:_b,_c=_a.type,type=void 0===_c?"normal":_c,changeCb=_a.changeCb,convertor=_a.convertor,_d=_a.checkDirtyOnAssignment,checkDirtyOnAssignment=void 0!==_d&&_d,debug=null!=windowValue("agChartsSceneChangeDetectionDebug");return function(target,key){var privateKey="__"+key;if(!target[key])if(EVAL_USEABLE){var setterJs="\n                "+(debug?"var setCount = 0;":"")+"\n                function set_"+key+"(value) {\n                    const oldValue = this."+privateKey+";\n                    "+(convertor?"value = convertor(value);":"")+"\n                    if (value !== oldValue) {\n                        this."+privateKey+" = value;\n                        "+(debug?"console.log({ t: this, property: '"+key+"', oldValue, value, stack: new Error().stack });":"")+"\n                        "+("normal"===type?"this.markDirty(this, "+redraw+");":"")+"\n                        "+("transform"===type?"this.markDirtyTransform("+redraw+");":"")+"\n                        "+("path"===type?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+("font"===type?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+(changeCb?"changeCb(this);":"")+"\n                    }\n                    "+(checkDirtyOnAssignment?"if (value != null && value._dirty > "+RedrawType.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n                };\n                set_"+key+";\n            ",getterJs="\n                function get_"+key+"() {\n                    return this."+privateKey+";\n                };\n                get_"+key+";\n            ";Object.defineProperty(target,key,{set:eval(setterJs),get:eval(getterJs),enumerable:!0,configurable:!0})}else{var setter=function(l){var t=this[privateKey];(l=convertor?convertor(l):l)!==t&&(this[privateKey]=l,"normal"===type&&this.markDirty(this,redraw),"transform"===type&&this.markDirtyTransform(redraw),"path"===type&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,redraw)),"font"===type&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,redraw)),changeCb&&changeCb(this)),checkDirtyOnAssignment&&null!=l&&l._dirty>RedrawType.NONE&&this.markDirty(l,l._dirty)},getter=function(){return this[privateKey]};Object.defineProperty(target,key,{set:setter,get:getter,enumerable:!0,configurable:!0})}}}var ChangeDetectable=function(){function l(){this._dirty=RedrawType.MAJOR}return l.prototype.markDirty=function(t,e){void 0===e&&(e=RedrawType.TRIVIAL),!(this._dirty>e)&&(this._dirty=e)},l.prototype.markClean=function(t){this._dirty=RedrawType.NONE},l.prototype.isDirty=function(){return this._dirty>RedrawType.NONE},l}(),__extends$2D=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1P=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$A=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$V=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$w=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$V(arguments[t]));return l},PointerEvents=(()=>(function(l){l[l.All=0]="All",l[l.None=1]="None"}(PointerEvents||(PointerEvents={})),PointerEvents))(),zIndexChangedCallback=function(l){l.parent&&(l.parent.dirtyZIndex=!0),l.zIndexChanged()},Node=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.serialNumber=t._nextSerialNumber++,e.id=createId$1(e),e.tag=NaN,e.isContainerNode=!1,e._children=[],e.childSet={},e.matrix=new Matrix,e.inverseMatrix=new Matrix,e._dirtyTransform=!1,e.scalingX=1,e.scalingY=1,e.scalingCenterX=null,e.scalingCenterY=null,e.rotationCenterX=null,e.rotationCenterY=null,e.rotation=0,e.translationX=0,e.translationY=0,e.visible=!0,e.dirtyZIndex=!1,e.zIndex=0,e.zIndexSubOrder=void 0,e.pointerEvents=PointerEvents.All,e}return __extends$2D(t,l),t.isNode=function(e){return!!e&&void 0!==e.matrix},t.prototype._setLayerManager=function(e){var n,o;this._layerManager=e,this._debug=e?.debug;try{for(var s=__values$A(this.children),d=s.next();!d.done;d=s.next())d.value._setLayerManager(e)}catch(C){n={error:C}}finally{try{d&&!d.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"layerManager",{get:function(){return this._layerManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),t.prototype.append=function(e){var n,o;t.isNode(e)&&(e=[e]);try{for(var s=__values$A(e),d=s.next();!d.done;d=s.next()){var v=d.value;if(v.parent)throw new Error(v+" already belongs to another parent: "+v.parent+".");if(v.layerManager)throw new Error(v+" already belongs to a scene: "+v.layerManager+".");if(this.childSet[v.id])throw new Error("Duplicate "+v.constructor.name+" node: "+v);this._children.push(v),this.childSet[v.id]=!0,v._parent=this,v._setLayerManager(this.layerManager)}}catch(C){n={error:C}}finally{try{d&&!d.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}this.dirtyZIndex=!0,this.markDirty(this,RedrawType.MAJOR)},t.prototype.appendChild=function(e){return this.append(e),e},t.prototype.removeChild=function(e){if(e.parent===this){var n=this.children.indexOf(e);if(n>=0)return this._children.splice(n,1),delete this.childSet[e.id],e._parent=void 0,e._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(e,RedrawType.MAJOR),e}throw new Error("The node to be removed is not a child of this node.")},t.prototype.insertBefore=function(e,n){var o=e.parent;if(e.parent&&e.parent.removeChild(e),n&&n.parent===this){var s=this.children.indexOf(n);if(!(s>=0))throw new Error(n+" has "+o+" as the parent, but is not in its list of children.");this._children.splice(s,0,e),this.childSet[e.id]=!0,e._parent=this,e._setLayerManager(this.layerManager),this.dirtyZIndex=!0,this.markDirty(e,RedrawType.MAJOR)}else this.append(e);return e},Object.defineProperty(t.prototype,"nextSibling",{get:function(){var e=this.parent;if(e){var n=e.children,o=n.indexOf(this);if(o>=0&&o<=n.length-1)return n[o+1]}},enumerable:!1,configurable:!0}),t.prototype.transformPoint=function(e,n){for(var o=Matrix.flyweight(this.matrix),s=this.parent;s;)o.preMultiplySelf(s.matrix),s=s.parent;return o.invertSelf().transformPoint(e,n)},t.prototype.inverseTransformPoint=function(e,n){for(var o=Matrix.flyweight(this.matrix),s=this.parent;s;)o.preMultiplySelf(s.matrix),s=s.parent;return o.transformPoint(e,n)},t.prototype.markDirtyTransform=function(){this._dirtyTransform=!0,this.markDirty(this,RedrawType.MAJOR)},t.prototype.containsPoint=function(e,n){return!1},t.prototype.pickNode=function(e,n){var o;if(this.visible&&this.pointerEvents!==PointerEvents.None&&this.containsPoint(e,n)){var s=this.children;if(s.length>1e3){for(var d=s.length-1;d>=0;d--)if(v=null!==(o=s[d].computeBBox())&&void 0!==o&&o.containsPoint(e,n)?s[d].pickNode(e,n):void 0)return v}else if(s.length)for(d=s.length-1;d>=0;d--){var v;if(v=s[d].pickNode(e,n))return v}else if(!this.isContainerNode)return this}},t.prototype.findNodes=function(e){var n,o,s=e(this)?[this]:[];try{for(var d=__values$A(this.children),v=d.next();!v.done;v=d.next()){var m=v.value.findNodes(e);m&&s.push.apply(s,__spread$w(m))}}catch(w){n={error:w}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return s},t.prototype.computeBBox=function(){},t.prototype.computeTransformedBBox=function(){var e=this.computeBBox();if(e){this.computeTransformMatrix();for(var n=Matrix.flyweight(this.matrix),o=this.parent;o;)o.computeTransformMatrix(),n.preMultiplySelf(o.matrix),o=o.parent;return n.transformBBox(e,e),e}},t.prototype.computeBBoxCenter=function(){var e=this.computeBBox&&this.computeBBox();return e?[e.x+.5*e.width,e.y+.5*e.height]:[0,0]},t.prototype.computeTransformMatrix=function(){if(this._dirtyTransform){var e=this,n=e.matrix;Matrix.updateTransformMatrix(n,e.scalingX,e.scalingY,e.rotation,e.translationX,e.translationY,{scalingCenterX:e.scalingCenterX,scalingCenterY:e.scalingCenterY,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY}),n.inverseTo(this.inverseMatrix),this._dirtyTransform=!1}},t.prototype.render=function(e){var n=e.stats;this._dirty=RedrawType.NONE,n&&n.nodesRendered++},t.prototype.clearBBox=function(e){var n=this.computeBBox();if(null!=n){var o=n.x,s=n.y,d=n.width,v=n.height,C=this.transformPoint(o,s),m=this.transformPoint(o+d,s+v);e.clearRect(C.x,C.y,m.x-C.x,m.y-C.y)}},t.prototype.markDirty=function(e,n,o){void 0===n&&(n=RedrawType.TRIVIAL),void 0===o&&(o=n),!(this._dirty>n)&&(this._dirty===n&&n===o||(this._dirty=n,this.parent?this.parent.markDirty(this,o):this.layerManager&&this.layerManager.markDirty()))},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),t.prototype.markClean=function(e){var n,o,s=e||{},d=s.force,C=s.recursive,m=void 0===C||C;if((this._dirty!==RedrawType.NONE||void 0!==d&&d)&&(this._dirty=RedrawType.NONE,m))try{for(var w=__values$A(this.children),D=w.next();!D.done;D=w.next())D.value.markClean()}catch(T){n={error:T}}finally{try{D&&!D.done&&(o=w.return)&&o.call(w)}finally{if(n)throw n.error}}},t.prototype.visibilityChanged=function(){},Object.defineProperty(t.prototype,"nodeCount",{get:function(){var e,n,o=1,s=this._dirty>=RedrawType.NONE||this._dirtyTransform?1:0,d=this.visible?1:0;try{for(var v=__values$A(this._children),C=v.next();!C.done;C=v.next()){var w=C.value.nodeCount;o+=w.count,d+=w.visibleCount,s+=w.dirtyCount}}catch(A){e={error:A}}finally{try{C&&!C.done&&(n=v.return)&&n.call(v)}finally{if(e)throw e.error}}return{count:o,visibleCount:d,dirtyCount:s}},enumerable:!1,configurable:!0}),t.prototype.zIndexChanged=function(){},t._nextSerialNumber=0,__decorate$1P([SceneChangeDetection({type:"transform"})],t.prototype,"scalingX",void 0),__decorate$1P([SceneChangeDetection({type:"transform"})],t.prototype,"scalingY",void 0),__decorate$1P([SceneChangeDetection({type:"transform"})],t.prototype,"scalingCenterX",void 0),__decorate$1P([SceneChangeDetection({type:"transform"})],t.prototype,"scalingCenterY",void 0),__decorate$1P([SceneChangeDetection({type:"transform"})],t.prototype,"rotationCenterX",void 0),__decorate$1P([SceneChangeDetection({type:"transform"})],t.prototype,"rotationCenterY",void 0),__decorate$1P([SceneChangeDetection({type:"transform"})],t.prototype,"rotation",void 0),__decorate$1P([SceneChangeDetection({type:"transform"})],t.prototype,"translationX",void 0),__decorate$1P([SceneChangeDetection({type:"transform"})],t.prototype,"translationY",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(e){return e.visibilityChanged()}})],t.prototype,"visible",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],t.prototype,"zIndex",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],t.prototype,"zIndexSubOrder",void 0),t}(ChangeDetectable),twoPi=2*Math.PI;function normalizeAngle360(l){return l%=twoPi,(l+=twoPi)%twoPi}function normalizeAngle360Inclusive(l){return l%=twoPi,(l+=twoPi)!==twoPi&&(l%=twoPi),l}function normalizeAngle180(l){return(l%=twoPi)<-Math.PI?l+=twoPi:l>=Math.PI&&(l-=twoPi),l}function toRadians$1(l){return l/180*Math.PI}function linearRoot(l,t){var e=-t/l;return 0!==l&&e>=0&&e<=1?[e]:[]}function quadraticRoots(l,t,e){if(0===l)return linearRoot(t,e);var n=t*t-4*l*e,o=[];if(0===n){var s=-t/(2*l);s>=0&&s<=1&&o.push(s)}else if(n>0){var d=Math.sqrt(n),v=(-t-d)/(2*l),C=(-t+d)/(2*l);v>=0&&v<=1&&o.push(v),C>=0&&C<=1&&o.push(C)}return o}function cubicRoots(l,t,e,n){if(0===l)return quadraticRoots(t,e,n);var o=t/l,s=e/l,v=(3*s-o*o)/9,C=(9*o*s-n/l*27-2*o*o*o)/54,m=v*v*v+C*C,w=1/3,D=[];if(m>=0){var b=Math.sqrt(m),T=Math.sign(C+b)*Math.pow(Math.abs(C+b),w),A=Math.sign(C-b)*Math.pow(Math.abs(C-b),w),I=Math.abs(Math.sqrt(3)*(T-A)/2),N=-w*o+(T+A);if(N>=0&&N<=1&&D.push(N),0===I){var G=-w*o-(T+A)/2;G>=0&&G<=1&&D.push(G)}}else{var V=Math.acos(C/Math.sqrt(-v*v*v)),W=w*o,j=2*Math.sqrt(-v),K=j*Math.cos(w*V)-W,Y=j*Math.cos(w*(V+2*Math.PI))-W,re=j*Math.cos(w*(V+4*Math.PI))-W;K>=0&&K<=1&&D.push(K),Y>=0&&Y<=1&&D.push(Y),re>=0&&re<=1&&D.push(re)}return D}var __values$z=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function segmentIntersection(l,t,e,n,o,s,d,v){var C=(e-l)*(v-s)-(n-t)*(d-o);if(0===C)return null;var m=((d-o)*(t-s)-(l-o)*(v-s))/C,w=((e-l)*(t-s)-(n-t)*(l-o))/C;return m>=0&&m<=1&&w>=0&&w<=1?{x:l+m*(e-l),y:t+m*(n-t)}:null}function cubicSegmentIntersections(l,t,e,n,o,s,d,v,C,m,w,D){var b,T,A=[],I=m-D,N=w-C,G=C*(D-m)-m*(w-C),V=bezierCoefficients(l,e,o,d),W=bezierCoefficients(t,n,s,v),q=cubicRoots(I*V[0]+N*W[0],I*V[1]+N*W[1],I*V[2]+N*W[2],I*V[3]+N*W[3]+G);try{for(var Z=__values$z(q),ee=Z.next();!ee.done;ee=Z.next()){var _e,ne=ee.value,se=ne*ne,ae=ne*se,pe=V[0]*ae+V[1]*se+V[2]*ne+V[3],he=W[0]*ae+W[1]*se+W[2]*ne+W[3];(_e=C!==w?(pe-C)/(w-C):(he-m)/(D-m))>=0&&_e<=1&&A.push({x:pe,y:he})}}catch(Ee){b={error:Ee}}finally{try{ee&&!ee.done&&(T=Z.return)&&T.call(Z)}finally{if(b)throw b.error}}return A}function bezierCoefficients(l,t,e,n){return[3*t-l-3*e+n,3*l-6*t+3*e,-3*l+3*t,l]}function arcIntersections(l,t,e,n,o,s,d,v,C,m){var w=(m-v)/(C-d),D=v-w*d,b=Math.pow(w,2)+1,T=2*(w*(D-t)-l),A=Math.pow(l,2)+Math.pow(D-t,2)-Math.pow(e,2),I=Math.pow(T,2)-4*b*A;if(I<0)return[];var N=(-T+Math.sqrt(I))/2/b,G=(-T-Math.sqrt(I))/2/b,V=[];return[N,G].forEach(function(W){if(W>=Math.min(d,C)&&W<=Math.max(d,C)){var K=w*W,Y=normalizeAngle360(s?o:n),re=normalizeAngle360(s?n:o),q=normalizeAngle360(Math.atan2(K,W));re<=Y&&(re+=2*Math.PI),q<Y&&(q+=2*Math.PI),q>=Y&&q<=re&&V.push({x:W,y:K})}}),V}var __values$y=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Path2D=function(){function l(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return l.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(var t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1},l.prototype.draw=function(t){var e,n,o=this.commands,s=this.params,d=0;t.beginPath();try{for(var v=__values$y(o),C=v.next();!C.done;C=v.next())switch(C.value){case"M":t.moveTo(s[d++],s[d++]);break;case"L":t.lineTo(s[d++],s[d++]);break;case"C":t.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]);break;case"A":t.arc(s[d++],s[d++],s[d++],s[d++],s[d++],1===s[d++]);break;case"Z":t.closePath()}}catch(w){e={error:w}}finally{try{C&&!C.done&&(n=v.return)&&n.call(v)}finally{if(e)throw e.error}}0===o.length&&t.closePath()},l.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},l.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},l.prototype.rect=function(t,e,n,o){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+o),this.lineTo(t,e+o),this.closePath()},l.prototype.arc=function(t,e,n,o,s,d){void 0===d&&(d=!1);var v=t+n*Math.cos(s),C=e+n*Math.sin(s);this.xy?(this.xy[0]=v,this.xy[1]=C):this.xy=[v,C],this.commands.push("A"),this.params.push(t,e,n,o,s,d?1:0)},l.prototype.cubicCurveTo=function(t,e,n,o,s,d){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,n,o,s,d),this.xy[0]=s,this.xy[1]=d},Object.defineProperty(l.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!1,configurable:!0}),l.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},l.prototype.clear=function(t){(void 0===t?{trackChanges:!1}:t).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},l.prototype.isPointInPath=function(t,e){for(var n=this.commands,o=this.params,s=n.length,d=-1e4,v=-1e4,C=NaN,m=NaN,w=0,D=0,b=0,T=0,A=0;T<s;T++)switch(n[T]){case"M":isNaN(C)||segmentIntersection(C,m,w,D,d,v,t,e)&&b++,C=w=o[A++],m=D=o[A++];break;case"L":segmentIntersection(w,D,o[A++],o[A++],d,v,t,e)&&b++,w=o[A-2],D=o[A-1];break;case"C":b+=cubicSegmentIntersections(w,D,o[A++],o[A++],o[A++],o[A++],o[A++],o[A++],d,v,t,e).length,w=o[A-2],D=o[A-1];break;case"A":b+=arcIntersections(o[A++],o[A++],o[A++],o[A++],o[A++],Boolean(o[A++]),d,v,t,e).length,w=o[A-2],D=o[A-1];break;case"Z":isNaN(C)||segmentIntersection(C,m,w,D,d,v,t,e)&&b++}return b%2==1},l}();function ascendingStringNumberUndefined(l,t){var e=0;return"number"==typeof l&&"number"==typeof t?e=l-t:"string"==typeof l&&"string"==typeof t?e=l.localeCompare(t):null==l&&null==t||(e=null==l?-1:null==t?1:String(l).localeCompare(String(t))),e}function compoundAscending(l,t,e){for(var n in l){var o=e(l[n],t[n]);if(0!==o)return o}return 0}var __extends$2C=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$F=function(){return __assign$F=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$F.apply(this,arguments)},__decorate$1O=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$x=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$U=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$v=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$U(arguments[t]));return l},Group=function(l){function t(e){var n,o=l.call(this)||this;o.opts=e,o.clipPath=new Path2D,o.opacity=1,o.lastBBox=void 0;var s=e||{},d=s.zIndex,v=s.zIndexSubOrder;return o.isContainerNode=!0,void 0!==d&&(o.zIndex=d),void 0!==v&&(o.zIndexSubOrder=v),o.name=null===(n=o.opts)||void 0===n?void 0:n.name,o}return __extends$2C(t,l),t.prototype.zIndexChanged=function(){var e;this.layer&&(null===(e=this._layerManager)||void 0===e||e.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))},t.prototype.isLayer=function(){return null!=this.layer},t.prototype._setLayerManager=function(e){var o,n=this;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(l.prototype._setLayerManager.call(this,e),e&&null!==(o=this.opts)&&void 0!==o&&o.layer){var s=this.opts||{};this.layer=e.addLayer({zIndex:s.zIndex,zIndexSubOrder:s.zIndexSubOrder,name:s.name,getComputedOpacity:function(){return n.getComputedOpacity()},getVisibility:function(){return n.getVisibility()}})}},t.prototype.getComputedOpacity=function(){var e=1,n=this;do{n instanceof t&&(e*=n.opacity)}while(n=n.parent);return e},t.prototype.getVisibility=function(){for(var e=this,n=this.visible;e=e.parent;)e.visible||(n=e.visible);return n},t.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},t.prototype.markDirty=function(e,n){void 0===n&&(n=RedrawType.TRIVIAL),l.prototype.markDirty.call(this,e,n,n<=RedrawType.MINOR?RedrawType.TRIVIAL:n)},t.prototype.containsPoint=function(e,n){return!0},t.prototype.computeBBox=function(){var e=1/0,n=-1/0,o=1/0,s=-1/0;return this.computeTransformMatrix(),this.children.forEach(function(d){if(d.visible){var v=d.computeTransformedBBox();if(v){var C=v.x,m=v.y;C<e&&(e=C),m<o&&(o=m),C+v.width>n&&(n=C+v.width),m+v.height>s&&(s=m+v.height)}}}),new BBox(e,o,n-e,s-o)},t.prototype.computeTransformedBBox=function(){return this.computeBBox()},t.prototype.render=function(e){var n,o,s=this.opts,d=(void 0===s?{}:s).name,v=void 0===d?void 0:d,C=this._debug,m=(void 0===C?{}:C).consoleLog,w=void 0!==m&&m,D=this,T=D.dirtyZIndex,A=D.clipPath,I=D.layer,N=D.children,G=e.ctx,V=e.forceRender,W=e.clipBBox,K=e.stats,Y=D.dirty>=RedrawType.MINOR||T||e.resized,re=Y||N.some(function(De){return De.dirty>=RedrawType.TRIVIAL});if(v&&w&&console.log({name:v,group:this,isDirty:Y,isChildDirty:re,renderCtx:e,forceRender:V}),I){var q=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(q)?q.isInfinite()||(V=!1):(V=!0,this.lastBBox=q)}if(!Y&&!re&&!V){if(v&&w&&K){var Z=this.nodeCount;console.log({name:v,result:"skipping",renderCtx:e,counts:Z,group:this})}return I&&K&&(K.layersSkipped++,K.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1})}var ee=this.visible;if(I){if((G=I.context).save(),G.setTransform(e.ctx.getTransform()),V=!0,I.clear(),W){var ne=W.width,se=W.height,ae=W.x,pe=W.y;w&&console.log({name:v,clipBBox:W,ctxTransform:G.getTransform(),renderCtx:e,group:this}),A.clear(),A.rect(ae,pe,ne,se),A.draw(G),G.clip()}}else G.globalAlpha*=this.opacity;this.computeTransformMatrix(),this.matrix.toContext(G),W=W?this.matrix.inverse().transformBBox(W):void 0,T&&(this.sortChildren(),V=!0);var _e=V!==e.forceRender||W!==e.clipBBox||G!==e.ctx?__assign$F(__assign$F({},e),{ctx:G,forceRender:V,clipBBox:W}):e,Ee=0;try{for(var Se=__values$x(N),Re=Se.next();!Re.done;Re=Se.next()){var Ce=Re.value;Ce.visible&&ee?V||Ce.dirty!==RedrawType.NONE?(G.save(),Ce.render(_e),G.restore()):K&&(Ee+=Ce.nodeCount.count):(Ce.markClean(),K&&(Ee+=Ce.nodeCount.count))}}catch(De){n={error:De}}finally{try{Re&&!Re.done&&(o=Se.return)&&o.call(Se)}finally{if(n)throw n.error}}K&&(K.nodesSkipped+=Ee),l.prototype.render.call(this,e),I&&(K&&K.layersRendered++,G.restore(),I.snapshot()),v&&w&&K&&(Z=this.nodeCount,console.log({name:v,result:"rendered",skipped:Ee,renderCtx:e,counts:Z,group:this}))},t.prototype.sortChildren=function(){this.dirtyZIndex=!1,this.children.sort(function(e,n){var o,s;return compoundAscending(__spread$v([e.zIndex],null!==(o=e.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],[e.serialNumber]),__spread$v([n.zIndex],null!==(s=n.zIndexSubOrder)&&void 0!==s?s:[void 0,void 0],[n.serialNumber]),ascendingStringNumberUndefined)})},t.className="Group",__decorate$1O([SceneChangeDetection({convertor:function(e){return Math.min(1,Math.max(0,e))}})],t.prototype,"opacity",void 0),t}(Node),HdpiOffscreenCanvas=function(){function l(t){var e=t.width,n=void 0===e?600:e,o=t.height,s=void 0===o?300:o,d=t.overrideDevicePixelRatio,v=void 0===d?void 0:d;this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,s),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(v),this.resize(n,s)}return l.isSupported=function(){return null!=window.OffscreenCanvas},l.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},l.prototype.destroy=function(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)},l.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),l.prototype.setPixelRatio=function(t){var e=t??window.devicePixelRatio;isDesktop()||(e=1),e!==this.pixelRatio&&(HdpiCanvas.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),l.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,o=n.canvas,s=n.context,d=n.pixelRatio;o.width=Math.round(t*d),o.height=Math.round(e*d),s.resetTransform(),this._width=t,this._height=e}},l}(),__assign$E=function(){return __assign$E=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$E.apply(this,arguments)},__awaiter$f=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$f=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__read$T=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$u=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$T(arguments[t]));return l},__values$w=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function buildSceneNodeHighlight(){var l,t=null!==(l=windowValue("agChartsSceneDebug"))&&void 0!==l?l:[];"string"==typeof t&&(t=[t]);var e=[];return t.forEach(function(n){"layout"===n?e.push("seriesRoot","legend","root",/.*Axis-[0-9]+-axis.*/):e.push(n)}),e}var Scene=function(){function l(t){var e,n;this.id=createId$1(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1,sceneNodeHighlight:[]};var o=t.document,s=void 0===o?window.document:o,d=t.mode,v=void 0===d?windowValue("agChartsSceneRenderModel")||"adv-composite":d,C=t.width,m=t.height,w=t.overrideDevicePixelRatio,D=void 0===w?void 0:w;this.overrideDevicePixelRatio=D,this.opts={document:s,mode:v},this.debug.consoleLog=!0===windowValue("agChartsDebug"),this.debug.stats=null!==(e=windowValue("agChartsSceneStats"))&&void 0!==e&&e,this.debug.dirtyTree=null!==(n=windowValue("agChartsSceneDirtyTree"))&&void 0!==n&&n,this.debug.sceneNodeHighlight=buildSceneNodeHighlight(),this.canvas=new HdpiCanvas({document:s,width:C,height:m,overrideDevicePixelRatio:D}),this.ctx=this.canvas.context}return Object.defineProperty(l.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!1,configurable:!0}),l.prototype.download=function(t,e){this.canvas.download(t,e)},l.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(l.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!1,configurable:!0}),l.prototype.resize=function(t,e){return t=Math.round(t),e=Math.round(e),!(t===this.width&&e===this.height||t<=0||e<=0||(this.pendingSize=[t,e],this.markDirty(),0))},l.prototype.addLayer=function(t){var e,n=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(n)){var s=t.zIndex,d=void 0===s?this._nextZIndex++:s,v=t.name,C=t.zIndexSubOrder,m=t.getComputedOpacity,w=t.getVisibility,D=this,b=D.width,T=D.height,A=D.overrideDevicePixelRatio,I="dom-composite"===n,G="adv-composite"===n&&HdpiOffscreenCanvas.isSupported()?new HdpiOffscreenCanvas({width:b,height:T,overrideDevicePixelRatio:A}):new HdpiCanvas({document:this.opts.document,width:b,height:T,domLayer:I,zIndex:d,name:v,overrideDevicePixelRatio:A}),V={id:this._nextLayerId++,name:v,zIndex:d,zIndexSubOrder:C,canvas:G,getComputedOpacity:m,getVisibility:w};if(d>=this._nextZIndex&&(this._nextZIndex=d+1),this.layers.push(V),this.sortLayers(),I){var W=this.layers.map(function(Y){return Y.canvas}).filter(function(Y){return Y instanceof HdpiCanvas}),j=W.findIndex(function(Y){return Y===G});(null!==(e=W[j-1])&&void 0!==e?e:this.canvas).element.insertAdjacentElement("afterend",G.element)}return this.debug.consoleLog&&console.log({layers:this.layers}),V.canvas}},l.prototype.removeLayer=function(t){var e=this.layers.findIndex(function(n){return n.canvas===t});e>=0&&(this.layers.splice(e,1),t.destroy(),this.markDirty(),this.debug.consoleLog&&console.log({layers:this.layers}))},l.prototype.moveLayer=function(t,e,n){var o=this.layers.find(function(s){return s.canvas===t});o&&(o.zIndex=e,o.zIndexSubOrder=n,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&console.log({layers:this.layers}))},l.prototype.sortLayers=function(){this.layers.sort(function(t,e){var n,o;return compoundAscending(__spread$u([t.zIndex],null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],[t.id]),__spread$u([e.zIndex],null!==(o=e.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],[e.id]),ascendingStringNumberUndefined)})},l.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setLayerManager(),this._root=t,t&&(null===t.parent&&t.layerManager&&t.layerManager!==this&&(t.layerManager.root=null),t._setLayerManager(this)),this.markDirty())},enumerable:!1,configurable:!0}),l.prototype.strip=function(){var t,e,n=this.layers;try{for(var o=__values$w(n),s=o.next();!s.done;s=o.next()){var d=s.value;d.canvas.destroy(),delete d.canvas}}catch(v){t={error:v}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}n.splice(0,n.length),this.root=null,this._dirty=!1,this.ctx.resetTransform()},l.prototype.destroy=function(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})},l.prototype.render=function(t){return __awaiter$f(this,void 0,void 0,function(){var e,n,o,s,d,v,C,m,w,D,b,T,A,I,N,W;return __generator$f(this,function(j){return o=void 0===(n=(e=t||{}).debugSplitTimes)?[performance.now()]:n,d=void 0===(s=e.extraDebugStats)?{}:s,C=(v=this).canvas,m=v.ctx,w=v.root,D=v.layers,T=v.opts.mode,(b=v.pendingSize)&&((W=this.canvas).resize.apply(W,__spread$u(b)),this.layers.forEach(function(K){var Y;return(Y=K.canvas).resize.apply(Y,__spread$u(b))}),this.pendingSize=void 0),w&&!w.visible?(this._dirty=!1,[2]):w&&!this.dirty?(this.debug.consoleLog&&console.log("no-op",{redrawType:RedrawType[w.dirty],tree:this.buildTree(w)}),this.debugStats(o,m,void 0,d),[2]):(A={ctx:m,forceRender:!0,resized:!!b,debugNodes:{}},"detailed"===this.debug.stats&&(A.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),I=!1,(!w||w.dirty>=RedrawType.TRIVIAL)&&(I=!0,C.clear()),w&&this.debug.dirtyTree&&(N=this.buildDirtyTree(w),console.log({dirtyTree:N.dirtyTree,paths:N.paths})),w&&I&&(this.debug.consoleLog&&console.log("before",{redrawType:RedrawType[w.dirty],canvasCleared:I,tree:this.buildTree(w)}),w.visible&&(m.save(),w.render(A),m.restore())),"dom-composite"!==T&&D.length>0&&I&&(m.save(),m.setTransform(1/C.pixelRatio,0,0,1/C.pixelRatio,0,0),D.forEach(function(K){var Y=K.canvas,re=Y.imageSource,Z=K.getComputedOpacity;!Y.enabled||!(0,K.getVisibility)()||(m.globalAlpha=Z(),m.drawImage(re,0,0))}),m.restore()),this._dirty=!1,this.debugStats(o,m,A.stats,d),this.debugSceneNodeHighlight(m,this.debug.sceneNodeHighlight,A.debugNodes),w&&this.debug.consoleLog&&console.log("after",{redrawType:RedrawType[w.dirty],canvasCleared:I,tree:this.buildTree(w)}),[2])})})},l.prototype.debugStats=function(t,e,n,o){var s,d;void 0===o&&(o={});var v=performance.now();if(this.debug.stats){var C=t[0];t.push(v);var m=function(se,ae){var pe=se+ae;return se+" / "+pe+" ("+Math.round(100*se/pe)+"%)"},w=function(se,ae){return Math.round(100*(ae-se))/100+"ms"},D=n??{},b=D.layersRendered,T=void 0===b?0:b,A=D.layersSkipped,I=void 0===A?0:A,N=D.nodesRendered,G=void 0===N?0:N,V=D.nodesSkipped,W=void 0===V?0:V,j=t.map(function(se,ae){return ae>0?w(t[ae-1],se):null}).filter(function(se){return null!=se}).join(" + "),K=Object.entries(o).map(function(se){var ae=__read$T(se,2);return ae[0]+": "+ae[1]}).join(" ; "),Y=[w(C,v)+" ("+j+")",""+K,"detailed"===this.debug.stats?"Layers: "+m(T,I):null,"detailed"===this.debug.stats?"Nodes: "+m(G,W):null].filter(function(se){return null!=se});e.save(),e.fillStyle="white",e.fillRect(0,0,200,10+15*Y.length),e.fillStyle="black";var q=0;try{for(var Z=__values$w(Y),ee=Z.next();!ee.done;ee=Z.next())e.fillText(ee.value,2,10+15*q++)}catch(se){s={error:se}}finally{try{ee&&!ee.done&&(d=Z.return)&&d.call(Z)}finally{if(s)throw s.error}}e.restore()}},l.prototype.debugSceneNodeHighlight=function(t,e,n){var o,s,d,v,C,m,w,D=function(ee){return function(ne){return!!ee.test(ne.id)||ne instanceof Group&&null!=ne.name&&ee.test(ne.name)}},b=function(ee){return function(ne){return ee===ne.id||ne instanceof Group&&null!=ne.name&&ee===ne.name}};try{for(var T=__values$w(e),A=T.next();!A.done;A=T.next()){var I=A.value;if("string"!=typeof I||null==n[I]){var N="string"==typeof I?b(I):D(I),G=null===(w=this.root)||void 0===w?void 0:w.findNodes(N);if(!G||0===G.length){console.warn("AG Charts - No debugging node with id ["+I+"] in scene graph.");continue}try{for(var V=(d=void 0,__values$w(G)),W=V.next();!W.done;W=V.next())(j=W.value)instanceof Group&&j.name?n[j.name]=j:n[j.id]=j}catch(ee){d={error:ee}}finally{try{W&&!W.done&&(v=V.return)&&v.call(V)}finally{if(d)throw d.error}}}}}catch(ee){o={error:ee}}finally{try{A&&!A.done&&(s=T.return)&&s.call(T)}finally{if(o)throw o.error}}t.save();try{for(var K=__values$w(Object.entries(n)),Y=K.next();!Y.done;Y=K.next()){var j,re=__read$T(Y.value,2),q=re[0],Z=(j=re[1]).computeTransformedBBox();Z?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(Z.x,Z.y,Z.width,Z.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(q,Z.x,Z.y,Z.width),t.fillText(q,Z.x,Z.y,Z.width)):console.warn("AG Charts - No bbox for debugged node ["+q+"].")}}catch(ee){C={error:ee}}finally{try{Y&&!Y.done&&(m=K.return)&&m.call(K)}finally{if(C)throw C.error}}t.restore()},l.prototype.buildTree=function(t){var n,e=this,o=null!==(n=t instanceof Group?t.name:null)&&void 0!==n?n:t.id;return __assign$E({name:o,node:t,dirty:RedrawType[t.dirty]},t.children.map(function(s){return e.buildTree(s)}).reduce(function(s,d){var v=d.name,C=d.node,D=C.zIndex,b=C.zIndexSubOrder,T=d.node;return(!C.visible||C.opacity<=0)&&(v="("+v+")"),T instanceof Group&&T.isLayer()&&(v="*"+v+"*"),s[[""+(v??"<unknown>"),"z: "+D,b&&"zo: "+b.join(" / ")].filter(function(I){return!!I}).join(" ")]=d,s},{}))},l.prototype.buildDirtyTree=function(t){var n,e=this;if(t.dirty===RedrawType.NONE)return{dirtyTree:{},paths:[]};var o=t.children.map(function(v){return e.buildDirtyTree(v)}).filter(function(v){return v.paths.length>0}),s=null!==(n=t instanceof Group?t.name:null)&&void 0!==n?n:t.id,d=0===o.length?[s]:o.map(function(v){return v.paths}).reduce(function(v,C){return v.concat(C)},[]).map(function(v){return s+"."+v});return{dirtyTree:__assign$E({name:s,node:t,dirty:RedrawType[t.dirty]},o.map(function(v){return v.dirtyTree}).filter(function(v){return void 0!==v.dirty}).reduce(function(v,C){return v[C.name||"<unknown>"]=C,v},{})),paths:d}},l.className="Scene",l}(),Observable=function(){function l(){this.allEventListeners=new Map}return l.prototype.addEventListener=function(t,e){if("function"!=typeof e)throw new Error("AG Charts - listener must be a Function");var n=this.allEventListeners,o=n.get(t);o||n.set(t,o=new Set),o.has(e)||o.add(e)},l.prototype.removeEventListener=function(t,e){var n=this.allEventListeners,o=n.get(t);o&&(o.delete(e),0===o.size&&n.delete(t))},l.prototype.clearEventListeners=function(){this.allEventListeners.clear()},l.prototype.fireEvent=function(t){this.allEventListeners.get(t.type)?.forEach(function(n){return n(t)})},l}(),isString$1=function(l){return"string"==typeof l},isStringObject$1=function(l){return!!l&&l.hasOwnProperty("toString")&&isString$1(l.toString())},isDate$1=function(l){return l instanceof Date&&!isNaN(+l)};function isDiscrete(l){return isString$1(l)||isStringObject$1(l)}function isContinuous(l){var n;return isNumber$4(l)||!!(n=l)&&n.hasOwnProperty("valueOf")&&isNumber$4(n.valueOf())||function(n){return n instanceof Date&&!isNaN(+n)}(l)}function checkDatum(l,t){return t&&isContinuous(l)?l:t?void 0:isDiscrete(l)?l:String(l)}var isNumber$4=function(l){return"number"==typeof l&&Number.isFinite(l)},doOnceFlags$1={};function doOnce$1(l,t){doOnceFlags$1[t]||(l(),doOnceFlags$1[t]=!0)}var __read$S=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},Color=function(){function l(t,e,n,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,o||0))}return l.validColorString=function(t){return t.indexOf("#")>=0?!!l.parseHex(t):t.indexOf("rgb")>=0?!!l.stringToRgba(t):!!l.nameToHex[t.toLowerCase()]},l.fromString=function(t){if(t.indexOf("#")>=0)return l.fromHexString(t);var e=l.nameToHex[t.toLowerCase()];if(e)return l.fromHexString(e);if(t.indexOf("rgb")>=0)return l.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},l.tryParseFromString=function(t){try{return l.fromString(t)}catch{return doOnce$1(function(){return console.warn("AG Charts - Invalid color string: '"+t+"'.")},"unable to parse color "+t),l.fromArray([0,0,0])}},l.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map(function(o){return parseInt(o,16)}).map(function(o){return o+16*o})}if(e?.length>=3&&e.every(function(o){return o>=0}))return 3===e.length&&e.push(255),e},l.fromHexString=function(t){var e=l.parseHex(t);if(e){var n=__read$S(e,4);return new l(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},l.stringToRgba=function(t){for(var e=__read$S([NaN,NaN],2),n=e[0],o=e[1],s=0;s<t.length;s++){var d=t[s];if(n||"("!==d){if(")"===d){o=s;break}}else n=s}var v=n&&o&&t.substring(n+1,o);if(v){var C=v.split(","),m=[];for(s=0;s<C.length;s++){var w=C[s],D=parseFloat(w);if(isNaN(D))return;w.indexOf("%")>=0?(D=Math.max(0,Math.min(100,D)),D/=100):3===s?D=Math.max(0,Math.min(1,D)):(D=Math.max(0,Math.min(255,D)),D/=255),m.push(D)}return m}},l.fromRgbaString=function(t){var e=l.stringToRgba(t);if(e){if(3===e.length)return new l(e[0],e[1],e[2]);if(4===e.length)return new l(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},l.fromArray=function(t){if(4===t.length)return new l(t[0],t[1],t[2],t[3]);if(3===t.length)return new l(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},l.fromHSB=function(t,e,n,o){void 0===o&&(o=1);var s=l.HSBtoRGB(t,e,n);return new l(s[0],s[1],s[2],o)},l.padHex=function(t){return 1===t.length?"0"+t:t},l.prototype.toHexString=function(){var t="#"+l.padHex(Math.round(255*this.r).toString(16))+l.padHex(Math.round(255*this.g).toString(16))+l.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=l.padHex(Math.round(255*this.a).toString(16))),t},l.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},l.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},l.prototype.toHSB=function(){return l.RGBtoHSB(this.r,this.g,this.b)},l.RGBtoHSB=function(t,e,n){var o=Math.min(t,e,n),s=Math.max(t,e,n),v=NaN;if(o!==s){var C=s-o,m=(s-t)/C,w=(s-e)/C,D=(s-n)/C;v=t===s?D-w:e===s?2+m-D:4+w-m,(v/=6)<0&&(v+=1)}return[360*v,0!==s?(s-o)/s:0,s]},l.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,s=0,d=0;if(0===e)o=s=d=n;else{var v=6*(t-Math.floor(t)),C=v-Math.floor(v),m=n*(1-e),w=n*(1-e*C),D=n*(1-e*(1-C));switch(v>>0){case 0:o=n,s=D,d=m;break;case 1:o=w,s=n,d=m;break;case 2:o=m,s=n,d=D;break;case 3:o=m,s=w,d=n;break;case 4:o=D,s=m,d=n;break;case 5:o=n,s=m,d=w}}return[o,s,d]},l.prototype.derive=function(t,e,n,o){var s=l.RGBtoHSB(this.r,this.g,this.b),d=s[2];0==d&&n>1&&(d=.05);var v=((s[0]+t)%360+360)%360,C=Math.max(Math.min(s[1]*e,1),0);d=Math.max(Math.min(d*n,1),0);var m=Math.max(Math.min(this.a*o,1),0),w=l.HSBtoRGB(v,C,d);return w.push(m),l.fromArray(w)},l.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},l.prototype.darker=function(){return this.derive(0,1,.7,1)},l.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),l}(),__values$v=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},BREAK_TRANSFORM_CHAIN=Symbol("BREAK"),CONFIG_KEY="__decorator_config";function initialiseConfig(l,t,e,n){null==Object.getOwnPropertyDescriptor(l,CONFIG_KEY)&&Object.defineProperty(l,CONFIG_KEY,{value:{}});var o=l[CONFIG_KEY];if(null!=o[e])return o[e];o[e]={setters:[],getters:[]};var s=Object.getOwnPropertyDescriptor(l,t),d=s?.set,v=s?.get;return Object.defineProperty(l,t,{set:function(w){var D,b,T,A;try{for(var I=__values$v(null!==(A=null===(T=o[e])||void 0===T?void 0:T.setters)&&void 0!==A?A:[]),N=I.next();!N.done;N=I.next())if((w=(0,N.value)(this,t,w))===BREAK_TRANSFORM_CHAIN)return}catch(V){D={error:V}}finally{try{N&&!N.done&&(b=I.return)&&b.call(I)}finally{if(D)throw D.error}}d?d.call(this,w):this[n]=w},get:function(){var w,D,b,T,A=v?v.call(this):this[n];try{for(var I=__values$v(null!==(T=null===(b=o[e])||void 0===b?void 0:b.getters)&&void 0!==T?T:[]),N=I.next();!N.done;N=I.next())if((A=(0,N.value)(this,t,A))===BREAK_TRANSFORM_CHAIN)return}catch(V){w={error:V}}finally{try{N&&!N.done&&(D=I.return)&&D.call(I)}finally{if(w)throw w.error}}return A},enumerable:!0,configurable:!1}),o[e]}function addTransformToInstanceProperty(l,t){return function(e,n){var o=n.toString(),d=initialiseConfig(e,n,o,"__"+o),v=d.getters;d.setters.push(l),t&&v.splice(0,0,t)}}function Validate(l){return addTransformToInstanceProperty(function(t,e,n){var o,s,d;if(l(n,{target:t}))return n;var v=e.toString().replace(/^_*/,""),C=null!==(s=null===(o=t.constructor)||void 0===o?void 0:o.className)&&void 0!==s?s:null===(d=t.constructor)||void 0===d?void 0:d.name;return C?.length<3&&(C=null),l.message?console.warn("AG Charts - Property ["+v+"] "+(C?"of ["+C+"] ":"")+"cannot be set to ["+JSON.stringify(n)+"]; "+l.message+", ignoring."):console.warn("AG Charts - Property ["+v+"] "+(C?"of ["+C+"] ":"")+"cannot be set to ["+JSON.stringify(n)+"], ignoring."),BREAK_TRANSFORM_CHAIN})}function predicateWithMessage(l,t){return l.message=t,l}var OPTIONAL=function(l,t,e){return void 0===l||e(l,t)},ARRAY=function(l,t){return predicateWithMessage(function(e,n){return Array.isArray(e)&&(!l||e.length===l)&&(!t||e.every(function(o){return t(o,n)}))},"expecting an Array")},OPT_ARRAY=function(l){return predicateWithMessage(function(t,e){return OPTIONAL(t,e,ARRAY(l))},"expecting an optional Array")},AND=function(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return predicateWithMessage(function(e,n){return l.every(function(o){return o(e,n)})},l.map(function(e){return e.message}).filter(function(e){return null!=e}).join(" AND "))},OR=function(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return predicateWithMessage(function(e,n){return l.some(function(o){return o(e,n)})},l.map(function(e){return e.message}).filter(function(e){return null!=e}).join(" OR "))},isComparable=function(l){return null!=l&&!isNaN(l)},LESS_THAN=function(l){return predicateWithMessage(function(t,e){return!isComparable(t)||!isComparable(e.target[l])||t<e.target[l]},"expected to be less than "+l)},GREATER_THAN=function(l){return predicateWithMessage(function(t,e){return!isComparable(t)||!isComparable(e.target[l])||t>e.target[l]},"expected to be greater than "+l)},FUNCTION=predicateWithMessage(function(l){return"function"==typeof l},"expecting a Function"),OPT_FUNCTION=predicateWithMessage(function(l,t){return OPTIONAL(l,t,FUNCTION)},"expecting an optional Function"),BOOLEAN=predicateWithMessage(function(l){return!0===l||!1===l},"expecting a Boolean"),OPT_BOOLEAN=predicateWithMessage(function(l,t){return OPTIONAL(l,t,BOOLEAN)},"expecting an optional Boolean"),STRING=predicateWithMessage(function(l){return"string"==typeof l},"expecting a String"),OPT_STRING=predicateWithMessage(function(l,t){return OPTIONAL(l,t,STRING)},"expecting an optional String"),DATE=predicateWithMessage(function(l){return l instanceof Date&&!isNaN(+l)},"expecting a Date object"),OPT_DATE=predicateWithMessage(function(l,t){return OPTIONAL(l,t,DATE)},"expecting an optional Date");predicateWithMessage(ARRAY(void 0,DATE),"expecting an Array of Date objects");var DATETIME_MS=NUMBER(0),OPT_DATETIME_MS=predicateWithMessage(function(l,t){return OPTIONAL(l,t,DATETIME_MS)},"expecting an optional number"),OPT_DATE_OR_DATETIME_MS=OR(OPT_DATE,OPT_DATETIME_MS),colorMessage="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",COLOR_STRING=predicateWithMessage(function(l){return"string"==typeof l&&Color.validColorString(l)},"expecting a color String. "+colorMessage),OPT_COLOR_STRING=predicateWithMessage(function(l,t){return OPTIONAL(l,t,COLOR_STRING)},"expecting an optional color String. "+colorMessage),COLOR_STRING_ARRAY=predicateWithMessage(ARRAY(void 0,COLOR_STRING),"expecting an Array of color strings. "+colorMessage),OPT_COLOR_STRING_ARRAY=predicateWithMessage(function(l,t){return OPTIONAL(l,t,COLOR_STRING_ARRAY)},"expecting an optional Array of color strings. "+colorMessage);function NUMBER(l,t){return predicateWithMessage(function(n){return"number"==typeof n&&Number.isFinite(n)&&(void 0===l||n>=l)&&(void 0===t||n<=t)},"expecting a finite Number"+(void 0!==l?", more than or equal to "+l:"")+(void 0!==t?", less than or equal to "+t:""))}function OPT_NUMBER(l,t){return predicateWithMessage(function(n,o){return OPTIONAL(n,o,NUMBER(l,t))},"expecting an optional finite Number"+(void 0!==l?", more than or equal to "+l:"")+(void 0!==t?", less than or equal to "+t:""))}function NUMBER_OR_NAN(l,t){return predicateWithMessage(function(n){return"number"==typeof n&&(isNaN(n)||Number.isFinite(n)&&(void 0===l||n>=l)&&(void 0===t||n<=t))},"expecting a finite Number"+(void 0!==l?", more than or equal to "+l:"")+(void 0!==t?", less than or equal to "+t:""))}var NUMBER_ARRAY=predicateWithMessage(ARRAY(void 0,NUMBER()),"expecting an Array of numbers"),OPT_NUMBER_ARRAY=predicateWithMessage(function(l,t){return OPTIONAL(l,t,NUMBER_ARRAY)},"expecting an optional Array of numbers"),STRING_ARRAY=predicateWithMessage(ARRAY(void 0,STRING),"expecting an Array of strings");function STRING_UNION(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return predicateWithMessage(function(n){return"string"==typeof n&&l.indexOf(n)>=0},"expecting one of: "+l.join(", "))}predicateWithMessage(function(l,t){return OPTIONAL(l,t,STRING_ARRAY)},"expecting an optional Array of strings");var BOOLEAN_ARRAY=predicateWithMessage(ARRAY(void 0,BOOLEAN),"expecting an Array of boolean values");predicateWithMessage(function(l,t){return OPTIONAL(l,t,BOOLEAN_ARRAY)},"expecting an optional Array of boolean values");var FONT_WEIGHTS=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],FONT_STYLE=predicateWithMessage(function(l){return"normal"===l||"italic"===l||"oblique"===l},"expecting a font style keyword such as 'normal', 'italic' or 'oblique'"),OPT_FONT_STYLE=predicateWithMessage(function(l,t){return OPTIONAL(l,t,FONT_STYLE)},"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"),FONT_WEIGHT=predicateWithMessage(function(l){return FONT_WEIGHTS.includes(l)},"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),OPT_FONT_WEIGHT=predicateWithMessage(function(l,t){return OPTIONAL(l,t,FONT_WEIGHT)},"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),LINE_DASH=predicateWithMessage(ARRAY(void 0,NUMBER(0)),"expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),OPT_LINE_DASH=predicateWithMessage(function(l,t){return OPTIONAL(l,t,LINE_DASH)},"expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),LINE_CAPS=["butt","round","square"],LINE_CAP=predicateWithMessage(function(l){return LINE_CAPS.includes(l)},"expecting a line cap keyword such as 'butt', 'round' or 'square'");predicateWithMessage(function(l,t){return OPTIONAL(l,t,LINE_CAP)},"expecting an optional line cap keyword such as 'butt', 'round' or 'square'");var LINE_JOINS=["round","bevel","miter"],LINE_JOIN=predicateWithMessage(function(l){return LINE_JOINS.includes(l)},"expecting a line join keyword such as 'round', 'bevel' or 'miter'");predicateWithMessage(function(l,t){return OPTIONAL(l,t,LINE_JOIN)},"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'");var POSITIONS=["top","right","bottom","left"],POSITION=predicateWithMessage(function(l){return POSITIONS.includes(l)},"expecting a position keyword such as 'top', 'right', 'bottom' or 'left"),__read$R=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},ContinuousScale=function(){function l(t,e){this.domain=t,this.range=e,this.nice=!1,this.tickCount=l.defaultTickCount,this.niceDomain=null,this.strictClampByDefault=!1,this.cache=null,this.cacheProps=["domain","range","nice","tickCount"]}return l.prototype.transform=function(t){return t},l.prototype.transformInvert=function(t){return t},l.prototype.fromDomain=function(t){return t instanceof Date?t.getTime():t},l.prototype.getDomain=function(){return this.nice&&(this.refresh(),this.niceDomain)?this.niceDomain:this.domain},l.prototype.convert=function(t,e){var o,n=this;if(!this.domain||this.domain.length<2)return NaN;this.refresh();var s=null!==(o=e?.strict)&&void 0!==o?o:this.strictClampByDefault,d=this.getDomain().map(function(A){return n.transform(A)}),v=__read$R(d,2),C=v[0],m=v[1],D=__read$R(this.range,2),b=D[0],T=D[1];return(t=this.transform(t))<C?s?NaN:b:t>m?s?NaN:T:C===m?(b+T)/2:t===C?b:t===m?T:b+(this.fromDomain(t)-this.fromDomain(C))/(this.fromDomain(m)-this.fromDomain(C))*(T-b)},l.prototype.invert=function(t){var e=this;this.refresh();var D,n=this.getDomain().map(function(b){return e.transform(b)}),o=__read$R(n,2),s=o[0],d=o[1],C=__read$R(this.range,2),m=C[0],w=C[1];return D=t<m?s:t>w?d:m===w?this.toDomain((this.fromDomain(s)+this.fromDomain(d))/2):t===m?s:t===w?d:this.toDomain(this.fromDomain(s)+(t-m)/(w-m)*(this.fromDomain(d)-this.fromDomain(s))),this.transformInvert(D)},l.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some(function(o){return t[o]!==e[o]})||(this.cache={},this.cacheProps.forEach(function(o){return t.cache[o]=t[o]}),0))},l.prototype.refresh=function(){this.didChange()&&this.update()},l.prototype.isDenseInterval=function(t){var o=t.interval,s=t.count,d=this.range,v=t.stop-t.start,C=Math.min(d[0],d[1]);return s??(s=v/("number"==typeof o?o:1)),s>=Math.max(d[0],d[1])-C&&(console.warn("AG Charts - the configured tick interval, "+JSON.stringify(o)+", results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."),!0)},l.defaultTickCount=5,l}(),__extends$2B=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__read$Q=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s};function ticks(l,t,e){if(e<2)return range(l,t,t-l);var n=tickStep(l,t,e);return isNaN(n)?new NumericTicks(0):range(l=Math.ceil(l/n)*n,t=Math.floor(t/n)*n,n)}var tickMultiplierErrors=[[10,7],[5,3.2],[2,1.4],[1,0]];function getTickMultiplier(l){var t;return null===(t=tickMultiplierErrors.find(function(e){return l>=e[1]}))||void 0===t?void 0:t[0]}function tickStep(l,t,e){var n=(t-l)/e,o=Math.floor(Math.log10(n)),s=Math.pow(10,o),v=getTickMultiplier(n/s);return!v||isNaN(v)?NaN:v*s}function singleTickDomain(l,t){var e=Math.floor(Math.log10(t-l)),n=Math.pow(10,e);return tickMultiplierErrors.map(function(o){var v=__read$Q(o,1)[0]*n,C=Math.floor(l/v)*v,m=Math.ceil(t/v)*v;return{error:1-(t-l)/(m-C),domain:[C,m]}}).sort(function(o,s){return o.error-s.error})[0].domain}var NumericTicks=function(l){function t(e,n){var o=l.call(this)||this;if(n)for(var s=0,d=n.length;s<d;s++)o[s]=n[s];return o.fractionDigits=e,o}return __extends$2B(t,l),t}(Array);function range(l,t,e){for(var o=(void 0,void 0,T=void 0,T=(e%1).toExponential().split("e"),Math.max((null!==(b=null===(D=T[0].split(".")[1])||void 0===D?void 0:D.length)&&void 0!==b?b:0)-Number(T[1]),0)),s=Math.pow(10,o),d=Math.ceil((t-l)/e),v=new NumericTicks(o),C=0;C<=d;C++)v.push(Math.round((l+e*C)*s)/s);var D,b,T;return v}var CONSTANTS={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function dayOfYear(l,t){void 0===t&&(t=new Date(l.getFullYear(),0,1));var e=l.getTimezoneOffset()-t.getTimezoneOffset(),n=l.getTime()-t.getTime()+6e4*e;return Math.floor(n/864e5)}function weekOfYear(l,t){var o=(t-new Date(l.getFullYear(),0,1).getDay()+7)%7,s=new Date(l.getFullYear(),0,o+1);return s<=l?Math.floor(dayOfYear(l,s)/7)+1:0}var SUNDAY=0,MONDAY=1,THURSDAY=4;function isoWeekOfYear(l,t){void 0===t&&(t=l.getFullYear());var n=new Date(t,0,1).getDay(),s=new Date(t,0,(THURSDAY-n+7)%7-(THURSDAY-MONDAY)+1);return s<=l?Math.floor(dayOfYear(l,s)/7)+1:isoWeekOfYear(l,t-1)}function timezone(l){var t=l.getTimezoneOffset(),e=Math.abs(t);return(t>0?"-":"+")+pad(Math.floor(e/60),2,"0")+pad(Math.floor(e%60),2,"0")}var FORMATTERS={a:function(l){return CONSTANTS.shortDays[l.getDay()]},A:function(l){return CONSTANTS.days[l.getDay()]},b:function(l){return CONSTANTS.shortMonths[l.getMonth()]},B:function(l){return CONSTANTS.months[l.getMonth()]},c:"%x, %X",d:function(l,t){return pad(l.getDate(),2,t??"0")},e:"%_d",f:function(l,t){return pad(1e3*l.getMilliseconds(),6,t??"0")},H:function(l,t){return pad(l.getHours(),2,t??"0")},I:function(l,t){var e=l.getHours()%12;return 0===e?"12":pad(e,2,t??"0")},j:function(l,t){return pad(dayOfYear(l)+1,3,t??"0")},m:function(l,t){return pad(l.getMonth()+1,2,t??"0")},M:function(l,t){return pad(l.getMinutes(),2,t??"0")},L:function(l,t){return pad(l.getMilliseconds(),3,t??"0")},p:function(l){return l.getHours()<12?"AM":"PM"},Q:function(l){return String(l.getTime())},s:function(l){return String(Math.floor(l.getTime()/1e3))},S:function(l,t){return pad(l.getSeconds(),2,t??"0")},u:function(l){var t=l.getDay();return t<1&&(t+=7),String(t%7)},U:function(l,t){return pad(weekOfYear(l,SUNDAY),2,t??"0")},V:function(l,t){return pad(isoWeekOfYear(l),2,t??"0")},w:function(l,t){return pad(l.getDay(),2,t??"0")},W:function(l,t){return pad(weekOfYear(l,MONDAY),2,t??"0")},x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:function(l,t){return pad(l.getFullYear()%100,2,t??"0")},Y:function(l,t){return pad(l.getFullYear(),4,t??"0")},Z:function(l){return timezone(l)},"%":function(){return"%"}},PADS={_:" ",0:"0","-":""};function pad(l,t,e){var n=String(Math.floor(l));return n.length>=t?n:""+e.repeat(t-n.length)+n}function buildFormatter(l){for(var t=[];l.length>0;){var e=l.indexOf("%");if(0!==e){var n=e>0?l.substring(0,e):l;t.push(n)}if(e<0)break;var s=PADS[l[e+1]];null!=s&&e++;var d=l[e+1],v=FORMATTERS[d];if("function"==typeof v)t.push([v,s]);else if("string"==typeof v){var C=buildFormatter(v);t.push([C,s])}else t.push(""+(s??"")+d);l=l.substring(e+2)}return function(m){var w="number"==typeof m?new Date(m):m;return t.map(function(D){return"string"==typeof D?D:D[0](w,D[1])}).join("")}}var __extends$2A=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__values$u=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$P=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$t=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$P(arguments[t]));return l},_a$1,DefaultTimeFormats=(()=>(function(l){l[l.MILLISECOND=0]="MILLISECOND",l[l.SECOND=1]="SECOND",l[l.MINUTE=2]="MINUTE",l[l.HOUR=3]="HOUR",l[l.WEEK_DAY=4]="WEEK_DAY",l[l.SHORT_MONTH=5]="SHORT_MONTH",l[l.MONTH=6]="MONTH",l[l.SHORT_YEAR=7]="SHORT_YEAR",l[l.YEAR=8]="YEAR"}(DefaultTimeFormats||(DefaultTimeFormats={})),DefaultTimeFormats))(),formatStrings=(_a$1={},_a$1[DefaultTimeFormats.MILLISECOND]=".%L",_a$1[DefaultTimeFormats.SECOND]=":%S",_a$1[DefaultTimeFormats.MINUTE]="%I:%M",_a$1[DefaultTimeFormats.HOUR]="%I %p",_a$1[DefaultTimeFormats.WEEK_DAY]="%a",_a$1[DefaultTimeFormats.SHORT_MONTH]="%b %d",_a$1[DefaultTimeFormats.MONTH]="%B",_a$1[DefaultTimeFormats.SHORT_YEAR]="%y",_a$1[DefaultTimeFormats.YEAR]="%Y",_a$1);function toNumber(l){return l instanceof Date?l.getTime():l}var TimeScale$1=function(l){function t(){var e=l.call(this,[new Date(2022,11,7),new Date(2022,11,8)],[0,1])||this;return e.type="time",e.cacheProps=["domain","range","nice","tickCount","interval"],e.year=year,e.month=month,e.week=sunday,e.day=day,e.hour=hour,e.minute=minute,e.second=second,e.millisecond=millisecond,e.tickIntervals=[[e.second,1,durationSecond],[e.second,5,5*durationSecond],[e.second,15,15*durationSecond],[e.second,30,30*durationSecond],[e.minute,1,durationMinute],[e.minute,5,5*durationMinute],[e.minute,15,15*durationMinute],[e.minute,30,30*durationMinute],[e.hour,1,durationHour],[e.hour,3,3*durationHour],[e.hour,6,6*durationHour],[e.hour,12,12*durationHour],[e.day,1,durationDay],[e.day,2,2*durationDay],[e.week,1,durationWeek],[e.week,2,2*durationWeek],[e.week,3,3*durationWeek],[e.month,1,durationMonth],[e.month,2,2*durationMonth],[e.month,3,3*durationMonth],[e.month,4,4*durationMonth],[e.month,6,6*durationMonth],[e.year,1,durationYear]],e}return __extends$2A(t,l),t.prototype.toDomain=function(e){return new Date(e)},t.prototype.calculateDefaultTickFormat=function(e){var n,o;void 0===e&&(e=[]);var N,s=DefaultTimeFormats.YEAR;try{for(var v=__values$u(e),C=v.next();!C.done;C=v.next()){(N=this.getLowestGranularityFormat(C.value))<s&&(s=N)}}catch(N){n={error:N}}finally{try{C&&!C.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}var D=toNumber(e[0]),b=toNumber(e[e.length-1]),T=new Date(D).getFullYear(),A=new Date(b).getFullYear();return this.buildFormatString(s,A-T>0)},t.prototype.buildFormatString=function(e,n){var o=[formatStrings[e]],s=0,d=this.getDomain(),v=Math.min.apply(Math,__spread$t(d.map(toNumber))),m=Math.max.apply(Math,__spread$t(d.map(toNumber)))-v;switch(e){case DefaultTimeFormats.SECOND:m/durationMinute>1&&o.push(formatStrings[DefaultTimeFormats.MINUTE]);case DefaultTimeFormats.MINUTE:m/durationHour>1&&o.push(formatStrings[DefaultTimeFormats.HOUR]);case DefaultTimeFormats.HOUR:s=o.length,m/durationDay>1&&o.push(formatStrings[DefaultTimeFormats.WEEK_DAY]);case DefaultTimeFormats.WEEK_DAY:if(m/durationWeek>1||n){var w=o.indexOf(formatStrings[DefaultTimeFormats.WEEK_DAY]);w>-1&&o.splice(w,1,formatStrings[DefaultTimeFormats.SHORT_MONTH])}case DefaultTimeFormats.SHORT_MONTH:case DefaultTimeFormats.MONTH:(m/durationYear>1||n)&&o.push(formatStrings[DefaultTimeFormats.YEAR])}return s<o.length&&(o=__spread$t(o.slice(0,s),[o.slice(s).join(" ")])),s>0&&s<(o=__spread$t(o.slice(0,s).reverse(),o.slice(s))).length&&o.splice(s,0," "),o.join("")},t.prototype.getLowestGranularityFormat=function(e){return this.second.floor(e)<e?DefaultTimeFormats.MILLISECOND:this.minute.floor(e)<e?DefaultTimeFormats.SECOND:this.hour.floor(e)<e?DefaultTimeFormats.MINUTE:this.day.floor(e)<e?DefaultTimeFormats.HOUR:this.month.floor(e)<e?this.week.floor(e)<e?DefaultTimeFormats.WEEK_DAY:DefaultTimeFormats.SHORT_MONTH:this.year.floor(e)<e?DefaultTimeFormats.MONTH:DefaultTimeFormats.YEAR},t.prototype.defaultTickFormat=function(e){var n=this.calculateDefaultTickFormat(e);return function(o){return buildFormatter(n)(o)}},t.prototype.getTickInterval=function(e){for(var n,C,m,o=e.start,s=e.stop,v=this.tickIntervals,w=e.count??ContinuousScale.defaultTickCount,D=Math.abs(s-o)/Math.max(w-1,1),b=0;b<v.length&&D>v[b][2];)b++;return 0===b?(m=Math.max(tickStep(o,s,w),1),C=this.millisecond):b===v.length?(m=tickStep(o/durationYear,s/durationYear,w),C=this.year):(C=(n=__read$P(v[D-v[b-1][2]<v[b][2]-D?b-1:b],2))[0],m=n[1]),C.every(m)},t.prototype.invert=function(e){return new Date(l.prototype.invert.call(this,e))},t.prototype.ticks=function(){if(!this.domain||this.domain.length<2)return[];this.refresh();var e=__read$P(this.getDomain().map(toNumber),2),n=e[0],o=e[1];if(void 0!==this.interval)return this.getTicksForInterval({start:n,stop:o});if(this.nice){var s=this.tickCount;if(2===s)return this.niceDomain;if(1===s)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:n,stop:o})},t.prototype.getDefaultTicks=function(e){var n=e.start,o=e.stop,s=this.getTickInterval({start:n,stop:o,count:this.tickCount});return s?s.range(new Date(n),new Date(o)):[]},t.prototype.getTicksForInterval=function(e){var n=e.start,o=e.stop,d=this.interval,v=this.tickIntervals;if(!d)return[];if(d instanceof TimeInterval){var C=d.range(new Date(n),new Date(o));return this.isDenseInterval({start:n,stop:o,interval:d,count:C.length})?this.getDefaultTicks({start:n,stop:o}):C}var m=Math.abs(d);if(this.isDenseInterval({start:n,stop:o,interval:m}))return this.getDefaultTicks({start:n,stop:o});var w=v.reverse().find(function(I){return m%I[2]==0});if(w)return w[0].every(m/(w[2]/w[1])).range(new Date(n),new Date(o));for(var b=new Date(n),T=new Date(o),A=[];b<=T;)A.push(b),(b=new Date(b)).setMilliseconds(b.getMilliseconds()+m);return A},t.prototype.tickFormat=function(e){var o=e.specifier;return null==o?this.defaultTickFormat(e.ticks):buildFormatter(o)},t.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},t.prototype.updateNiceDomain=function(){var C,e=__read$P(this.domain,2),n=e[0],o=e[1],s=toNumber(n),d=toNumber(o),v=this.interval;if(v instanceof TimeInterval)C=v;else{var m="number"==typeof v?(d-s)/Math.max(v,1):this.tickCount;C=this.getTickInterval({start:s,stop:d,count:m})}if(C){var w=C.range(n,o,!0);this.niceDomain=[w[0],w[w.length-1]]}},t}(ContinuousScale),__values$t=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function extent$4(l){var t=l.length;if(0!==t){for(var e=1/0,n=-1/0,o=0;o<t;o++){var s=l[o];s instanceof Date&&(s=s.getTime()),"number"==typeof s&&(s<e&&(e=s),s>n&&(n=s))}var d=[e,n];if(!d.some(function(v){return!isFinite(v)}))return d}}function findMinMax(l){var t,e,n=void 0,o=void 0;try{for(var s=__values$t(l),d=s.next();!d.done;d=s.next()){var v=d.value;v<0?n=(n??0)+v:v>=0&&(o=(o??0)+v)}}catch(C){t={error:C}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return{min:n,max:o}}var __values$s=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},EnterNode=function(){function l(t,e){this.next=null,this.layerManager=t.layerManager,this.parent=t,this.datum=e}return l.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!Node.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},l.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},l}(),Selection=function(){function l(t,e){this.groups=t,this.parents=e}return l.select=function(t){return new l([["function"==typeof t?t():t]],[void 0])},l.selectAll=function(t){return new l([t??[]],[void 0])},l.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},l.prototype.select=function(t){for(var e=this.groups,n=e.length,o=[],s=0;s<n;s++)for(var d=e[s],v=d.length,C=o[s]=new Array(v),m=0;m<v;m++){var w=d[m];if(w){var D=t(w,w.datum,m,d);D&&(D.datum=w.datum),C[m]=D}}return new l(o,this.parents)},l.prototype.selectByClass=function(t){return this.select(function(e){if(Node.isNode(e))for(var n=e.children,o=n.length,s=0;s<o;s++){var d=n[s];if(d instanceof t)return d}})},l.prototype.selectByTag=function(t){return this.select(function(e){if(Node.isNode(e))for(var n=e.children,o=n.length,s=0;s<o;s++){var d=n[s];if(d.tag===t)return d}})},l.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var n=[];if(Node.isNode(e))for(var o=e.children,s=o.length,d=0;d<s;d++){var v=o[d];v instanceof t&&n.push(v)}return n})},l.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var n=[];if(Node.isNode(e))for(var o=e.children,s=o.length,d=0;d<s;d++){var v=o[d];v.tag===t&&n.push(v)}return n})},l.prototype.selectNone=function(){return[]},l.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],n=[],o=this.groups,s=o.length,d=0;d<s;d++)for(var v=o[d],C=v.length,m=0;m<C;m++){var w=v[m];w&&(e.push(t(w,w.datum,m,v)),n.push(w))}return new l(e,n)},l.prototype.each=function(t){var e,n,o,s;try{for(var d=__values$s(this.groups),v=d.next();!v.done;v=d.next()){var C=v.value,m=0;try{for(var w=(o=void 0,__values$s(C)),D=w.next();!D.done;D=w.next()){var b=D.value;b&&t(b,b.datum,m,C),m++}}catch(T){o={error:T}}finally{try{D&&!D.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}}}catch(T){e={error:T}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}return this},l.prototype.remove=function(){return this.each(function(t){if(Node.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},l.prototype.merge=function(t){for(var e=this.groups,n=t.groups,o=e.length,d=Math.min(o,n.length),v=new Array(o),C=0;C<d;C++)for(var m=e[C],w=n[C],D=m.length,b=v[C]=new Array(D),T=0;T<D;T++)b[T]=m[T]||w[T]||void 0;for(;C<o;C++)v[C]=e[C];return new l(v,this.parents)},l.prototype.node=function(){for(var t=this.groups,e=t.length,n=0;n<e;n++)for(var o=t[n],s=o.length,d=0;d<s;d++){var v=o[d];if(v)return v}return null},l.prototype.attr=function(t,e){return this.each(function(n){n[t]=e}),this},l.prototype.attrFn=function(t,e){return this.each(function(n,o,s,d){n[t]=e(n,o,s,d)}),this},l.prototype.call=function(t){return t(this),this},Object.defineProperty(l.prototype,"size",{get:function(){var t,e,n,o,s=0;try{for(var d=__values$s(this.groups),v=d.next();!v.done;v=d.next()){var C=v.value;try{for(var m=(n=void 0,__values$s(C)),w=m.next();!w.done;w=m.next())w.value&&s++}catch(b){n={error:b}}finally{try{w&&!w.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}}}catch(b){t={error:b}}finally{try{v&&!v.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}return s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){var t,e,n,o,s=new Array(this.size),d=0;try{for(var v=__values$s(this.groups),C=v.next();!C.done;C=v.next()){var m=C.value;try{for(var w=(n=void 0,__values$s(m)),D=w.next();!D.done;D=w.next()){var b=D.value;b&&(s[d++]=b.datum)}}catch(T){n={error:T}}finally{try{D&&!D.done&&(o=w.return)&&o.call(w)}finally{if(n)throw n.error}}}}catch(T){t={error:T}}finally{try{C&&!C.done&&(e=v.return)&&e.call(v)}finally{if(t)throw t.error}}return s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"enter",{get:function(){return new l(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"exit",{get:function(){return new l(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!1,configurable:!0}),l.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(l.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!1,configurable:!0}),l.prototype.setData=function(t,e){if("function"!=typeof t){var n=t;t=function(){return n}}for(var o=this.groups,s=this.parents,d=o.length,v=new Array(d),C=new Array(d),m=new Array(d),w=0;w<d;w++){var D=o[w],b=s[w];if(!b)throw new Error("Group #"+w+" has no parent: "+D);var T=D.length,A=t(b,b.datum,w,s),I=A.length,N=C[w]=new Array(I),G=v[w]=new Array(I),V=m[w]=new Array(T);e?this.bindKey(b,D,N,G,V,A,e):this.bindIndex(b,D,N,G,V,A);for(var W=0,j=0;W<I;W++){var K=N[W];if(K){W>=j&&(j=W+1);for(var Y=G[j];!Y&&j<I;)Y=G[++j];K.next=Y||null}}}var re=new l(v,s);return re.enterGroups=C,re.exitGroups=m,re},l.prototype.bindIndex=function(t,e,n,o,s,d){for(var v=e.length,C=d.length,m=0;m<C;m++)(w=e[m])?(w.datum=d[m],o[m]=w):n[m]=new EnterNode(t,d[m]);for(;m<v;m++){var w;(w=e[m])&&(s[m]=w)}},l.prototype.bindKey=function(t,e,n,o,s,d,v){for(var C=e.length,m=d.length,w=new Array(C),D={},b=0;b<C;b++)(T=e[b])&&((A=w[b]=l.keyPrefix+v(T,T.datum,b,e))in D?s[b]=T:D[A]=T);for(b=0;b<m;b++){var A;(T=D[A=l.keyPrefix+v(t,d[b],b,d)])?(o[b]=T,T.datum=d[b],D[A]=void 0):n[b]=new EnterNode(t,d[b])}for(b=0;b<C;b++){var T;(T=e[b])&&D[w[b]]===T&&(s[b]=T)}},l.keyPrefix="$",l}(),__extends$2z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1N=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Shape=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastInstanceId=0,e.fillOpacity=1,e.strokeOpacity=1,e.fill=t.defaultStyles.fill,e.stroke=t.defaultStyles.stroke,e.strokeWidth=t.defaultStyles.strokeWidth,e.lineDash=t.defaultStyles.lineDash,e.lineDashOffset=t.defaultStyles.lineDashOffset,e.lineCap=t.defaultStyles.lineCap,e.lineJoin=t.defaultStyles.lineJoin,e.opacity=t.defaultStyles.opacity,e.fillShadow=t.defaultStyles.fillShadow,e}return __extends$2z(t,l),t.createInstance=function(e){var n=Object.create(e);return n._setParent(void 0),n.id=e.id+"-Instance-"+String(++e.lastInstanceId),n},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,n=Object.getOwnPropertyNames(e),o=0,s=n.length;o<s;o++){var d=n[o];this[d]=e[d]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var n in e)this[n]=e[n]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,n=Object.getPrototypeOf(e);for(var o in e)e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(this[o]=e[o])},t.prototype.align=function(e,n){var o,s,d,v=null!==(d=null===(s=null===(o=this.layerManager)||void 0===o?void 0:o.canvas)||void 0===s?void 0:s.pixelRatio)&&void 0!==d?d:1,C=Math.round(e*v)/v;return null==n?C:0===n?0:n<1?Math.ceil(n*v)/v:Math.round((n+e)*v)/v-C},t.prototype.fillStroke=function(e){if(this.layerManager){var n=this.layerManager.canvas.pixelRatio||1,o=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=o*this.opacity*this.fillOpacity;var s=this.fillShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*n,e.shadowOffsetY=s.yOffset*n,e.shadowBlur=s.blur*n),e.fill()}e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth&&(e.strokeStyle=this.stroke,e.globalAlpha=o*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),e.stroke())}},t.prototype.containsPoint=function(e,n){return this.isPointInPath(e,n)},t.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"fillOpacity",void 0),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"strokeOpacity",void 0),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"fill",void 0),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"stroke",void 0),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"strokeWidth",void 0),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"lineDash",void 0),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"lineDashOffset",void 0),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"lineCap",void 0),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"lineJoin",void 0),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR,convertor:function(e){return Math.min(1,Math.max(0,e))}})],t.prototype,"opacity",void 0),__decorate$1N([SceneChangeDetection({redraw:RedrawType.MINOR,checkDirtyOnAssignment:!0})],t.prototype,"fillShadow",void 0),t}(Node),__extends$2y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1M=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Line=function(l){function t(){var e=l.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return __extends$2y(t,l),t.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.render=function(e){var n,o=e.ctx,d=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){this.computeTransformMatrix(),this.matrix.toContext(o);var v=this.x1,C=this.y1,m=this.x2,w=this.y2;if(v===m){var D=Math.round(v)+Math.floor(this.strokeWidth)%2/2;v=D,m=D}else if(C===w){var b=Math.round(C)+Math.floor(this.strokeWidth)%2/2;C=b,w=b}o.beginPath(),o.moveTo(v,C),o.lineTo(m,w),this.fillStroke(o),null===(n=this.fillShadow)||void 0===n||n.markClean(),l.prototype.render.call(this,e)}else d&&(d.nodesSkipped+=this.nodeCount.count)},t.className="Line",t.defaultStyles=Object.assign({},Shape.defaultStyles,{fill:void 0,strokeWidth:1}),__decorate$1M([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"x1",void 0),__decorate$1M([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"y1",void 0),__decorate$1M([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"x2",void 0),__decorate$1M([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"y2",void 0),t}(Shape),__extends$2x=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1L=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function SceneFontChangeDetection(l){var t=l||{},e=t.redraw;return SceneChangeDetection({redraw:void 0===e?RedrawType.MAJOR:e,type:"font",changeCb:t.changeCb})}var Text=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.x=0,e.y=0,e.lines=[],e.text="",e._dirtyFont=!0,e.fontSize=10,e.fontFamily="sans-serif",e.textAlign=t.defaultStyles.textAlign,e.textBaseline=t.defaultStyles.textBaseline,e.lineHeight=14,e}return __extends$2x(t,l),t.prototype._splitText=function(){this.lines="string"==typeof this.text?this.text.split(/\r?\n/g):[]},Object.defineProperty(t.prototype,"font",{get:function(){return this._dirtyFont&&(this._dirtyFont=!1,this._font=getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!1,configurable:!0}),t.prototype.computeBBox=function(){return HdpiCanvas.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=HdpiCanvas.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new BBox(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=HdpiCanvas.getTextSize(this.text,this.font),o=this.x,s=this.y;switch(this.textAlign){case"end":case"right":o-=e.width;break;case"center":o-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new BBox(o,s,e.width,e.height)},t.prototype.isPointInPath=function(e,n){var o=this.transformPoint(e,n),s=this.computeBBox();return!!s&&s.containsPoint(o.x,o.y)},t.prototype.render=function(e){var n=e.ctx,s=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender)if(this.lines.length&&this.layerManager){this.computeTransformMatrix(),this.matrix.toContext(n);var d=this,v=d.fill,C=d.stroke,m=d.strokeWidth;n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline;var w=this.layerManager.canvas.pixelRatio||1,D=n.globalAlpha;if(v){n.fillStyle=v,n.globalAlpha=D*this.opacity*this.fillOpacity;var b=this,T=b.fillShadow,A=b.text,I=b.x,N=b.y;T&&T.enabled&&(n.shadowColor=T.color,n.shadowOffsetX=T.xOffset*w,n.shadowOffsetY=T.yOffset*w,n.shadowBlur=T.blur*w),n.fillText(A,I,N)}if(C&&m){n.strokeStyle=C,n.lineWidth=m,n.globalAlpha=D*this.opacity*this.strokeOpacity;var G=this,V=G.lineDash,W=G.lineDashOffset,j=G.lineCap,K=G.lineJoin;A=G.text,I=G.x,N=G.y,V&&n.setLineDash(V),W&&(n.lineDashOffset=W),j&&(n.lineCap=j),K&&(n.lineJoin=K),n.strokeText(A,I,N)}l.prototype.render.call(this,e)}else s&&(s.nodesSkipped+=this.nodeCount.count);else s&&(s.nodesSkipped+=this.nodeCount.count)},t.className="Text",t.defaultStyles=Object.assign({},Shape.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),__decorate$1L([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"x",void 0),__decorate$1L([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"y",void 0),__decorate$1L([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(e){return e._splitText()}})],t.prototype,"text",void 0),__decorate$1L([SceneFontChangeDetection()],t.prototype,"fontStyle",void 0),__decorate$1L([SceneFontChangeDetection()],t.prototype,"fontWeight",void 0),__decorate$1L([SceneFontChangeDetection()],t.prototype,"fontSize",void 0),__decorate$1L([SceneFontChangeDetection()],t.prototype,"fontFamily",void 0),__decorate$1L([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"textAlign",void 0),__decorate$1L([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"textBaseline",void 0),__decorate$1L([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"lineHeight",void 0),t}(Shape);function getFont(l,t,e,n){return[e||"",n||"",l+"px",t].join(" ").trim()}var __extends$2w=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1K=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function ScenePathChangeDetection(l){var t=l||{},e=t.redraw;return SceneChangeDetection({redraw:void 0===e?RedrawType.MAJOR:e,type:"path",convertor:t.convertor,changeCb:t.changeCb})}var Path=function(l){function t(e){var n=l.call(this)||this;return n.renderOverride=e,n.path=new Path2D,n._dirtyPath=!0,n}return __extends$2w(t,l),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(this,RedrawType.MAJOR))},enumerable:!1,configurable:!0}),t.prototype.checkPathDirty=function(){var e,n;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(n=null===(e=this.fillShadow)||void 0===e?void 0:e.isDirty())&&void 0!==n&&n)},t.prototype.isPointInPath=function(e,n){var o=this.transformPoint(e,n);return this.path.closedPath&&this.path.isPointInPath(o.x,o.y)},t.prototype.isDirtyPath=function(){},t.prototype.updatePath=function(){},t.prototype.render=function(e){var n,o,s=e.ctx,v=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){if(this.computeTransformMatrix(),this.matrix.toContext(s),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(s.save(),"normal"===this.clipMode&&(this.clipPath.draw(s),s.clip()),this.renderOverride?this.renderOverride(s):(this.path.draw(s),this.fillStroke(s)),"punch-out"===this.clipMode){this.clipPath.draw(s),s.clip();var C=null!==(n=this.computeBBox())&&void 0!==n?n:{},m=C.x,D=C.y,T=C.width,I=C.height;s.clearRect(void 0===m?-1e4:m,void 0===D?-1e4:D,void 0===T?2e4:T,void 0===I?2e4:I)}s.restore()}else this.renderOverride?this.renderOverride(s):(this.path.draw(s),this.fillStroke(s));null===(o=this.fillShadow)||void 0===o||o.markClean(),l.prototype.render.call(this,e)}else v&&(v.nodesSkipped+=this.nodeCount.count)},t.className="Path",__decorate$1K([ScenePathChangeDetection()],t.prototype,"clipPath",void 0),__decorate$1K([ScenePathChangeDetection()],t.prototype,"clipMode",void 0),t}(Shape);function isEqual$2(l,t,e){return void 0===e&&(e=1e-10),Math.abs(l-t)<e}function toFixed(l,t){void 0===t&&(t=2);var e=Math.floor(Math.log(Math.abs(l))/Math.LN10);return e>=0||!isFinite(e)?l.toFixed(t):l.toFixed(Math.abs(e)-1+t)}function mod(l,t){return l>=0?Math.floor(l%t):Math.floor(l%t+t)}var __extends$2v=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1J=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ArcType=(()=>(function(l){l[l.Open=0]="Open",l[l.Chord=1]="Chord",l[l.Round=2]="Round"}(ArcType||(ArcType={})),ArcType))(),Arc=function(l){function t(){var e=l.call(this)||this;return e.centerX=0,e.centerY=0,e.radius=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=ArcType.Open,e.restoreOwnStyles(),e}return __extends$2v(t,l),Object.defineProperty(t.prototype,"fullPie",{get:function(){return isEqual$2(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle))},enumerable:!1,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===ArcType.Chord?e.closePath():this.type===ArcType.Round&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new BBox(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)},t.prototype.isPointInPath=function(e,n){var o=this.transformPoint(e,n),s=this.computeBBox();return this.type!==ArcType.Open&&s.containsPoint(o.x,o.y)&&this.path.isPointInPath(o.x,o.y)},t.className="Arc",t.defaultStyles=Object.assign({},Shape.defaultStyles,{lineWidth:1,fillStyle:null}),__decorate$1J([ScenePathChangeDetection()],t.prototype,"centerX",void 0),__decorate$1J([ScenePathChangeDetection()],t.prototype,"centerY",void 0),__decorate$1J([ScenePathChangeDetection()],t.prototype,"radius",void 0),__decorate$1J([ScenePathChangeDetection()],t.prototype,"startAngle",void 0),__decorate$1J([ScenePathChangeDetection()],t.prototype,"endAngle",void 0),__decorate$1J([ScenePathChangeDetection()],t.prototype,"counterClockwise",void 0),__decorate$1J([ScenePathChangeDetection()],t.prototype,"type",void 0),t}(Path),__decorate$1I=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Caption=function(){function l(){this.node=new Text,this.enabled=!1,this._text="",this._fontSize=10,this._fontFamily="sans-serif",this.spacing=l.PADDING;var t=this.node;t.textAlign="center",t.textBaseline="top",t.pointerEvents=PointerEvents.None}return Object.defineProperty(l.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this.node.text=this._text},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle=t,this.node.fontStyle=this._fontStyle},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight=t,this.node.fontWeight=this._fontWeight},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t,this.node.fontSize=this._fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t,this.node.fontFamily=this._fontFamily},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.node.fill=this._color},enumerable:!1,configurable:!0}),l.PADDING=10,__decorate$1I([Validate(BOOLEAN)],l.prototype,"enabled",void 0),__decorate$1I([Validate(STRING)],l.prototype,"_text",void 0),__decorate$1I([Validate(OPT_FONT_STYLE)],l.prototype,"_fontStyle",void 0),__decorate$1I([Validate(OPT_FONT_WEIGHT)],l.prototype,"_fontWeight",void 0),__decorate$1I([Validate(NUMBER(0))],l.prototype,"_fontSize",void 0),__decorate$1I([Validate(STRING)],l.prototype,"_fontFamily",void 0),__decorate$1I([Validate(OPT_COLOR_STRING)],l.prototype,"_color",void 0),__decorate$1I([Validate(OPT_NUMBER(0))],l.prototype,"spacing",void 0),l}(),Layers=(()=>(function(l){l[l.SERIES_BACKGROUND_ZINDEX=-10]="SERIES_BACKGROUND_ZINDEX",l[l.AXIS_GRIDLINES_ZINDEX=0]="AXIS_GRIDLINES_ZINDEX",l[l.AXIS_ZINDEX=20]="AXIS_ZINDEX",l[l.SERIES_CROSSLINE_RANGE_ZINDEX=30]="SERIES_CROSSLINE_RANGE_ZINDEX",l[l.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",l[l.SERIES_LABEL_ZINDEX=1e3]="SERIES_LABEL_ZINDEX",l[l.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",l[l.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX"}(Layers||(Layers={})),Layers))();function circleRectOverlap(l,t,e,n,o){var v=l.x-(l.x<t?t:l.x>t+n?t+n:l.x),C=l.y-(l.y<e?e:l.y>e+o?e+o:l.y);return Math.sqrt(v*v+C*C)<=.5*l.size}function rectRectOverlap(l,t,e,n,o){return l.x+l.width>t&&l.x<t+n&&l.y+l.height>e&&l.y<e+o}function rectContainsRect(l,t,e,n,o){return t+n<l.x+l.width&&t>l.x&&e>l.y&&e+o<l.y+l.height}function isPointLabelDatum(l){return null!=l&&"object"==typeof l.point&&"object"==typeof l.label}function placeLabels(l,t,e){void 0===e&&(e=5);var n=[];l=l.map(function(w){return w.slice().sort(function(D,b){return b.point.size-D.point.size})});for(var o=0;o<l.length;o++){var s=n[o]=[],d=l[o];if(d&&d.length&&d[0].label)for(var v=function(w,D){var b=d[w],T=b.label,I=b.point.x-.5*T.width,N=b.point.y-.5*b.point.size-T.height-e,G=T.width,V=T.height;return!t||rectContainsRect(t,I,N,G,V)?l.some(function(Y){return Y.some(function(re){return circleRectOverlap(re.point,I,N,G,V)})})||n.some(function(Y){return Y.some(function(re){return rectRectOverlap(re,I,N,G,V)})})?"continue":void s.push({index:w,text:T.text,x:I,y:N,width:G,height:V,datum:b}):"continue"},C=0,m=d.length;C<m;C++)v(C)}return n}function axisLabelsOverlap(l,t){for(var e=[],n=function(d){var v=l[d],C=v.point,m=C.x,w=C.y,D=v.label,b=D.width,T=D.height,A=D.text;if(b+=t??0,T+=t??0,e.some(function(N){return rectRectOverlap(N,m,w,b,T)}))return{value:!0};e.push({index:d,text:A,x:m,y:w,width:b,height:T,datum:v})},o=0;o<l.length;o++){var s=n(o);if("object"==typeof s)return s.value}return!1}var __read$O=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$s=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$O(arguments[t]));return l},_a,group=function(l){return"("+l+")"},optionalGroup=function(l){return group(l)+"?"},nonCapturingGroup=function(l){return optionalGroup("?:"+l)},formatRegEx=new RegExp(["^",nonCapturingGroup(""+optionalGroup(".")+group("[<>=^]")),optionalGroup("[+\\-( ]"),optionalGroup("[$\u20ac\xa3\xa5\u20a3\u20b9#]"),optionalGroup("0"),optionalGroup("\\d+"),optionalGroup(","),nonCapturingGroup("\\."+group("\\d+")),optionalGroup("~"),optionalGroup("[%a-z]"),"$"].join(""),"i"),surroundedRegEx=new RegExp(["^",group(".*?"),"#\\{"+group(".+?")+"\\}",group(".*?"),"$"].join(""));function parseFormatter(l){var t,e,n,o=l.match(surroundedRegEx);o&&(e=(t=__read$O(o,4))[1],l=t[2],n=t[3]);var s=l.match(formatRegEx);if(!s)throw new Error("The number formatter is invalid: "+l);var d=__read$O(s,11),T=d[7],A=d[8],I=d[9],N=d[10];return{fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:parseInt(d[6]),comma:T,precision:parseInt(A),trim:Boolean(I),type:N,prefix:e,suffix:n}}function format(l){var G,t="string"==typeof l?parseFormatter(l):l,e=t.fill,n=t.align,o=t.sign,s=void 0===o?"-":o,d=t.symbol,v=t.zero,C=t.width,m=t.comma,w=t.precision,D=t.trim,b=t.type,T=t.prefix,A=void 0===T?"":T,I=t.suffix,N=void 0===I?"":I;if(b)if(b in decimalTypes&&b in integerTypes)G=isNaN(w)?integerTypes[b]:decimalTypes[b];else if(b in decimalTypes)G=decimalTypes[b];else{if(!(b in integerTypes))throw new Error("The number formatter type is invalid: "+b);G=integerTypes[b]}else G=decimalTypes.g,D=!0;return isNaN(w)&&(w=b?6:12),function(V){var W=G(V,w);return D&&(W=removeTrailingZeros(W)),W=addSign(V,W,s),d&&"#"!==d&&(W=""+d+W),"#"===d&&"x"===b&&(W="0x"+W),m&&(W=insertSeparator(W,m)),"s"===b&&(W=""+W+getSIPrefix(V)),("%"===b||"p"===b)&&(W+="%"),isNaN(C)||(W=addPadding(W,C,e||v,n)),""+A+W+N}}var absFloor=function(l){return Math.floor(Math.abs(l))},integerTypes={b:function(l){return absFloor(l).toString(2)},c:function(l){return String.fromCharCode(l)},d:function(l){return Math.round(Math.abs(l)).toFixed(0)},o:function(l){return absFloor(l).toString(8)},x:function(l){return absFloor(l).toString(16)},X:function(l){return integerTypes.x(l).toUpperCase()},n:function(l){return integerTypes.d(l)},"%":function(l){return""+absFloor(100*l).toFixed(0)}},decimalTypes={e:function(l,t){return Math.abs(l).toExponential(t)},E:function(l,t){return decimalTypes.e(l,t).toUpperCase()},f:function(l,t){return Math.abs(l).toFixed(t)},F:function(l,t){return decimalTypes.f(l,t).toUpperCase()},g:function(l,t){if(0===l)return"0";var e=Math.abs(l),n=Math.floor(Math.log10(e));return n>=-4&&n<t?e.toFixed(t-1-n):e.toExponential(t-1)},G:function(l,t){return decimalTypes.g(l,t).toUpperCase()},n:function(l,t){return decimalTypes.g(l,t)},p:function(l,t){return decimalTypes.r(100*l,t)},r:function(l,t){if(0===l)return"0";var e=Math.abs(l),o=Math.floor(Math.log10(e))-(t-1);if(o<=0)return e.toFixed(-o);var s=Math.pow(10,o);return(Math.round(e/s)*s).toFixed()},s:function(l,t){var e=getSIPrefixPower(l);return decimalTypes.r(l/Math.pow(10,e),t)},"%":function(l,t){return decimalTypes.f(100*l,t)}};function removeTrailingZeros(l){return l.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function insertSeparator(l,t){var e=l.indexOf(".");e<0&&(e=l.length);for(var n=l.substring(0,e).split(""),o=l.substring(e),s=n.length-3;s>0;s-=3)n.splice(s,0,t);return""+n.join("")+o}function getSIPrefix(l){return siPrefixes[getSIPrefixPower(l)]}function getSIPrefixPower(l){var t=Math.log10(Math.abs(l)),e=3*Math.floor(t/3);return Math.max(minSIPrefix,Math.min(maxSIPrefix,e))}var minSIPrefix=-24,maxSIPrefix=24,siPrefixes=(_a={},_a[minSIPrefix]="y",_a[-21]="z",_a[-18]="a",_a[-15]="f",_a[-12]="p",_a[-9]="n",_a[-6]="\xb5",_a[-3]="m",_a[0]="",_a[3]="k",_a[6]="M",_a[9]="G",_a[12]="T",_a[15]="P",_a[18]="E",_a[21]="Z",_a[maxSIPrefix]="Y",_a),minusSign="\u2212";function addSign(l,t,e){return void 0===e&&(e=""),"("===e?l>=0?t:"("+t+")":""+(l>=0?"+"===e?"+":"":minusSign)+t}function addPadding(l,t,e,n){void 0===e&&(e=" "),void 0===n&&(n=">");var o=l;if(">"!==n&&n){if("<"===n)o=o.padEnd(t,e);else if("^"===n){var s=Math.max(0,t-o.length),d=Math.ceil(s/2),v=Math.floor(s/2);o=(o=o.padStart(d+o.length,e)).padEnd(v+o.length,e)}}else o=o.padStart(t,e);return o}function tickFormat(l,t){var e=parseFormatter(t||",f");isNaN(e.precision)&&("f"===e.type||"%"===e.type?e.precision=Math.max.apply(Math,__spread$s(l.map(function(o){if("number"!=typeof o||0===o)return 0;var s=Math.floor(Math.log10(Math.abs(o))),v=o.toExponential((e.type?6:12)-1).replace(/\.?[0]+e/,"e"),C=v.indexOf(".");if(C<0)return s>=0?0:-s;var m=v.indexOf("e")-C;return Math.max(0,m-s-1)}))):(!e.type||e.type in decimalTypes)&&(e.precision=Math.max.apply(Math,__spread$s(l.map(function(o){if("number"!=typeof o)return 0;var s=o.toExponential((e.type?6:12)-1).replace(/\.?[0]+e/,"e");return s.substring(0,s.indexOf("e")).replace(".","").length})))));var n=format(e);return function(o){return n(Number(o))}}var __extends$2u=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1H=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$N=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},identity=function(l){return l},LogScale=function(l){function t(){var e=l.call(this,[1,10],[0,1])||this;return e.type="log",e.base=10,e.cacheProps=["domain","range","nice","tickCount","base"],e.baseLog=identity,e.basePow=identity,e.log=function(n){return e.domain[0]>=0?e.baseLog(n):-e.baseLog(-n)},e.pow=function(n){return e.domain[0]>=0?e.basePow(n):-e.basePow(-n)},e}return __extends$2u(t,l),t.prototype.toDomain=function(e){return e},t.prototype.transform=function(e){return this.domain[0]>=0?Math.log(e):-Math.log(-e)},t.prototype.transformInvert=function(e){return this.domain[0]>=0?Math.exp(e):-Math.exp(-e)},t.prototype.update=function(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())},t.prototype.updateLogFn=function(){var n,e=this.base;if(10===e)n=Math.log10;else if(e===Math.E)n=Math.log;else if(2===e)n=Math.log2;else{var o=Math.log(e);n=function(s){return Math.log(s)/o}}this.baseLog=n},t.prototype.updatePowFn=function(){var n,e=this.base;n=10===e?t.pow10:e===Math.E?Math.exp:function(o){return Math.pow(e,o)},this.basePow=n},t.prototype.updateNiceDomain=function(){var e=__read$N(this.domain,2),o=e[1],s=this.pow(Math.floor(this.log(e[0]))),d=this.pow(Math.ceil(this.log(o)));this.niceDomain=[s,d]},t.pow10=function(e){return e>=0?Math.pow(10,e):1/Math.pow(10,-e)},t.prototype.ticks=function(){var n,e=this,o=null!==(n=this.tickCount)&&void 0!==n?n:10;if(!this.domain||this.domain.length<2||o<1)return[];this.refresh();var s=this.base,d=__read$N(this.getDomain(),2),v=d[0],C=d[1],m=this.log(v),w=this.log(C);if(this.interval){var D=Math.abs(this.interval),b=Math.abs(w-m),T=range(m,w,Math.min(b,D)).map(function(Y){return e.pow(Y)}).filter(function(Y){return Y>=v&&Y<=C});if(!this.isDenseInterval({start:v,stop:C,interval:D,count:T.length}))return T}if(s%1!=0||w-m>=o)return ticks(m,w,Math.min(w-m,o)).map(function(Y){return e.pow(Y)});var N=[],G=v>0;m=Math.floor(m)-1,w=Math.round(w)+1;for(var V=m;V<=w;V++)for(var W=1;W<s;W++){var j=G?W:s-W+1,K=this.pow(V)*j;K>=v&&K<=C&&N.push(K)}return N},t.prototype.tickFormat=function(e){var n=this,o=e.count,s=e.ticks,d=e.specifier,v=this.base;if(null==d&&(d=10===v?".0e":","),"function"!=typeof d&&(d=format(d)),o===1/0)return d;null==o&&(o=10),s=s??this.ticks();var C=Math.max(1,v*o/s.length);return function(m){var w=m/n.pow(Math.round(n.log(m)));return w*v<v-.5&&(w*=v),w<=C?d(m):""}},__decorate$1H([Validate(NUMBER(0))],t.prototype,"base",void 0),t}(ContinuousScale);function Default(l,t){return void 0===t&&(t=[void 0]),addTransformToInstanceProperty(function(e,n,o){return t.includes(o)?l:o})}function createDeprecationWarning(){var l=!1;return function(t,e){if(!l){var n=["AG Charts - Property ["+t+"] is deprecated.",e].filter(function(o){return null!=o}).join(" ");console.warn(n),l=!0}}}function Deprecated(l,t){var e=t?.default,n=createDeprecationWarning();return addTransformToInstanceProperty(function(o,s,d){return d!==e&&n(s.toString(),l),d})}function DeprecatedAndRenamedTo(l){var t=createDeprecationWarning();return addTransformToInstanceProperty(function(e,n,o){return o!==e[l]&&(t(n.toString(),"Use ["+l+"] instead."),e[l]=o),BREAK_TRANSFORM_CHAIN},function(e,n){return t(n.toString(),"Use ["+l+"] instead."),e[l]})}var ChartAxisDirection=(()=>(function(l){l.X="x",l.Y="y"}(ChartAxisDirection||(ChartAxisDirection={})),ChartAxisDirection))(),__decorate$1G=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$M=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$r=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$M(arguments[t]));return l},TICK_COUNT=predicateWithMessage(function(l,t){return NUMBER(0)(l,t)||l instanceof TimeInterval},"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),OPT_TICK_COUNT=predicateWithMessage(function(l,t){return OPTIONAL(l,t,TICK_COUNT)},"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),OPT_TICK_INTERVAL=predicateWithMessage(function(l,t){return OPTIONAL(l,t,function(e,n){return 0!==e&&NUMBER(0)(e,n)||e instanceof TimeInterval})},"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),GRID_STYLE_KEYS=["stroke","lineDash"],GRID_STYLE=predicateWithMessage(ARRAY(void 0,function(l){for(var t in l)if(!GRID_STYLE_KEYS.includes(t))return!1;return!0}),"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'"),Tags=(()=>(function(l){l[l.Tick=0]="Tick",l[l.GridLine=1]="GridLine"}(Tags||(Tags={})),Tags))(),AxisLine=function(){function l(){this.width=1,this.color="rgba(195, 195, 195, 1)"}return __decorate$1G([Validate(NUMBER(0))],l.prototype,"width",void 0),__decorate$1G([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),l}(),AxisTick=function(){function l(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN,this.maxSpacing=NaN}return __decorate$1G([Validate(NUMBER(0))],l.prototype,"width",void 0),__decorate$1G([Validate(NUMBER(0))],l.prototype,"size",void 0),__decorate$1G([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),__decorate$1G([Validate(OPT_TICK_COUNT),Deprecated("Use tick.interval or tick.minSpacing and tick.maxSpacing instead")],l.prototype,"count",void 0),__decorate$1G([Validate(OPT_TICK_INTERVAL)],l.prototype,"interval",void 0),__decorate$1G([Validate(OPT_ARRAY())],l.prototype,"values",void 0),__decorate$1G([Validate(AND(NUMBER_OR_NAN(1),LESS_THAN("maxSpacing"))),Default(NaN)],l.prototype,"minSpacing",void 0),__decorate$1G([Validate(AND(NUMBER_OR_NAN(1),GREATER_THAN("minSpacing"))),Default(NaN)],l.prototype,"maxSpacing",void 0),l}(),AxisLabel=function(){function l(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=void 0,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.format=void 0}return __decorate$1G([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1G([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1G([Validate(NUMBER(1))],l.prototype,"fontSize",void 0),__decorate$1G([Validate(STRING)],l.prototype,"fontFamily",void 0),__decorate$1G([Validate(NUMBER(0))],l.prototype,"padding",void 0),__decorate$1G([Validate(OPT_NUMBER())],l.prototype,"minSpacing",void 0),__decorate$1G([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),__decorate$1G([Validate(OPT_NUMBER(-360,360))],l.prototype,"rotation",void 0),__decorate$1G([Validate(OPT_BOOLEAN)],l.prototype,"autoRotate",void 0),__decorate$1G([Validate(NUMBER(-360,360))],l.prototype,"autoRotateAngle",void 0),__decorate$1G([Validate(BOOLEAN)],l.prototype,"avoidCollisions",void 0),__decorate$1G([Validate(BOOLEAN)],l.prototype,"mirrored",void 0),__decorate$1G([Validate(BOOLEAN)],l.prototype,"parallel",void 0),__decorate$1G([Validate(OPT_STRING)],l.prototype,"format",void 0),l}(),Axis=function(){function l(t){this.id=createId$1(this),this.nice=!0,this.dataDomain=[],this.axisGroup=new Group({name:this.id+"-axis",zIndex:Layers.AXIS_ZINDEX}),this.crossLineGroup=new Group({name:this.id+"-CrossLines"}),this.lineGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Line"})),this.tickGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Tick"})),this.titleGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Title"})),this.tickGroupSelection=Selection.select(this.tickGroup).selectAll(),this.lineNode=this.lineGroup.appendChild(new Line),this.gridlineGroup=new Group({name:this.id+"-gridline",zIndex:Layers.AXIS_GRIDLINES_ZINDEX}),this.gridlineGroupSelection=Selection.select(this.gridlineGroup).selectAll(),this._crossLines=[],this.line=new AxisLine,this.tick=new AxisTick,this.label=new AxisLabel,this.translation={x:0,y:0},this.rotation=0,this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.gridPadding=0,this.thickness=0,this._scale=t,this.refreshScale()}return Object.defineProperty(l.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"crossLines",{get:function(){return this._crossLines},set:function(t){var n,o,e=this;null===(n=this._crossLines)||void 0===n||n.forEach(function(s){return e.detachCrossLine(s)}),this._crossLines=t,null===(o=this._crossLines)||void 0===o||o.forEach(function(s){e.attachCrossLine(s),e.initCrossLine(s)})},enumerable:!1,configurable:!0}),l.prototype.attachCrossLine=function(t){this.crossLineGroup.appendChild(t.group)},l.prototype.detachCrossLine=function(t){this.crossLineGroup.removeChild(t.group)},l.prototype.refreshScale=function(){var e,t=this;this.requestedRange=this.scale.range.slice(),null===(e=this.crossLines)||void 0===e||e.forEach(function(n){t.initCrossLine(n)})},l.prototype.updateRange=function(){var t,e=this,n=e.requestedRange,o=e.visibleRange,d=(n[1]-n[0])/(o[1]-o[0]),C=n[0]-d*o[0];e.scale.range=[C,C+d],null===(t=this.crossLines)||void 0===t||t.forEach(function(m){m.clippedRange=[n[0],n[1]]})},l.prototype.setCrossLinesVisible=function(t){this.crossLineGroup.visible=t},l.prototype.attachAxis=function(t,e){t.insertBefore(this.gridlineGroup,e),t.insertBefore(this.axisGroup,e),t.insertBefore(this.crossLineGroup,e)},l.prototype.detachAxis=function(t){t.removeChild(this.axisGroup),t.removeChild(this.gridlineGroup),t.removeChild(this.crossLineGroup)},l.prototype.inRange=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),0===this.inRangeEx(t,e,n)},l.prototype.inRangeEx=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var o=this.range,s=Math.min(o[0],o[1]),d=Math.max(o[0],o[1]);return t+e<s-n?-1:t>d+n?1:0},Object.defineProperty(l.prototype,"range",{get:function(){return this.requestedRange},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=__read$M(t,2),n=e[0],o=e[1];n=Math.max(0,n),o=Math.min(1,o),n=Math.min(n,o),o=Math.max(n,o),this._visibleRange=[n,o],this.updateRange()}},enumerable:!1,configurable:!0}),l.prototype.onLabelFormatChange=function(t,e){var o=this.scale,s=this.fractionDigits,v=!(o instanceof LogScale)&&s>0?function(C){return"number"==typeof C?C.toFixed(s):String(C)}:function(C){return String(C)};if(e&&o&&o.tickFormat)try{this.labelFormatter=o.tickFormat({ticks:t,specifier:e})}catch{this.labelFormatter=v,doOnce$1(function(){return console.warn("AG Charts - the axis label format string "+e+" is invalid. No formatting will be applied")},"invalid axis label format string "+e)}else this.labelFormatter=v},Object.defineProperty(l.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.titleGroup.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.titleGroup.appendChild(t.node)),this._title=t,this.setTickCount(this.tick.count),this.setTickInterval(this.tick.interval),this.updateTitle({ticks:this.scale.ticks()}))},enumerable:!1,configurable:!0}),l.prototype.setDomain=function(){var t,e=this,n=e.scale,o=e.dataDomain,s=e.tick.values;if(s&&n instanceof ContinuousScale){var d=__read$M(null!==(t=extent$4(s))&&void 0!==t?t:[1/0,-1/0],2),v=d[0],C=d[1],m=Math.min(n.fromDomain(o[0]),v),w=Math.max(n.fromDomain(o[1]),C);n.domain=[n.toDomain(m),n.toDomain(w)]}else n.domain=o},l.prototype.setTickInterval=function(t){var e;this.scale.interval=null!==(e=this.tick.interval)&&void 0!==e?e:t},l.prototype.setTickCount=function(t){var e=this.scale;if(t&&e instanceof ContinuousScale){if("number"==typeof t)return void(e.tickCount=t);e instanceof TimeScale$1&&this.setTickInterval(t)}},Object.defineProperty(l.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){var n,e=this;(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridlineGroupSelection=this.gridlineGroupSelection.remove().setData([])),this._gridLength=t,null===(n=this.crossLines)||void 0===n||n.forEach(function(o){e.initCrossLine(o)})},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.gridlineGroupSelection=this.gridlineGroupSelection.remove().setData([]))},enumerable:!1,configurable:!0}),l.prototype.update=function(t){var e,n;this.calculateDomain();var o=this,s=o.scale,d=o.gridLength,v=o.tick,C=o.label,m=C.parallel,w=C.mirrored,D=C.avoidCollisions,b=C.minSpacing,T=o.requestedRange,A=Math.min.apply(Math,__spread$r(T)),I=Math.max.apply(Math,__spread$r(T)),N=toRadians$1(this.rotation),G=this.isAnySeriesActive(),V=w?1:-1,W=normalizeAngle360(N),j=normalizeAngle360(N-Math.PI/2),K=this.nice;this.setDomain(),this.setTickInterval(this.tick.interval),s instanceof ContinuousScale&&(s.nice=K,this.setTickCount(this.tick.count),s.update());var Y=(s.bandwidth||0)/2;this.updatePosition(),this.updateLine();for(var re=0,q=!0,Z=[],ee=this.estimateTickCount({minSpacing:this.tick.minSpacing,maxSpacing:this.tick.maxSpacing}),ne=ee.maxTickCount,se=ee.minTickCount,ae=s instanceof ContinuousScale,pe=void 0!==t,he=D&&void 0===this.tick.interval&&void 0===this.tick.values,_e=!isNaN(this.tick.minSpacing)||!isNaN(this.tick.maxSpacing),Ee=this.tick.count||!ae?10:ne;q;){for(var Se=!0,Re=function(){if(re>Ee)return"break";var Qe=Z,Ft=Math.max(ne-re,se),Pt=he&&!(ae&&void 0===Ce.tick.count)&&(_e||0!==re);if(Ce.tick.values?Z=Ce.tick.values:0===ne?Z=[]:(0===re||!Pt)&&(Ce.setTickCount(null!==(e=Ce.tick.count)&&void 0!==e?e:Ft),Z=s.ticks()),Pt){var Yt=_e?Math.ceil(Z.length/Ft):2;Z=Z.filter(function(qt,or){return or%Yt==0})}var Cr=void 0;pe&&(Cr=Ce.updateSecondaryAxisTicks(t),Z=Cr),Ce.updateSelections({halfBandwidth:Y,gridLength:d,ticks:Z}),!pe&&Z.length>0&&(t=Z.length),Se=!!he&&Z.every(function(qt,or){return Number(qt)===Number(Qe[or])}),re++},Ce=this;Se&&"break"!==Re(););if(Se)break;this.onLabelFormatChange(Z,this.label.format);var Ne=this.updateLabels({parallelFlipRotation:W,regularFlipRotation:j,sideFlag:V,tickLineGroupSelection:this.tickGroupSelection,ticks:Z});q=!!he&&axisLabelsOverlap(Ne.labelData,b??(Ne.rotated?0:10))}this.updateGridLines({gridLength:d,halfBandwidth:Y,sideFlag:V});var rt=!1,$e=function(Qe){var Ft=Math.floor(A),Pt=Math.ceil(I);if(Ft===Pt)return!1;Qe.translationY>=Ft-1&&Qe.translationY<Ft&&(Qe.translationY=Ft),Qe.translationY>Pt&&Qe.translationY<=Pt+1&&(Qe.translationY=Pt);var Yt=Qe.translationY>=Ft&&Qe.translationY<=Pt;return Yt&&(rt=!0),Yt},jt=this.tickGroupSelection;return this.gridlineGroupSelection.attrFn("visible",$e),jt.attrFn("visible",$e),this.tickGroup.visible=rt,this.gridlineGroup.visible=rt,null===(n=this.crossLines)||void 0===n||n.forEach(function(Qe){Qe.sideFlag=-V,Qe.direction=N===-Math.PI/2?ChartAxisDirection.X:ChartAxisDirection.Y,Qe.label.parallel=void 0!==Qe.label.parallel?Qe.label.parallel:m,Qe.parallelFlipRotation=W,Qe.regularFlipRotation=j,Qe.update(G)}),this.updateTitle({ticks:Z}),jt.selectByTag(Tags.Tick).each(function(Qe){Qe.strokeWidth=v.width,Qe.stroke=v.color,Qe.visible=rt}).attr("x1",V*v.size).attr("x2",0).attr("y1",0).attr("y2",0),t},l.prototype.estimateTickCount=function(t){var e=t.minSpacing,n=t.maxSpacing,o=this.requestedRange,s=Math.min.apply(Math,__spread$r(o)),v=Math.max.apply(Math,__spread$r(o))-s,C=Math.max(l.defaultTickMinSpacing,v/ContinuousScale.defaultTickCount);isNaN(e)&&isNaN(n)?(e=C)>(n=v)&&(n=e):isNaN(e)?(e=C)>n&&(e=n):isNaN(n)&&e>(n=v)&&(n=e),e=Math.max(e,C);var m=Math.max(1,Math.floor(v/e));return{minTickCount:Math.ceil(v/n),maxTickCount:m}},l.prototype.calculateDomain=function(){},l.prototype.updatePosition=function(){var t=this,e=t.label,n=t.axisGroup,o=t.gridlineGroup,s=t.crossLineGroup,d=t.translation,v=t.gridlineGroupSelection,C=t.gridPadding,m=t.gridLength,w=toRadians$1(this.rotation),D=e.mirrored?1:-1,b=Math.floor(d.x),T=Math.floor(d.y);s.translationX=b,s.translationY=T,s.rotation=w,n.translationX=b,n.translationY=T,n.rotation=w,o.translationX=b,o.translationY=T,o.rotation=w,v.selectByTag(Tags.GridLine).each(function(A){A.x1=C,A.x2=-D*m+C,A.y1=0,A.y2=0})},l.prototype.updateSecondaryAxisTicks=function(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")},l.prototype.updateTickGroupSelection=function(t){var n=this.tickGroupSelection.setData(t.data);n.exit.remove();var o=n.enter.append(Group);return o.append(Line).each(function(s){return s.tag=Tags.Tick}),o.append(Text),n.merge(o)},l.prototype.updateGridLineGroupSelection=function(t){var e=t.gridLength,o=this.gridlineGroupSelection.setData(e?t.data:[]);o.exit.remove();var s=o;if(e){var d=function(C){return C.tag=Tags.GridLine},v=o.enter.append(Group);this.radialGrid?v.append(Arc).each(d):v.append(Line).each(d),s=o.merge(v)}return s},l.prototype.updateSelections=function(t){var n=t.halfBandwidth,o=t.gridLength,s=this.scale,d=t.ticks.map(function(m){return{tick:m,translationY:s.convert(m)+n}}),v=this.updateGridLineGroupSelection({gridLength:o,data:d}),C=this.updateTickGroupSelection({data:d});v.attrFn("translationY",function(m,w){return Math.round(w.translationY)}),C.attrFn("translationY",function(m,w){return Math.round(w.translationY)}),this.tickGroupSelection=C,this.gridlineGroupSelection=v},l.prototype.updateGridLines=function(t){var e=t.gridLength,n=t.halfBandwidth,o=t.sideFlag,s=this,d=s.gridStyle,v=s.scale,C=s.tick,m=s.gridPadding;if(e&&d.length){var w=d.length,D=void 0;if(this.radialGrid){var b=normalizeAngle360Inclusive(toRadians$1(e));D=this.gridlineGroupSelection.selectByTag(Tags.GridLine).each(function(T,A){var I=Math.round(v.convert(A)+n);T.centerX=0,T.centerY=v.range[0]-I,T.endAngle=b,T.radius=I})}else D=this.gridlineGroupSelection.selectByTag(Tags.GridLine).each(function(T){T.x1=m,T.x2=-o*e+m,T.y1=0,T.y2=0,T.visible=Math.abs(T.parent.translationY-v.range[0])>1});D.each(function(T,A,I){var N=d[I%w];T.stroke=N.stroke,T.strokeWidth=C.width,T.lineDash=N.lineDash,T.fill=void 0})}},l.prototype.updateLabels=function(t){var e=this,n=t.ticks,o=t.tickLineGroupSelection,s=t.sideFlag,d=t.parallelFlipRotation,v=t.regularFlipRotation,C=this,m=C.label,w=C.label,D=w.parallel,b=w.minSpacing,T=C.tick,A=0,I=m.rotation?normalizeAngle360(toRadians$1(m.rotation)):0,N=!I&&d>=0&&d<=Math.PI?-1:1,G=!I&&v>=0&&v<=Math.PI?-1:1,V=D?N*Math.PI/2:-1===G?Math.PI:0;this.fractionDigits=n.fractionDigits>=0?n.fractionDigits:0;var W=new Map,j=s*(T.size+m.padding),K=new Matrix;Matrix.updateTransformMatrix(K,1,1,V,0,0);var Y=[],re=o.selectByClass(Text).each(function(pe,he,_e){var Ee=he.tick,Se=he.translationY;pe.fontStyle=m.fontStyle,pe.fontWeight=m.fontWeight,pe.fontSize=m.fontSize,pe.fontFamily=m.fontFamily,pe.fill=m.color,pe.text=e.formatTickDatum(Ee,_e);var Re=""===pe.text||null==pe.text,Ce=pe.computeBBox(),De=Ce.width,Ne=Ce.height,we=new BBox(j,Se,0,0);K.transformBBox(we,Ce);var Ve=Ce.x,je=void 0===Ve?0:Ve,rt=Ce.y,$e=void 0===rt?0:rt;Ce.width=De,Ce.height=Ne,W.set(_e,Re?null:Ce),!Re&&Y.push({point:{x:je,y:$e,size:0},label:{width:De,height:Ne,text:""}})}),Z=axisLabelsOverlap(Y,b??10);void 0===m.rotation&&!0===m.autoRotate&&Z&&(A=normalizeAngle360(toRadians$1(m.autoRotateAngle)));var ee=D&&!I?s*N==-1?"hanging":"bottom":"middle",ne=I>0&&I<=Math.PI||A>0&&A<=Math.PI?-1:1,se=D?I||A?s*ne==-1?"end":"start":"center":s*G==-1?"end":"start",ae=V+I+A;return ae&&Matrix.updateTransformMatrix(K,1,1,ae,0,0),Y=[],re.each(function(pe,he,_e){if(""!==pe.text&&null!=pe.text){pe.textBaseline=ee,pe.textAlign=se,pe.x=j,pe.rotationCenterX=j,pe.rotation=ae;var Ee=W.get(_e);if(Ee){pe.visible=!0;var Se=Ee.width,Re=void 0===Se?0:Se,Ce=Ee.height,De=void 0===Ce?0:Ce,we=new BBox(j,he.translationY,0,0);K.transformBBox(we,Ee);var Ve=Ee.x,rt=Ee.y;Y.push({point:{x:void 0===Ve?0:Ve,y:void 0===rt?0:rt,size:0},label:{width:Re,height:De,text:pe.text}})}}else pe.visible=!1}),{labelData:Y,rotated:!(!I&&!A)}},l.prototype.updateLine=function(){var e=this.lineNode,n=this.requestedRange;e.x1=0,e.x2=0,e.y1=n[0],e.y2=n[1],e.strokeWidth=this.line.width,e.stroke=this.line.color,e.visible=!0},l.prototype.updateTitle=function(t){var e=t.ticks,n=this,s=n.rotation,d=n.title,C=n.requestedRange,m=n.tickGroup,w=n.lineGroup;if(d){var D=!1;if(d.enabled&&n.lineNode.visible){D=!0;var b=n.label.mirrored?1:-1,T=normalizeAngle360(s),A=Caption.PADDING,I=d.node,N=-1===b&&T>Math.PI&&T<2*Math.PI?-1:1;I.rotation=N*b*Math.PI/2,I.x=Math.floor(N*b*(C[0]+C[1])/2);var G=w.computeBBox(),V=0===s?G.width:G.height;if(e?.length>0){var W=m.computeBBox(),j=0===s?W.width:W.height;Math.abs(j)<1/0&&(V+=j)}I.y=-1===b?Math.floor(N*(-A-V)):Math.floor(-A-V),I.textBaseline=1===N?"bottom":"top"}d.node.visible=D}},l.prototype.formatTickDatum=function(t,e){var n=this,o=n.label,s=n.labelFormatter,d=n.fractionDigits;return o.formatter?o.formatter({value:d>0?t:String(t),index:e,fractionDigits:d,formatter:s}):s?s(t):String(t)},l.prototype.formatDatum=function(t){return String(t)},l.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},l.prototype.initCrossLine=function(t){t.scale=this.scale,t.gridLength=this.gridLength},l.prototype.isAnySeriesActive=function(){return!1},l.defaultTickMinSpacing=80,__decorate$1G([Validate(BOOLEAN)],l.prototype,"nice",void 0),__decorate$1G([Validate(GRID_STYLE)],l.prototype,"gridStyle",void 0),__decorate$1G([Validate(NUMBER(0))],l.prototype,"thickness",void 0),l}(),__extends$2t=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__read$L=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},LinearScale$1=function(l){function t(){var e=l.call(this,[0,1],[0,1])||this;return e.type="linear",e}return __extends$2t(t,l),t.prototype.toDomain=function(e){return e},t.prototype.ticks=function(){var e,n=null!==(e=this.tickCount)&&void 0!==e?e:ContinuousScale.defaultTickCount;if(!this.domain||this.domain.length<2||n<1||this.domain.some(function(m){return!isFinite(m)}))return[];this.refresh();var o=__read$L(this.getDomain(),2),s=o[0],d=o[1],v=this.interval;if(v){var C=Math.abs(v);if(!this.isDenseInterval({start:s,stop:d,interval:C}))return range(s,d,C)}return ticks(s,d,n)},t.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},t.prototype.updateNiceDomain=function(){var e,n,o=null!==(e=this.tickCount)&&void 0!==e?e:ContinuousScale.defaultTickCount,s=__read$L(this.domain,2),d=s[0],v=s[1];if(o<1)this.niceDomain=[d,v];else if(1!==o){for(var C=0;C<2;C++){var m=null!==(n=this.interval)&&void 0!==n?n:tickStep(d,v,o);if(m>=1)d=Math.floor(d/m)*m,v=Math.ceil(v/m)*m;else{var w=1/m;d=Math.floor(d*w)/w,v=Math.ceil(v*w)/w}}this.niceDomain=[d,v]}else this.niceDomain=singleTickDomain(d,v)},t.prototype.tickFormat=function(e){var o=e.specifier;return tickFormat(e.ticks||this.ticks(),o)},t}(ContinuousScale),__extends$2s=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1F=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$K=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$q=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$K(arguments[t]));return l};function flipChartAxisDirection(l){return l===ChartAxisDirection.X?ChartAxisDirection.Y:ChartAxisDirection.X}var ChartAxis=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.keys=[],e.direction=ChartAxisDirection.Y,e.boundSeries=[],e.includeInvisibleDomains=!1,e._position="left",e}return __extends$2s(t,l),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),t.prototype.useCalculatedTickCount=function(){return this.scale instanceof LinearScale$1},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case"top":this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!1,configurable:!0}),t.prototype.calculateDomain=function(){var e,n=this,o=n.direction,s=n.boundSeries,d=n.includeInvisibleDomains;if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{var v=[];s.filter(function(m){return d||m.isEnabled()}).forEach(function(m){v.push(m.getDomain(o))});var C=(e=new Array).concat.apply(e,__spread$q(v));this.dataDomain=this.normaliseDataDomain(C)}},t.prototype.normaliseDataDomain=function(e){return e},t.prototype.isAnySeriesActive=function(){var e=this;return this.boundSeries.some(function(n){return e.includeInvisibleDomains||n.isEnabled()})},__decorate$1F([Validate(STRING_ARRAY)],t.prototype,"keys",void 0),__decorate$1F([Validate(POSITION)],t.prototype,"_position",void 0),t}(Axis),__extends$2r=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1E=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TimeAxis=function(l){function t(){var e=l.call(this,new TimeScale$1)||this;e.datumFormat="%m/%d/%y, %H:%M:%S",e.min=void 0,e.max=void 0;var n=e.scale;return n.strictClampByDefault=!0,e.refreshScale(),e.datumFormatter=n.tickFormat({specifier:e.datumFormat}),e}return __extends$2r(t,l),t.prototype.normaliseDataDomain=function(e){var o=this.min,s=this.max;return"number"==typeof o&&(o=new Date(o)),"number"==typeof s&&(s=new Date(s)),e.length>2&&(e=(extent$4(e)||[0,1e3]).map(function(d){return new Date(d)})),o instanceof Date&&(e=[o,e[1]]),s instanceof Date&&(e=[e[0],s]),e[0]>e[1]&&(e=[]),e},t.prototype.onLabelFormatChange=function(e,n){n?l.prototype.onLabelFormatChange.call(this,e,n):this.labelFormatter=this.scale.tickFormat({ticks:e})},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.className="TimeAxis",t.type="time",__decorate$1E([Validate(AND(OPT_DATE_OR_DATETIME_MS,LESS_THAN("max")))],t.prototype,"min",void 0),__decorate$1E([Validate(AND(OPT_DATE_OR_DATETIME_MS,GREATER_THAN("min")))],t.prototype,"max",void 0),t}(ChartAxis),__extends$2q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1D=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$J=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$p=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$J(arguments[t]));return l},__values$r=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SeriesNodePickMode=(()=>(function(l){l[l.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",l[l.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",l[l.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",l[l.NEAREST_NODE=3]="NEAREST_NODE"}(SeriesNodePickMode||(SeriesNodePickMode={})),SeriesNodePickMode))(),warnDeprecated=createDeprecationWarning(),warnSeriesDeprecated=function(){return warnDeprecated("series","Use seriesId to get the series ID")},SeriesNodeClickEvent=function(){function l(t,e,n){this.type="nodeClick",this.event=t,this.datum=e.datum,this.seriesId=n.id,this._series=n}return Object.defineProperty(l.prototype,"series",{get:function(){return warnSeriesDeprecated(),this._series},enumerable:!1,configurable:!0}),l}(),SeriesItemHighlightStyle=function(){function l(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0}return __decorate$1D([Validate(OPT_COLOR_STRING)],l.prototype,"fill",void 0),__decorate$1D([Validate(OPT_NUMBER(0,1))],l.prototype,"fillOpacity",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],l.prototype,"stroke",void 0),__decorate$1D([Validate(OPT_NUMBER(0))],l.prototype,"strokeWidth",void 0),l}(),SeriesHighlightStyle=function(){function l(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0}return __decorate$1D([Validate(OPT_NUMBER(0))],l.prototype,"strokeWidth",void 0),__decorate$1D([Validate(OPT_NUMBER(0,1))],l.prototype,"dimOpacity",void 0),__decorate$1D([Validate(OPT_BOOLEAN)],l.prototype,"enabled",void 0),l}(),TextHighlightStyle=function(){function l(){this.color="black"}return __decorate$1D([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),l}(),HighlightStyle=function l(){this.item=new SeriesItemHighlightStyle,this.series=new SeriesHighlightStyle,this.text=new TextHighlightStyle},SeriesTooltip=function(){function l(){this.enabled=!0}return __decorate$1D([Validate(BOOLEAN)],l.prototype,"enabled",void 0),l}(),Series=function(l){function t(e){var n=void 0===e?{}:e,o=n.useSeriesGroupLayer,s=void 0===o||o,d=n.useLabelLayer,v=void 0!==d&&d,C=n.pickModes,m=void 0===C?[SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST]:C,w=l.call(this)||this;w.id=createId$1(w),w.rootGroup=new Group({name:"seriesRoot"}),w.directions=[ChartAxisDirection.X,ChartAxisDirection.Y],w.directionKeys={},w.nodeDataRefresh=!0,w._data=void 0,w._visible=!0,w.showInLegend=!0,w.cursor="default",w.highlightStyle=new HighlightStyle;var D=w.rootGroup;return w.contentGroup=D.appendChild(new Group({name:w.id+"-content",layer:s,zIndex:Layers.SERIES_LAYER_ZINDEX})),w.highlightGroup=D.appendChild(new Group({name:w.id+"-highlight",layer:!0,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[w.id,15e3]})),w.highlightNode=w.highlightGroup.appendChild(new Group({name:"highlightNode"})),w.highlightLabel=w.highlightGroup.appendChild(new Group({name:"highlightLabel"})),w.highlightNode.zIndex=0,w.highlightLabel.zIndex=10,w.pickModes=m,v&&(w.labelGroup=D.appendChild(new Group({name:w.id+"-series-labels",layer:!0,zIndex:Layers.SERIES_LABEL_ZINDEX}))),w}return __extends$2q(t,l),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.nodeDataRefresh=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e,this.visibleChanged()},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"grouped",{set:function(e){if(!0===e)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!1,configurable:!0}),t.prototype.getKeys=function(e){var n=this,o=this.directionKeys,s=o&&o[e],d=[];return s&&s.forEach(function(v){var C=n[v];C&&(Array.isArray(C)?d.push.apply(d,__spread$p(C)):d.push(C))}),d},t.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},t.prototype.visibleChanged=function(){},t.prototype.getOpacity=function(e){var n=this.highlightStyle.series,o=n.dimOpacity,s=void 0===o?1:o,d=n.enabled;if(!1===(void 0===d||d)||1===s)return 1;switch(this.isItemIdHighlighted(e)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return s}},t.prototype.getStrokeWidth=function(e,n){var o=this.highlightStyle.series,s=o.strokeWidth,d=o.enabled;if(!1===(void 0===d||d)||void 0===s)return e;switch(this.isItemIdHighlighted(n)){case"highlighted":return s;case"no-highlight":case"other-highlighted":case"peer-highlighted":return e}},t.prototype.isItemIdHighlighted=function(e){var n,o=null===(n=this.highlightManager)||void 0===n?void 0:n.getActiveHighlight(),s=o??{},d=s.series,v=s.itemId;return null!=d?d!==this?"other-highlighted":void 0===v?"highlighted":e&&o!==e&&v!==e.itemId?"peer-highlighted":"highlighted":"no-highlight"},t.prototype.pickNode=function(e,n){var o,s,d=this,v=d.pickModes;if(d.visible&&d.rootGroup.visible)try{for(var w=__values$r(v),D=w.next();!D.done;D=w.next()){var b=D.value;if(!n||n.includes(b)){var T=void 0;switch(b){case SeriesNodePickMode.EXACT_SHAPE_MATCH:T=this.pickNodeExactShape(e);break;case SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST:case SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:T=this.pickNodeMainAxisFirst(e,b===SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case SeriesNodePickMode.NEAREST_NODE:T=this.pickNodeClosestDatum(e)}if(T)return{pickMode:b,match:T.datum,distance:T.distance}}}}catch(A){o={error:A}}finally{try{D&&!D.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}},t.prototype.pickNodeExactShape=function(e){var n=this.contentGroup.pickNode(e.x,e.y);if(n)return{datum:n.datum,distance:0}},t.prototype.pickNodeClosestDatum=function(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")},t.prototype.pickNodeMainAxisFirst=function(e,n){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")},t.prototype.fireNodeClickEvent=function(e,n){var o=this.getNodeClickEvent(e,n);this.fireEvent(o)},t.prototype.getNodeClickEvent=function(e,n){return new SeriesNodeClickEvent(e,n,this)},t.prototype.toggleSeriesItem=function(e,n){this.visible=n,this.nodeDataRefresh=!0},t.prototype.isEnabled=function(){return this.visible},t.prototype.fixNumericExtent=function(e,n){if(void 0===e)return[];var o=__read$J(e,2),s=o[0],d=o[1];if(d=+d,0==(s=+s)&&0===d)return[0,1];if(s===1/0&&d===-1/0)return[];if(s===1/0&&(s=0),d===-1/0&&(d=0),s===d)if(n instanceof TimeAxis)s-=1,d+=1;else{var v=Math.abs(.01*s);s-=v,d+=v}return isNumber$4(s)&&isNumber$4(d)?[s,d]:[]},t.highlightedZIndex=1e12,__decorate$1D([Validate(STRING)],t.prototype,"id",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"_visible",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"showInLegend",void 0),__decorate$1D([Validate(STRING)],t.prototype,"cursor",void 0),t}(Observable),__decorate$1C=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Padding$1=function(){function l(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===o&&(o=e),this.top=t,this.right=e,this.bottom=n,this.left=o}return l.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},__decorate$1C([Validate(NUMBER(0))],l.prototype,"top",void 0),__decorate$1C([Validate(NUMBER(0))],l.prototype,"right",void 0),__decorate$1C([Validate(NUMBER(0))],l.prototype,"bottom",void 0),__decorate$1C([Validate(NUMBER(0))],l.prototype,"left",void 0),l}(),Gradient=function l(){this.stops=[]},__extends$2p=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),LinearGradient=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.angle=0,e}return __extends$2p(t,l),t.prototype.createGradient=function(e,n){var o=this.stops,s=this.angle%360*Math.PI/180,d=Math.cos(s),v=Math.sin(s),C=n.width,m=n.height,w=n.x+.5*C,D=n.y+.5*m;if(C>0&&m>0){var b=Math.sqrt(m*m+C*C)*Math.abs(Math.cos(s-Math.atan(m/C)))/2,T=e.createLinearGradient(w+d*b,D+v*b,w-d*b,D-v*b);return o.forEach(function(A){T.addColorStop(A.offset,A.color)}),T}return"black"},t}(Gradient),__extends$2o=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1B=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Rect=function(l){function t(){var e=l.call(this,function(n){return e.renderRect(n)})||this;return e.borderPath=new Path2D,e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.gradient=!1,e.lastUpdatePathStrokeWidth=Shape.defaultStyles.strokeWidth,e.effectiveStrokeWidth=Shape.defaultStyles.strokeWidth,e.microPixelEffectOpacity=1,e}return __extends$2o(t,l),t.prototype.updateGradientInstance=function(){var e=this.fill;if(this.gradient){if(e){var n=new LinearGradient;n.angle=270,n.stops=[{offset:0,color:Color.tryParseFromString(e).brighter().toString()},{offset:1,color:Color.tryParseFromString(e).darker().toString()}],this.gradientInstance=n}}else this.gradientInstance=void 0;this.gradientFill=e},t.prototype.isDirtyPath=function(){var e;return!!(this.lastUpdatePathStrokeWidth!==this.strokeWidth||this.path.isDirty()||this.borderPath.isDirty()||null!==(e=this.clipPath)&&void 0!==e&&e.isDirty())},t.prototype.updatePath=function(){var e,n,o,s=this,d=s.path,v=s.borderPath,C=s.crisp,m=this,w=m.x,D=m.y,b=m.width,T=m.height,A=m.strokeWidth,N=1/(null!==(n=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==n?n:1),G=1;if(d.clear({trackChanges:!0}),v.clear({trackChanges:!0}),C&&(b<=N&&(G*=b/N),T<=N&&(G*=T/N),b=this.align(w,b),T=this.align(D,T),w=this.align(w),D=this.align(D)),A)if(b<N){var V=w+N/2;v.moveTo(V,D),v.lineTo(V,D+T),A=N,this.borderClipPath=void 0}else if(T<N){var W=D+N/2;v.moveTo(w,W),v.lineTo(w+b,W),A=N,this.borderClipPath=void 0}else if(A<b&&A<T){var j=A/2;w+=j,D+=j,b-=A,T-=A,this.borderClipPath=void 0,d.rect(w,D,b,T),v.rect(w,D,b,T)}else this.borderClipPath=null!==(o=this.borderClipPath)&&void 0!==o?o:new Path2D,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(w,D,b,T),v.rect(w,D,b,T);else this.borderClipPath=void 0,d.rect(w,D,b,T);this.effectiveStrokeWidth=A,this.lastUpdatePathStrokeWidth=A,this.microPixelEffectOpacity=G},t.prototype.computeBBox=function(){var e=this;return new BBox(e.x,e.y,e.width,e.height)},t.prototype.isPointInPath=function(e,n){var o=this.transformPoint(e,n);return this.computeBBox().containsPoint(o.x,o.y)},t.prototype.renderRect=function(e){var n,o,s=this,d=s.stroke,v=s.effectiveStrokeWidth,C=s.fill,m=s.path,w=s.borderPath,D=s.borderClipPath,b=s.opacity,T=s.microPixelEffectOpacity,A=!!d&&!!v;if(C){var I=this,G=I.fillOpacity,V=I.fillShadow;C!==I.gradientFill&&this.updateGradientInstance();var W=this.gradientInstance;if(e.fillStyle=W?W.createGradient(e,this.computeBBox()):C,e.globalAlpha=b*G*T,V&&V.enabled){var j=null!==(o=null===(n=this.layerManager)||void 0===n?void 0:n.canvas.pixelRatio)&&void 0!==o?o:1;e.shadowColor=V.color,e.shadowOffsetX=V.xOffset*j,e.shadowOffsetY=V.yOffset*j,e.shadowBlur=V.blur*j}m.draw(e),e.fill(),e.shadowColor="rgba(0, 0, 0, 0)"}if(A){var K=this,Y=K.strokeOpacity,re=K.lineDash,q=K.lineDashOffset,Z=K.lineCap,ee=K.lineJoin;D&&(D.draw(e),e.clip()),w.draw(e),e.strokeStyle=d,e.globalAlpha=b*Y*T,e.lineWidth=v,re&&e.setLineDash(re),q&&(e.lineDashOffset=q),Z&&(e.lineCap=Z),ee&&(e.lineJoin=ee),e.stroke()}},t.className="Rect",__decorate$1B([ScenePathChangeDetection()],t.prototype,"x",void 0),__decorate$1B([ScenePathChangeDetection()],t.prototype,"y",void 0),__decorate$1B([ScenePathChangeDetection()],t.prototype,"width",void 0),__decorate$1B([ScenePathChangeDetection()],t.prototype,"height",void 0),__decorate$1B([ScenePathChangeDetection()],t.prototype,"radius",void 0),__decorate$1B([ScenePathChangeDetection()],t.prototype,"crisp",void 0),__decorate$1B([ScenePathChangeDetection({changeCb:function(e){return e.updateGradientInstance()}})],t.prototype,"gradient",void 0),t}(Path),__decorate$1A=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Background=function(){function l(){this.node=new Rect,this._visible=!0}return Object.defineProperty(l.prototype,"width",{get:function(){return this.node.width},set:function(t){this.node.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.node.height},set:function(t){this.node.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.node.visible=this._visible},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill=t,this.node.fill=this._fill},enumerable:!1,configurable:!0}),__decorate$1A([Validate(BOOLEAN)],l.prototype,"_visible",void 0),__decorate$1A([Validate(OPT_COLOR_STRING)],l.prototype,"_fill",void 0),l}(),__extends$2n=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1z=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$q=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Marker=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return __extends$2n(t,l),t.prototype.computeBBox=function(){var e=this,s=e.size,d=s/2;return new BBox(e.x-d,e.y-d,s,s)},t.prototype.applyPath=function(e,n){var o,s,d=this.path,C=this.x,m=this.y;d.clear();try{for(var w=__values$q(n),D=w.next();!D.done;D=w.next()){var b=D.value;C+=b.x*e,m+=b.y*e,"move"===b.t?d.moveTo(C,m):d.lineTo(C,m)}}catch(N){o={error:N}}finally{try{D&&!D.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}d.closePath()},__decorate$1z([ScenePathChangeDetection()],t.prototype,"x",void 0),__decorate$1z([ScenePathChangeDetection()],t.prototype,"y",void 0),__decorate$1z([ScenePathChangeDetection({convertor:Math.abs})],t.prototype,"size",void 0),t}(Path),__extends$2m=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Square=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2m(t,l),t.prototype.updatePath=function(){var e=this,n=e.path,o=e.x,s=e.y,d=this.size/2;n.clear(),n.moveTo(this.align(o-d),this.align(s-d)),n.lineTo(this.align(o+d),this.align(s-d)),n.lineTo(this.align(o+d),this.align(s+d)),n.lineTo(this.align(o-d),this.align(s+d)),n.closePath()},t.className="Square",t}(Marker),__extends$2l=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MarkerLabel=function(l){function t(){var e=l.call(this,{name:"markerLabelGroup"})||this;e.label=new Text,e._marker=new Square,e._markerSize=15,e._spacing=8;var n=e.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=HdpiCanvas.has.textMetrics?1:0,e.append([e.marker,n]),e.update(),e}return __extends$2l(t,l),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!1,configurable:!0}),t.prototype.update=function(){var n=this.markerSize;this.marker.size=n,this.label.x=n/2+this.spacing},t.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,l.prototype.render.call(this,e)},t.className="MarkerLabel",t}(Group),__extends$2k=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Circle=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2k(t,l),t.prototype.updatePath=function(){var e=this,n=e.x,o=e.y,s=e.path,v=e.size/2;s.clear(),s.arc(n,o,v,0,2*Math.PI),s.closePath()},t.className="Circle",t}(Marker),__extends$2j=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cross=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2j(t,l),t.prototype.updatePath=function(){l.prototype.applyPath.call(this,this.size/4.2,t.moves)},t.className="Cross",t.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],t}(Marker),__extends$2i=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Diamond=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2i(t,l),t.prototype.updatePath=function(){l.prototype.applyPath.call(this,this.size/2,t.moves)},t.className="Diamond",t.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],t}(Marker),__extends$2h=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Heart=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2h(t,l),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,n=e.x,o=e.path,d=e.rad,v=e.size/4,C=this.y+v/2;o.clear(),o.arc(n-v,C-v,v,d(130),d(330)),o.arc(n+v,C-v,v,d(220),d(50)),o.lineTo(n,C+v),o.closePath()},t.className="Heart",t}(Marker),__extends$2g=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Plus=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2g(t,l),t.prototype.updatePath=function(){l.prototype.applyPath.call(this,this.size/3,t.moves)},t.className="Plus",t.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],t}(Marker),__extends$2f=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Triangle=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2f(t,l),t.prototype.updatePath=function(){l.prototype.applyPath.call(this,1.1*this.size,t.moves)},t.className="Triangle",t.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],t}(Marker);function getMarker$1(l){if(void 0===l&&(l=Square),"string"==typeof l)switch(l){case"circle":return Circle;case"cross":return Cross;case"diamond":return Diamond;case"heart":return Heart;case"plus":return Plus;case"triangle":return Triangle;default:return Square}return"function"==typeof l?l:Square}var ChartUpdateType=(()=>(function(l){l[l.FULL=0]="FULL",l[l.PROCESS_DATA=1]="PROCESS_DATA",l[l.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",l[l.SERIES_UPDATE=3]="SERIES_UPDATE",l[l.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",l[l.SCENE_RENDER=5]="SCENE_RENDER",l[l.NONE=6]="NONE"}(ChartUpdateType||(ChartUpdateType={})),ChartUpdateType))(),__values$p=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function gridLayout(l){for(var t=l.orientation,e=l.bboxes,n=l.maxHeight,o=l.maxWidth,s=l.itemPaddingY,d=void 0===s?0:s,v=l.itemPaddingX,C=void 0===v?0:v,m=l.forceResult,w=void 0!==m&&m,D="horizontal"===t,b={max:D?o:n,fn:D?function(V){return V.width}:function(V){return V.height},padding:D?C:d},T={max:D?n:o,fn:D?function(V){return V.height}:function(V){return V.width},padding:D?d:C},A=0,I=[];A<e.length;){var G=processBBoxes(e.slice(A),A,b,T,w);if(!G)return;A+=G.processedBBoxCount,I.push(G.pageIndices)}return buildPages(I,t,e,d,C)}function processBBoxes(l,t,e,n,o){var d=estimateStartingGuess(l,e);if(d<1){if(!o)return;d=1}for(var v=d;v>=1;v--){var C=calculatePage(l,t,v,e,n,o);if(null==C&&v<=1)return;if(null!=C){if("number"==typeof C){if(C<=1)return;v=C<v&&C>1?C:v;continue}return{processedBBoxCount:C.length*C[0].length,pageIndices:C}}}}function calculatePage(l,t,e,n,o,s){for(var d,v=[],C=0,m=0,w=[],D=[],b=0;b<l.length;b++){var T=(b+e)%e;0===T&&(C+=m,m=0,w.length>0&&v.push(w),w=[]);var A=n.fn(l[b])+n.padding;if(D[T]=Math.max(null!==(d=D[T])&&void 0!==d?d:0,A),C+(m=Math.max(m,o.fn(l[b])+o.padding))>o.max&&(!s||v.length>0)){w=[];break}if(D.reduce(function(V,W){return V+W},0)>n.max&&!s)return D.length<e?D.length:void 0;w.push(b+t)}return w.length>0&&v.push(w),v.length>0?v:void 0}function buildPages(l,t,e,n,o){var s=0,d=0;return{pages:l.map(function(C){"horizontal"===t&&(C=transpose(C));var m=0,w=C.map(function(T){var A=T.map(function(G){return m=Math.max(G,m),e[G]}),I=0,N=0;return A.forEach(function(G){I+=G.height+n,N=Math.max(N,G.width+o)}),{indices:T,bboxes:A,columnHeight:I,columnWidth:N}}),D=0,b=0;return w.forEach(function(T){D+=T.columnWidth,b=Math.max(b,T.columnHeight)}),s=Math.max(D,s),d=Math.max(b,d),{columns:w,startIndex:C[0][0],endIndex:m,pageWidth:D,pageHeight:b}}),maxPageWidth:s,maxPageHeight:d}}function transpose(l){var t,e,n=[];try{for(var o=__values$p(l[0]),s=o.next();!s.done;s=o.next())n.push([])}catch(v){t={error:v}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return l.forEach(function(v,C){v.forEach(function(m,w){n[w][C]=m})}),n}function estimateStartingGuess(l,t){for(var e=l.length,n=0,o=0;o<e;o++)if((n+=t.fn(l[o])+t.padding)>t.max)return e/o<2?Math.ceil(e/2):o;return e}var __decorate$1y=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PaginationLabel=function(){function l(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}return __decorate$1y([Validate(COLOR_STRING)],l.prototype,"color",void 0),__decorate$1y([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1y([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1y([Validate(NUMBER(0))],l.prototype,"fontSize",void 0),__decorate$1y([Validate(STRING)],l.prototype,"fontFamily",void 0),l}(),PaginationMarkerStyle=function(){function l(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}return __decorate$1y([Validate(NUMBER(0))],l.prototype,"size",void 0),__decorate$1y([Validate(OPT_COLOR_STRING)],l.prototype,"fill",void 0),__decorate$1y([Validate(OPT_NUMBER(0,1))],l.prototype,"fillOpacity",void 0),__decorate$1y([Validate(OPT_COLOR_STRING)],l.prototype,"stroke",void 0),__decorate$1y([Validate(NUMBER(0))],l.prototype,"strokeWidth",void 0),__decorate$1y([Validate(NUMBER(0,1))],l.prototype,"strokeOpacity",void 0),l}(),PaginationMarker=function(){function l(){this.size=15,this._shape=Triangle,this.padding=8}return Object.defineProperty(l.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),__decorate$1y([Validate(NUMBER(0))],l.prototype,"size",void 0),__decorate$1y([Validate(NUMBER(0))],l.prototype,"padding",void 0),l}(),Pagination=function(){function l(t,e,n,o){var s=this;this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.interactionManager=n,this.cursorManager=o,this.id=createId$1(this),this.group=new Group({name:"pagination"}),this.labelNode=new Text,this.marker=new PaginationMarker,this.activeStyle=new PaginationMarkerStyle,this.inactiveStyle=new PaginationMarkerStyle,this.highlightStyle=new PaginationMarkerStyle,this.label=new PaginationLabel,this.totalPages=0,this.currentPage=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Triangle,this._previousButton=new Triangle;var d=this.labelNode;d.textBaseline="middle",d.fontSize=12,d.fontFamily="Verdana, sans-serif",d.fill="black",d.y=HdpiCanvas.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,d]),this.interactionManager.addListener("click",function(v){return s.onPaginationClick(v)}),this.interactionManager.addListener("hover",function(v){return s.onPaginationMouseMove(v)}),this.marker.parent=this,this.update(),this.updateMarkers()}return Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),l.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible},Object.defineProperty(l.prototype,"orientation",{get:function(){return this._orientation},set:function(t){"horizontal"===(this._orientation=t,t)?(this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2):(this.previousButton.rotation=0,this.nextButton.rotation=Math.PI)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"nextButton",{get:function(){return this._nextButton},set:function(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"previousButton",{get:function(){return this._previousButton},set:function(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),l.prototype.update=function(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()},l.prototype.updatePositions=function(){this.updateLabelPosition(),this.updateNextButtonPosition()},l.prototype.updateLabelPosition=function(){var t=this.marker,e=t.size,n=t.padding;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+n},l.prototype.updateNextButtonPosition=function(){var t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding},l.prototype.updateLabel=function(){var t=this,o=t.labelNode,s=t.label,d=s.color,v=s.fontStyle,C=s.fontWeight,m=s.fontSize,w=s.fontFamily;o.text=t.currentPage+1+" / "+t.totalPages,o.fill=d,o.fontStyle=v,o.fontWeight=C,o.fontSize=m,o.fontFamily=w},l.prototype.updateMarkers=function(){var t=this,n=t.previousButton,s=t.previousButtonDisabled,d=t.activeStyle,v=t.inactiveStyle,C=t.highlightStyle,m=t.highlightActive,w=function(D,b){return b?v:D===m?C:d};this.updateMarker(t.nextButton,w("next",t.nextButtonDisabled)),this.updateMarker(n,w("previous",s))},l.prototype.updateMarker=function(t,e){var n;t.size=this.marker.size,t.fill=e.fill,t.fillOpacity=null!==(n=e.fillOpacity)&&void 0!==n?n:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity},l.prototype.enableOrDisableButtons=function(){var e=this.currentPage,n=this.totalPages,o=0===n,d=0===e;this.nextButtonDisabled=e===n-1||o,this.previousButtonDisabled=d||o},l.prototype.nextButtonContainsPoint=function(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)},l.prototype.previousButtonContainsPoint=function(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)},l.prototype.onPaginationClick=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,n)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())},l.prototype.onPaginationMouseMove=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER)},l.prototype.onPaginationChanged=function(){this.pageUpdateCallback(this.currentPage)},l.prototype.incrementPage=function(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)},l.prototype.decrementPage=function(){this.currentPage=Math.max(this.currentPage-1,0)},l.prototype.onMarkerShapeChange=function(){var t=getMarker$1(this.marker.shape||Triangle);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER)},l.prototype.attachPagination=function(t){t.append(this.group)},l.prototype.computeBBox=function(){return this.group.computeBBox()},l.className="Pagination",l}(),__decorate$1x=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$o=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DEFAULT_TOOLTIP_CLASS="ag-chart-tooltip",defaultTooltipCss$1='\n.ag-chart-tooltip {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-no-animation {\n    transition: none !important;\n}\n\n.ag-chart-tooltip-hidden {\n    visibility: hidden;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n';function toTooltipHtml$1(l,t){if("string"==typeof l)return l;t=t||{};var e=l.content,o=l.title,s=void 0===o?t.title||void 0:o,d=l.color,C=l.backgroundColor;return(s?'<div class="'+DEFAULT_TOOLTIP_CLASS+'-title"\n        style="color: '+(void 0===d?t.color||"white":d)+"; background-color: "+(void 0===C?t.backgroundColor||"#888":C)+'">'+s+"</div>":"")+'<div class="'+DEFAULT_TOOLTIP_CLASS+'-content">'+(void 0===e?t.content||"":e)+"</div>"}var Tooltip=function(){function l(t,e,n){var o=this;this.enabled=!0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.tracking=!0,this.showTimeout=0,this.constrained=!1,this.tooltipRoot=n;var s=e.createElement("div");if(this.element=this.tooltipRoot.appendChild(s),this.element.classList.add(DEFAULT_TOOLTIP_CLASS),this.canvasElement=t,window.IntersectionObserver){var d=new IntersectionObserver(function(C){var m,w;try{for(var D=__values$o(C),b=D.next();!b.done;b=D.next()){var T=b.value;T.target===o.canvasElement&&0===T.intersectionRatio&&o.toggle(!1)}}catch(A){m={error:A}}finally{try{b&&!b.done&&(w=D.return)&&w.call(D)}finally{if(m)throw m.error}}},{root:this.tooltipRoot});d.observe(this.canvasElement),this.observer=d}if(l.tooltipDocuments.indexOf(e)<0){var v=e.createElement("style");v.innerHTML=defaultTooltipCss$1,e.head.insertBefore(v,e.head.querySelector("style")),l.tooltipDocuments.push(e)}}return l.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)},l.prototype.isVisible=function(){return!this.element.classList.contains(DEFAULT_TOOLTIP_CLASS+"-hidden")},l.prototype.updateClass=function(t,e){var n=this,o=n.element,s=n.class,d=n.lastClass,C=function(m,w){var D=DEFAULT_TOOLTIP_CLASS+"-"+m;w?o.classList.add(D):o.classList.remove(D)};C("no-animation",!!o.classList.contains(DEFAULT_TOOLTIP_CLASS+"-hidden")&&!!t),C("hidden",!t),C("arrow",!e),s!==d&&(d&&o.classList.remove(d),s&&o.classList.add(s),this.lastClass=s)},l.prototype.show=function(t,e,n){var o=this;void 0===n&&(n=!1);var d=this.element,v=this.canvasElement;if(void 0!==e)d.innerHTML=e;else if(!d.innerHTML)return;var C=function(G,V,W){return Math.max(Math.min(V,W),G)},m=v.getBoundingClientRect(),w=m.left+t.offsetX-d.clientWidth/2,D=m.top+t.offsetY-d.clientHeight-8,b=this.getWindowBoundingBox(),A=b.y+b.height-d.clientHeight,I=C(b.x,w,b.x+b.width-d.clientWidth-1),N=C(b.y,D,A);if(this.constrained=I!==w||N!==D,d.style.transform="translate("+Math.round(I)+"px, "+Math.round(N)+"px)",this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){o.toggle(!0)},this.delay));this.toggle(!0)},l.prototype.getWindowBoundingBox=function(){return new BBox(0,0,window.innerWidth,window.innerHeight)},l.prototype.toggle=function(t){t||window.clearTimeout(this.showTimeout),this.updateClass(t,this.constrained)},l.tooltipDocuments=[],__decorate$1x([Validate(BOOLEAN)],l.prototype,"enabled",void 0),__decorate$1x([Validate(OPT_STRING)],l.prototype,"class",void 0),__decorate$1x([Validate(NUMBER(0))],l.prototype,"delay",void 0),__decorate$1x([Validate(BOOLEAN)],l.prototype,"tracking",void 0),l}(),__decorate$1w=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$I=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$o=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$I(arguments[t]));return l},__values$n=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ORIENTATIONS=["horizontal","vertical"],OPT_ORIENTATION=predicateWithMessage(function(l,t){return OPTIONAL(l,t,function(e){return ORIENTATIONS.includes(e)})},"expecting an orientation keyword such as 'horizontal' or 'vertical'"),LegendLabel=function(){function l(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return l.prototype.getFont=function(){return getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$1w([Validate(OPT_NUMBER(0))],l.prototype,"maxLength",void 0),__decorate$1w([Validate(COLOR_STRING)],l.prototype,"color",void 0),__decorate$1w([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1w([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1w([Validate(NUMBER(0))],l.prototype,"fontSize",void 0),__decorate$1w([Validate(STRING)],l.prototype,"fontFamily",void 0),__decorate$1w([Validate(OPT_FUNCTION)],l.prototype,"formatter",void 0),l}(),LegendMarker=function(){function l(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(l.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),__decorate$1w([Validate(NUMBER(0))],l.prototype,"size",void 0),__decorate$1w([Validate(NUMBER(0))],l.prototype,"padding",void 0),__decorate$1w([Validate(NUMBER(0))],l.prototype,"strokeWidth",void 0),l}(),LegendItem=function(){function l(){this.marker=new LegendMarker,this.label=new LegendLabel,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0}return __decorate$1w([Validate(OPT_NUMBER(0))],l.prototype,"maxWidth",void 0),__decorate$1w([Validate(NUMBER(0))],l.prototype,"paddingX",void 0),__decorate$1w([Validate(NUMBER(0))],l.prototype,"paddingY",void 0),__decorate$1w([Validate(BOOLEAN)],l.prototype,"toggleSeriesVisible",void 0),l}(),LegendListeners=function(){function l(){this.legendItemClick=void 0}return __decorate$1w([Validate(OPT_FUNCTION)],l.prototype,"legendItemClick",void 0),l}(),Legend=function(){function l(t,e,n,o,s){var d=this;this.chart=t,this.interactionManager=e,this.cursorManager=n,this.highlightManager=o,this.tooltipManager=s,this.id=createId$1(this),this.group=new Group({name:"legend",layer:!0,zIndex:Layers.LEGEND_ZINDEX}),this.itemSelection=Selection.select(this.group).selectAll(),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new LegendItem,this.listeners=new LegendListeners,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="right",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Pagination(function(v){return d.chart.update(v)},function(v){return d.updatePageNumber(v)},this.interactionManager,this.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this,this.interactionManager.addListener("click",function(v){return d.checkLegendClick(v)}),this.interactionManager.addListener("hover",function(v){return d.handleLegendMouseMove(v)})}return Object.defineProperty(l.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),l.prototype.getOrientation=function(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}},l.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.markDirty(this.group,RedrawType.MINOR)},l.prototype.getCharacterWidths=function(t){var e=this.characterWidths;if(e.has(t))return e.get(t);var n={"...":HdpiCanvas.getTextSize("...",t).width};return e.set(t,n),n},Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),l.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible&&this.data.length>0},l.prototype.attachLegend=function(t){t.append(this.group)},l.prototype.performLayout=function(t,e){var n=this,o=this.item,s=o.paddingX,d=o.paddingY,v=o.label,C=o.maxWidth,m=o.marker,w=m.size,D=m.padding,b=m.shape,T=o.label,A=T.maxLength,I=void 0===A?1/0:A,N=T.fontStyle,G=T.fontWeight,V=T.fontSize,W=T.fontFamily,j=__spread$o(this.data);this.reverseOrder&&j.reverse();var K=this.itemSelection.setData(j,function(De,Ne){var we=getMarker$1(b||Ne.marker.shape);return Ne.id+"-"+Ne.itemId+"-"+we.name});K.exit.remove();var Y=K.enter.append(MarkerLabel).each(function(De,Ne){var we=getMarker$1(b||Ne.marker.shape);De.marker=new we}),re=this.itemSelection=K.merge(Y),q=[],Z=v.getFont(),ne=C??.8*t,se=w+D+s;if(re.each(function(De,Ne){var we;De.markerSize=w,De.spacing=D,De.fontStyle=N,De.fontWeight=G,De.fontSize=V,De.fontFamily=W;var je=null!==(we=Ne.label.text)&&void 0!==we?we:"<unknown>";De.text=n.truncate(je,I,ne,se,Z,Ne.itemId||Ne.id),q.push(De.computeBBox())}),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;var ae=this.size,pe=this.oldSize;ae[0]=t,ae[1]=e,(ae[0]!==pe[0]||ae[1]!==pe[1])&&(pe[0]=ae[0],pe[1]=ae[1]);var he=this.updatePagination(q,t,e),Ee=he.maxPageHeight,Se=he.maxPageWidth;this.pages=he.pages,this.maxPageSize=[Se-s,Ee-d];var Re=this.pagination.currentPage;this.pages.length<1||!this.pages[Re]?this.visible=!1:(this.visible=!0,this.updatePositions(Re),this.update())},l.prototype.truncate=function(t,e,n,o,s,d){var v,C,w=t.split(""),D=!1;if(t.length>e&&(t=""+t.substring(0,e),D=!0),Math.floor(o+HdpiCanvas.getTextSize(t,s).width)>n){var T="",A=this.getCharacterWidths(s),I=o+A["..."];try{for(var N=__values$n(w),G=N.next();!G.done;G=N.next()){var V=G.value;if(A[V]||(A[V]=HdpiCanvas.getTextSize(V,s).width),(I+=A[V])>n)break;T+=V}}catch(W){v={error:W}}finally{try{G&&!G.done&&(C=N.return)&&C.call(N)}finally{if(v)throw v.error}}t=T,D=!0}return D?(t+="...",this.truncatedItems.add(d)):this.truncatedItems.delete(d),t},l.prototype.updatePagination=function(t,e,n){var o=this.getOrientation(),s=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=o,this.pagination.translationX=0,this.pagination.translationY=0;var d=this.calculatePagination(t,e,n),v=d.pages,C=d.maxPageHeight,m=d.maxPageWidth,w=d.paginationBBox,D=d.paginationVertical,b=v.findIndex(function(K){return K.endIndex>=s});this.pagination.currentPage=Math.min(Math.max(b,0),v.length-1);var T=this.item,V=C-T.paddingY,W=0,j=-w.y-this.item.marker.size/2;return D?j+=V+8:(W+=m-T.paddingX-w.x+8,j+=(V-w.height)/2),this.pagination.translationX=W,this.pagination.translationY=j,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:C,maxPageWidth:m,pages:v}},l.prototype.calculatePagination=function(t,e,n){var o,s,d,q,v=this.item,C=v.paddingX,m=v.paddingY,w=this.getOrientation(),D=["left","right"].includes(this.position),b=this.pagination.computeBBox(),T=new BBox(0,0,0,0),A=[],I=0,N=0,G=0,W=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(G++>10){console.warn("AG Charts - unable to find stable legend layout.");break}b=T;var Y=gridLayout({orientation:w,bboxes:t,maxHeight:n-(D?b.height:0),maxWidth:e-(D?0:b.width),itemPaddingY:m,itemPaddingX:C,forceResult:W});A=null!==(o=Y?.pages)&&void 0!==o?o:[],I=null!==(s=Y?.maxPageWidth)&&void 0!==s?s:0,N=null!==(d=Y?.maxPageHeight)&&void 0!==d?d:0;var re=A.length;if(this.pagination.visible=re>1,this.pagination.totalPages=re,this.pagination.update(),T=this.pagination.computeBBox(),!this.pagination.visible)break}while((q=T).width!==b.width||q.height!==b.height);return{maxPageWidth:I,maxPageHeight:N,pages:A,paginationBBox:b,paginationVertical:D}},l.prototype.updatePositions=function(t){void 0===t&&(t=0);var e=this,n=e.item.paddingY,o=e.itemSelection,s=e.pages;if(!(s.length<1)&&s[t]){var d=s[t],v=d.columns,C=d.startIndex,m=d.endIndex,w=0,D=0,b=v.length,T=v[0].indices.length,A="horizontal"===this.getOrientation(),I=v[0].bboxes[0].height+n,N=[];o.each(function(G,V,W){var j,K;if(W<C||W>m)G.visible=!1;else{var Y=W-C,re=0,q=0;A?(re=Y%b,q=Math.floor(Y/b)):(re=Math.floor(Y/T),q=Y%T),G.visible=!0;var Z=v[re];Z&&(D=I*q,w=null!==(j=N[q])&&void 0!==j?j:0,N[q]=(null!==(K=N[q])&&void 0!==K?K:0)+Z.columnWidth,G.translationX=Math.floor(w),G.translationY=Math.floor(D))}})}},l.prototype.updatePageNumber=function(t){var e=this.pages,n=e[t],o=n.startIndex,s=n.endIndex;this.paginationTrackingIndex=0===o?0:t===e.length-1?s:Math.floor((o+s)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.chart.update(ChartUpdateType.SCENE_RENDER)},l.prototype.update=function(){var t=this.item,e=t.marker.strokeWidth,n=t.label.color;this.itemSelection.each(function(o,s){var d=s.marker;o.markerFill=d.fill,o.markerStroke=d.stroke,o.markerStrokeWidth=e,o.markerFillOpacity=d.fillOpacity,o.markerStrokeOpacity=d.strokeOpacity,o.opacity=s.enabled?1:.5,o.color=n})},l.prototype.getDatumForPoint=function(t,e){var n,o,s=[],d={dist:1/0,datum:void 0};try{for(var v=__values$n(this.group.children),C=v.next();!C.done;C=v.next()){var m=C.value;if(m.visible&&m instanceof MarkerLabel){var w=m.computeBBox();if(w.grow(this.item.paddingX/2,"horizontal"),w.grow(this.item.paddingY/2,"vertical"),w.containsPoint(t,e))return m.datum;var D=t-w.x-this.item.paddingX/2,b=e-w.y-this.item.paddingY/2,T=Math.pow(D,2)+Math.pow(b,2);D>=0&&b>=0&&T<d.dist&&(d.dist=T,d.datum=m.datum),s.push(w)}}}catch(N){n={error:N}}finally{try{C&&!C.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}if(BBox.merge(s).containsPoint(t,e))return d.datum},l.prototype.computeBBox=function(){return this.group.computeBBox()},l.prototype.computePagedBBox=function(){var t=this.group.computeBBox();if(this.pages.length<=1)return t;var e=__read$I(this.maxPageSize,2),n=e[0];return t.height=Math.max(e[1],t.height),t.width=Math.max(n,t.width),t},l.prototype.checkLegendClick=function(t){var e=this,n=e.listeners.legendItemClick,o=e.chart,s=e.highlightManager,d=e.item.toggleSeriesVisible,v=this.getDatumForPoint(t.offsetX,t.offsetY);if(v){var C=v.id,m=v.itemId,w=v.enabled,D=o.series.find(function(T){return T.id===C});if(D){t.consume();var b=w;d&&D.toggleSeriesItem(m,b=!w),b?s.updateHighlight(this.id,{series:D,itemId:m,datum:void 0}):s.updateHighlight(this.id),this.chart.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}),n?.({enabled:b,itemId:m,seriesId:D.id})}}},l.prototype.handleLegendMouseMove=function(t){var e=this,o=e.item.toggleSeriesVisible,s=e.listeners;if(e.enabled){var d=this.computeBBox(),v=t.pageX,C=t.pageY,m=t.offsetX,w=t.offsetY,D=this.group.visible&&d.containsPoint(m,w);if(!D)return this.cursorManager.updateCursor(this.id),this.highlightManager.updateHighlight(this.id),void this.tooltipManager.updateTooltip(this.id);t.consume();var b=this.getDatumForPoint(m,w);if(!D||void 0===b)return this.cursorManager.updateCursor(this.id),void this.highlightManager.updateHighlight(this.id);var A=b?this.chart.series.find(function(I){return I.id===b?.id}):void 0;b&&this.truncatedItems.has(b.itemId||b.id)?this.tooltipManager.updateTooltip(this.id,{pageX:v,pageY:C,offsetX:m,offsetY:w,event:t},toTooltipHtml$1({content:b.label.text})):this.tooltipManager.updateTooltip(this.id),(o||null!=s.legendItemClick)&&this.cursorManager.updateCursor(this.id,"pointer"),b?.enabled&&A?this.highlightManager.updateHighlight(this.id,{series:A,itemId:b?.itemId,datum:void 0}):this.highlightManager.updateHighlight(this.id)}},l.className="Legend",__decorate$1w([Validate(BOOLEAN)],l.prototype,"_enabled",void 0),__decorate$1w([Validate(POSITION)],l.prototype,"position",void 0),__decorate$1w([Validate(OPT_NUMBER(0))],l.prototype,"maxWidth",void 0),__decorate$1w([Validate(OPT_NUMBER(0))],l.prototype,"maxHeight",void 0),__decorate$1w([Validate(OPT_BOOLEAN)],l.prototype,"reverseOrder",void 0),__decorate$1w([Validate(OPT_ORIENTATION)],l.prototype,"orientation",void 0),__decorate$1w([Validate(NUMBER(0))],l.prototype,"spacing",void 0),l}(),__values$m=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SizeMonitor=function(){function l(){}return l.init=function(){var t=this,e=window.ResizeObserver;e?this.resizeObserver=new e(function(o){var s,d;try{for(var v=__values$m(o),C=v.next();!C.done;C=v.next()){var m=C.value,w=m.contentRect,D=w.width,b=w.height;t.checkSize(t.elements.get(m.target),m.target,D,b)}}catch(T){s={error:T}}finally{try{C&&!C.done&&(d=v.return)&&d.call(v)}finally{if(s)throw s.error}}}):window.setInterval(function(){t.elements.forEach(function(o,s){t.checkClientSize(s,o)})},100),this.ready=!0},l.checkSize=function(t,e,n,o){t&&(!t.size||n!==t.size.width||o!==t.size.height)&&(t.size={width:n,height:o},t.cb(t.size,e))},l.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},l.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},l.checkClientSize=function(t,e){this.checkSize(e,t,t.clientWidth?t.clientWidth:0,t.clientHeight?t.clientHeight:0)},l.elements=new Map,l.ready=!1,l}(),__awaiter$e=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$e=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}};function debouncedAnimationFrame(l){return buildScheduler(function(t){return requestAnimationFrame(t)},l)}function debouncedCallback(l){return buildScheduler(function(t){return setTimeout(t,0)},l)}function buildScheduler(l,t){var o,s,e=0,n=!1,d=function(){return n},v=function(){n=!1,s?.(),s=void 0,o=void 0,e>0&&l(C)},C=function(){var m=e;e=0,n=!0;var w=t({count:m});w?w.then(v).catch(v):v()};return{schedule:function(){0===e&&!d()&&l(C),e++},await:function(){return __awaiter$e(this,void 0,void 0,function(){return __generator$e(this,function(m){switch(m.label){case 0:if(!d())return[2];o||(o=new Promise(function(w){s=w})),m.label=1;case 1:return d()?[4,o]:[3,3];case 2:return m.sent(),[3,1];case 3:return[2]}})})}}}var __extends$2e=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1v=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MARKER_SHAPES=["circle","cross","diamond","heart","plus","square","triangle"],MARKER_SHAPE=predicateWithMessage(function(l){return MARKER_SHAPES.includes(l)||Object.getPrototypeOf(l)===Marker},"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),SeriesMarker=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.shape=Circle,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return __extends$2e(t,l),__decorate$1v([Validate(BOOLEAN),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"enabled",void 0),__decorate$1v([Validate(MARKER_SHAPE),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"shape",void 0),__decorate$1v([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"size",void 0),__decorate$1v([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"maxSize",void 0),__decorate$1v([Validate(OPT_NUMBER_ARRAY),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"domain",void 0),__decorate$1v([Validate(OPT_COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"fill",void 0),__decorate$1v([Validate(OPT_COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"stroke",void 0),__decorate$1v([Validate(OPT_NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"strokeWidth",void 0),__decorate$1v([Validate(OPT_NUMBER(0,1)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"fillOpacity",void 0),__decorate$1v([Validate(OPT_NUMBER(0,1)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"strokeOpacity",void 0),t}(ChangeDetectable),__read$H=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s};function clamp(l,t,e){return Math.max(t,Math.min(e,l))}var BandScale$5=function(){function l(){this.type="band",this.cache=null,this.cacheProps=["_domain","range","_paddingInner","_paddingOuter","round","interval"],this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}return l.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some(function(o){return t[o]!==e[o]})||(this.cache={},this.cacheProps.forEach(function(o){return t.cache[o]=t[o]}),0))},l.prototype.refresh=function(){this.didChange()&&this.update()},Object.defineProperty(l.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=[];this.index=new Map;var n=this.index;t.forEach(function(o){void 0===n.get(o)&&n.set(o,e.push(o)-1)}),this._domain=e},enumerable:!1,configurable:!0}),l.prototype.ticks=function(){this.refresh();var t=this.interval,n=Math.abs(Math.round(void 0===t?1:t));return this._domain.filter(function(o,s){return s%n==0})},l.prototype.convert=function(t){this.refresh();var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},Object.defineProperty(l.prototype,"bandwidth",{get:function(){return this.refresh(),this._bandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rawBandwidth",{get:function(){return this.refresh(),this._rawBandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=clamp(t,0,1),this._paddingInner=t,this._paddingOuter=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=clamp(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=clamp(t,0,1)},enumerable:!1,configurable:!0}),l.prototype.update=function(){var t=this._domain.length;if(0!==t){for(var e=this.round,n=this._paddingInner,o=this._paddingOuter,s=__read$H(this.range,2),d=s[0],C=s[1]-d,m=C/Math.max(1,t+2*o-n),w=e?Math.floor(m):m,b=d+(C-w*(t-n))/2,T=e?Math.round(b):b,A=w*(1-n),I=e?Math.round(A):A,N=m*(1-n),G=[],V=0;V<t;V++)G.push(T+w*V);this._bandwidth=I,this._rawBandwidth=N,this.ordinalRange=G}},l}(),__extends$2d=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1u=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$G=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$n=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$G(arguments[t]));return l},CategoryAxis=function(l){function t(){var e=l.call(this,new BandScale$5)||this;return e._paddingOverrideEnabled=!1,e.groupPaddingInner=.1,e.includeInvisibleDomains=!0,e}return __extends$2d(t,l),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(e){this._paddingOverrideEnabled=!0,this.scale.paddingInner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!1,configurable:!0}),t.prototype.normaliseDataDomain=function(e){var n=new Set(e);return new(Array.bind.apply(Array,__spread$n([void 0],n.values())))},t.prototype.calculateDomain=function(){return this._paddingOverrideEnabled||(this.boundSeries.some(function(n){return["bar","column"].includes(n.type)})?(this.scale.paddingInner=.2,this.scale.paddingOuter=.3):(this.scale.paddingInner=1,this.scale.paddingOuter=0)),l.prototype.calculateDomain.call(this)},t.className="CategoryAxis",t.type="category",__decorate$1u([Validate(NUMBER(0,1))],t.prototype,"groupPaddingInner",void 0),t}(ChartAxis),__assign$D=function(){return __assign$D=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$D.apply(this,arguments)},__read$F=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$m=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$F(arguments[t]));return l},__values$l=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function jsonDiff(l,t){var e,n,o=classify(l),s=classify(t);if("array"===s){var d=t;return"array"!==o||l.length!==d.length||d.some(function(N,G){var V;return null!=jsonDiff(null===(V=l)||void 0===V?void 0:V[G],N)})?__spread$m(d):null}if("primitive"===s)return"primitive"!==o?__assign$D({},t):l!==t?t:null;var v=l||{},C=t||{},m=new Set(__spread$m(Object.keys(v),Object.keys(C))),w=0,D={},b=function(N){if(v[N]===C[N])return"continue";var G=function(K){D[N]=K,w++},V=classify(v[N]),W=classify(C[N]);if(V!==W||"primitive"===W||null===W||"array"===W&&v[N].length!==C[N].length||"class-instance"===W||"function"===W&&v[N]!==C[N])return G(C[N]),"continue";var j=jsonDiff(v[N],C[N]);null!==j&&G(j)};try{for(var T=__values$l(m),A=T.next();!A.done;A=T.next())b(A.value)}catch(N){e={error:N}}finally{try{A&&!A.done&&(n=T.return)&&n.call(T)}finally{if(e)throw e.error}}return 0===w?null:D}var DELETE=Symbol("<delete-property>"),NOT_SPECIFIED=Symbol("<unspecified-property>");function jsonMerge(l,t){var e,n,o=t?.avoidDeepClone||[];if(l.map(function(T){return classify(T)}).some(function(T){return"array"===T})){var d=l[l.length-1];return d instanceof Array?d.map(function(T){var A=classify(T);return"array"===A?jsonMerge([[],T],t):"object"===A?jsonMerge([{},T],t):T}):d}var v={},C=new Set(l.map(function(T){return null!=T?Object.keys(T):[]}).reduce(function(T,A){return T.concat(A)},[])),m=function(T){var A=l.map(function(V){return null!=V&&T in V?V[T]:NOT_SPECIFIED}).filter(function(V){return V!==NOT_SPECIFIED});if(0===A.length)return"continue";var I=A[A.length-1];if(I===DELETE)return"continue";var N=A.map(function(V){return classify(V)}),G=N[0];if(N.some(function(V){return V!==G}))return v[T]=I,"continue";v[T]="array"!==G&&"object"!==G||o.includes(T)?"array"===G?__spread$m(I):I:jsonMerge(A,t)};try{for(var w=__values$l(C),D=w.next();!D.done;D=w.next())m(D.value)}catch(T){e={error:T}}finally{try{D&&!D.done&&(n=w.return)&&n.call(w)}finally{if(e)throw e.error}}return v}function jsonApply(l,t,e){var n;void 0===e&&(e={});var o=e.path,s=void 0===o?void 0:o,d=e.matcherPath,v=void 0===d?s?s.replace(/(\[[0-9+]+\])/i,"[]"):void 0:d,C=e.skip,m=void 0===C?[]:C,w=e.constructors,D=void 0===w?{}:w,b=e.allowedTypes,T=void 0===b?{}:b;if(null==l)throw new Error("AG Charts - target is uninitialised: "+(s||"<root>"));if(null==t)return l;var A=classify(l),I=function(G){var V=(v?v+".":"")+G;if(m.indexOf(V)>=0)return"continue";var W=t[G],j=(s?s+".":"")+G,K=l,Y=K.constructor,re=K[G],q=null!==(n=D[G])&&void 0!==n?n:D[V];try{var Z=classify(re),ee=classify(W);if("class-instance"===A&&!(G in l)&&!K.hasOwnProperty(G))return console.warn("AG Charts - unable to set ["+j+"] in "+Y?.name+" - property is unknown"),"continue";var ne=T[V]||[Z];if(("class-instance"!==Z||"object"!==ee)&&null!=Z&&null!=ee&&!ne.includes(ee))return console.warn("AG Charts - unable to set ["+j+"] in "+Y?.name+" - can't apply type of ["+ee+"], allowed types are: ["+ne+"]"),"continue";"array"===ee?K[G]=null!=(q=q??D[V+"[]"])?W.map(function(pe){return jsonApply(new q,pe,__assign$D(__assign$D({},e),{path:j,matcherPath:V+"[]"}))}):W:"class-instance"===ee?K[G]=W:"object"===ee?null!=re?jsonApply(re,W,__assign$D(__assign$D({},e),{path:j,matcherPath:V})):K[G]=null!=q?jsonApply(new q,W,__assign$D(__assign$D({},e),{path:j,matcherPath:V})):W:K[G]=W}catch(pe){return console.warn("AG Charts - unable to set ["+j+"] in ["+Y?.name+"]; nested error is: "+pe.message),"continue"}};for(var N in t)I(N);return l}function jsonWalk(l,t,e){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];var s=classify(l),d=e.skip||[];if("array"!==s){if("object"===s){t.apply(void 0,__spread$m([s,l],n));var v=function(m){if(d.indexOf(m)>=0)return"continue";var w=l[m],D=n?.map(function(T){return T?.[m]}),b=classify(w);("object"===b||"array"===b)&&jsonWalk.apply(void 0,__spread$m([w,t,e],D))};for(var C in l)v(C)}}else l.forEach(function(m,w){jsonWalk.apply(void 0,__spread$m([m,t,e],n?.map(function(D){return D?.[w]})))})}function classify(l){return null==l?null:l instanceof HTMLElement?"primitive":l instanceof Array?"array":l instanceof Date?"primitive":"object"==typeof l&&l.constructor===Object?"object":"function"==typeof l?"function":"object"==typeof l&&null!=l.constructor?"class-instance":"primitive"}var __extends$2c=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1t=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$d=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$d=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__read$E=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$l=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$E(arguments[t]));return l},__values$k=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},CartesianSeriesNodeClickEvent=function(l){function t(e,n,o,s,d){var v=l.call(this,o,s,d)||this;return v.xKey=e,v.yKey=n,v}return __extends$2c(t,l),t}(SeriesNodeClickEvent),CartesianSeries=function(l){function t(e){var n;void 0===e&&(e={});var o=l.call(this,{useSeriesGroupLayer:!0,pickModes:e.pickModes})||this;o._contextNodeData=[],o.nodeDataDependencies={},o.highlightSelection=Selection.select(o.highlightNode).selectAll(),o.highlightLabelSelection=Selection.select(o.highlightLabel).selectAll(),o.subGroups=[],o.subGroupId=0,o.seriesItemEnabled=new Map,o.directionKeys=((n={})[ChartAxisDirection.X]=["xKey"],n[ChartAxisDirection.Y]=["yKey"],n);var s=e.pathsPerSeries,v=e.hasMarkers,m=e.pathsZIndexSubOrderOffset,D=e.renderLayerPerSubSeries;return o.opts={pathsPerSeries:void 0===s?1:s,hasMarkers:void 0!==v&&v,pathsZIndexSubOrderOffset:void 0===m?[]:m,renderLayerPerSubSeries:void 0===D||D},o}return __extends$2c(t,l),Object.defineProperty(t.prototype,"contextNodeData",{get:function(){var e;return null===(e=this._contextNodeData)||void 0===e?void 0:e.slice()},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){l.prototype.destroy.call(this),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)},t.prototype.checkDomainXY=function(e,n,o,s){return(o&&isContinuous(e)||!o&&isDiscrete(e))&&(s&&isContinuous(n)||!s&&isDiscrete(n))?[e,n]:void 0},t.prototype.checkRangeXY=function(e,n,o,s){return!isNaN(e)&&!isNaN(n)&&o.inRange(e)&&s.inRange(n)},t.prototype.update=function(e){var n,o,s=e.seriesRect;return __awaiter$d(this,void 0,void 0,function(){var d,v,C,m,w,D,b;return __generator$d(this,function(T){switch(T.label){case 0:return v=(d=this).seriesItemEnabled,C=d.visible,m=(null!==(o=null===(n=this.highlightManager)||void 0===n?void 0:n.getActiveHighlight())&&void 0!==o?o:{}).series,w=m?m===this:void 0,D=C&&0===v.size||__spread$l(v.values()).some(function(A){return!0===A}),null!=jsonDiff(this.nodeDataDependencies,b={seriesRectWidth:s?.width,seriesRectHeight:s?.height})&&(this.nodeDataDependencies=b,this.markNodeDataDirty()),[4,this.updateSelections(w,D)];case 1:return T.sent(),[4,this.updateNodes(w,D)];case 2:return T.sent(),[2]}})})},t.prototype.updateSelections=function(e,n){return __awaiter$d(this,void 0,void 0,function(){var o,s=this;return __generator$d(this,function(d){switch(d.label){case 0:return[4,this.updateHighlightSelection(e)];case 1:return d.sent(),n&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())?this.nodeDataRefresh?(this.nodeDataRefresh=!1,o=this,[4,this.createNodeData()]):[3,4]:[2];case 2:return o._contextNodeData=d.sent(),[4,this.updateSeriesGroups()];case 3:d.sent(),d.label=4;case 4:return[4,Promise.all(this.subGroups.map(function(v,C){return s.updateSeriesGroupSelections(v,C,e)}))];case 5:return d.sent(),[2]}})})},t.prototype.updateSeriesGroupSelections=function(e,n,o){return __awaiter$d(this,void 0,void 0,function(){var s,d,v,m,w,D,T,A,I;return __generator$d(this,function(N){switch(N.label){case 0:return s=e.datumSelection,d=e.labelSelection,v=e.markerSelection,w=(m=this._contextNodeData[n]).nodeData,D=m.labelData,[4,this.updatePaths({seriesHighlighted:o,itemId:m.itemId,contextData:m,paths:e.paths,seriesIdx:n})];case 1:return N.sent(),T=e,[4,this.updateDatumSelection({nodeData:w,datumSelection:s,seriesIdx:n})];case 2:return T.datumSelection=N.sent(),A=e,[4,this.updateLabelSelection({labelData:D,labelSelection:d,seriesIdx:n})];case 3:return A.labelSelection=N.sent(),v?(I=e,[4,this.updateMarkerSelection({nodeData:w,markerSelection:v,seriesIdx:n})]):[3,5];case 4:I.markerSelection=N.sent(),N.label=5;case 5:return[2]}})})},t.prototype.updateSeriesGroups=function(){var e;return __awaiter$d(this,void 0,void 0,function(){var n,o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K;return __generator$d(this,function(Y){if(s=(n=this).contentGroup,C=(v=n.opts).pathsPerSeries,m=v.hasMarkers,w=v.pathsZIndexSubOrderOffset,D=v.renderLayerPerSubSeries,(o=n._contextNodeData).length===(d=n.subGroups).length)return[2];for(o.length<d.length&&d.splice(o.length).forEach(function(re){var q,Z,ne=re.markerGroup,se=re.labelGroup,ae=re.paths;s.removeChild(re.dataNodeGroup),ne&&s.removeChild(ne),se&&s.removeChild(se);try{for(var pe=__values$k(ae),he=pe.next();!he.done;he=pe.next())s.removeChild(he.value)}catch(Ee){q={error:Ee}}finally{try{he&&!he.done&&(Z=pe.return)&&Z.call(pe)}finally{if(q)throw q.error}}}),b=o.length;b>d.length;){for(T=D,A=this.subGroupId++,N=new Group({name:this.id+"-series-sub"+A+"-dataNodes",layer:T,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[this.id,I=A]}),G=m?new Group({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:T,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[this.id,1e4+A]}):void 0,V=new Group({name:this.id+"-series-sub"+this.subGroupId+++"-labels",layer:T,zIndex:Layers.SERIES_LABEL_ZINDEX,zIndexSubOrder:[this.id,A]}),s.appendChild(N),s.appendChild(V),G&&s.appendChild(G),W=D?N:s,j=[],K=0;K<C;K++)j[K]=new Path,j[K].zIndex=Layers.SERIES_LAYER_ZINDEX,j[K].zIndexSubOrder=[this.id,(null!==(e=w[K])&&void 0!==e?e:0)+I],W.appendChild(j[K]);d.push({paths:j,dataNodeGroup:N,markerGroup:G,labelGroup:V,labelSelection:Selection.select(V).selectAll(),datumSelection:Selection.select(N).selectAll(),markerSelection:G?Selection.select(G).selectAll():void 0})}return[2]})})},t.prototype.updateNodes=function(e,n){var o;return __awaiter$d(this,void 0,void 0,function(){var s,d,v,C,m,w,D,b,T,A,I,N,G=this;return __generator$d(this,function(V){switch(V.label){case 0:return d=(s=this).highlightSelection,v=s.highlightLabelSelection,C=s._contextNodeData,m=s.seriesItemEnabled,D=(w=s.opts).hasMarkers,b=w.renderLayerPerSubSeries,T=this.visible&&(null===(o=this._contextNodeData)||void 0===o?void 0:o.length)>0&&n,this.rootGroup.visible=T,this.contentGroup.visible=T,this.highlightGroup.visible=T&&!!e,A=this.getOpacity(),I=this.subGroups.map(function(W,j){return G.getOpacity({itemId:C[j].itemId})}),N=I.some(function(W){return W!==A}),this.contentGroup.opacity=N?1:A,D?[4,this.updateMarkerNodes({markerSelection:d,isHighlight:!0,seriesIdx:-1})]:[3,2];case 1:return V.sent(),[3,4];case 2:return[4,this.updateDatumNodes({datumSelection:d,isHighlight:!0,seriesIdx:-1})];case 3:V.sent(),V.label=4;case 4:return[4,this.updateLabelNodes({labelSelection:v,seriesIdx:-1})];case 5:return V.sent(),[4,Promise.all(this.subGroups.map(function(W,j){return __awaiter$d(G,void 0,void 0,function(){var K,Y,re,q,Z,ee,ne,se,ae,pe,he,_e,Ee,Se,Re,Ce;return __generator$d(this,function(De){switch(De.label){case 0:K=W.dataNodeGroup,Y=W.markerGroup,re=W.datumSelection,q=W.labelSelection,Z=W.markerSelection,ee=W.paths,ne=W.labelGroup,se=C[j].itemId,ae=T&&(null===(Ce=m.get(se))||void 0===Ce||Ce),K.opacity=pe=N?I[j]:1,K.visible=ae,ne.visible=ae,Y&&(Y.opacity=pe,Y.zIndex=K.zIndex>=Layers.SERIES_LAYER_ZINDEX?K.zIndex:K.zIndex+1,Y.visible=ae),ne&&(ne.opacity=pe);try{for(he=__values$k(ee),_e=he.next();!_e.done;_e=he.next())Ee=_e.value,b||(Ee.opacity=pe,Ee.visible=ae)}catch(Ne){Se={error:Ne}}finally{try{_e&&!_e.done&&(Re=he.return)&&Re.call(he)}finally{if(Se)throw Se.error}}return K.visible?[4,this.updatePathNodes({seriesHighlighted:e,itemId:se,paths:ee,seriesIdx:j})]:[2];case 1:return De.sent(),[4,this.updateDatumNodes({datumSelection:re,isHighlight:!1,seriesIdx:j})];case 2:return De.sent(),[4,this.updateLabelNodes({labelSelection:q,seriesIdx:j})];case 3:return De.sent(),D&&Z?[4,this.updateMarkerNodes({markerSelection:Z,isHighlight:!1,seriesIdx:j})]:[3,5];case 4:De.sent(),De.label=5;case 5:return[2]}})})}))];case 6:return V.sent(),[2]}})})},t.prototype.updateHighlightSelection=function(e){var n;return __awaiter$d(this,void 0,void 0,function(){var o,s,d,v,C,m,w,D,b,T,A,I,G,V,W;return __generator$d(this,function(j){switch(j.label){case 0:return s=(o=this).highlightSelection,d=o.highlightLabelSelection,v=o._contextNodeData,C=null===(n=this.highlightManager)||void 0===n?void 0:n.getActiveHighlight(),w=this,[4,this.updateHighlightSelectionItem({item:m=e&&C?.datum?C:void 0,highlightSelection:s})];case 1:if(w.highlightSelection=j.sent(),this.isLabelEnabled()&&null!=m){T=void 0===(b=m.itemId)?void 0:b;try{for(A=__values$k(v),I=A.next();!I.done&&null==(D=I.value.labelData.find(function(K){return K.datum===m.datum&&K.itemId===T}));I=A.next());}catch(K){V={error:K}}finally{try{I&&!I.done&&(W=A.return)&&W.call(A)}finally{if(V)throw V.error}}}return G=this,[4,this.updateHighlightSelectionLabel({item:D,highlightLabelSelection:d})];case 2:return G.highlightLabelSelection=j.sent(),[2]}})})},t.prototype.pickNodeExactShape=function(e){var n,o,s=l.prototype.pickNodeExactShape.call(this,e);if(s)return s;var d=e.x,v=e.y,C=this.opts.hasMarkers;try{for(var m=__values$k(this.subGroups),w=m.next();!w.done;w=m.next()){var D=w.value,T=D.markerGroup,A=D.dataNodeGroup.pickNode(d,v);if(!A&&C&&(A=T?.pickNode(d,v)),A)return{datum:A.datum,distance:0}}}catch(I){n={error:I}}finally{try{w&&!w.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}},t.prototype.pickNodeClosestDatum=function(e){var n,o,s,d,v,C,V,D=this,b=D.xAxis,T=D.yAxis,I=D._contextNodeData,N=D.rootGroup.transformPoint(e.x,e.y),G=1/0;try{for(var W=__values$k(I),j=W.next();!j.done;j=W.next()){var K=j.value;try{for(var Y=(s=void 0,__values$k(K.nodeData)),re=Y.next();!re.done;re=Y.next()){var _e,q=re.value,Z=q.point,ee=void 0===Z?{}:Z,ne=ee.x,se=void 0===ne?NaN:ne,ae=ee.y,pe=void 0===ae?NaN:ae;isNaN(se)||isNaN(pe)||b?.inRange(se)&&T?.inRange(pe)&&(_e=Math.max(Math.pow(N.x-se,2)+Math.pow(N.y-pe,2),0))<G&&(G=_e,V=q)}}catch(Ee){s={error:Ee}}finally{try{re&&!re.done&&(d=Y.return)&&d.call(Y)}finally{if(s)throw s.error}}}}catch(Ee){n={error:Ee}}finally{try{j&&!j.done&&(o=W.return)&&o.call(W)}finally{if(n)throw n.error}}if(V)return{datum:V,distance:_e=Math.max(Math.sqrt(G)-(null!==(C=null===(v=V.point)||void 0===v?void 0:v.size)&&void 0!==C?C:0),0)}},t.prototype.pickNodeMainAxisFirst=function(e,n){var o,s,d,v,C,m,w=e.x,D=e.y,b=this,T=b.xAxis,A=b.yAxis,I=b.rootGroup,N=b._contextNodeData,G=[T,A].filter(function($e){return $e instanceof CategoryAxis}).map(function($e){return $e.direction});if(!n||0!==G.length){var W=__read$E(G,1)[0],j=void 0===W?ChartAxisDirection.X:W,K=I.transformPoint(w,D),Y=j===ChartAxisDirection.X?[K.x,K.y]:[K.y,K.x],re=[1/0,1/0],q=void 0;try{for(var Z=__values$k(N),ee=Z.next();!ee.done;ee=Z.next()){var ne=ee.value;try{for(var se=(d=void 0,__values$k(ne.nodeData)),ae=se.next();!ae.done;ae=se.next()){var pe=ae.value,he=pe.point,_e=void 0===he?{}:he,Ee=_e.x,Se=void 0===Ee?NaN:Ee,Re=_e.y,Ce=void 0===Re?NaN:Re;if(!isNaN(Se)&&!isNaN(Ce)&&T?.inRange(Se)&&A?.inRange(Ce)){for(var Ne=j===ChartAxisDirection.X?[Se,Ce]:[Ce,Se],we=!0,Ve=0;Ve<Ne.length;Ve++){var je=Math.abs(Ne[Ve]-Y[Ve]);if(je>re[Ve]){we=!1;break}je<re[Ve]&&(re[Ve]=je,re.fill(1/0,Ve+1,re.length))}we&&(q=pe)}}}catch($e){d={error:$e}}finally{try{ae&&!ae.done&&(v=se.return)&&v.call(se)}finally{if(d)throw d.error}}}}catch($e){o={error:$e}}finally{try{ee&&!ee.done&&(s=Z.return)&&s.call(Z)}finally{if(o)throw o.error}}if(q)return{datum:q,distance:Math.max(Math.sqrt(Math.pow(re[0],2)+Math.pow(re[1],2))-(null!==(m=null===(C=q.point)||void 0===C?void 0:C.size)&&void 0!==m?m:0),0)}}},t.prototype.toggleSeriesItem=function(e,n){this.seriesItemEnabled.size>0?(this.seriesItemEnabled.set(e,n),this.nodeDataRefresh=!0):l.prototype.toggleSeriesItem.call(this,e,n)},t.prototype.isEnabled=function(){var e,n;if(this.seriesItemEnabled.size>0){try{for(var o=__values$k(this.seriesItemEnabled),s=o.next();!s.done;s=o.next())if(__read$E(s.value,2)[1])return!0}catch(C){e={error:C}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!1}return l.prototype.isEnabled.call(this)},t.prototype.isPathOrSelectionDirty=function(){return!1},t.prototype.getLabelData=function(){return[]},t.prototype.isAnySeriesVisible=function(){var e,n;try{for(var o=__values$k(this.seriesItemEnabled.values()),s=o.next();!s.done;s=o.next())if(s.value)return!0}catch(v){e={error:v}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!1},t.prototype.validateXYData=function(e,n,o,s,d,v,C,m){var w;if(void 0===m&&(m=1),"integrated"===(null===(w=this.chart)||void 0===w?void 0:w.mode)||!s||!d||0===o.length||this.seriesItemEnabled.size>0&&!this.isAnySeriesVisible())return!0;var D=function(I,N,G){return void 0===N&&(N=0),void 0===G&&(G=0),I.some(N===G?function(V){return isContinuous(V)}:function(V){return D(V,N+1,G)})},T=d.scale instanceof ContinuousScale,A=!0;return s.scale instanceof ContinuousScale&&!D(v)&&(doOnce$1(function(){return console.warn("AG Charts - The number axis has no numeric data supplied for xKey: ["+e+"].")},"series has no numeric data on number axis - "+e),A=!1),T&&!D(C,0,m-1)&&(doOnce$1(function(){return console.warn("AG Charts - The number axis has no numeric data supplied for yKey: ["+n+"].")},"series has no numeric data on number axis - "+n),A=!1),A},t.prototype.updatePaths=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(n){return e.paths.forEach(function(o){return o.visible=!1}),[2]})})},t.prototype.updatePathNodes=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(n){return[2]})})},t.prototype.updateHighlightSelectionItem=function(e){return __awaiter$d(this,void 0,void 0,function(){var o,s,d;return __generator$d(this,function(C){return s=e.highlightSelection,d=(o=e.item)?[o]:[],this.opts.hasMarkers?[2,this.updateMarkerSelection({nodeData:d,markerSelection:s,seriesIdx:-1})]:[2,this.updateDatumSelection({nodeData:d,datumSelection:s,seriesIdx:-1})]})})},t.prototype.updateHighlightSelectionLabel=function(e){return __awaiter$d(this,void 0,void 0,function(){var n;return __generator$d(this,function(d){return[2,this.updateLabelSelection({labelData:(n=e.item)?[n]:[],labelSelection:e.highlightLabelSelection,seriesIdx:-1})]})})},t.prototype.updateDatumSelection=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(n){return[2,e.datumSelection]})})},t.prototype.updateDatumNodes=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(n){return[2]})})},t.prototype.updateMarkerSelection=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(n){return[2,e.markerSelection]})})},t.prototype.updateMarkerNodes=function(e){return __awaiter$d(this,void 0,void 0,function(){return __generator$d(this,function(n){return[2]})})},t}(Series),CartesianSeriesMarker=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$2c(t,l),__decorate$1t([Validate(OPT_FUNCTION),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"formatter",void 0),t}(SeriesMarker);function sleep(l){return new Promise(function(t){setTimeout(function(){return t(void 0)},l)})}var __read$D=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$k=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$D(arguments[t]));return l},__values$j=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Listeners=function(){function l(){this.registeredListeners={}}return l.prototype.addListener=function(t,e){var n,o=Symbol(t);return this.registeredListeners[t]||(this.registeredListeners[t]=[]),null===(n=this.registeredListeners[t])||void 0===n||n.push({symbol:o,handler:e}),o},l.prototype.dispatch=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return(null!==(e=this.registeredListeners[t])&&void 0!==e?e:[]).map(function(d){return d.handler.apply(d,__spread$k(n))})},l.prototype.cancellableDispatch=function(t,e){for(var n,o,s,d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var C=null!==(s=this.registeredListeners[t])&&void 0!==s?s:[],m=[];try{for(var w=__values$j(C),D=w.next();!D.done;D=w.next()){var b=D.value;if(e())break;m.push(b.handler.apply(b,__spread$k(d)))}}catch(T){n={error:T}}finally{try{D&&!D.done&&(o=w.return)&&o.call(w)}finally{if(n)throw n.error}}return m},l.prototype.reduceDispatch=function(t,e){for(var n,o,s,d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var C=null!==(s=this.registeredListeners[t])&&void 0!==s?s:[],m=void 0;try{for(var w=__values$j(C),D=w.next();!D.done;D=w.next()){var b=D.value;m=b.handler.apply(b,__spread$k(d)),d=e.apply(void 0,__spread$k([m],d))}}catch(T){n={error:T}}finally{try{D&&!D.done&&(o=w.return)&&o.call(w)}finally{if(n)throw n.error}}return m},l.prototype.removeListener=function(t){for(var e in this.registeredListeners){var n=this.registeredListeners[e],o=n?.findIndex(function(s){return s.symbol===t});null!=o&&o>=0&&n?.splice(o,1),null!=o&&0===n?.length&&delete this.registeredListeners[e]}},l}(),BaseManager=function(){function l(){this.listeners=new Listeners}return l.prototype.addListener=function(t,e){return this.listeners.addListener(t,e)},l.prototype.removeListener=function(t){this.listeners.removeListener(t)},l}(),__extends$2b=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$C=function(){return __assign$C=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$C.apply(this,arguments)},__awaiter$c=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$c=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__values$i=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},WINDOW_EVENT_HANDLERS=["pagehide","mousemove","mouseup"],EVENT_HANDLERS=["click","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel"],CSS="\n.ag-chart-wrapper {\n    touch-action: none;\n}\n",InteractionManager=function(l){function t(e,n){var o,s,d,v;void 0===n&&(n=document);var C=l.call(this)||this;C.eventHandler=function(I){return C.processEvent(I)},C.mouseDown=!1,C.touchDown=!1,C.rootElement=n.body,C.element=e;try{for(var m=__values$i(EVENT_HANDLERS),w=m.next();!w.done;w=m.next())(D=w.value).startsWith("touch")?e.addEventListener(D,C.eventHandler,{passive:!0}):e.addEventListener(D,C.eventHandler)}catch(I){o={error:I}}finally{try{w&&!w.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}try{for(var b=__values$i(WINDOW_EVENT_HANDLERS),T=b.next();!T.done;T=b.next()){var D=T.value;window.addEventListener(D,C.eventHandler)}}catch(I){d={error:I}}finally{try{T&&!T.done&&(v=b.return)&&v.call(b)}finally{if(d)throw d.error}}if(t.interactionDocuments.indexOf(n)<0){var A=document.createElement("style");A.innerHTML=CSS,document.head.insertBefore(A,document.head.querySelector("style")),t.interactionDocuments.push(n)}return C}return __extends$2b(t,l),t.prototype.destroy=function(){var e,n,o,s;try{for(var d=__values$i(WINDOW_EVENT_HANDLERS),v=d.next();!v.done;v=d.next()){var C=v.value;window.removeEventListener(C,this.eventHandler)}}catch(D){e={error:D}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}try{for(var m=__values$i(EVENT_HANDLERS),w=m.next();!w.done;w=m.next())this.element.removeEventListener(C=w.value,this.eventHandler)}catch(D){o={error:D}}finally{try{w&&!w.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}},t.prototype.processEvent=function(e){var n=this.decideInteractionEventTypes(e);n.length>0&&this.dispatchEvent(e,n)},t.prototype.dispatchEvent=function(e,n){return __awaiter$c(this,void 0,void 0,function(){var o,s,d,v,C,w,D;return __generator$c(this,function(b){if(null==(o=this.calculateCoordinates(e)))return[2];s=function(T){var A=d.buildEvent(__assign$C(__assign$C({event:e},o),{type:T}));d.listeners.cancellableDispatch(T,function(){return A.consumed},A)},d=this;try{for(v=__values$i(n),C=v.next();!C.done;C=v.next())s(C.value)}catch(T){w={error:T}}finally{try{C&&!C.done&&(D=v.return)&&D.call(v)}finally{if(w)throw w.error}}return[2]})})},t.prototype.decideInteractionEventTypes=function(e){switch(e.type){case"click":return["click"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=e.target,["drag-start"];case"touchstart":return this.touchDown=!0,this.dragStartElement=e.target,["drag-start"];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(e)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(e)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(e)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":var n=e instanceof MouseEvent&&1==(1&e.buttons);return this.mouseDown!==n?(this.mouseDown=n,[n?"drag-start":"drag-end"]):[];case"pagehide":return["page-left"]}return[]},t.prototype.isEventOverElement=function(e){var n;return e.target===this.element||(null===(n=e.target)||void 0===n?void 0:n.parentElement)===this.element},t.prototype.calculateCoordinates=function(e){var n;if(e instanceof MouseEvent)return this.fixOffsets(e,{clientX:o=e.clientX,clientY:s=e.clientY,pageX:d=e.pageX,pageY:v=e.pageY,offsetX:e.offsetX,offsetY:e.offsetY});if(typeof TouchEvent<"u"&&e instanceof TouchEvent){var w=null!==(n=e.touches[0])&&void 0!==n?n:e.changedTouches[0],o=w.clientX,s=w.clientY,d=w.pageX,v=w.pageY;return __assign$C(__assign$C({},t.NULL_COORDS),{clientX:o,clientY:s,pageX:d,pageY:v})}return e instanceof PageTransitionEvent?e.persisted?void 0:t.NULL_COORDS:void 0},t.prototype.fixOffsets=function(e,n){var o=function(v){for(var C=0,m=0;v;)C+=v.offsetLeft,m+=v.offsetTop,v=v.offsetParent;return{x:C,y:m}};if(null!=this.dragStartElement&&e.target!==this.dragStartElement){var s=o(this.dragStartElement),d=o(e.target);n.offsetX-=s.x-d.x,n.offsetY-=s.y-d.y}return n},t.prototype.buildEvent=function(e){var n=e.type,o=e.event,s=e.clientX,d=e.clientY,v=e.offsetX,C=e.offsetY,m=e.pageX,w=e.pageY;if(!isNumber$4(v)||!isNumber$4(C)){var D=this.element.getBoundingClientRect();v=s-D.left,C=d-D.top}if(!isNumber$4(m)||!isNumber$4(w)){var b=this.rootElement.getBoundingClientRect();m=s-b.left,w=d-b.top}var T={type:n,offsetX:v,offsetY:C,pageX:m,pageY:w,sourceEvent:o,consumed:!1,consume:function(){return T.consumed=!0}};return T},t.interactionDocuments=[],t.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0},t}(BaseManager),__extends$2a=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$B=function(){return __assign$B=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$B.apply(this,arguments)},__decorate$1s=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__values$h=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ClipRect=function(l){function t(){var e=l.call(this)||this;return e.path=new Path2D,e.enabled=!1,e._dirtyPath=!0,e.x=0,e.y=0,e.width=10,e.height=10,e.isContainerNode=!0,e}return __extends$2a(t,l),t.prototype.containsPoint=function(e,n){var o=this.transformPoint(e,n);return o.x>=this.x&&o.x<=this.x+this.width&&o.y>=this.y&&o.y<=this.y+this.height},t.prototype.updatePath=function(){var e=this,n=e.x,o=e.y,s=e.width,d=e.height,v=e.path;v.clear(),v.rect(n,o,s,d),this._dirtyPath=!1},t.prototype.computeBBox=function(){var e=this;return new BBox(e.x,e.y,e.width,e.height)},t.prototype.render=function(e){var n,o,s=this,d=s.enabled,m=s.children,w=e.ctx,D=e.forceRender,b=e.stats;if(s.dirty!==RedrawType.NONE||D){s._dirtyPath&&this.updatePath(),d&&(w.save(),this.path.draw(w),w.clip());var T=d?this.computeBBox():void 0,A=__assign$B(__assign$B({},e),{clipBBox:T});try{for(var I=__values$h(m),N=I.next();!N.done;N=I.next()){var G=N.value;G.visible&&(D||G.dirty>RedrawType.NONE)?(w.save(),G.render(A),w.restore()):G.visible||G.markClean()}}catch(V){n={error:V}}finally{try{N&&!N.done&&(o=I.return)&&o.call(I)}finally{if(n)throw n.error}}l.prototype.render.call(this,e),d&&w.restore()}else b&&(b.nodesSkipped+=this.nodeCount.count)},t.className="ClipRect",__decorate$1s([SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"enabled",void 0),__decorate$1s([ScenePathChangeDetection()],t.prototype,"x",void 0),__decorate$1s([ScenePathChangeDetection()],t.prototype,"y",void 0),__decorate$1s([ScenePathChangeDetection()],t.prototype,"width",void 0),__decorate$1s([ScenePathChangeDetection()],t.prototype,"height",void 0),t}(Node),__read$C=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},CursorManager=function(){function l(t){this.states={},this.element=t}return l.prototype.updateCursor=function(t,e){delete this.states[t],null!=e&&(this.states[t]={style:e}),this.applyStates()},l.prototype.applyStates=function(){var t="default";Object.entries(this.states).reverse().slice(0,1).forEach(function(e){var n=__read$C(e,2);return t=n[1].style}),this.element.style.cursor=t},l}(),__extends$29=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__read$B=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s};function isEqual$1(l,t){return l===t||!(l?.series!==t?.series||l?.itemId!==t?.itemId||l?.datum!==t?.datum)}var HighlightManager=function(l){function t(){var e=l.call(this)||this;return e.states={},e.activeHighlight=void 0,e}return __extends$29(t,l),t.prototype.updateHighlight=function(e,n){delete this.states[e],null!=n&&(this.states[e]={highlightedDatum:n}),this.applyStates()},t.prototype.getActiveHighlight=function(){return this.activeHighlight},t.prototype.applyStates=function(){var e=this.activeHighlight,n=void 0;Object.entries(this.states).reverse().slice(0,1).forEach(function(d){var v=__read$B(d,2);return n=v[1].highlightedDatum}),this.activeHighlight=n,isEqual$1(e,this.activeHighlight)||this.listeners.dispatch("highlight-change",{type:"highlight-change",previousHighlight:e,currentHighlight:this.activeHighlight})},t}(BaseManager),__read$A=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},TooltipManager=function(){function l(t){this.states={},this.tooltip=t}return l.prototype.updateTooltip=function(t,e,n){var o;null==n&&(n=null===(o=this.states[t])||void 0===o?void 0:o.content),delete this.states[t],null!=e&&null!=n&&(this.states[t]={content:n,meta:e}),this.applyStates()},l.prototype.getTooltipMeta=function(t){var e;return null===(e=this.states[t])||void 0===e?void 0:e.meta},l.prototype.applyStates=function(){var t,e=void 0,n=void 0;if(Object.entries(this.states).reverse().slice(0,1).forEach(function(s){var v=__read$A(s,2)[1];e=v.content,n=v.meta}),void 0===n||void 0===e)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===e){var o=this.tooltip.isVisible();this.tooltip.show(n,void 0,o)}else this.tooltip.show(n,e);this.appliedState={content:e,meta:n}},l}(),__extends$28=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$A=function(){return __assign$A=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$A.apply(this,arguments)},__values$g=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$z=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s};function isEqual(l,t){var e,n,o,s,d,v,C,m;return l===t||!((null===(e=l?.x)||void 0===e?void 0:e.min)!==(null===(n=t?.x)||void 0===n?void 0:n.min)||(null===(o=l?.x)||void 0===o?void 0:o.max)!==(null===(s=t?.x)||void 0===s?void 0:s.max)||(null===(d=l?.y)||void 0===d?void 0:d.max)!==(null===(v=t?.y)||void 0===v?void 0:v.max)||(null===(C=l?.y)||void 0===C?void 0:C.min)!==(null===(m=t?.y)||void 0===m?void 0:m.min))}var ZoomManager=function(l){function t(){var e=l.call(this)||this;return e.states={},e.currentZoom=void 0,e}return __extends$28(t,l),t.prototype.updateZoom=function(e,n){delete this.states[e],null!=n&&(this.states[e]=__assign$A({},n)),this.applyStates()},t.prototype.getZoom=function(){return this.currentZoom},t.prototype.applyStates=function(){var e,n,o=this.currentZoom,s={};try{for(var d=__values$g(Object.entries(this.states)),v=d.next();!v.done;v=d.next()){var w=__read$z(v.value,2)[1],b=w.y;s.x=w.x??s.x,s.y=b??s.y}}catch(I){e={error:I}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}if(this.currentZoom=null!=s.x||null!=s.y?s:void 0,!isEqual(o,this.currentZoom)){var A=__assign$A({type:"zoom-change"},o??{});this.listeners.dispatch("zoom-change",A)}},t}(BaseManager),__assign$z=function(){return __assign$z=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$z.apply(this,arguments)};function isLayoutStage(l){return"layout-complete"!==l}function isLayoutComplete(l){return"layout-complete"===l}var LayoutService=function(){function l(){this.layoutProcessors=new Listeners,this.listeners=new Listeners}return l.prototype.addListener=function(t,e){if(isLayoutStage(t))return this.layoutProcessors.addListener(t,e);if(isLayoutComplete(t))return this.listeners.addListener(t,e);throw new Error("AG Charts - unsupported listener type: "+t)},l.prototype.removeListener=function(t){this.listeners.removeListener(t),this.layoutProcessors.removeListener(t)},l.prototype.dispatchPerformLayout=function(t,e){return this.layoutProcessors.reduceDispatch(t,function(o,s){var d=o.shrinkRect;return[__assign$z(__assign$z({},s),{shrinkRect:d})]},e)??e},l.prototype.dispatchLayoutComplete=function(t){this.listeners.dispatch("layout-complete",t)},l}(),__extends$27=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$y=function(){return __assign$y=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$y.apply(this,arguments)},__decorate$1r=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$b=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$b=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__values$f=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$y=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$j=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$y(arguments[t]));return l},Chart=function(l){function t(e,n,o){void 0===e&&(e=window.document);var s,d=l.call(this)||this;d.id=createId$1(d),d.processedOptions={},d.userOptions={},d.queuedUserOptions=[],d.seriesRoot=new ClipRect,d.background=new Background,d._debug=!1,d.extraDebugStats={},d._container=void 0,d._data=[],d._autoSize=!1,d.padding=new Padding$1(20),d._title=void 0,d._subtitle=void 0,d.mode="standalone",d._destroyed=!1,d.modules={},d._pendingFactoryUpdates=[],d._performUpdateNoRenderCount=0,d._performUpdateType=ChartUpdateType.NONE,d.seriesToUpdate=new Set,d.performUpdateTrigger=debouncedCallback(function(b){var T=b.count;return __awaiter$b(d,void 0,void 0,function(){var A;return __generator$b(this,function(I){switch(I.label){case 0:if(this._destroyed)return[2];I.label=1;case 1:return I.trys.push([1,3,,4]),[4,this.performUpdate(T)];case 2:return I.sent(),[3,4];case 3:return A=I.sent(),this._lastPerformUpdateError=A,console.error(A),[3,4];case 4:return[2]}})})}),d._axes=[],d._series=[],d.lastInteractionEvent=void 0,d.pointerScheduler=debouncedAnimationFrame(function(){d.lastInteractionEvent&&d.handlePointer(d.lastInteractionEvent),d.lastInteractionEvent=void 0}),d.onSeriesNodeClick=function(b){var T=__assign$y(__assign$y({},b),{type:"seriesNodeClick"});Object.defineProperty(T,"series",{enumerable:!1,get:function(){return b.series}}),d.fireEvent(T)};var v=o?.scene,C=null!==(s=o?.element)&&void 0!==s?s:e.createElement("div"),m=o?.container,w=new Group({name:"root"});w.visible=!1,w.append(d.seriesRoot);var D=d.background;return D.fill="white",w.appendChild(D.node),d.axisGroup=new Group({name:"Axes",layer:!0,zIndex:Layers.AXIS_ZINDEX}),w.appendChild(d.axisGroup),d.element=C,C.classList.add("ag-chart-wrapper"),C.style.position="relative",d.scene=v??new Scene({document:e,overrideDevicePixelRatio:n}),d.scene.debug.consoleLog=d._debug,d.scene.root=w,d.scene.container=C,d.autoSize=!0,d.interactionManager=new InteractionManager(C),d.cursorManager=new CursorManager(C),d.highlightManager=new HighlightManager,d.zoomManager=new ZoomManager,d.layoutService=new LayoutService,D.width=d.scene.width,D.height=d.scene.height,SizeMonitor.observe(d.element,function(b){var T=b.width,A=b.height;d.autoSize&&(0===T&&0===A||T===d.width&&A===d.height||(d._lastAutoSize=[T,A],d.resize(T,A)))}),d.tooltip=new Tooltip(d.scene.canvas.element,e,e.body),d.tooltipManager=new TooltipManager(d.tooltip),d.legend=new Legend(d,d.interactionManager,d.cursorManager,d.highlightManager,d.tooltipManager),d.container=m,d.interactionManager.addListener("click",function(b){return d.onClick(b)}),d.interactionManager.addListener("hover",function(b){return d.onMouseMove(b)}),d.interactionManager.addListener("leave",function(){return d.disablePointer()}),d.interactionManager.addListener("page-left",function(){return d.destroy()}),d.zoomManager.addListener("zoom-change",function(b){return d.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0})}),d.highlightManager.addListener("highlight-change",function(b){return d.changeHighlightDatum(b)}),d}return __extends$27(t,l),t.prototype.getOptions=function(){var e,n=this.queuedUserOptions;return jsonMerge([null!==(e=n[n.length-1])&&void 0!==e?e:this.userOptions])},Object.defineProperty(t.prototype,"debug",{get:function(){return this._debug},set:function(e){this._debug=e,this.scene.debug.consoleLog=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){this._container!==e&&(this.element.parentNode?.removeChild(this.element),e&&!this.destroyed&&e.appendChild(this.element),this._container=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(n){return n.data=e})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&this.resize(e,this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&this.resize(this.width,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var n=this.element.style;if(e){if(n.display="block",n.width="100%",n.height="100%",!this._lastAutoSize)return;this.resize(this._lastAutoSize[0],this._lastAutoSize[1])}else n.display="inline-block",n.width="auto",n.height="auto"}},enumerable:!1,configurable:!0}),t.prototype.download=function(e,n){this.scene.download(e,n)},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var n=this.scene.root;null!=this._title&&n?.removeChild(this._title.node),this._title=e,null!=this._title&&n?.appendChild(this._title.node)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subtitle",{get:function(){return this._subtitle},set:function(e){var n=this.scene.root;null!=this._subtitle&&n?.removeChild(this._subtitle.node),this._subtitle=e,null!=this._subtitle&&n?.appendChild(this._subtitle.node)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype.addModule=function(e){if(null!=this.modules[e.optionsKey])throw new Error("AG Charts - module already initialised: "+e.optionsKey);var n=this,D=e.initialiseModule({scene:n.scene,interactionManager:n.interactionManager,zoomManager:n.zoomManager,cursorManager:n.cursorManager,highlightManager:n.highlightManager,tooltipManager:n.tooltipManager,layoutService:n.layoutService});this.modules[e.optionsKey]=D,this[e.optionsKey]=D.instance},t.prototype.removeModule=function(e){var n,o;null===(o=null===(n=this.modules[e.optionsKey])||void 0===n?void 0:n.instance)||void 0===o||o.destroy(),delete this.modules[e.optionsKey],delete this[e.optionsKey]},t.prototype.isModuleEnabled=function(e){return null!=this.modules[e.optionsKey]},t.prototype.destroy=function(e){var n,o;if(!this._destroyed){var s=e?.keepTransferableResources,d=void 0;this._performUpdateType=ChartUpdateType.NONE,this._pendingFactoryUpdates.splice(0),this.tooltip.destroy(),SizeMonitor.unobserve(this.element);try{for(var v=__values$f(Object.entries(this.modules)),C=v.next();!C.done;C=v.next()){var m=__read$y(C.value,2),w=m[0];m[1].instance.destroy(),delete this.modules[w],delete this[w]}}catch(b){n={error:b}}finally{try{C&&!C.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}return this.interactionManager.destroy(),s?(this.scene.strip(),d={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.series.forEach(function(b){return b.destroy()}),this.series=[],this._destroyed=!0,d}},t.prototype.log=function(e){this.debug&&console.log(e)},t.prototype.disablePointer=function(e){void 0===e&&(e=!1),e||this.tooltipManager.updateTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)},t.prototype.requestFactoryUpdate=function(e){var n=this._pendingFactoryUpdates,o=n.length;0===o?(n.push(e),this._processCallbacks()):n.splice(1,o-1,e)},t.prototype._processCallbacks=function(){return __awaiter$b(this,void 0,void 0,function(){var e,n;return __generator$b(this,function(o){switch(o.label){case 0:e=this._pendingFactoryUpdates,o.label=1;case 1:return e.length>0?this.updatePending?[4,sleep(1)]:[3,3]:[3,7];case 2:return o.sent(),[3,1];case 3:return o.trys.push([3,5,,6]),[4,e[0]()];case 4:return o.sent(),[3,6];case 5:return n=o.sent(),console.error(n),[3,6];case 6:return e.shift(),[3,1];case 7:return[2]}})})},Object.defineProperty(t.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatePending",{get:function(){return this._performUpdateType!==ChartUpdateType.NONE||null!=this.lastInteractionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!1,configurable:!0}),t.prototype.awaitUpdateCompletion=function(){return __awaiter$b(this,void 0,void 0,function(){return __generator$b(this,function(e){switch(e.label){case 0:return[4,this.performUpdateTrigger.await()];case 1:return e.sent(),[2]}})})},t.prototype.update=function(e,n){var o,s;void 0===e&&(e=ChartUpdateType.FULL);var d=n||{},v=d.forceNodeDataRefresh,m=d.seriesToUpdate,w=void 0===m?this.series:m;void 0!==v&&v&&this.series.forEach(function(A){return A.markNodeDataDirty()});try{for(var D=__values$f(w),b=D.next();!b.done;b=D.next())this.seriesToUpdate.add(b.value)}catch(A){o={error:A}}finally{try{b&&!b.done&&(s=D.return)&&s.call(D)}finally{if(o)throw o.error}}e<this._performUpdateType&&(this._performUpdateType=e,this.performUpdateTrigger.schedule())},t.prototype.performUpdate=function(e){return __awaiter$b(this,void 0,void 0,function(){var n,o,s,d,m,w,D,b;return __generator$b(this,function(T){switch(T.label){case 0:switch(o=(n=this)._performUpdateType,s=n.extraDebugStats,d=[performance.now()],o){case ChartUpdateType.FULL:case ChartUpdateType.PROCESS_DATA:return[3,1];case ChartUpdateType.PERFORM_LAYOUT:return[3,3];case ChartUpdateType.SERIES_UPDATE:return[3,5];case ChartUpdateType.TOOLTIP_RECALCULATION:return[3,7];case ChartUpdateType.SCENE_RENDER:return[3,8];case ChartUpdateType.NONE:return[3,10]}return[3,11];case 1:return[4,this.processData()];case 2:T.sent(),this.disablePointer(!0),d.push(performance.now()),T.label=3;case 3:return this._autoSize&&!this._lastAutoSize&&this._performUpdateNoRenderCount++<5?(this._performUpdateType=ChartUpdateType.PERFORM_LAYOUT,this.performUpdateTrigger.schedule(),[3,11]):(this._performUpdateNoRenderCount=0,[4,this.performLayout()]);case 4:T.sent(),d.push(performance.now()),T.label=5;case 5:return m=this.seriesRect,w=__spread$j(this.seriesToUpdate).map(function(A){return A.update({seriesRect:m})}),this.seriesToUpdate.clear(),[4,Promise.all(w)];case 6:T.sent(),d.push(performance.now()),T.label=7;case 7:D=this.tooltipManager.getTooltipMeta(this.id),o<ChartUpdateType.SERIES_UPDATE&&null!=D&&this.handlePointer(D),T.label=8;case 8:return[4,this.scene.render({debugSplitTimes:d,extraDebugStats:s})];case 9:T.sent(),this.extraDebugStats={},T.label=10;case 10:this._performUpdateType=ChartUpdateType.NONE,T.label=11;case 11:return b=performance.now(),this.log({chart:this,durationMs:Math.round(100*(b-d[0]))/100,count:e,performUpdateType:ChartUpdateType[o]}),[2]}})})},Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var n=this;this._axes.forEach(function(o){return o.detachAxis(n.axisGroup)}),this._axes=e.filter(function(o){return!o.linkedTo}).concat(e.filter(function(o){return o.linkedTo})),this._axes.forEach(function(o){return o.attachAxis(n.axisGroup)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var n=this;this.removeAllSeries(),e.forEach(function(o){return n.addSeries(o)})},enumerable:!1,configurable:!0}),t.prototype.addSeries=function(e,n){var s=this.series,d=this.seriesRoot;if(s.indexOf(e)<0){var C=n?s.indexOf(n):-1;return C>=0?(s.splice(C,0,e),d.insertBefore(e.rootGroup,n.rootGroup)):(s.push(e),d.append(e.rootGroup)),this.initSeries(e),!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.highlightManager=this.highlightManager,e.data||(e.data=this.data),e.addEventListener("nodeClick",this.onSeriesNodeClick)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("nodeClick",this.onSeriesNodeClick)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(n){e.freeSeries(n),e.seriesRoot.removeChild(n.rootGroup)}),this._series=[]},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(n){n.boundSeries=e.series.filter(function(o){return(n.direction===ChartAxisDirection.X?o.xAxis:o.yAxis)===n})})},t.prototype.assignAxesToSeries=function(e){var n=this;void 0===e&&(e=!1);var o={};this.axes.forEach(function(s){var d=s.direction;(o[d]||(o[d]=[])).push(s)}),this.series.forEach(function(s){s.directions.forEach(function(d){if(!(d===ChartAxisDirection.X?s.xAxis:s.yAxis)||e){var C=o[d];if(!C)return void console.warn("AG Charts - no available axis for direction ["+d+"]; check series and axes configuration.");var m=s.getKeys(d),w=n.findMatchingAxis(C,s.getKeys(d));if(!w)return void console.warn("AG Charts - no matching axis for direction ["+d+"] and keys ["+m+"]; check series and axes configuration.");d===ChartAxisDirection.X?s.xAxis=w:s.yAxis=w}})})},t.prototype.findMatchingAxis=function(e,n){var o,s,d,v;try{for(var C=__values$f(e),m=C.next();!m.done;m=C.next()){var w=m.value,D=w.keys;if(!D.length)return w;if(n)try{for(var b=(d=void 0,__values$f(n)),T=b.next();!T.done;T=b.next())if(D.indexOf(T.value)>=0)return w}catch(I){d={error:I}}finally{try{T&&!T.done&&(v=b.return)&&v.call(b)}finally{if(d)throw d.error}}}}catch(I){o={error:I}}finally{try{m&&!m.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}},t.prototype.resize=function(e,n){this.scene.resize(e,n)&&(this.background.width=this.width,this.background.height=this.height,this.disablePointer(),this.update(ChartUpdateType.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},t.prototype.processData=function(){return __awaiter$b(this,void 0,void 0,function(){return __generator$b(this,function(e){switch(e.label){case 0:return(this.axes.length>0||this.series.some(function(n){return n instanceof CartesianSeries}))&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),[4,Promise.all(this.series.map(function(n){return n.processData()}))];case 1:return e.sent(),[4,this.updateLegend()];case 2:return e.sent(),[2]}})})},t.prototype.placeLabels=function(){var e,n,o=[],s=[];try{for(var d=__values$f(this.series),v=d.next();!v.done;v=d.next()){var C=v.value;if(C.visible){var m=C.getLabelData();m&&isPointLabelDatum(m[0])&&(s.push(m),o.push(C))}}}catch(b){e={error:b}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}var w=this.seriesRect,D=w&&s.length>0?placeLabels(s,{x:0,y:0,width:w.width,height:w.height}):[];return new Map(D.map(function(b,T){return[o[T],b]}))},t.prototype.updateLegend=function(){return __awaiter$b(this,void 0,void 0,function(){var e,n;return __generator$b(this,function(o){return e=[],this.series.filter(function(s){return s.showInLegend}).forEach(function(s){e.push.apply(e,__spread$j(s.getLegendData()))}),(n=this.legend.item.label.formatter)&&e.forEach(function(s){return s.label.text=n({get id(){return doOnce$1(function(){return console.warn("AG Charts - LegendLabelFormatterParams.id is deprecated, use seriesId instead",s)},"LegendLabelFormatterParams.id deprecated"),s.seriesId},itemId:s.itemId,value:s.label.text,seriesId:s.seriesId})}),this.legend.data=e,[2]})})},t.prototype.positionCaptions=function(e){var o=this._title,s=this._subtitle,d=e.clone(),v=function(C){var m,w=d.y;C.node.x=d.x+d.width/2,C.node.y=w;var D=C.node.computeBBox(),b=Math.ceil(D.y-w+D.height+(null!==(m=C.spacing)&&void 0!==m?m:0));d.shrink(b,"top")};return!o||(o.node.visible=o.enabled,o.enabled&&v(o),!s)||(s.node.visible=o.enabled&&s.enabled,o.enabled&&s.enabled&&v(s)),d},t.prototype.positionLegend=function(e){var n=this.legend,o=e.clone();if(!n.enabled||!n.data.length)return o;var s=__read$y(this.calculateLegendDimensions(e),2),d=s[0],v=s[1],C=0,m=0;n.translationX=0,n.translationY=0,n.performLayout(d,v);var w=n.computePagedBBox(),D=function(){switch(n.position){case"top":case"left":return 0;case"bottom":return e.height-w.height;default:return e.width-w.width}};if(n.visible){switch(n.position){case"top":case"bottom":C=(e.width-w.width)/2,m=D(),o.shrink(w.height,n.position);break;default:C=D(),m=(e.height-w.height)/2,o.shrink(w.width,n.position)}n.translationX=Math.floor(-w.x+e.x+C),n.translationY=Math.floor(-w.y+e.y+m)}return o},t.prototype.calculateLegendDimensions=function(e){var n=this.legend,o=e.width,s=e.height,d=o/s,w=0,D=0;switch(n.position){case"top":case"bottom":var b=d<1?Math.min(.5,1/d*.2):.2;w=n.maxWidth?Math.min(n.maxWidth,o):o,D=n.maxHeight?Math.min(n.maxHeight,s):Math.round(s*b);break;default:var T=d>1?Math.min(.5,.25*d):.25;w=n.maxWidth?Math.min(n.maxWidth,o):Math.round(o*T),D=n.maxHeight?Math.min(n.maxHeight,s):s}return[w,D]},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e){var n,o,s,d,v=this.tooltip.tracking,C=performance.now(),m=v?void 0:[SeriesNodePickMode.EXACT_SHAPE_MATCH],w=__spread$j(this.series).reverse(),D=void 0;try{for(var b=__values$f(w),T=b.next();!T.done;T=b.next()){var A=T.value;if(A.visible&&A.rootGroup.visible){var I=null!==(s=A.pickNode(e,m))&&void 0!==s?s:{},N=I.match,G=I.distance;if(N&&null!=G&&((!D||D.distance>G)&&(D={series:A,distance:G,datum:N}),0===G))break}}}catch(V){n={error:V}}finally{try{T&&!T.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(d=this.extraDebugStats.pickSeriesNode)&&void 0!==d?d:0)+(performance.now()-C)),D},t.prototype.onMouseMove=function(e){this.lastInteractionEvent=e,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=e.offsetX,this.extraDebugStats.mouseY=e.offsetY,this.update(ChartUpdateType.SCENE_RENDER)},t.prototype.handlePointer=function(e){var n=this,o=this.lastPick,s=e.pageX,d=e.pageY,v=e.offsetX,C=e.offsetY,m=function(){o&&n.disablePointer()};if(this.seriesRect&&this.seriesRect.containsPoint(v,C)){var w=this.pickSeriesNode({x:v,y:C});if(w){var D={pageX:s,pageY:d,offsetX:v,offsetY:C,event:e.sourceEvent};o&&o.datum===w.datum?(o.event=e.sourceEvent,this.tooltip.enabled&&w.series.tooltip.enabled&&this.tooltipManager.updateTooltip(this.id,this.mergePointerDatum(D,w.datum))):this.onSeriesDatumPick(D,w.datum)}else m()}else m()},t.prototype.onClick=function(e){this.checkSeriesNodeClick(e)?this.update(ChartUpdateType.SERIES_UPDATE):this.fireEvent({type:"click",event:e.sourceEvent})},t.prototype.checkSeriesNodeClick=function(e){var n=this.lastPick;if(n?.datum){var o=n.datum;return o.series.fireNodeClickEvent(e.sourceEvent,o),!0}if(e.sourceEvent.type.startsWith("touch")){var s=this.pickSeriesNode({x:e.offsetX,y:e.offsetY});if(s)return s.series.fireNodeClickEvent(e.sourceEvent,s.datum),!0}return!1},t.prototype.onSeriesDatumPick=function(e,n){var o=this.lastPick;if(!o||o.datum!==n){this.highlightManager.updateHighlight(this.id,n),n&&(e=this.mergePointerDatum(e,n));var d=this.tooltip.enabled&&n.series.tooltip.enabled&&n.series.getTooltipHtml(n);d&&this.tooltipManager.updateTooltip(this.id,e,d)}},t.prototype.mergePointerDatum=function(e,n){if(n.point){var o=n.point,v=this.scene.canvas,C=n.series.rootGroup.inverseTransformPoint(o.x,o.y),m=v.element.getBoundingClientRect();return __assign$y(__assign$y({},e),{pageX:Math.round(m.left+window.scrollX+C.x),pageY:Math.round(m.top+window.scrollY+C.y),offsetX:Math.round(C.x),offsetY:Math.round(C.y)})}return e},t.prototype.changeHighlightDatum=function(e){var n=new Set,o=e.currentHighlight||{},s=o.series,d=void 0===s?void 0:s,v=o.datum,C=e.previousHighlight||{},m=C.series,w=void 0===m?void 0:m,D=C.datum;w&&n.add(w),d&&n.add(d),w?.cursor&&D&&this.cursorManager.updateCursor(w.id),d?.cursor&&v&&this.cursorManager.updateCursor(d.id,d.cursor),this.lastPick=e.currentHighlight?{datum:e.currentHighlight}:void 0,null==d||null==w?this.update(ChartUpdateType.SERIES_UPDATE):this.update(ChartUpdateType.SERIES_UPDATE,{seriesToUpdate:n})},t.prototype.waitForUpdate=function(e){return void 0===e&&(e=5e3),__awaiter$b(this,void 0,void 0,function(){var n;return __generator$b(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:if(!(this._pendingFactoryUpdates.length>0||this.updatePending))return[3,3];if(performance.now()-n>e)throw new Error("waitForUpdate() timeout reached.");return[4,sleep(5)];case 2:return o.sent(),[3,1];case 3:return[4,this.awaitUpdateCompletion()];case 4:return o.sent(),[2]}})})},__decorate$1r([Validate(BOOLEAN)],t.prototype,"_autoSize",void 0),__decorate$1r([Validate(STRING_UNION("standalone","integrated"))],t.prototype,"mode",void 0),t}(Observable),TreeNode=function(){function l(t,e,n){void 0===t&&(t=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}return l.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},l.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},l.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},l.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},l.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter(function(e,n){return n!==t.number}):[]},l}();function ticksToTree(l,t){void 0===t&&(t=!0);var e=new TreeNode,n=0;return t&&l.forEach(function(o){return n=Math.max(n,o.labels.length)}),l.forEach(function(o){if(t)for(;o.labels.length<n;)o.labels.unshift("");insertTick(e,o)}),e}function insertTick(l,t){var e=t.labels.slice().reverse(),n=e.length-1;e.forEach(function(o,s){var d=l.children,v=d.find(function(w){return w.label===o}),C=s!==n;if(v&&C)l=v;else{var m=new TreeNode(o,l);m.number=d.length,d.push(m),C&&(l=m)}})}function moveSubtree(l,t,e){var o=e/(t.number-l.number);t.change-=o,t.shift+=e,l.change+=o,t.prelim+=e,t.mod+=e}function ancestor(l,t,e){return t.getSiblings().indexOf(l.ancestor)>=0?l.ancestor:e}function executeShifts(l){var t=l.children;if(t)for(var e=0,n=0,o=t.length-1;o>=0;o--){var s=t[o];s.prelim+=e,s.mod+=e,e+=s.shift+(n+=s.change)}}function apportion(l,t,e){var n=l.getLeftSibling();if(n){for(var o=l,s=l,d=n,v=s.getLeftmostSibling(),C=s.mod,m=o.mod,w=d.mod,D=v.mod;d.nextRight()&&s.nextLeft();){d=d.nextRight(),s=s.nextLeft(),v=v.nextLeft(),(o=o.nextRight()).ancestor=l;var b=d.prelim+w-(s.prelim+C)+e;b>0&&(moveSubtree(ancestor(d,l,t),l,b),C+=b,m+=b),w+=d.mod,C+=s.mod,D+=v.mod,m+=o.mod}d.nextRight()&&!o.nextRight()?(o.thread=d.nextRight(),o.mod+=w-m):(s.nextLeft()&&!v.nextLeft()&&(v.thread=s.nextLeft(),v.mod+=C-D),t=l)}return t}function firstWalk(l,t){var e=l.children;if(e.length){var n=e[0];e.forEach(function(d){firstWalk(d,t),n=apportion(d,n,t)}),executeShifts(l);var o=(e[0].prelim+e[e.length-1].prelim)/2;(s=l.getLeftSibling())?(l.prelim=s.prelim+t,l.mod=l.prelim-o):l.prelim=o}else{var s=l.getLeftSibling();l.prelim=s?s.prelim+t:0}}var Dimensions=function(){function l(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return l.prototype.update=function(t,e){var n=e(t),o=n.x,s=n.y;o>this.right&&(this.right=o),o<this.left&&(this.left=o),s>this.bottom&&(this.bottom=s),s<this.top&&(this.top=s)},l}();function secondWalk(l,t,e){l.x=l.prelim+t,l.y=l.depth,e.update(l),l.children.forEach(function(n){return secondWalk(n,t+l.mod,e)})}function thirdWalk(l){var t=l.children,e=0;t.forEach(function(n){thirdWalk(n),n.children.length?e+=n.leafCount:e++}),l.leafCount=e,t.length?(l.subtreeLeft=t[0].subtreeLeft,l.subtreeRight=t[l.children.length-1].subtreeRight,l.x=(l.subtreeLeft+l.subtreeRight)/2):(l.subtreeLeft=l.x,l.subtreeRight=l.x)}function treeLayout(l){var t=new TreeLayout;return firstWalk(l,1),secondWalk(l,-l.prelim,t),thirdWalk(l),t}var TreeLayout=function(){function l(){this.dimensions=new Dimensions,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return l.prototype.update=function(t){this.dimensions.update(t,function(e){return{x:e.x,y:e.y}}),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},l.prototype.resize=function(t,e,n,o,s){void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=!1);var d=this.leafCount-1,v=this.depth,C=this.dimensions,m=1,w=1;t>0&&d&&(m=t/d/((C.right-C.left)/d),s&&(m=-m)),e>0&&v&&(w=e/v/((C.bottom-C.top)/v));var I=new Dimensions;this.nodes.forEach(function(V){V.screenX=V.x*m,V.screenY=V.y*w,I.update(V,function(W){return{x:W.screenX,y:W.screenY}})});var N=-I.left,G=-I.top;this.nodes.forEach(function(V){V.screenX+=N+n,V.screenY+=G+o})},l}(),__extends$26=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1q=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$x=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$i=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$x(arguments[t]));return l},GroupedCategoryAxisLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.grid=!1,e}return __extends$26(t,l),__decorate$1q([Validate(BOOLEAN)],t.prototype,"grid",void 0),t}(AxisLabel),GroupedCategoryAxis=function(l){function t(){var e=l.call(this,new BandScale$5)||this;e.tickScale=new BandScale$5,e.translation={x:0,y:0},e.line=new AxisLine,e.label=new GroupedCategoryAxisLabel,e.labelColor="rgba(87, 87, 87, 1)",e.includeInvisibleDomains=!0;var o=e.axisGroup,s=e.gridlineGroup,d=e.tickScale,v=e.scale;return v.paddingOuter=.1,v.paddingInner=2*v.paddingOuter,e.requestedRange=v.range.slice(),e.refreshScale(),d.paddingInner=1,d.paddingOuter=0,e.gridLineSelection=Selection.select(s).selectAll(),e.axisLineSelection=Selection.select(o).selectAll(),e.separatorSelection=Selection.select(o).selectAll(),e.labelSelection=Selection.select(o).selectAll(),e}return __extends$26(t,l),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!1,configurable:!0}),t.prototype.updateRange=function(){var e=this,n=e.requestedRange,o=e.visibleRange,d=(n[1]-n[0])/(o[1]-o[0]),C=n[0]-d*o[0];this.tickScale.range=e.scale.range=[C,C+d],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,n=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,o=this.tickTreeLayout,s=this.lineHeight;o&&o.resize(Math.abs(n[1]-n[0]),o.depth*s,(Math.min(n[0],n[1])||0)+(e.bandwidth||0)/2,-o.depth*s,n[1]-n[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!1,configurable:!0}),t.prototype.calculateDomain=function(){var e,o=this.direction,d=[],v=void 0;this.boundSeries.filter(function(w){return w.visible}).forEach(function(w){if(o===ChartAxisDirection.X)if(void 0===v){var D=w.getDomain(o);d.push(D),v="number"==typeof D[0]}else v&&d.push(w.getDomain(o));else d.push(w.getDomain(o))});var C=(e=new Array).concat.apply(e,__spread$i(d)),m=extent$4(C)||C;this.dataDomain=this.normaliseDataDomain(m)},t.prototype.normaliseDataDomain=function(e){var n=e.filter(function(d,v,C){return C.indexOf(d)===v}),o=ticksToTree(n);this.tickTreeLayout=treeLayout(o);var s=n.slice();return s.push(""),this.tickScale.domain=s,this.resizeTickTree(),n},t.prototype.update=function(e){var n=this;this.calculateDomain();var o=this,s=o.scale,d=o.label,v=o.tickScale,C=o.requestedRange;s.domain=this.dataDomain;var m=s.range[0],w=s.range[1],b=Math.abs(w-m)/s.domain.length||0,T=d.parallel,A=toRadians$1(this.rotation),I=Math.abs(Math.cos(A))<1e-8,N=this.label.rotation?normalizeAngle360(toRadians$1(this.label.rotation)):0;this.updatePosition();var G=this.title;G&&(G.node.visible=!1);var V=this.lineHeight,W=this.tickTreeLayout,j=s.ticks(),K=W?W.nodes:[],Y=!!W&&W.depth>1,re=v.ticks(),q=d.mirrored?1:-1,Z=normalizeAngle360(A),ee=!N&&Z>=0&&Z<=Math.PI?-1:1,ne=normalizeAngle360(A-Math.PI/2),se=!N&&ne>=0&&ne<=Math.PI?-1:1,ae=this.gridLineSelection.setData(this.gridLength?re:[]);ae.exit.remove();var pe=ae.enter.append(Line),he=ae.merge(pe),_e=this.labelSelection.setData(K);_e.exit.remove();var Ee=_e.enter.append(Text),Se=_e.merge(Ee),Re=d.formatter,Ce=new Map,De=0;Se.each(function(ce,ze,Le){ce.fontStyle=d.fontStyle,ce.fontWeight=d.fontWeight,ce.fontSize=d.fontSize,ce.fontFamily=d.fontFamily,ce.fill=d.color,ce.textBaseline=-1===ee?"bottom":"hanging",ce.textAlign="center",ce.translationX=ze.screenY-.25*d.fontSize,ce.translationY=ze.screenX,0===Le?G&&G.enabled&&j.length>0?(ce.visible=!0,ce.text=G.text,ce.fontSize=G.fontSize,ce.fontStyle=G.fontStyle,ce.fontWeight=G.fontWeight,ce.fontFamily=G.fontFamily,ce.textBaseline="hanging"):ce.visible=!1:(ce.text=Re?Re({value:String(ze.label),index:Le}):String(ze.label),ce.visible=ze.screenX>=C[0]&&ze.screenX<=C[1]);var $=ce.computeBBox();Ce.set(ce.id,$),$.width>De&&(De=$.width)});var Ne=q*d.padding,we=T?ee*Math.PI/2:-1===se?Math.PI:0,Ve=this.label.grid,je=[];Se.each(function(ce,ze,Le){if(ce.x=Ne,ce.rotationCenterX=Ne,ze.children.length){ce.translationX-=De-V+n.label.padding;var gt=ze.leafCount*b;($=Ce.get(ce.id))&&$.width>gt?ce.visible=!1:ce.rotation=I?we:-Math.PI/2}else{var $;ce.rotation=N,ce.textAlign="end",ce.textBaseline="middle",($=Ce.get(ce.id))&&$.height>b&&(ce.visible=!1)}if(ze.parent&&Y){var ri=ze.children.length?ze.screenX-ze.leafCount*b/2:ze.screenX-b/2;if(ze.children.length){var ar=-De-2*n.label.padding+ze.screenY;je.push({y:ri,x1:ar+V,x2:ar,toString:function(){return String(Le)}})}else(ze.number!==ze.children.length-1||Ve)&&je.push({y:ri,x1:0,x2:-De-2*n.label.padding,toString:function(){return String(Le)}})}});var rt=0;je.forEach(function(ce){return rt=Math.min(rt,ce.x2)}),je.push({y:Math.max(m,w),x1:0,x2:rt,toString:function(){return String(je.length)}});var $e=this.separatorSelection.setData(je);$e.exit.remove();var Et=$e.enter.append(Line),xt=$e.merge(Et);this.separatorSelection=xt,xt.each(function(ce,ze){ce.x1=ze.x1,ce.x2=ze.x2,ce.y1=ze.y,ce.y2=ze.y,ce.visible=ze.y>=C[0]-1e-7&&ze.y<=C[1]+1e-7,ce.stroke=n.tick.color,ce.fill=void 0,ce.strokeWidth=1}),this.gridLineSelection=he,this.labelSelection=Se;for(var Qe=W?W.depth+1:1,Ft=[],Pt=0;Pt<Qe;Pt++)Ft.push(Pt);var Yt=this.axisLineSelection.setData(Ft);Yt.exit.remove();var Cr=Yt.enter.append(Line),qt=Yt.merge(Cr);if(this.axisLineSelection=qt,qt.each(function(ce,ze,Le){var $=Le>0?-De-2*n.label.padding-(Le-1)*V:0;ce.x1=$,ce.x2=$,ce.y1=C[0],ce.y2=C[1],ce.strokeWidth=n.line.width,ce.stroke=n.line.color,ce.visible=j.length>0&&(0===Le||Ve&&Y)}),this.gridLength){var or=this.gridStyle,Xt=or.length;he.each(function(ce,ze,Le){var $=Math.round(v.convert(ze));ce.x1=0,ce.x2=-q*n.gridLength,ce.y1=$,ce.y2=$,ce.visible=$>=C[0]&&$<=C[1]&&Math.abs(ce.parent.translationY-m)>1;var gt=or[Le%Xt];ce.stroke=gt.stroke,ce.strokeWidth=n.tick.width,ce.lineDash=gt.lineDash,ce.fill=void 0})}return e},t.className="GroupedCategoryAxis",t.type="groupedCategory",__decorate$1q([Validate(OPT_COLOR_STRING)],t.prototype,"labelColor",void 0),t}(ChartAxis),__extends$25=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$x=function(){return __assign$x=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$x.apply(this,arguments)},__awaiter$a=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$a=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__values$e=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$w=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},CartesianChart=function(l){function t(e,n,o){void 0===e&&(e=window.document);var s=l.call(this,e,n,o)||this;return s.paired=!0,s._lastAxisWidths={top:0,bottom:0,left:0,right:0},s._lastVisibility={crossLines:!0,series:!0},s.legend.attachLegend(s.scene.root),s}return __extends$25(t,l),t.prototype.performLayout=function(){return __awaiter$a(this,void 0,void 0,function(){var e,s,d,v,m,w,D,b;return __generator$a(this,function(T){return this.scene.root.visible=!0,s=(e=this).legend,d=e.padding,(v=new BBox(0,0,e.width,e.height)).x+=d.left,v.y+=d.top,v.width-=d.left+d.right,v.height-=d.top+d.bottom,v=this.positionCaptions(v),v=this.positionLegend(v),s.visible&&s.enabled&&s.data.length&&v.shrink(s.spacing,s.position),v=this.layoutService.dispatchPerformLayout("before-series",{shrinkRect:v}).shrinkRect,m=this.updateAxes(v),w=m.seriesRect,this.seriesRoot.visible=(D=m.visibility).series,this.seriesRect=w,this.series.forEach(function(A){A.rootGroup.translationX=Math.floor(w.x),A.rootGroup.translationY=Math.floor(w.y)}),this.layoutService.dispatchLayoutComplete({type:"layout-complete",series:{rect:w,visible:D.series}}),(b=this.seriesRoot).x=w.x,b.y=w.y,b.width=w.width,b.height=w.height,[2]})})},t.prototype.updateAxes=function(e){var n,o,s,d=__assign$x({},this._lastAxisWidths),v=__assign$x({},this._lastVisibility),C=new Set(this._axes.map(function(j){return j.position}));try{for(var m=__values$e(Object.keys(d)),w=m.next();!w.done;w=m.next()){var D=w.value;C.has(D)||delete d[D]}}catch(j){n={error:j}}finally{try{w&&!w.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}var j,b=function(j,K){return!Object.keys(j).some(function(Y){return null==d[Y]})&&v.crossLines===K.crossLines&&v.series===K.series&&Object.entries(d).every(function(Y){var re=__read$w(Y,2),Z=re[1],ee=j[re[0]];return null==Z&&null==ee||Z===ee})},A={},I={},N=!1,G=null===(s=this.seriesRect)||void 0===s?void 0:s.clone(),V=0;do{Object.assign(d,A),Object.assign(v,I);var W=this.updateAxesPass(d,e.clone(),G);if(A=Object.entries(j=W.axisWidths).reduce(function(K,Y){var re=__read$w(Y,2),q=re[0],Z=re[1];return Z&&Math.abs(Z)===1/0&&(Z=0),K[q]=null!=Z?Math.ceil(Z):Z,K},{}),I=W.visibility,N=W.clipSeries,G=W.seriesRect,V++>10){console.warn("AG Charts - unable to find stable axis layout.");break}}while(!b(A,I));return this.seriesRoot.enabled=N,this.axes.forEach(function(j){j.setCrossLinesVisible(v.crossLines)}),this._lastAxisWidths=d,this._lastVisibility=v,{seriesRect:G,visibility:v}},t.prototype.updateAxesPass=function(e,n,o){var s=this,d=this.axes,v={},C={},m={series:!0,crossLines:!0},w=!1,D={},b=o?this.buildCrossLinePadding(o,e):{},T=this.buildAxisBound(n,e,b,m),A=this.buildSeriesRect(T,e);return d.forEach(function(I){var N,G,V=I.position,W=s.calculateAxisDimensions({axis:I,seriesRect:A,axisWidths:e,newAxisWidths:C,primaryTickCounts:D,clipSeries:w,addInterAxisPadding:(null!==(N=v[V])&&void 0!==N?N:0)>0}),j=W.clipSeries,K=W.axisThickness,Y=W.axisOffset;v[V]=(null!==(G=v[V])&&void 0!==G?G:0)+1,w=w||j,s.positionAxis({axis:I,axisBound:T,axisOffset:Y,axisThickness:K,axisWidths:e,primaryTickCounts:D,seriesRect:A})}),{clipSeries:w,seriesRect:A,axisWidths:C,visibility:m}},t.prototype.buildCrossLinePadding=function(e,n){var o,s,d,v={};this.axes.forEach(function(A){A.crossLines&&A.crossLines.forEach(function(I){I.calculatePadding(v,e)})});try{for(var C=__values$e(Object.entries(v)),m=C.next();!m.done;m=C.next()){var w=__read$w(m.value,2),D=w[0],b=w[1];v[D]=Math.max((void 0===b?0:b)-(null!==(d=n[D])&&void 0!==d?d:0),0)}}catch(A){o={error:A}}finally{try{m&&!m.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}return v},t.prototype.buildAxisBound=function(e,n,o,s){var d,v,C,m,w=e.clone(),D=o.top,b=void 0===D?0:D,T=o.right,I=o.bottom,G=o.left,V=void 0===G?0:G,W=V+(void 0===T?0:T),j=b+(void 0===I?0:I),K=(null!==(d=n.left)&&void 0!==d?d:0)+(null!==(v=n.right)&&void 0!==v?v:0)+W,Y=(null!==(C=n.top)&&void 0!==C?C:0)+(null!==(m=n.bottom)&&void 0!==m?m:0)+j;return w.width<=K||w.height<=Y?(s.crossLines=!1,s.series=!1,w):(w.x+=V,w.y+=b,w.width-=W,w.height-=j,w)},t.prototype.buildSeriesRect=function(e,n){var o=e.clone(),s=n.top,d=n.bottom,v=n.left,C=n.right;return o.x+=v??0,o.y+=s??0,o.width-=(v??0)+(C??0),o.height-=(s??0)+(d??0),o.width=Math.max(0,o.width),o.height=Math.max(0,o.height),o},t.prototype.clampToOutsideSeriesRect=function(e,n,o,s){var d=e.x,v=e.y;return(1===s?Math.min:Math.max)(n,[d,v,d+e.width,v+e.height][("x"===o?0:1)+(1===s?0:2)])},t.prototype.calculateAxisDimensions=function(e){var n,o,s,d,v,C,m=e.axis,w=e.seriesRect,D=e.axisWidths,b=e.newAxisWidths,T=e.primaryTickCounts,A=e.addInterAxisPadding,I=e.clipSeries,N=m.position,G=m.direction;m.label.mirrored=["top","right"].includes(N);var pe,W=null!==(n=b[N])&&void 0!==n?n:0;switch(N){case"top":case"bottom":m.range=[0,w.width],m.gridLength=w.height;break;case"right":case"left":m.range=(pe=m)instanceof CategoryAxis||pe instanceof GroupedCategoryAxis?[0,w.height]:[w.height,0],m.gridLength=w.width}var K=(null===(o=this.zoomManager.getZoom())||void 0===o?void 0:o[m.direction])??{},Y=K.min,q=K.max;m.visibleRange=[void 0===Y?0:Y,void 0===q?1:q],!I&&(m.visibleRange[0]>0||m.visibleRange[1]<1)&&(I=!0);var ee=m.nice?T[G]:void 0;ee=m.update(ee),T[G]=null!==(s=T[G])&&void 0!==s?s:ee;var ne=0;if(m.thickness)ne=m.thickness;else{var se=m.computeBBox();ne=G===ChartAxisDirection.X?se.height:se.width}return A&&(ne+=15),ne=Math.ceil(ne),b[N]=(null!==(d=b[N])&&void 0!==d?d:0)+ne,m.gridPadding=(null!==(v=D[N])&&void 0!==v?v:0)-(null!==(C=b[N])&&void 0!==C?C:0),{clipSeries:I,axisThickness:ne,axisOffset:W}},t.prototype.positionAxis=function(e){var n,o,s,d,v=e.axis,C=e.axisBound,m=e.axisWidths,w=e.seriesRect,D=e.axisOffset,b=e.axisThickness;switch(v.position){case"top":v.translation.x=C.x+(null!==(n=m.left)&&void 0!==n?n:0),v.translation.y=this.clampToOutsideSeriesRect(w,C.y+1+D+b,"y",1);break;case"bottom":v.translation.x=C.x+(null!==(o=m.left)&&void 0!==o?o:0),v.translation.y=this.clampToOutsideSeriesRect(w,C.y+C.height+1-b-D,"y",-1);break;case"left":v.translation.y=C.y+(null!==(s=m.top)&&void 0!==s?s:0),v.translation.x=this.clampToOutsideSeriesRect(w,C.x+D+b,"x",1);break;case"right":v.translation.y=C.y+(null!==(d=m.top)&&void 0!==d?d:0),v.translation.x=this.clampToOutsideSeriesRect(w,C.x+C.width-b-D,"x",-1)}v.updatePosition()},t.className="CartesianChart",t.type="cartesian",t}(Chart),__extends$24=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),PolarSeries=function(l){function t(e){var n,o=e.useLabelLayer,d=l.call(this,{useLabelLayer:void 0!==o&&o,pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;return d.directionKeys=((n={})[ChartAxisDirection.X]=["angleKey"],n[ChartAxisDirection.Y]=["radiusKey"],n),d.centerX=0,d.centerY=0,d.radius=0,d}return __extends$24(t,l),t.prototype.getLabelData=function(){return[]},t.prototype.computeLabelsBBox=function(e){return null},t}(Series),__extends$23=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__awaiter$9=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$9=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},PolarChart=function(l){function t(e,n,o){void 0===e&&(e=window.document);var s=l.call(this,e,n,o)||this;return s.padding=new Padding$1(40),s.legend.attachLegend(s.scene.root),s}return __extends$23(t,l),t.prototype.performLayout=function(){return __awaiter$9(this,void 0,void 0,function(){var e,s,d;return __generator$9(this,function(v){return this.scene.root.visible=!0,s=(e=this).padding,(d=new BBox(0,0,e.width,e.height)).shrink(s.left,"left"),d.shrink(s.top,"top"),d.shrink(s.right,"right"),d.shrink(s.bottom,"bottom"),d=this.positionCaptions(d),d=this.positionLegend(d),this.computeSeriesRect(d),this.computeCircle(),[2]})})},t.prototype.computeSeriesRect=function(e){var n=this.legend;n.visible&&n.enabled&&n.data.length&&e.shrink(n.spacing,n.position),this.seriesRect=e},t.prototype.computeCircle=function(){var e=this,n=this.seriesRect,o=this.series.filter(function(D){return D instanceof PolarSeries}),s=function(D,b,T){o.forEach(function(A){A.centerX=D,A.centerY=b,A.radius=T})},d=n.x+n.width/2,v=n.y+n.height/2,C=Math.max(0,Math.min(n.width,n.height)/2),m=C;s(d,v,m);var w=function(D){var b=(void 0===D?{}:D).hideWhenNecessary,T=void 0!==b&&b,A=o.map(function(G){return G.computeLabelsBBox({hideWhenNecessary:T})}).filter(function(G){return null!=G});if(0!==A.length){var I=BBox.merge(A),N=e.refineCircle(I,m);s(N.centerX,N.centerY,N.radius),N.radius!==m&&(m=N.radius)}else s(d,v,C)};w(),w(),w({hideWhenNecessary:!0}),w({hideWhenNecessary:!0})},t.prototype.refineCircle=function(e,n){var s=this.seriesRect,v=-n,C=n,m=n,w=Math.max(0,-n-e.x),D=Math.max(0,v-e.y),b=Math.max(0,e.x+e.width-C),T=Math.max(0,e.y+e.height-m),N=Math.min(s.width-w-b,s.height-D-T)/2,G=.5*s.width/2,V=.5*s.height/2,W=Math.min(G,V);if(N<W){if((N=W)===V){var j=s.height/(2*N+D+T);D*=j,T*=j}if(N===G){var K=s.width-2*N;2*Math.min(w,b)>K?(w=K/2,b=K/2):w>b?w=K-b:b=K-w}}return{centerX:s.x+(s.width-(w+2*N+b))/2+w+N,centerY:s.y+(s.height-(D+2*N+T))/2+D+N,radius:N}},t.className="PolarChart",t.type="polar",t}(Chart),__extends$22=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__awaiter$8=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$8=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},HierarchyChart=function(l){function t(e,n,o){void 0===e&&(e=window.document);var s=l.call(this,e,n,o)||this;return s._data={},s.legend.attachLegend(s.scene.root),s}return __extends$22(t,l),t.prototype.performLayout=function(){return __awaiter$8(this,void 0,void 0,function(){var e,s,d,v,m;return __generator$8(this,function(w){return this.scene.root.visible=!0,s=(e=this).legend,d=e.padding,(v=new BBox(0,0,e.width,e.height)).shrink(d.left,"left"),v.shrink(d.top,"top"),v.shrink(d.right,"right"),v.shrink(d.bottom,"bottom"),v=this.positionCaptions(v),v=this.positionLegend(v),s.visible&&s.enabled&&s.data.length&&v.shrink(s.spacing,s.position),this.seriesRect=v,this.series.forEach(function(D){D.rootGroup.translationX=Math.floor(v.x),D.rootGroup.translationY=Math.floor(v.y),D.update({seriesRect:v})}),(m=this.seriesRoot).x=v.x,m.y=v.y,m.width=v.width,m.height=v.height,[2]})})},t.className="HierarchyChart",t.type="hierarchy",t}(Chart);function areArrayItemsStrictlyEqual(l,t){return l.length===t.length&&l.every(function(e,n){return e===t[n]})}var __read$v=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},interpolatePattern=/(#\{(.*?)\})/g;function interpolate(l,t,e){return l.replace(interpolatePattern,function(){var C,o=__read$v(arguments[2].split(":"),2),d=o[1],v=t[o[0]];return"number"==typeof v?(C=d&&e&&e[d])?v.toLocaleString(C.locales,C.options):String(v):v instanceof Date?"string"==typeof(C=d&&e&&e[d])?buildFormatter(C)(v):v.toDateString():"string"==typeof v||v&&v.toString?String(v):""})}var __decorate$1p=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Label$1=function(){function l(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return l.prototype.getFont=function(){return getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$1p([Validate(BOOLEAN)],l.prototype,"enabled",void 0),__decorate$1p([Validate(NUMBER(0))],l.prototype,"fontSize",void 0),__decorate$1p([Validate(STRING)],l.prototype,"fontFamily",void 0),__decorate$1p([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1p([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1p([Validate(COLOR_STRING)],l.prototype,"color",void 0),l}(),element=null;function sanitizeHtml(l){return element=element||document.createElement("div"),l?(element.textContent=l,element.innerHTML):""}function calculateNiceSecondaryAxis(l,t){var e=Math.floor(l[0]),n=l[1],o=getTickStep(e=calculateNiceStart(e,n,t),n,t);return[[e,n=e+(t-1)*o],getTicks(e,o,t)]}function calculateNiceStart(l,t,e){var n=Math.abs(t-l)/(e-1),o=Math.floor(Math.log10(n)),s=Math.pow(10,o);return Math.floor(l/s)*s}function getTicks(l,t,e){for(var n=Math.floor(Math.log10(t)),o=t>0&&t<1?Math.abs(n):0,s=Math.pow(10,o),d=new NumericTicks(o),v=0;v<e;v++)d[v]=Math.round((l+t*v)*s)/s;return d}function getTickStep(l,t,e){return calculateNextNiceStep((t-l)/(e-1))}function calculateNextNiceStep(l){var t=Math.floor(Math.log10(l)),e=Math.pow(10,t),n=l/e*10;return n>0&&n<=1?e/10:n>1&&n<=2?2*e/10:n>1&&n<=5?5*e/10:n>5&&n<=10?10*e/10:n>10&&n<=20?20*e/10:n>20&&n<=40?40*e/10:n>40&&n<=50?50*e/10:n>50&&n<=100?100*e/10:n}var __extends$21=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1o=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$u=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},NumberAxis=function(l){function t(e){void 0===e&&(e=new LinearScale$1);var n=l.call(this,e)||this;return n.min=NaN,n.max=NaN,e.strictClampByDefault=!0,n}return __extends$21(t,l),t.prototype.normaliseDataDomain=function(e){var o=this.min,s=this.max;return e.length>2&&(e=extent$4(e)||[NaN,NaN]),isNaN(o)||(e=[o,e[1]]),isNaN(s)||(e=[e[0],s]),e[0]>e[1]&&(e=[]),e},t.prototype.formatDatum=function(e){return"number"==typeof e?e.toFixed(2):(doOnce$1(function(){return console.warn("AG Charts - Data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.")},"number axis config used with Date objects"),String(e))},t.prototype.updateSecondaryAxisTicks=function(e){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");var n=__read$u(calculateNiceSecondaryAxis(this.dataDomain,e??0),2),o=n[0],s=n[1];return this.scale.nice=!1,this.scale.domain=o,this.scale.update(),s},t.className="NumberAxis",t.type="number",__decorate$1o([Validate(AND(NUMBER_OR_NAN(),LESS_THAN("max"))),Default(NaN)],t.prototype,"min",void 0),__decorate$1o([Validate(AND(NUMBER_OR_NAN(),GREATER_THAN("min"))),Default(NaN)],t.prototype,"max",void 0),t}(ChartAxis),__extends$20=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1n=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function NON_ZERO_NUMBER(){return predicateWithMessage(function(t){return"number"==typeof t&&0!==t},"expecting a non-zero Number")}var LogAxis=function(l){function t(){var e=l.call(this,new LogScale)||this;return e.min=NaN,e.max=NaN,e.scale.strictClampByDefault=!0,e}return __extends$20(t,l),t.prototype.normaliseDataDomain=function(e){var o=this.min,s=this.max;e.length>2&&(e=extent$4(e)||[NaN,NaN]),isNaN(o)||(e=[o,e[1]]),isNaN(s)||(e=[e[0],s]);var v=e[0]<0&&e[1]>0,C=0===e[0]&&0===e[1];if(e[0]>e[1]||v||C){e=[];var w=v?"The data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information.":C?"The data domain has 0 extent, no data is rendered.":void 0;w&&console.warn("AG Charts - "+w)}return 0===e[0]&&(e[0]=1),0===e[1]&&(e[1]=-1),e},Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!1,configurable:!0}),t.className="LogAxis",t.type="log",__decorate$1n([Validate(AND(NUMBER_OR_NAN(),LESS_THAN("max"),NON_ZERO_NUMBER())),Default(NaN)],t.prototype,"min",void 0),__decorate$1n([Validate(AND(NUMBER_OR_NAN(),GREATER_THAN("min"),NON_ZERO_NUMBER())),Default(NaN)],t.prototype,"max",void 0),t}(NumberAxis),__extends$1$=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1m=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$7=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$7=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__values$d=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$h=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$t(arguments[t]));return l},AreaSeriesLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$1$(t,l),__decorate$1m([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(Label$1),AreaSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$1$(t,l),__decorate$1m([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),__decorate$1m([Validate(OPT_STRING)],t.prototype,"format",void 0),t}(SeriesTooltip),AreaSeriesTag=(()=>(function(l){l[l.Fill=0]="Fill",l[l.Stroke=1]="Stroke",l[l.Marker=2]="Marker",l[l.Label=3]="Label"}(AreaSeriesTag||(AreaSeriesTag={})),AreaSeriesTag))(),AreaSeries=function(l){function t(){var e=l.call(this,{pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,renderLayerPerSubSeries:!1})||this;e.tooltip=new AreaSeriesTooltip,e.xData=[],e.yData=[],e.yDomain=[],e.xDomain=[],e.directionKeys={x:["xKey"],y:["yKeys"]},e.marker=new CartesianSeriesMarker,e.label=new AreaSeriesLabel,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e._visibles=[],e.yNames=[],e.strokeWidth=2,e.shadow=void 0;var s=e.label;return e.marker.enabled=!1,s.enabled=!1,e}return __extends$1$(t,l),Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.xData=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){areArrayItemsStrictlyEqual(this._yKeys,e)||(this._yKeys=e,this.yData=[],this.processSeriesItemEnabled())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibles",{get:function(){return this._visibles},set:function(e){this._visibles=e,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),t.prototype.processSeriesItemEnabled=function(){var n=this.seriesItemEnabled,o=this._visibles,s=void 0===o?[]:o;n.clear(),this._yKeys.forEach(function(d,v){var C;return n.set(d,null===(C=s[v])||void 0===C||C)})},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var n=e?Math.abs(e):void 0;this._normalizedTo!==n&&(this._normalizedTo=n)},enumerable:!1,configurable:!0}),t.prototype.processData=function(){var e;return __awaiter$7(this,void 0,void 0,function(){var n,o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,Y,q,Z,ee,ne,se,ae,pe,he,_e,Ee,Se,Re,De,Ne,we,Ve,je,rt,$e;return __generator$7(this,function(Et){if(s=(n=this).yKeys,d=n.seriesItemEnabled,C=n.yAxis,m=n.normalizedTo,w=(o=n.xKey)&&s.length&&this.data?this.data:[],!(v=n.xAxis)||!C)return[2];D=v.scale instanceof ContinuousScale,b=C.scale instanceof ContinuousScale,T=m&&isFinite(m),A=[],I=[],N=[],G=new Set(s),V=function(xt){if(!(o in xt))return doOnce$1(function(){return console.warn("AG Charts - The key '"+o+"' was not found in the data: ",xt)},o+" not found in data"),"continue";var jt=checkDatum(xt[o],D);if(D&&void 0===jt)return"continue";N.push(jt),I.push({xDatum:jt,seriesDatum:xt}),s.forEach(function(Qe,Ft){var Pt=A[Ft]||(A[Ft]=[]);if(Qe in xt){G.delete(Qe);var Yt=xt[Qe];if(d.get(Qe)){var Cr=checkDatum(Yt,b);Pt.push(Cr)}else Pt.push(NaN)}else Pt.push(NaN)})};try{for(W=__values$d(w),j=W.next();!j.done;j=W.next())V(j.value)}catch(xt){Ne={error:xt}}finally{try{j&&!j.done&&(we=W.return)&&we.call(W)}finally{if(Ne)throw Ne.error}}if(G.size>0&&doOnce$1(function(){return console.log("AG Charts - yKeys "+Y+" were not found in the data.")},(Y=JSON.stringify(__spread$h(G)))+" not found in data."),!this.validateXYData(this.xKey,this.yKeys.join(", "),w,v,C,I.map(function(xt){return xt.xDatum}),A,2))return this.xData=[],this.yData=[],this.yDomain=[],[2];for(this.yData=A,this.xData=I,this.xDomain=D?this.fixNumericExtent(extent$4(N),v):N,q=void 0,Z=void 0,ee=0;ee<I.length;ee++){ne={sum:0,absSum:0};try{for(Ve=void 0,se=__values$d(A),ae=se.next();!ae.done;ae=se.next())void 0!==(Se=ae.value)[ee]&&!isNaN(Se[ee])&&(pe=+Se[ee],ne.absSum+=Math.abs(pe),ne.sum+=pe,ne.sum>=(Z??0)?Z=ne.sum:ne.sum<=(q??0)&&(q=ne.sum))}catch(xt){Ve={error:xt}}finally{try{ae&&!ae.done&&(je=se.return)&&je.call(se)}finally{if(Ve)throw Ve.error}}if(T&&m){he=void 0;try{for(rt=void 0,_e=__values$d(A),Ee=_e.next();!Ee.done;Ee=_e.next())(Se=Ee.value)[ee]=Re=+Se[ee]/ne.absSum*m,isNaN(Re)||((he=(he??0)+Re)>=(Z??0)?Z=he:he<=(q??0)&&(q=he))}catch(xt){rt={error:xt}}finally{try{Ee&&!Ee.done&&($e=_e.return)&&$e.call(_e)}finally{if(rt)throw rt.error}}}}return T&&m&&(q=(q??0)<.5*-m?-m:q,Z=(Z??0)>.5*m?m:Z),De=C instanceof LogAxis,void 0===q&&De&&(q=null===(e=extent$4(A[0]))||void 0===e?void 0:e[0]),this.yDomain=this.fixNumericExtent(void 0===q&&void 0===Z?void 0:[q??0,Z??0],C),[2]})})},t.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.xDomain:this.yDomain},t.prototype.createNodeData=function(){return __awaiter$7(this,void 0,void 0,function(){var e,o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y,re,q=this;return __generator$7(this,function(Z){return o=(e=this).xAxis,s=e.yAxis,d=e.xData,v=e.yData,e.data&&o&&s&&d.length&&v.length?(C=[],w=(m=this).yKeys,D=m.marker,b=m.label,T=m.fills,A=m.strokes,I=m.id,V=(G=s.scale)instanceof ContinuousScale,W=((N=o.scale).bandwidth||0)/2,j=new Array(d.length).fill(null).map(function(){return{left:0,right:0}}),K=new Array(d.length).fill(0),Y=function(ee,ne,se,ae){var pe=N.convert(ee)+W,_e=j[se][ae]+ne,Ee=G.convert(j[se][ae],{strict:!1}),Se=G.convert(_e,{strict:!1});return j[se][ae]=_e,[{x:pe,y:Se,size:D.size},{x:pe,y:Ee,size:D.size}]},re=function(ee,ne,se,ae){var pe,he=q.normalizedTo&&isFinite(q.normalizedTo),_e=he&&V&&isContinuous(ae);return(!he&&!isNaN(ae)||_e)&&(pe=K[se]+=ne),{x:N.convert(ee)+W,y:G.convert(pe,{strict:!1}),size:D.size}},v.forEach(function(ee,ne){var se=w[ne],ae=[],pe=[],he={itemId:se,points:[],yValues:[]},_e={itemId:se,points:[]};if(C[ne]={itemId:se,fillSelectionData:_e,labelData:ae,nodeData:pe,strokeSelectionData:he},q.seriesItemEnabled.get(se)){var Ee=_e.points,Se=[],Re=he.points,Ce=he.yValues;ee.forEach(function(Ne,we){var Ve,Pt,je=isNaN(Ne)?void 0:Ne,rt=d[we],$e=rt.xDatum,Et=rt.seriesDatum,xt=null===(Ve=d[we+1])||void 0===Ve?void 0:Ve.xDatum,jt=ee[we+1],Qe=isNaN(jt)?void 0:jt,Ft=re($e,+je,we,Et[se]);D&&pe.push({index:we,series:q,itemId:se,datum:Et,yValue:je,yKey:se,point:Ft,fill:T[ne%T.length],stroke:A[ne%A.length]}),Pt=b.formatter?b.formatter({value:je,seriesId:I}):isNumber$4(je)?Number(je).toFixed(2):String(je),b&&ae.push({index:we,itemId:se,point:Ft,label:q.seriesItemEnabled.get(se)&&Pt?{text:Pt,fontStyle:b.fontStyle,fontWeight:b.fontWeight,fontSize:b.fontSize,fontFamily:b.fontFamily,textAlign:"center",textBaseline:"bottom",fill:b.color}:void 0});var Yt=[$e,xt],Cr=[je,Qe];if(!Yt.some(function(Xt){return null==Xt})){Cr.some(function(Xt){return null==Xt})&&(Cr[0]=0,Cr[1]=0);var qt=Y(Yt[0],+Cr[0],we,"right");Ee.push(qt[0]),Se.push(qt[1]);var or=Y(Yt[1],+Cr[1],we,"left");Ee.push(or[0]),Se.push(or[1]),Re.push({x:NaN,y:NaN}),Ce.push(void 0),Re.push(qt[0]),Ce.push(je),void 0!==Qe&&(Re.push(or[0]),Ce.push(je))}});for(var De=Se.length-1;De>=0;De--)Ee.push(Se[De])}}),[2,C]):[2,[]]})})},t.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},t.prototype.updatePaths=function(e){return __awaiter$7(this,void 0,void 0,function(){var n,o,s,d,v,C;return __generator$7(this,function(m){return o=(n=e.contextData).fillSelectionData,s=n.strokeSelectionData,d=__read$t(e.paths,2),C=d[1],(v=d[0]).datum=o,v.tag=AreaSeriesTag.Fill,v.lineJoin="round",v.stroke=void 0,v.pointerEvents=PointerEvents.None,C.datum=s,C.tag=AreaSeriesTag.Stroke,C.fill=void 0,C.lineJoin=C.lineCap="round",C.pointerEvents=PointerEvents.None,[2]})})},t.prototype.updatePathNodes=function(e){return __awaiter$7(this,void 0,void 0,function(){var n,o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y,re,q,Z,ee,ne,se,ae;return __generator$7(this,function(pe){n=__read$t(e.paths,2),s=n[1],v=e.itemId,m=(C=this).strokes,D=C.fillOpacity,b=C.strokeOpacity,T=C.strokeWidth,A=C.shadow,V=(o=n[0]).datum.points,o.fill=(w=C.fills)[(d=e.seriesIdx)%w.length],o.fillOpacity=D,o.strokeOpacity=b,o.strokeWidth=T,o.lineDash=this.lineDash,o.lineDashOffset=this.lineDashOffset,o.fillShadow=A,(K=o.path).clear({trackChanges:!0}),Y=0;try{for(I=__values$d(V),N=I.next();!N.done;N=I.next())Z=N.value,Y++>0?K.lineTo(Z.x,Z.y):K.moveTo(Z.x,Z.y)}catch(he){ee={error:he}}finally{try{N&&!N.done&&(ne=I.return)&&ne.call(I)}finally{if(ee)throw ee.error}}K.closePath(),o.checkPathDirty(),V=(G=s.datum).points,W=G.yValues,j=!0,s.stroke=m[d%m.length],s.strokeWidth=this.getStrokeWidth(this.strokeWidth,{itemId:v}),s.strokeOpacity=b,s.lineDash=this.lineDash,s.lineDashOffset=this.lineDashOffset,(K=s.path).clear({trackChanges:!0}),Y=0;try{for(re=__values$d(V),q=re.next();!q.done;q=re.next())Z=q.value,void 0===W[Y++]?j=!0:j?(K.moveTo(Z.x,Z.y),j=!1):K.lineTo(Z.x,Z.y)}catch(he){se={error:he}}finally{try{q&&!q.done&&(ae=re.return)&&ae.call(re)}finally{if(se)throw se.error}}return s.checkPathDirty(),[2]})})},t.prototype.updateMarkerSelection=function(e){return __awaiter$7(this,void 0,void 0,function(){var n,o,s,C,m,w,D;return __generator$7(this,function(b){return n=e.nodeData,o=e.markerSelection,C=(s=this.marker).enabled&&n?n:[],m=getMarker$1(s.shape),this.marker.isDirty()&&(o=o.setData([])).exit.remove(),(w=o.setData(C)).exit.remove(),D=w.enter.append(m).each(function(T){T.tag=AreaSeriesTag.Marker}),[2,w.merge(D)]})})},t.prototype.updateMarkerNodes=function(e){return __awaiter$7(this,void 0,void 0,function(){var o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y,re,q,Z,ee;return __generator$7(this,function(ne){return o=e.isHighlight,d=(s=this).id,v=s.xKey,m=s.seriesItemEnabled,w=s.yKeys,D=s.fills,b=s.strokes,T=s.fillOpacity,I=void 0===(A=s.marker.fillOpacity)?T:A,N=s.strokeOpacity,V=(G=s.highlightStyle.item).fill,j=void 0===(W=G.fillOpacity)?I:W,K=G.stroke,Y=G.strokeWidth,re=(C=s.marker).size,q=C.formatter,Z=void 0!==C.strokeWidth?C.strokeWidth:this.strokeWidth,ee="function"==typeof C.shape,e.markerSelection.each(function(se,ae){var pe,he,_e=w.indexOf(ae.yKey),Ee=o&&void 0!==V?V:C.fill||D[_e%D.length],Se=o?j:I,Re=o&&void 0!==K?K:C.stroke||b[_e%D.length],Ce=o&&void 0!==Y?Y:Z,De=void 0;q&&(De=q({datum:ae.datum,xKey:v,yKey:ae.yKey,fill:Ee,stroke:Re,strokeWidth:Ce,size:re,highlighted:o,seriesId:d})),se.fill=De&&De.fill||Ee,se.stroke=De&&De.stroke||Re,se.strokeWidth=De&&void 0!==De.strokeWidth?De.strokeWidth:Ce,se.fillOpacity=Se??1,se.strokeOpacity=null!==(he=null!==(pe=C.strokeOpacity)&&void 0!==pe?pe:N)&&void 0!==he?he:1,se.size=De&&void 0!==De.size?De.size:re,se.translationX=ae.point.x,se.translationY=ae.point.y,se.visible=se.size>0&&!!m.get(ae.yKey)&&!isNaN(ae.point.x)&&!isNaN(ae.point.y),ee&&!se.dirtyPath&&(se.path.clear({trackChanges:!0}),se.updatePath(),se.checkPathDirty())}),o||this.marker.markClean(),[2]})})},t.prototype.updateLabelSelection=function(e){return __awaiter$7(this,void 0,void 0,function(){var s,d;return __generator$7(this,function(v){return(s=e.labelSelection.setData(e.labelData)).exit.remove(),d=s.enter.append(Text).each(function(C){C.tag=AreaSeriesTag.Label}),[2,s.merge(d)]})})},t.prototype.updateLabelNodes=function(e){return __awaiter$7(this,void 0,void 0,function(){var o,s,d,v,C,m,w;return __generator$7(this,function(D){return s=(o=this.label).enabled,d=o.fontStyle,v=o.fontWeight,C=o.fontSize,m=o.fontFamily,w=o.color,e.labelSelection.each(function(b,T){var A=T.point,I=T.label;I&&s?(b.fontStyle=d,b.fontWeight=v,b.fontSize=C,b.fontFamily=m,b.textAlign=I.textAlign,b.textBaseline=I.textBaseline,b.text=I.text,b.x=A.x,b.y=A.y-10,b.fill=w,b.visible=!0):b.visible=!1}),[2]})})},t.prototype.getNodeClickEvent=function(e,n){return new CartesianSeriesNodeClickEvent(this.xKey,n.yKey,e,n,this)},t.prototype.getTooltipHtml=function(e){var o=this.xKey,s=this.id,d=e.yKey;if(!o||!d||!this.seriesItemEnabled.get(d))return"";var v=e.datum,C=v[o],m=v[d],D=this.xAxis,b=this.yAxis;if(!(D&&b&&isNumber$4(m)))return"";var T=this,A=T.xName,I=T.yKeys,N=T.yNames,G=T.yData,V=T.fills,W=T.strokes,j=T.tooltip,K=T.marker,Y=K.size,re=K.formatter,q=K.strokeWidth,Z=K.fill,ee=K.stroke,ne=D.formatDatum(C),se=b.formatDatum(m),ae=I.indexOf(d),he=G[ae][e.index],_e=N[ae],Ee=sanitizeHtml(_e),Se=sanitizeHtml(ne+": "+se),Ce=Z||V[ae%V.length],Ne=void 0;re&&(Ne=re({datum:v,xKey:o,yKey:d,fill:Ce,stroke:ee||W[ae%V.length],strokeWidth:void 0!==q?q:this.strokeWidth,size:Y,highlighted:!1,seriesId:s}));var we=Ne&&Ne.fill||Ce,Ve={title:Ee,backgroundColor:we,content:Se},je=j.renderer,rt=j.format;if(rt||je){var $e={datum:v,xKey:o,xName:A,xValue:C,yKey:d,yValue:m,processedYValue:he,yName:_e,color:we,title:Ee,seriesId:s};if(rt)return toTooltipHtml$1({content:interpolate(rt,$e)},Ve);if(je)return toTooltipHtml$1(je($e),Ve)}return toTooltipHtml$1(Ve)},t.prototype.getLegendData=function(){var e,n,o=this,s=o.data,d=o.id,C=o.yKeys,m=o.yNames,w=o.seriesItemEnabled,D=o.marker,b=o.fills,T=o.strokes,A=o.fillOpacity,I=o.strokeOpacity;if(!(s&&s.length&&o.xKey&&C.length))return[];for(var N=[],G=C.length-1;G>=0;G--){var V=C[G];N.push({id:d,itemId:V,seriesId:d,enabled:w.get(V)||!1,label:{text:m[G]||C[G]},marker:{shape:D.shape,fill:D.fill||b[G%b.length],stroke:D.stroke||T[G%T.length],fillOpacity:null!==(e=D.fillOpacity)&&void 0!==e?e:A,strokeOpacity:null!==(n=D.strokeOpacity)&&void 0!==n?n:I}})}return N},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="AreaSeries",t.type="area",__decorate$1m([Validate(COLOR_STRING_ARRAY)],t.prototype,"fills",void 0),__decorate$1m([Validate(COLOR_STRING_ARRAY)],t.prototype,"strokes",void 0),__decorate$1m([Validate(NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1m([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1m([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),__decorate$1m([Validate(NUMBER(0))],t.prototype,"lineDashOffset",void 0),__decorate$1m([Validate(STRING)],t.prototype,"_xKey",void 0),__decorate$1m([Validate(STRING)],t.prototype,"xName",void 0),__decorate$1m([Validate(STRING_ARRAY)],t.prototype,"_yKeys",void 0),__decorate$1m([Validate(BOOLEAN_ARRAY)],t.prototype,"_visibles",void 0),__decorate$1m([Validate(STRING_ARRAY)],t.prototype,"yNames",void 0),__decorate$1m([Validate(OPT_NUMBER())],t.prototype,"_normalizedTo",void 0),__decorate$1m([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(CartesianSeries),__extends$1_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1l=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$6=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$6=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__read$s=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$g=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$s(arguments[t]));return l},__values$c=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},BAR_LABEL_PLACEMENTS=["inside","outside"],OPT_BAR_LABEL_PLACEMENT=function(l,t){return OPTIONAL(l,t,function(e){return BAR_LABEL_PLACEMENTS.includes(e)})},BarSeriesNodeTag=(()=>(function(l){l[l.Bar=0]="Bar",l[l.Label=1]="Label"}(BarSeriesNodeTag||(BarSeriesNodeTag={})),BarSeriesNodeTag))(),BarSeriesLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e.placement="inside",e}return __extends$1_(t,l),__decorate$1l([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),__decorate$1l([Validate(OPT_BAR_LABEL_PLACEMENT)],t.prototype,"placement",void 0),t}(Label$1),BarSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1_(t,l),__decorate$1l([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),t}(SeriesTooltip);function flat(l,t){return void 0===t&&(t=[]),l.forEach(function(e){Array.isArray(e)?flat(e,t):t.push(e)}),t}function is2dArray$1(l){return l.length>0&&Array.isArray(l[0])}var BarSeries=function(l){function t(){var e,n=l.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0})||this;return n.xData=[],n.yData=[],n.yDomain=[],n.label=new BarSeriesLabel,n.tooltip=new BarSeriesTooltip,n.flipXY=!1,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.formatter=void 0,n.groupScale=new BandScale$5,n.directionKeys=((e={})[ChartAxisDirection.X]=["xKey"],e[ChartAxisDirection.Y]=["yKeys"],e),n._xKey="",n.xName="",n.cumYKeyCount=[],n.flatYKeys=void 0,n.hideInLegend=[],n._yKeys=[],n._visibles=[],n._grouped=!1,n._yNames={},n.strokeWidth=1,n.shadow=void 0,n.smallestDataInterval=void 0,n.label.enabled=!1,n}return __extends$1_(t,l),t.prototype.getKeys=function(e){var n=this,o=this.directionKeys,s=o&&o[this.flipXY?flipChartAxisDirection(e):e],d=[];return s&&s.forEach(function(v){var C=n[v];C&&(Array.isArray(C)?d=d.concat(flat(C)):d.push(C))}),d},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.xData=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var n=this,o=void 0;if(is2dArray$1(e)||(o=e,e=this.grouped?o.map(function(C){return[C]}):[o]),!areArrayItemsStrictlyEqual(this._yKeys,e)){this.flatYKeys=o||void 0,this._yKeys=e;var s=0;this.cumYKeyCount=[];var d=[];e.forEach(function(C,m){C.length>0&&d.push(String(m)),n.cumYKeyCount.push(s),s+=C.length}),this.yData=[],this.processSeriesItemEnabled(),this.groupScale.domain=d}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibles",{get:function(){return this._visibles},set:function(e){this._visibles=e.reduce(function(o,s){return o.concat.apply(o,__spread$g(Array.isArray(s)?s:[s]))},[]),this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),t.prototype.processSeriesItemEnabled=function(){var n=this.seriesItemEnabled,o=this._visibles,s=void 0===o?[]:o;n.clear();var d=0;this._yKeys.forEach(function(v){v.forEach(function(C){var m;return n.set(C,null===(m=s?.[d++])||void 0===m||m)})})},Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var n={};this.flatYKeys.forEach(function(o,s){n[o]=e[s]}),e=n}this._yNames=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var n=e?Math.abs(e):void 0;this._normalizedTo=n},enumerable:!1,configurable:!0}),t.prototype.processData=function(){return __awaiter$6(this,void 0,void 0,function(){var e,n,o,s,d,v,C,m,w,D,b,T,I,N,G,V,W,j,K,Y,re,q=this;return __generator$6(this,function(Z){return o=(e=this).yKeys,s=e.seriesItemEnabled,d=(n=e.xKey)&&o.length&&this.data?this.data:[],v=this.getCategoryAxis(),C=this.getValueAxis(),v&&C?(m=function(ee,ne){void 0===q.smallestDataInterval&&(q.smallestDataInterval={x:1/0,y:1/0});var se=q.smallestDataInterval.x,ae=Math.abs(ee-ne);ae>0&&ae<se&&(q.smallestDataInterval.x=ae)},w=v.scale instanceof ContinuousScale,D=C.scale instanceof ContinuousScale,b=!0,T=1/0,this.xData=d.map(function(ee){b&&!(n in ee)&&(b=!1,console.warn("The key '"+n+"' was not found in the data: ",ee));var ne=checkDatum(ee[n],w);return w&&m(ne,T),T=ne,ne}),this.yData=d.map(function(ee){return o.map(function(ne){return ne.map(function(se){b&&!(se in ee)&&(b=!1,console.warn("The key '"+se+"' was not found in the data: ",ee));var ae=checkDatum(ee[se],D);return s.get(se)&&void 0!==ae?ae:NaN})})}),this.validateXYData(this.xKey,this.yKeys.join(", "),d,v,C,this.xData,this.yData,3)?(N=this.yData.map((I=C instanceof LogAxis)?function(ee){return ee.map(function(ne){var se,ae=null!==(se=extent$4(ne))&&void 0!==se?se:[];return{min:ae[0],max:ae[1]}})}:function(ee){return ee.map(function(ne){return findMinMax(ne)})}),V=(G=this).yData,W=G.normalizedTo,j=this.yData.map(function(ee){return ee.map(function(ne){return ne.reduce(function(se,ae){return se+(isNaN(ae)?0:Math.abs(ae))},0)})}),K=this.findLargestMinMax(N),re=K.max,(Y=K.min)===1/0&&re===-1/0?(this.yDomain=[],[2]):(W&&isFinite(W)&&(Y=Y<0?-W:I?1:0,re=re>0?W:I?-1:0,V.forEach(function(ee,ne){ee.forEach(function(se,ae){se.forEach(function(pe,he){se[he]=pe/j[ne][ae]*W})})})),this.yDomain=this.fixNumericExtent([Y,re],this.yAxis),[2])):(this.xData=[],this.yData=[],this.yDomain=[],[2])):[2]})})},t.prototype.findLargestMinMax=function(e){var n,o,s,d,v=1/0,C=-1/0;try{for(var m=__values$c(e),w=m.next();!w.done;w=m.next()){var D=w.value;try{for(var b=(s=void 0,__values$c(D)),T=b.next();!T.done;T=b.next()){var A=T.value,I=A.min,N=void 0===I?1/0:I,G=A.max,V=void 0===G?-1/0:G;N<v&&(v=N),V>C&&(C=V)}}catch(W){s={error:W}}finally{try{T&&!T.done&&(d=b.return)&&d.call(b)}finally{if(s)throw s.error}}}}catch(W){n={error:W}}finally{try{w&&!w.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}return{min:v,max:C}},t.prototype.getDomain=function(e){var n,o,s,d,v,C=this.flipXY;if(this.flipXY&&(e=flipChartAxisDirection(e)),e===ChartAxisDirection.X){if(!((null===(n=this.getCategoryAxis())||void 0===n?void 0:n.scale)instanceof ContinuousScale))return this.xData;var m=extent$4(this.xData)||[NaN,NaN];return C?m[0]=m[0]-(null!==(s=null===(o=this.smallestDataInterval)||void 0===o?void 0:o.x)&&void 0!==s?s:0):m[1]=m[1]+(null!==(v=null===(d=this.smallestDataInterval)||void 0===d?void 0:d.x)&&void 0!==v?v:0),m}return this.yDomain},t.prototype.getNodeClickEvent=function(e,n){return new CartesianSeriesNodeClickEvent(this.xKey,n.yKey,e,n,this)},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.calculateStep=function(e){var n,o=this.smallestDataInterval,s=this.getCategoryAxis();if(s){var v=(s.dataDomain[1]-s.dataDomain[0])/(null!==(n=o?.x)&&void 0!==n?n:1)+1,C=Math.floor(e),m=Math.min(v,C);return e/Math.max(1,m)}},t.prototype.createNodeData=function(){return __awaiter$6(this,void 0,void 0,function(){var e,n,o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y,re,q,Z,ee,ne,se,ae,pe,he,_e,Ee,Se=this;return __generator$6(this,function(Re){return n=(e=this).data,o=e.visible,s=this.getCategoryAxis(),d=this.getValueAxis(),n&&o&&s&&d?(C=d.scale,w=(m=this).groupScale,D=m.yKeys,b=m.cumYKeyCount,T=m.fills,A=m.strokes,I=m.strokeWidth,N=m.seriesItemEnabled,G=m.xData,V=m.yData,j=m.flipXY,K=m.id,Y=(W=m.label).fontStyle,re=W.fontWeight,q=W.fontSize,Z=W.fontFamily,ee=W.color,ne=W.formatter,se=W.placement,ae=(v=s.scale).bandwidth,v instanceof ContinuousScale&&(pe=Math.max(s.range[0],s.range[1]),he=this.calculateStep(pe),ae=he),w.range=[0,ae],w.padding=s instanceof CategoryAxis?s.groupPaddingInner:s instanceof GroupedCategoryAxis?.1:0,w.round=0!==w.padding,_e=w.bandwidth>=1?w.bandwidth:w.rawBandwidth,Ee=[],G.forEach(function(Ce,De){for(var Ne,we,Ve=n[De],je=v.convert(Ce),rt=V[De],$e=0;$e<rt.length;$e++){var Et=rt[$e];Ee[$e]=null!==(Ne=Ee[$e])&&void 0!==Ne?Ne:[];for(var xt=0,jt=0,Qe=0;Qe<Et.length;Qe++){var Ft=+Et[Qe],Pt=D[$e][Qe],Yt=je+w.convert(String($e));if(Ee[$e][Qe]=null!==(we=Ee[$e][Qe])&&void 0!==we?we:{itemId:Pt,nodeData:[],labelData:[]},s.inRange(Yt,_e)&&!isNaN(Ft)){var ce,Cr=Ft<0?xt:jt,qt=C.convert(Cr+Ft,{strict:!1}),or=C.convert(Cr,{strict:!1}),Xt=Ve[Pt];ce=ne?ne({value:isNumber$4(Xt)?Xt:void 0,seriesId:K}):isNumber$4(Xt)?Xt.toFixed(2):"";var ze=void 0,Le=void 0;j?(Le=Yt+_e/2,ze="inside"===se?qt+(Xt>=0?-1:1)*Math.abs(or-qt)/2:qt+4*(Xt>=0?1:-1)):(ze=Yt+_e/2,Le="inside"===se?qt+(Xt>=0?1:-1)*Math.abs(or-qt)/2:qt+(Xt>=0?-3:4));var $=void 0,gt=void 0;"inside"===se?($="center",gt="middle"):($=j?Xt>=0?"start":"end":"center",gt=j?"middle":Xt>=0?"bottom":"top");var ri=b[$e]+Qe,ar={index:De,series:Se,itemId:Pt,datum:Ve,yValue:Xt,yKey:Pt,x:j?Math.min(qt,or):Yt,y:j?Yt:Math.min(qt,or),width:j?Math.abs(or-qt):_e,height:j?_e:Math.abs(or-qt),colorIndex:ri,fill:T[ri%T.length],stroke:A[ri%A.length],strokeWidth:I,label:N.get(Pt)&&ce?{text:ce,fontStyle:Y,fontWeight:re,fontSize:q,fontFamily:Z,textAlign:$,textBaseline:gt,fill:ee,x:ze,y:Le}:void 0};Ee[$e][Qe].nodeData.push(ar),Ee[$e][Qe].labelData.push(ar),Ft<0?xt+=Ft:jt+=Ft}}}}),[2,Ee.reduce(function(Ce,De){return Ce.concat.apply(Ce,__spread$g(De))},[])]):[2,[]]})})},t.prototype.updateDatumSelection=function(e){return __awaiter$6(this,void 0,void 0,function(){var s,d;return __generator$6(this,function(v){return(s=e.datumSelection.setData(e.nodeData)).exit.remove(),d=s.enter.append(Rect).each(function(C){C.tag=BarSeriesNodeTag.Bar}),[2,s.merge(d)]})})},t.prototype.updateDatumNodes=function(e){var n,o;return __awaiter$6(this,void 0,void 0,function(){var s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y,re,Z,ne,se=this;return __generator$6(this,function(ae){return s=e.datumSelection,d=e.isHighlight,C=(v=this).fills,m=v.strokes,w=v.fillOpacity,D=v.strokeOpacity,b=v.shadow,T=v.formatter,A=v.xKey,I=v.flipXY,G=(N=v.highlightStyle.item).fill,W=void 0===(V=N.fillOpacity)?w:V,j=N.stroke,K=N.strokeWidth,Y=v.id,re=__read$s(null!==(o=null===(n=this.xAxis)||void 0===n?void 0:n.visibleRange)&&void 0!==o?o:[],2),Z=re[1],ne=!(0!==re[0]||1!==Z),s.each(function(pe,he){var _e=he.colorIndex,Ee=d&&void 0!==G?G:C[_e%C.length],Se=d&&void 0!==j?j:m[_e%C.length],Re=d&&void 0!==K?K:se.getStrokeWidth(se.strokeWidth,he),Ce=d?W:w,De=void 0;T&&(De=T({datum:he.datum,fill:Ee,stroke:Se,strokeWidth:Re,highlighted:d,xKey:A,yKey:he.yKey,seriesId:Y})),pe.crisp=ne,pe.x=he.x,pe.y=he.y,pe.width=he.width,pe.height=he.height,pe.fill=De&&De.fill||Ee,pe.stroke=De&&De.stroke||Se,pe.strokeWidth=De&&void 0!==De.strokeWidth?De.strokeWidth:Re,pe.fillOpacity=Ce,pe.strokeOpacity=D,pe.lineDash=se.lineDash,pe.lineDashOffset=se.lineDashOffset,pe.fillShadow=b,pe.visible=I?he.width>0:he.height>0}),[2]})})},t.prototype.updateLabelSelection=function(e){return __awaiter$6(this,void 0,void 0,function(){var n,v,C;return __generator$6(this,function(m){return n=e.labelData,(v=e.labelSelection.setData(this.label.enabled?n:[])).exit.remove(),C=v.enter.append(Text).each(function(w){w.tag=BarSeriesNodeTag.Label,w.pointerEvents=PointerEvents.None}),[2,v.merge(C)]})})},t.prototype.updateLabelNodes=function(e){return __awaiter$6(this,void 0,void 0,function(){var o,s,d,v,C,m,w;return __generator$6(this,function(D){return s=(o=this.label).enabled,d=o.fontStyle,v=o.fontWeight,C=o.fontSize,m=o.fontFamily,w=o.color,e.labelSelection.each(function(b,T){var A=T.label;A&&s?(b.fontStyle=d,b.fontWeight=v,b.fontSize=C,b.fontFamily=m,b.textAlign=A.textAlign,b.textBaseline=A.textBaseline,b.text=A.text,b.x=A.x,b.y=A.y,b.fill=w,b.visible=!0):b.visible=!1}),[2]})})},t.prototype.getTooltipHtml=function(e){var n=this,o=n.xKey,s=n.yKeys,d=n.yData,v=this.getCategoryAxis(),C=this.getValueAxis(),m=e.yKey;if(!(d.length&&o&&m&&v&&C))return"";for(var w=0,D=0,b=0;b<s.length;b++){var T=s[b];if((D=T.indexOf(m))>=0){w+=D;break}w+=T.length}var A=this,I=A.xName,G=A.fills,j=A.formatter,K=A.id,Y=A.tooltip.renderer,re=e.datum,q=A.yNames[m],Z=G[w%G.length],ee=A.strokes[w%G.length],ne=this.getStrokeWidth(this.strokeWidth),se=re[o],ae=re[m],pe=sanitizeHtml(v.formatDatum(se)),he=sanitizeHtml(C.formatDatum(ae)),_e=sanitizeHtml(q),Ee=pe+": "+he,Se=void 0;j&&(Se=j({datum:re,fill:Z,stroke:ee,strokeWidth:ne,highlighted:!1,xKey:o,yKey:m,seriesId:K}));var Re=Se&&Se.fill||Z,Ce={title:_e,backgroundColor:Re,content:Ee};return Y?toTooltipHtml$1(Y({datum:re,xKey:o,xValue:se,xName:I,yKey:m,yValue:ae,yName:q,color:Re,title:_e,seriesId:K}),Ce):toTooltipHtml$1(Ce)},t.prototype.getLegendData=function(){var e=this,n=e.id,o=e.data,v=e.yNames,C=e.cumYKeyCount,m=e.seriesItemEnabled,w=e.hideInLegend,D=e.fills,b=e.strokes,T=e.fillOpacity,A=e.strokeOpacity,I=e.flipXY;if(!(o&&o.length&&e.xKey&&e.yKeys.length))return[];var N=[];return this.yKeys.forEach(function(G,V){for(var j=I?1:-1,K=I?0:G.length-1,Y=0;Y<G.length;K+=j,Y++){var re=G[K];if(w.indexOf(re)>=0)return;var q=C[V]+K;N.push({id:n,itemId:re,seriesId:n,enabled:m.get(re)||!1,label:{text:v[re]||re},marker:{fill:D[q%D.length],stroke:b[q%b.length],fillOpacity:T,strokeOpacity:A}})}}),N},t.prototype.toggleSeriesItem=function(e,n){l.prototype.toggleSeriesItem.call(this,e,n);var o=this.yKeys.map(function(d){return d.slice()});this.seriesItemEnabled.forEach(function(d,v){d||o.forEach(function(C){var m=C.indexOf(v);m>=0&&C.splice(m,1)})});var s=[];o.forEach(function(d,v){d.length>0&&s.push(String(v))}),this.groupScale.domain=s,this.nodeDataRefresh=!0},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="BarSeries",t.type="bar",__decorate$1l([Validate(BOOLEAN)],t.prototype,"flipXY",void 0),__decorate$1l([Validate(COLOR_STRING_ARRAY)],t.prototype,"fills",void 0),__decorate$1l([Validate(COLOR_STRING_ARRAY)],t.prototype,"strokes",void 0),__decorate$1l([Validate(NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1l([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1l([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"lineDashOffset",void 0),__decorate$1l([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),__decorate$1l([Validate(STRING)],t.prototype,"_xKey",void 0),__decorate$1l([Validate(STRING)],t.prototype,"xName",void 0),__decorate$1l([Validate(STRING_ARRAY)],t.prototype,"hideInLegend",void 0),__decorate$1l([Validate(BOOLEAN_ARRAY)],t.prototype,"_visibles",void 0),__decorate$1l([Validate(BOOLEAN)],t.prototype,"_grouped",void 0),__decorate$1l([Validate(OPT_NUMBER())],t.prototype,"_normalizedTo",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(CartesianSeries),__extends$1Z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1k=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$5=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$5=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__read$r=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$f=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$r(arguments[t]));return l},HISTOGRAM_AGGREGATIONS=["count","sum","mean"],HISTOGRAM_AGGREGATION=predicateWithMessage(function(l){return HISTOGRAM_AGGREGATIONS.includes(l)},"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean"),HistogramSeriesNodeTag=(()=>(function(l){l[l.Bin=0]="Bin",l[l.Label=1]="Label"}(HistogramSeriesNodeTag||(HistogramSeriesNodeTag={})),HistogramSeriesNodeTag))(),HistogramSeriesLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$1Z(t,l),__decorate$1k([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(Label$1),defaultBinCount=10,aggregationFunctions={count:function(l){return l.data.length},sum:function(l,t){return l.data.reduce(function(e,n){return e+n[t]},0)},mean:function(l,t){return aggregationFunctions.sum(l,t)/aggregationFunctions.count(l,t)}},HistogramBin=function(){function l(t){var e=__read$r(t,2),n=e[0],o=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[n,o]}return l.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(l.prototype,"domainWidth",{get:function(){var t=__read$r(this.domain,2);return t[1]-t[0]},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!1,configurable:!0}),l.prototype.calculateAggregatedValue=function(t,e){e||(t="count"),this.aggregatedValue=(0,aggregationFunctions[t])(this,e)},l.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},l}(),HistogramSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1Z(t,l),__decorate$1k([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),t}(SeriesTooltip),HistogramSeries=function(l){function t(){var e,n=l.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;return n.binnedData=[],n.xDomain=[],n.yDomain=[],n.label=new HistogramSeriesLabel,n.tooltip=new HistogramSeriesTooltip,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.directionKeys=((e={})[ChartAxisDirection.X]=["xKey"],e[ChartAxisDirection.Y]=["yKey"],e),n.xKey="",n.areaPlot=!1,n.bins=void 0,n.aggregation="count",n.binCount=void 0,n.xName="",n.yKey="",n.yName="",n.strokeWidth=1,n.shadow=void 0,n.label.enabled=!1,n}return __extends$1Z(t,l),t.prototype.getKeys=function(e){var n=this,o=this.directionKeys,s=o&&o[e],d=[];return s&&s.forEach(function(v){var C=n[v];C&&(Array.isArray(C)?d.push.apply(d,__spread$f(C)):d.push(C))}),d},t.prototype.deriveBins=function(){var e=this,n=this.bins;if(!this.data)return[];var o=this.data.map(function(w){return w[e.xKey]}),s=this.fixNumericExtent(extent$4(o));if(void 0===this.binCount){if(n)return n;var d=ticks(s[0],s[1],defaultBinCount),v=tickStep(s[0],s[1],defaultBinCount),C=d[0];return __spread$f([[C-v,C]],d.map(function(w){return[w,w+v]}))}return this.calculateNiceBins(s,this.binCount)},t.prototype.calculateNiceBins=function(e,n){var o,s=Math.floor(e[0]),d=e[1],C=n||1;return o=this.calculateNiceStart(s,d,C),this.getBins(s=o.start,d,o.binSize,C)},t.prototype.getBins=function(e,n,o,s){for(var d=[],v=0;v<s;v++){var C=Math.round(10*(e+v*o))/10,m=Math.round(10*(e+(v+1)*o))/10;v===s-1&&(m=Math.max(m,n)),d[v]=[C,m]}return d},t.prototype.calculateNiceStart=function(e,n,o){var s=Math.abs(n-e)/o,d=Math.floor(Math.log10(s)),v=Math.pow(10,d);return{start:Math.floor(e/v)*v,binSize:s}},t.prototype.placeDataInBins=function(e){var n=this,o=this.xKey,s=this.deriveBins();this.bins=s;for(var d=e.slice().sort(function(D,b){return D[o]<b[o]?-1:D[o]>b[o]?1:0}),v=[new HistogramBin(s[0])],C=0,m=0;m<d.length&&C<s.length;m++){for(var w=d[m];w[o]>s[C][1]&&C<s.length;)C++,v.push(new HistogramBin(s[C]));C<s.length&&v[C].addDatum(w)}return v.forEach(function(D){return D.calculateAggregatedValue(n.aggregation,n.yKey)}),v},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(n,o){return Math.max(n,o[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!1,configurable:!0}),t.prototype.processData=function(){return __awaiter$5(this,void 0,void 0,function(){var e,o,s,d,D=this;return __generator$5(this,function(b){return o=(e=this).data,this.binnedData=this.placeDataInBins(e.xKey&&o?o:[]),s=this.binnedData.map(function(T){return T.getY(D.areaPlot)}),d=extent$4(s),this.yDomain=this.fixNumericExtent([0,d?d[1]:1]),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],[2]})})},t.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.xDomain:this.yDomain},t.prototype.getNodeClickEvent=function(e,n){return new CartesianSeriesNodeClickEvent(this.xKey,this.yKey,e,n,this)},t.prototype.createNodeData=function(){return __awaiter$5(this,void 0,void 0,function(){var e,n,o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y=this;return __generator$5(this,function(re){return n=(e=this).xAxis,o=e.yAxis,this.seriesItemEnabled&&n&&o?(s=n.scale,d=o.scale,C=(v=this).fill,m=v.stroke,w=v.strokeWidth,D=v.id,b=[],T=function(q){return String(q.value)},N=void 0===(I=(A=this.label).formatter)?T:I,G=A.fontStyle,V=A.fontWeight,W=A.fontSize,j=A.fontFamily,K=A.color,this.binnedData.forEach(function(q){var Z=q.aggregatedValue,ee=q.frequency,ne=__read$r(q.domain,2),ae=ne[1],pe=q.relativeHeight,he=s.convert(ne[0]),_e=s.convert(ae),Ee=Y.areaPlot?pe:Y.yKey?Z:ee,Se=d.convert(0),Re=d.convert(Ee),Ce=_e-he,De=Math.abs(Re-Se),Ne=0!==Ee?{text:N({value:q.aggregatedValue,seriesId:D}),fontStyle:G,fontWeight:V,fontSize:W,fontFamily:j,fill:K,x:he+Ce/2,y:Re+De/2}:void 0;b.push({series:Y,datum:q,x:he,y:Re,width:Ce,height:De,fill:C,stroke:m,strokeWidth:w,label:Ne})}),[2,[{itemId:this.yKey,nodeData:b,labelData:b}]]):[2,[]]})})},t.prototype.updateDatumSelection=function(e){return __awaiter$5(this,void 0,void 0,function(){var s,d;return __generator$5(this,function(v){return(s=e.datumSelection.setData(e.nodeData)).exit.remove(),d=s.enter.append(Rect).each(function(C){C.tag=HistogramSeriesNodeTag.Bin,C.crisp=!0}),[2,s.merge(d)]})})},t.prototype.updateDatumNodes=function(e){return __awaiter$5(this,void 0,void 0,function(){var o,s,d,v,C,m,w,D,b,T,A,I=this;return __generator$5(this,function(N){return o=e.isHighlight,d=(s=this).fillOpacity,v=s.strokeOpacity,C=s.shadow,w=(m=s.highlightStyle.item).fill,b=void 0===(D=m.fillOpacity)?d:D,T=m.stroke,A=m.strokeWidth,e.datumSelection.each(function(G,V,W){var j=o&&void 0!==A?A:V.strokeWidth,K=o?b:d;G.x=V.x,G.y=V.y,G.width=V.width,G.height=V.height,G.fill=o&&void 0!==w?w:V.fill,G.stroke=o&&void 0!==T?T:V.stroke,G.fillOpacity=K,G.strokeOpacity=v,G.strokeWidth=j,G.lineDash=I.lineDash,G.lineDashOffset=I.lineDashOffset,G.fillShadow=C,G.zIndex=o?Series.highlightedZIndex:W,G.visible=V.height>0}),[2]})})},t.prototype.updateLabelSelection=function(e){return __awaiter$5(this,void 0,void 0,function(){var s,d;return __generator$5(this,function(v){return(s=e.labelSelection.setData(e.labelData)).exit.remove(),d=s.enter.append(Text).each(function(C){C.tag=HistogramSeriesNodeTag.Label,C.pointerEvents=PointerEvents.None,C.textAlign="center",C.textBaseline="middle"}),[2,s.merge(d)]})})},t.prototype.updateLabelNodes=function(e){return __awaiter$5(this,void 0,void 0,function(){var o;return __generator$5(this,function(s){return o=this.label.enabled,e.labelSelection.each(function(d,v){var C=v.label;C&&o?(d.text=C.text,d.x=C.x,d.y=C.y,d.fontStyle=C.fontStyle,d.fontWeight=C.fontWeight,d.fontSize=C.fontSize,d.fontFamily=C.fontFamily,d.fill=C.fill,d.visible=!0):d.visible=!1}),[2]})})},t.prototype.getTooltipHtml=function(e){var n=this,o=n.xKey,s=n.yKey,d=n.xAxis,v=n.yAxis;if(!o||!d||!v)return"";var C=this,m=C.xName,w=C.yName,D=C.fill,T=C.aggregation,A=C.id,I=C.tooltip.renderer,N=e.datum,G=N.aggregatedValue,V=N.frequency,W=__read$r(N.domain,2),j=W[0],K=W[1],Y=sanitizeHtml(m||o)+": "+d.formatDatum(j)+" - "+d.formatDatum(K),re=s?"<b>"+sanitizeHtml(w||s)+" ("+T+")</b>: "+v.formatDatum(G)+"<br>":"",q={title:Y,backgroundColor:D,content:re+="<b>Frequency</b>: "+V};return I?toTooltipHtml$1(I({datum:N,xKey:o,xValue:N.domain,xName:m,yKey:s,yValue:N.aggregatedValue,yName:w,color:D,title:Y,seriesId:A}),q):toTooltipHtml$1(q)},t.prototype.getLegendData=function(){var e=this,n=e.id,o=e.data,s=e.xKey;return o&&0!==o.length?[{id:n,itemId:s,seriesId:n,enabled:e.visible,label:{text:e.yName||s||"Frequency"},marker:{fill:e.fill||"rgba(0, 0, 0, 0)",stroke:e.stroke||"rgba(0, 0, 0, 0)",fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}}]:[]},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="HistogramSeries",t.type="histogram",__decorate$1k([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1k([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1k([Validate(NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1k([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1k([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),__decorate$1k([Validate(NUMBER(0))],t.prototype,"lineDashOffset",void 0),__decorate$1k([Validate(STRING)],t.prototype,"xKey",void 0),__decorate$1k([Validate(BOOLEAN)],t.prototype,"areaPlot",void 0),__decorate$1k([Validate(OPT_ARRAY())],t.prototype,"bins",void 0),__decorate$1k([Validate(HISTOGRAM_AGGREGATION)],t.prototype,"aggregation",void 0),__decorate$1k([Validate(OPT_NUMBER(0))],t.prototype,"binCount",void 0),__decorate$1k([Validate(STRING)],t.prototype,"xName",void 0),__decorate$1k([Validate(STRING)],t.prototype,"yKey",void 0),__decorate$1k([Validate(STRING)],t.prototype,"yName",void 0),__decorate$1k([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(CartesianSeries),__extends$1Y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1j=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$4=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$4=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__values$b=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$q=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},LineSeriesLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$1Y(t,l),__decorate$1j([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(Label$1),LineSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$1Y(t,l),__decorate$1j([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),__decorate$1j([Validate(OPT_STRING)],t.prototype,"format",void 0),t}(SeriesTooltip),LineSeries=function(l){function t(){var e=l.call(this,{hasMarkers:!0,pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;e.xDomain=[],e.yDomain=[],e.pointsData=[],e.marker=new CartesianSeriesMarker,e.label=new LineSeriesLabel,e.title=void 0,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new LineSeriesTooltip,e._xKey="",e.xName="",e._yKey="",e.yName="";var o=e.marker,s=e.label;return o.fill="#c16068",o.stroke="#874349",s.enabled=!1,e}return __extends$1Y(t,l),Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),t.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.xDomain:this.yDomain},t.prototype.processData=function(){return __awaiter$4(this,void 0,void 0,function(){var e,n,o,s,d,v,C,m,w,D,b,T,A,I,G,V,W,j,K;return __generator$4(this,function(Y){if(o=(e=this).yAxis,d=e.yKey,v=e.pointsData,C=(s=e.xKey)&&d&&this.data?this.data:[],!(n=e.xAxis)||!o)return[2];m=n.scale instanceof ContinuousScale,w=o.scale instanceof ContinuousScale,D=[],b=[],v.splice(0);try{for(T=__values$b(C),A=T.next();!A.done;A=T.next())G=(I=A.value)[d],V=checkDatum(I[s],m),(!m||void 0!==V)&&(W=checkDatum(G,w),D.push(V),b.push(W),v.push({xDatum:V,yDatum:W,datum:I}))}catch(re){j={error:re}}finally{try{A&&!A.done&&(K=T.return)&&K.call(T)}finally{if(j)throw j.error}}return this.validateXYData(this.xKey,this.yKey,C,n,o,D,b,1),this.xDomain=m?this.fixNumericExtent(extent$4(D),n):D,this.yDomain=w?this.fixNumericExtent(extent$4(b),o):b,[2]})})},t.prototype.createNodeData=function(){var e;return __awaiter$4(this,void 0,void 0,function(){var n,o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y,re,q,Z,ee,ne,ae,pe,he,_e,Ee,Se,Re,Ce;return __generator$4(this,function(De){if(s=(n=this).xAxis,d=n.yAxis,C=(v=n.marker).enabled,m=v.size,w=v.strokeWidth,!(o=n.data)||!s||!d)return[2,[]];for(b=(D=this).pointsData,T=D.label,A=D.yKey,I=D.id,V=((N=s.scale).bandwidth||0)/2,W=((G=d.scale).bandwidth||0)/2,j=new Array(o.length),K=C?m:0,Y=!0,re=void 0,q=void 0,Z=0,ee=0;ee<b.length;ee++)if(void 0===(ne=q||b[ee]).yDatum)re=void 0,Y=!0;else{if(ae=ne.yDatum,pe=ne.datum,he=N.convert(ne.xDatum)+V,isNaN(he)){re=void 0,Y=!0;continue}if(q=void 0===(null===(e=b[ee+1])||void 0===e?void 0:e.yDatum)?void 0:b[ee+1],Ee=s.inRangeEx(he,0,_e=(N.bandwidth||.5*m+(w||0))+1),Se=q&&s.inRangeEx(N.convert(q.xDatum)+V,0,_e),-1===Ee&&-1===Se){Y=!0;continue}if(1===Ee&&1===re){Y=!0;continue}re=Ee,Re=G.convert(ae)+W,void 0,Ce=T.formatter?T.formatter({value:ae,seriesId:I}):"number"==typeof ae&&isFinite(ae)?ae.toFixed(2):ae?String(ae):"",j[Z++]={series:this,datum:pe,point:{x:he,y:Re,moveTo:Y,size:K},label:Ce?{text:Ce,fontStyle:T.fontStyle,fontWeight:T.fontWeight,fontSize:T.fontSize,fontFamily:T.fontFamily,textAlign:"center",textBaseline:"bottom",fill:T.color}:void 0},Y=!1}return j.length=Z,[2,[{itemId:A,nodeData:j,labelData:j}]]})})},t.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},t.prototype.updatePaths=function(e){return __awaiter$4(this,void 0,void 0,function(){var n,o,s,d,v,C,m,w,D;return __generator$4(this,function(b){n=e.contextData.nodeData,o=__read$q(e.paths,1),d=(s=o[0]).path,s.fill=void 0,s.lineJoin="round",s.pointerEvents=PointerEvents.None,d.clear({trackChanges:!0});try{for(v=__values$b(n),C=v.next();!C.done;C=v.next())(m=C.value).point.moveTo?d.moveTo(m.point.x,m.point.y):d.lineTo(m.point.x,m.point.y)}catch(T){w={error:T}}finally{try{C&&!C.done&&(D=v.return)&&D.call(v)}finally{if(w)throw w.error}}return s.checkPathDirty(),[2]})})},t.prototype.updatePathNodes=function(e){return __awaiter$4(this,void 0,void 0,function(){var n,o;return __generator$4(this,function(s){return n=__read$q(e.paths,1),(o=n[0]).stroke=this.stroke,o.strokeWidth=this.getStrokeWidth(this.strokeWidth),o.strokeOpacity=this.strokeOpacity,o.lineDash=this.lineDash,o.lineDashOffset=this.lineDashOffset,[2]})})},t.prototype.updateMarkerSelection=function(e){return __awaiter$4(this,void 0,void 0,function(){var n,o,s,d,v,C,m,w;return __generator$4(this,function(D){return n=e.nodeData,o=e.markerSelection,v=(s=this.marker).enabled,n=(d=s.shape)&&v?n:[],C=getMarker$1(d),this.marker.isDirty()&&(o=o.setData([])).exit.remove(),(m=o.setData(n)).exit.remove(),w=m.enter.append(C),[2,m.merge(w)]})})},t.prototype.updateMarkerNodes=function(e){return __awaiter$4(this,void 0,void 0,function(){var o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y;return __generator$4(this,function(re){return o=e.isHighlight,v=(s=this).marker.fillOpacity,C=s.xKey,m=s.yKey,w=s.stroke,D=s.strokeOpacity,T=(b=s.highlightStyle.item).fill,I=void 0===(A=b.fillOpacity)?v:A,N=b.stroke,G=b.strokeWidth,V=s.id,W=(d=s.marker).size,j=d.formatter,K=void 0!==d.strokeWidth?d.strokeWidth:this.strokeWidth,Y="function"==typeof d.shape,e.markerSelection.each(function(q,Z){var ee,ne,se=o&&void 0!==T?T:d.fill,ae=o?I:v,pe=o&&void 0!==N?N:d.stroke||w,he=o&&void 0!==G?G:K,_e=void 0;j&&(_e=j({datum:Z.datum,xKey:C,yKey:m,fill:se,stroke:pe,strokeWidth:he,size:W,highlighted:o,seriesId:V})),q.fill=_e&&_e.fill||se,q.stroke=_e&&_e.stroke||pe,q.strokeWidth=_e&&void 0!==_e.strokeWidth?_e.strokeWidth:he,q.fillOpacity=ae??1,q.strokeOpacity=null!==(ne=null!==(ee=d.strokeOpacity)&&void 0!==ee?ee:D)&&void 0!==ne?ne:1,q.size=_e&&void 0!==_e.size?_e.size:W,q.translationX=Z.point.x,q.translationY=Z.point.y,q.visible=q.size>0&&!isNaN(Z.point.x)&&!isNaN(Z.point.y),Y&&!q.dirtyPath&&(q.path.clear({trackChanges:!0}),q.updatePath(),q.checkPathDirty())}),o||this.marker.markClean(),[2]})})},t.prototype.updateLabelSelection=function(e){return __awaiter$4(this,void 0,void 0,function(){var n,s,v,C,m;return __generator$4(this,function(w){return n=e.labelData,v=(s=this.marker).enabled,(C=e.labelSelection.setData(n=s.shape&&v?n:[])).exit.remove(),m=C.enter.append(Text),[2,C.merge(m)]})})},t.prototype.updateLabelNodes=function(e){return __awaiter$4(this,void 0,void 0,function(){var o,s,d,v,C,m,w;return __generator$4(this,function(D){return s=(o=this.label).enabled,d=o.fontStyle,v=o.fontWeight,C=o.fontSize,m=o.fontFamily,w=o.color,e.labelSelection.each(function(b,T){var A=T.point,I=T.label;T&&I&&s?(b.fontStyle=d,b.fontWeight=v,b.fontSize=C,b.fontFamily=m,b.textAlign=I.textAlign,b.textBaseline=I.textBaseline,b.text=I.text,b.x=A.x,b.y=A.y-10,b.fill=w,b.visible=!0):b.visible=!1}),[2]})})},t.prototype.getNodeClickEvent=function(e,n){return new CartesianSeriesNodeClickEvent(this.xKey,this.yKey,e,n,this)},t.prototype.getTooltipHtml=function(e){var n=this,o=n.xKey,s=n.yKey,d=n.xAxis,v=n.yAxis;if(!(o&&s&&d&&v))return"";var C=this,m=C.xName,w=C.yName,D=C.tooltip,b=C.marker,T=C.id,A=D.renderer,I=D.format,N=e.datum,G=N[o],V=N[s],W=d.formatDatum(G),j=v.formatDatum(V),K=sanitizeHtml(this.title||w),Y=sanitizeHtml(W+": "+j),re=b.formatter,q=b.fill,ee=b.strokeWidth,ae=void 0;re&&(ae=re({datum:N,xKey:o,yKey:s,fill:q,stroke:b.stroke,strokeWidth:void 0!==ee?ee:this.strokeWidth,size:b.size,highlighted:!1,seriesId:T}));var pe=ae&&ae.fill||q,he={title:K,backgroundColor:pe,content:Y};if(I||A){var _e={datum:N,xKey:o,xValue:G,xName:m,yKey:s,yValue:V,yName:w,title:K,color:pe,seriesId:T};if(I)return toTooltipHtml$1({content:interpolate(I,_e)},he);if(A)return toTooltipHtml$1(A(_e),he)}return toTooltipHtml$1(he)},t.prototype.getLegendData=function(){var e,n,o,s=this,d=s.id,v=s.data,m=s.yKey,T=s.marker;return v&&v.length&&s.xKey&&m?[{id:d,itemId:m,seriesId:d,enabled:s.visible,label:{text:s.title||s.yName||m},marker:{shape:T.shape,fill:T.fill||"rgba(0, 0, 0, 0)",stroke:T.stroke||s.stroke||"rgba(0, 0, 0, 0)",fillOpacity:null!==(e=T.fillOpacity)&&void 0!==e?e:1,strokeOpacity:null!==(o=null!==(n=T.strokeOpacity)&&void 0!==n?n:s.strokeOpacity)&&void 0!==o?o:1}}]:[]},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="LineSeries",t.type="line",__decorate$1j([Validate(OPT_STRING)],t.prototype,"title",void 0),__decorate$1j([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1j([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),__decorate$1j([Validate(NUMBER(0))],t.prototype,"lineDashOffset",void 0),__decorate$1j([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),__decorate$1j([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1j([Validate(STRING)],t.prototype,"_xKey",void 0),__decorate$1j([Validate(STRING)],t.prototype,"xName",void 0),__decorate$1j([Validate(STRING)],t.prototype,"_yKey",void 0),__decorate$1j([Validate(STRING)],t.prototype,"yName",void 0),t}(CartesianSeries),__extends$1X=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$w=function(){return __assign$w=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$w.apply(this,arguments)},__decorate$1i=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$3=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$3=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},ScatterSeriesNodeClickEvent=function(l){function t(e,n,o,s,d,v){var C=l.call(this,n,o,s,d,v)||this;return C.sizeKey=e,C}return __extends$1X(t,l),t}(CartesianSeriesNodeClickEvent),ScatterSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1X(t,l),__decorate$1i([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),t}(SeriesTooltip),ScatterSeries=function(l){function t(){var e=l.call(this,{pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!0})||this;return e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.validData=[],e.sizeData=[],e.sizeScale=new LinearScale$1,e.marker=new CartesianSeriesMarker,e.label=new Label$1,e.title=void 0,e.labelKey=void 0,e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e._xKey="",e._yKey="",e._sizeKey=void 0,e.tooltip=new ScatterSeriesTooltip,e.label.enabled=!1,e}return __extends$1X(t,l),Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.xData=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.yData=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeKey",{get:function(){return this._sizeKey},set:function(e){this._sizeKey=e,this.sizeData=[]},enumerable:!1,configurable:!0}),t.prototype.processData=function(){return __awaiter$3(this,void 0,void 0,function(){var e,n,o,s,d,v,C,m,b,T;return __generator$3(this,function(A){return n=(e=this).xKey,o=e.yKey,s=e.sizeKey,v=e.yAxis,C=e.marker,(d=e.xAxis)&&v?(b=d.scale instanceof ContinuousScale,T=v.scale instanceof ContinuousScale,this.validData=(m=n&&o&&this.data?this.data:[]).filter(function(I){return void 0!==checkDatum(I[n],b)&&void 0!==checkDatum(I[o],T)}),this.xData=this.validData.map(function(I){return I[n]}),this.yData=this.validData.map(function(I){return I[o]}),this.validateXYData(this.xKey,this.yKey,m,d,v,this.xData,this.yData,1),this.sizeData=s?this.validData.map(function(I){return I[s]}):[],this.sizeScale.domain=C.domain?C.domain:extent$4(this.sizeData)||[1,1],this.xDomain=d.scale instanceof ContinuousScale?this.fixNumericExtent(extent$4(this.xData),d):this.xData,this.yDomain=v.scale instanceof ContinuousScale?this.fixNumericExtent(extent$4(this.yData),v):this.yData,[2]):[2]})})},t.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.xDomain:this.yDomain},t.prototype.getNodeClickEvent=function(e,n){return new ScatterSeriesNodeClickEvent(this.sizeKey,this.xKey,this.yKey,e,n,this)},t.prototype.createNodeData=function(){return __awaiter$3(this,void 0,void 0,function(){var e,o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y,re,q,Z,ee,ne,se,ae,pe,he,_e;return __generator$3(this,function(Ee){if(o=(e=this).visible,s=e.xAxis,d=e.yAxis,v=e.yKey,C=e.label,m=e.labelKey,!(e.data&&o&&s&&d))return[2,[]];for(b=(w=s.scale)instanceof ContinuousScale,T=(D=d.scale)instanceof ContinuousScale,A=(w.bandwidth||0)/2,I=(D.bandwidth||0)/2,G=(N=this).xData,V=N.yData,W=N.validData,j=N.sizeData,K=N.sizeScale,Y=N.marker,re=new Array(G.length),K.range=[Y.size,Y.maxSize],q=C.getFont(),Z=0,ee=0;ee<G.length;ee++)(ne=this.checkDomainXY(G[ee],V[ee],b,T))&&(se=w.convert(ne[0])+A,ae=D.convert(ne[1])+I,this.checkRangeXY(se,ae,s,d)&&(pe=m?String(W[ee][m]):"",he=HdpiCanvas.getTextSize(pe,q),_e=j.length?K.convert(j[ee]):Y.size,re[Z++]={series:this,itemId:v,datum:W[ee],point:{x:se,y:ae,size:_e},label:__assign$w({text:pe},he)}));return re.length=Z,[2,[{itemId:this.yKey,nodeData:re,labelData:re}]]})})},t.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},t.prototype.getLabelData=function(){var e;return null===(e=this.contextNodeData)||void 0===e?void 0:e.reduce(function(n,o){return n.concat(o.labelData)},[])},t.prototype.updateMarkerSelection=function(e){return __awaiter$3(this,void 0,void 0,function(){var n,o,s,d,C,w,D;return __generator$3(this,function(b){return n=e.nodeData,o=e.markerSelection,d=(s=this.marker).enabled,C=getMarker$1(s.shape),this.marker.isDirty()&&(o=o.setData([])).exit.remove(),(w=o.setData(d?n:[])).exit.remove(),D=w.enter.append(C),[2,w.merge(D)]})})},t.prototype.updateMarkerNodes=function(e){return __awaiter$3(this,void 0,void 0,function(){var n,o,s,d,v,C,w,D,b,T,A,I,N,G,V,W,j,K,Y;return __generator$3(this,function(re){return n=e.markerSelection,o=e.isHighlight,v=(s=this).xKey,C=s.yKey,D=(w=s.marker).fillOpacity,b=w.strokeOpacity,T=w.strokeWidth,I=(A=s.highlightStyle.item).fill,G=void 0===(N=A.fillOpacity)?D:N,V=A.stroke,W=A.strokeWidth,j=s.id,K=(d=s.marker).formatter,s.sizeScale.range=[d.size,d.maxSize],Y="function"==typeof d.shape,n.each(function(q,Z){var ee,ne,se,ae,pe,he,_e,Ee=o&&void 0!==I?I:d.fill,Se=o?G:D,Re=o&&void 0!==V?V:d.stroke,Ce=b,De=o&&void 0!==W?W:T??1,Ne=null!==(ne=null===(ee=Z.point)||void 0===ee?void 0:ee.size)&&void 0!==ne?ne:0,we=void 0;K&&(we=K({datum:Z.datum,xKey:v,yKey:C,fill:Ee,stroke:Re,strokeWidth:De,size:Ne,highlighted:o,seriesId:j})),q.fill=we&&we.fill||Ee,q.stroke=we&&we.stroke||Re,q.strokeWidth=null!==(se=we?.strokeWidth)&&void 0!==se?se:De,q.size=we&&void 0!==we.size?we.size:Ne,q.fillOpacity=Se??1,q.strokeOpacity=Ce??1,q.translationX=null!==(pe=null===(ae=Z.point)||void 0===ae?void 0:ae.x)&&void 0!==pe?pe:0,q.translationY=null!==(_e=null===(he=Z.point)||void 0===he?void 0:he.y)&&void 0!==_e?_e:0,q.visible=q.size>0,Y&&!q.dirtyPath&&(q.path.clear({trackChanges:!0}),q.updatePath(),q.checkPathDirty())}),o||this.marker.markClean(),[2]})})},t.prototype.updateLabelSelection=function(e){var n,o;return __awaiter$3(this,void 0,void 0,function(){var s,v,C,m,w;return __generator$3(this,function(D){return s=e.labelSelection,v=this.label.enabled&&null!==(o=null===(n=this.chart)||void 0===n?void 0:n.placeLabels().get(this))&&void 0!==o?o:[],C=v.map(function(b){return __assign$w(__assign$w({},b.datum),{point:{x:b.x,y:b.y,size:b.datum.point.size}})}),(m=s.setData(C)).exit.remove(),w=m.enter.append(Text),[2,m.merge(w)]})})},t.prototype.updateLabelNodes=function(e){return __awaiter$3(this,void 0,void 0,function(){var o;return __generator$3(this,function(s){return o=this.label,e.labelSelection.each(function(d,v){var C,m,w,D;d.text=v.label.text,d.fill=o.color,d.x=null!==(m=null===(C=v.point)||void 0===C?void 0:C.x)&&void 0!==m?m:0,d.y=null!==(D=null===(w=v.point)||void 0===w?void 0:w.y)&&void 0!==D?D:0,d.fontStyle=o.fontStyle,d.fontWeight=o.fontWeight,d.fontSize=o.fontSize,d.fontFamily=o.fontFamily,d.textAlign="left",d.textBaseline="top"}),[2]})})},t.prototype.getTooltipHtml=function(e){var n,o,s,d=this,v=d.xKey,C=d.yKey,m=d.xAxis,w=d.yAxis;if(!(v&&C&&m&&w))return"";var D=this,b=D.marker,T=D.tooltip,A=D.xName,I=D.yName,N=D.sizeKey,G=D.sizeName,V=D.labelKey,W=D.labelName,j=D.id,K=b.fill,Y=b.stroke,re=this.getStrokeWidth(null!==(n=b.strokeWidth)&&void 0!==n?n:1),q=this.marker.formatter,Z=void 0;q&&(Z=q({datum:e,xKey:v,yKey:C,fill:K,stroke:Y,strokeWidth:re,size:null!==(s=null===(o=e.point)||void 0===o?void 0:o.size)&&void 0!==s?s:0,highlighted:!1,seriesId:j}));var ee=Z&&Z.fill||K||"gray",ne=this.title||I,se=e.datum,ae=se[v],pe=se[C],he=sanitizeHtml(m.formatDatum(ae)),_e=sanitizeHtml(w.formatDatum(pe)),Ee="<b>"+sanitizeHtml(A||v)+"</b>: "+he+"<br><b>"+sanitizeHtml(I||C)+"</b>: "+_e;N&&(Ee+="<br><b>"+sanitizeHtml(G||N)+"</b>: "+sanitizeHtml(se[N])),V&&(Ee="<b>"+sanitizeHtml(W||V)+"</b>: "+sanitizeHtml(se[V])+"<br>"+Ee);var Se={title:ne,backgroundColor:ee,content:Ee},Re=T.renderer;return Re?toTooltipHtml$1(Re({datum:se,xKey:v,xValue:ae,xName:A,yKey:C,yValue:pe,yName:I,sizeKey:N,sizeName:G,labelKey:V,labelName:W,title:ne,color:ee,seriesId:j}),Se):toTooltipHtml$1(Se)},t.prototype.getLegendData=function(){var e=this,n=e.id,o=e.data,d=e.yKey,w=e.marker;return o&&o.length&&e.xKey&&d?[{id:n,itemId:d,seriesId:n,enabled:e.visible,label:{text:e.title||e.yName||d},marker:{shape:w.shape,fill:w.fill||w.fill||"rgba(0, 0, 0, 0)",stroke:w.stroke||w.stroke||"rgba(0, 0, 0, 0)",fillOpacity:w.fillOpacity??1,strokeOpacity:w.strokeOpacity??1}}]:[]},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="ScatterSeries",t.type="scatter",__decorate$1i([Validate(OPT_STRING)],t.prototype,"title",void 0),__decorate$1i([Validate(OPT_STRING)],t.prototype,"labelKey",void 0),__decorate$1i([Validate(STRING)],t.prototype,"xName",void 0),__decorate$1i([Validate(STRING)],t.prototype,"yName",void 0),__decorate$1i([Validate(OPT_STRING)],t.prototype,"sizeName",void 0),__decorate$1i([Validate(OPT_STRING)],t.prototype,"labelName",void 0),__decorate$1i([Validate(STRING)],t.prototype,"_xKey",void 0),__decorate$1i([Validate(STRING)],t.prototype,"_yKey",void 0),__decorate$1i([Validate(OPT_STRING)],t.prototype,"_sizeKey",void 0),t}(CartesianSeries),__extends$1W=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1h=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Sector=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return __extends$1W(t,l),t.prototype.computeBBox=function(){var e=this.outerRadius;return new BBox(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.updatePath=function(){var e=this.path,n=this.angleOffset,o=Math.min(this.startAngle,this.endAngle)+n,s=Math.max(this.startAngle,this.endAngle)+n,d=Math.min(this.innerRadius,this.outerRadius),v=Math.max(this.innerRadius,this.outerRadius),C=isEqual$2(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle)),m=this.centerX,w=this.centerY;e.clear(),C||(e.moveTo(m+d*Math.cos(o),w+d*Math.sin(o)),e.lineTo(m+v*Math.cos(o),w+v*Math.sin(o))),e.arc(m,w,v,o,s),d>0?e.arc(m,w,d,s,o,!0):e.lineTo(m,w),e.closePath(),this.dirtyPath=!1},t.prototype.isPointInPath=function(e,n){var o=this.angleOffset,s=normalizeAngle360Inclusive(Math.min(this.startAngle,this.endAngle)+o),d=normalizeAngle360Inclusive(Math.max(this.startAngle,this.endAngle)+o),v=Math.min(this.innerRadius,this.outerRadius),C=Math.max(this.innerRadius,this.outerRadius),m=this.transformPoint(e,n),w=m.x-this.centerX,D=m.y-this.centerY,b=Math.sqrt(Math.pow(w,2)+Math.pow(D,2));if(b<v||b>C)return!1;var T=normalizeAngle360Inclusive(Math.atan2(D,w));return s>d?s<T||d>T:s<T&&d>T},t.className="Sector",__decorate$1h([ScenePathChangeDetection()],t.prototype,"centerX",void 0),__decorate$1h([ScenePathChangeDetection()],t.prototype,"centerY",void 0),__decorate$1h([ScenePathChangeDetection()],t.prototype,"innerRadius",void 0),__decorate$1h([ScenePathChangeDetection()],t.prototype,"outerRadius",void 0),__decorate$1h([ScenePathChangeDetection()],t.prototype,"startAngle",void 0),__decorate$1h([ScenePathChangeDetection()],t.prototype,"endAngle",void 0),__decorate$1h([ScenePathChangeDetection()],t.prototype,"angleOffset",void 0),t}(Path),__extends$1V=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$v=function(){return __assign$v=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$v.apply(this,arguments)},__decorate$1g=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$2=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$2=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__read$p=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$e=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$p(arguments[t]));return l},PieSeriesNodeClickEvent=function(l){function t(e,n,o,s,d,v,C){var m=l.call(this,d,v,C)||this;return m.angleKey=e,m.calloutLabelKey=n,m.sectorLabelKey=o,m.radiusKey=s,m}return __extends$1V(t,l),__decorate$1g([DeprecatedAndRenamedTo("calloutLabelKey")],t.prototype,"labelKey",void 0),t}(SeriesNodeClickEvent),PieNodeTag=(()=>(function(l){l[l.Sector=0]="Sector",l[l.Callout=1]="Callout",l[l.Label=2]="Label"}(PieNodeTag||(PieNodeTag={})),PieNodeTag))(),PieSeriesCalloutLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e.formatter=void 0,e}return __extends$1V(t,l),__decorate$1g([Validate(NUMBER(0))],t.prototype,"offset",void 0),__decorate$1g([Validate(NUMBER(0))],t.prototype,"minAngle",void 0),__decorate$1g([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(Label$1),PieSeriesSectorLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.positionOffset=0,e.positionRatio=.5,e.formatter=void 0,e}return __extends$1V(t,l),__decorate$1g([Validate(NUMBER())],t.prototype,"positionOffset",void 0),__decorate$1g([Validate(NUMBER(0,1))],t.prototype,"positionRatio",void 0),__decorate$1g([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(Label$1),PieSeriesCalloutLine=function(){function l(){this.colors=void 0,this.length=10,this.strokeWidth=1}return __decorate$1g([Validate(OPT_COLOR_STRING_ARRAY)],l.prototype,"colors",void 0),__decorate$1g([Validate(NUMBER(0))],l.prototype,"length",void 0),__decorate$1g([Validate(NUMBER(0))],l.prototype,"strokeWidth",void 0),l}(),PieSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1V(t,l),__decorate$1g([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),t}(SeriesTooltip),PieTitle=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.showInLegend=!1,e}return __extends$1V(t,l),__decorate$1g([Validate(BOOLEAN)],t.prototype,"showInLegend",void 0),t}(Caption),DoughnutInnerLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.text="",e.margin=2,e}return __extends$1V(t,l),__decorate$1g([Validate(STRING)],t.prototype,"text",void 0),__decorate$1g([Validate(NUMBER())],t.prototype,"margin",void 0),t}(Label$1),DoughnutInnerCircle=function(){function l(){this.fill="transparent",this.fillOpacity=1}return __decorate$1g([Validate(COLOR_STRING)],l.prototype,"fill",void 0),__decorate$1g([Validate(OPT_NUMBER(0,1))],l.prototype,"fillOpacity",void 0),l}();function isPointInArc(l,t,e){var n=Math.sqrt(Math.pow(l,2)+Math.pow(t,2)),o=e.innerRadius,s=e.outerRadius;if(n<Math.min(o,s)||n>Math.max(o,s))return!1;var d=Math.atan2(t,l);d<-Math.PI/2&&(d+=2*Math.PI);var v=e.startAngle,C=e.endAngle;return C===-Math.PI/2?d<v:v===3*Math.PI/2?d>C:d>=C&&d<=v}var PieSeries=function(l){function t(){var d,e=l.call(this,{useLabelLayer:!0})||this;e.radiusScale=new LinearScale$1,e.groupSelection=Selection.select(e.contentGroup).selectAll(),e.highlightSelection=Selection.select(e.highlightGroup).selectAll(),e.groupSelectionData=[],e.sectorFormatData=[],e.angleScale=((d=new LinearScale$1).domain=[0,1],d.range=[-Math.PI,Math.PI].map(function(v){return v+Math.PI/2}),d),e.seriesItemEnabled=[],e.calloutLabel=new PieSeriesCalloutLabel,e.label=e.calloutLabel,e.sectorLabel=new PieSeriesSectorLabel,e.calloutLine=new PieSeriesCalloutLine,e.callout=e.calloutLine,e.tooltip=new PieSeriesTooltip,e.angleKey="",e.angleName="",e.innerLabels=[],e.radiusKey=void 0,e.radiusName=void 0,e.radiusMin=void 0,e.radiusMax=void 0,e.calloutLabelKey=void 0,e.calloutLabelName=void 0,e.labelKey=void 0,e.labelName=void 0,e.sectorLabelKey=void 0,e.sectorLabelName=void 0,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.formatter=void 0,e.rotation=0,e.outerRadiusOffset=0,e.outerRadiusRatio=1,e.innerRadiusOffset=0,e.innerRadiusRatio=1,e.strokeWidth=1,e.shadow=void 0,e.highlightStyle=new HighlightStyle,e.datumSectorRefs=new WeakMap,e.backgroundGroup=e.rootGroup.appendChild(new Group({name:e.id+"-background",layer:!0,zIndex:Layers.SERIES_BACKGROUND_ZINDEX}));var n=new Group({name:"pieCalloutLabels"}),o=new Group({name:"pieSectorLabels"}),s=new Group({name:"innerLabels"});return e.labelGroup.append(n),e.labelGroup.append(o),e.labelGroup.append(s),e.calloutLabelSelection=Selection.select(n).selectAll(),e.sectorLabelSelection=Selection.select(o).selectAll(),e.innerLabelsSelection=Selection.select(s).selectAll(),e}return __extends$1V(t,l),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var n,o,s=this._title;s!==e&&(s&&(null===(n=this.labelGroup)||void 0===n||n.removeChild(s.node)),e&&(e.node.textBaseline="bottom",null===(o=this.labelGroup)||void 0===o||o.appendChild(e.node)),this._title=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerCircle",{get:function(){return this._innerCircleConfig},set:function(e){var n;if(this._innerCircleConfig!==e){var s=this._innerCircleNode,d=void 0;s&&this.backgroundGroup.removeChild(s),e&&((d=new Circle).fill=e.fill,d.fillOpacity=null!==(n=e.fillOpacity)&&void 0!==n?n:1,this.backgroundGroup.appendChild(d)),this._innerCircleConfig=e,this._innerCircleNode=d}},enumerable:!1,configurable:!0}),t.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},t.prototype.processSeriesItemEnabled=function(){var o=this.visible;this.seriesItemEnabled=this.data?.map(function(){return o})||[]},t.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){return __awaiter$2(this,void 0,void 0,function(){var e,n,o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y,re,q,Z,ee,ne,se,ae,pe,he,_e,Ee,Se,Re,Ce,De=this;return __generator$2(this,function(Ne){return o=(e=this).radiusKey,s=e.seriesItemEnabled,d=e.angleScale,v=e.groupSelectionData,C=e.sectorFormatData,m=e.calloutLabel,w=e.sectorLabel,D=e.id,T=(b=(n=e.angleKey)&&this.data?this.data:[]).map(function(we,Ve){return s[Ve]&&Math.abs(+we[n])||0}),A=T.reduce(function(we,Ve){return we+Ve},0),we=0,I=T.map(function(Ve){return we+=Ve/A}),N=m.formatter,V=w.enabled?this.sectorLabelKey:void 0,W=[],j=[],K=[],Y=function(we){return{datum:we,angleKey:n,angleValue:we[n],angleName:De.angleName,radiusKey:o,radiusValue:o?we[o]:void 0,radiusName:De.radiusName,labelKey:G,labelValue:G?we[G]:void 0,labelName:De.calloutLabelName,calloutLabelKey:G,calloutLabelValue:G?we[G]:void 0,calloutLabelName:De.calloutLabelName,sectorLabelKey:V,sectorLabelValue:V?we[V]:void 0,sectorLabelName:De.sectorLabelName,seriesId:D}},(G=m.enabled?this.calloutLabelKey:void 0)&&(N?(re=function(){return doOnce$1(function(){return console.warn("AG Charts - the use of { value } in the pie chart label formatter function is deprecated. Please use { datum, labelKey, ... } instead.")},'deprecated use of "value" property in pie chart label formatter')},W=b.map(function(we){var Ve=we[G],je=__assign$v(__assign$v({},Y(we)),{get value(){return re(),Ve},set value(rt){re(),Ve=rt}});return N(je)})):W=b.map(function(we){return String(we[G])})),q=w.formatter,V&&(j=b.map(q?function(we){var Ve=Y(we);return q(Ve)}:function(we){return String(we[V])})),o&&(ee=(Z=this).radiusMin,ne=Z.radiusMax,se=b.map(function(we){return Math.abs(we[o])}),ae=ee??0,pe=ne||Math.max.apply(Math,__spread$e(se)),he=pe-ae,K=se.map(function(we){return he?(we-ae)/he:1})),v.length=0,C.length=0,C.push.apply(C,__spread$e(b.map(function(we,Ve){return De.getSectorFormat(we,Ve,Ve,!1)}))),_e=toRadians$1(this.rotation),Ee=Math.PI/2,Se=0,Re=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],Ce=0,I.forEach(function(we){if(!isNaN(we)){var Ve=o?K[Se]:1,je=d.convert(we)+_e,rt=d.convert(Ce)+_e,$e=(je+rt)/2,Et=Math.abs(rt-je),xt=Math.cos($e),jt=Math.sin($e),Qe=toRadians$1(m.minAngle),Ft=G&&Et>Qe,Pt=normalizeAngle180($e),Yt=-3*Math.PI/4,or=mod(Math.floor((Pt-Yt)/Ee),Re.length),Xt=Re[or];v.push({series:De,datum:b[Se],itemId:Se,index:Se,radius:Ve,startAngle:je,endAngle:rt,midAngle:$e,midCos:xt,midSin:jt,calloutLabel:Ft?{text:W[Se],textAlign:Xt.textAlign,textBaseline:Xt.textBaseline,hidden:!1}:void 0,sectorLabel:V?{text:j[Se]}:void 0,sectorFormat:C[Se]}),Se++,Ce=we}}),[2];var we})})},t.prototype.getSectorFormat=function(e,n,o,s){var d,v,C,m,w,ee,D=this,b=D.angleKey,T=D.radiusKey,A=D.fills,I=D.strokes,N=D.fillOpacity,G=D.formatter,V=D.id,W=null===(d=this.highlightManager)||void 0===d?void 0:d.getActiveHighlight(),j=s&&W?.series===this&&n===W.itemId,K=j?this.highlightStyle.item:null,Y=K?.fill||A[o%A.length],re=null!==(v=K?.fillOpacity)&&void 0!==v?v:N,q=K?.stroke||I[o%I.length],Z=null!==(C=K?.strokeWidth)&&void 0!==C?C:this.getStrokeWidth(this.strokeWidth);return G&&(ee=G({datum:e,angleKey:b,radiusKey:T,fill:Y,stroke:q,strokeWidth:Z,highlighted:j,seriesId:V})),{fill:ee?.fill||Y,fillOpacity:null!==(m=ee?.fillOpacity)&&void 0!==m?m:re,stroke:ee?.stroke||q,strokeWidth:null!==(w=ee?.strokeWidth)&&void 0!==w?w:Z}},t.prototype.createNodeData=function(){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(e){return[2,[]]})})},t.prototype.getInnerRadius=function(){var e=this,n=e.radius,d=n*(e.innerRadiusRatio??1)+(e.innerRadiusOffset||0);return d===n||d<0?0:d},t.prototype.getOuterRadius=function(){var e=this,d=e.radius*(e.outerRadiusRatio??1)+(e.outerRadiusOffset||0);return d<0?0:d},t.prototype.updateRadiusScale=function(){var e=this.getInnerRadius(),n=this.getOuterRadius();this.radiusScale.range=[e,n]},t.prototype.getTitleTranslationY=function(){var e=Math.max(0,this.radiusScale.range[1]);return 0===e?NaN:-e-2},t.prototype.update=function(){return __awaiter$2(this,void 0,void 0,function(){var e,n;return __generator$2(this,function(o){switch(o.label){case 0:return e=this.title,this.updateRadiusScale(),this.rootGroup.translationX=this.centerX,this.rootGroup.translationY=this.centerY,e&&(n=this.getTitleTranslationY(),isFinite(n)?(e.node.visible=e.enabled,e.node.translationY=n):e.node.visible=!1),[4,this.updateSelections()];case 1:return o.sent(),[4,this.updateNodes()];case 2:return o.sent(),[2]}})})},t.prototype.updateSelections=function(){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(e){switch(e.label){case 0:return[4,this.updateGroupSelection()];case 1:return e.sent(),[2]}})})},t.prototype.updateGroupSelection=function(){return __awaiter$2(this,void 0,void 0,function(){var e,o,s,d,v,C,m,w,D,b,T,A,I=this;return __generator$2(this,function(N){return o=(e=this).highlightSelection,s=e.calloutLabelSelection,d=e.sectorLabelSelection,v=e.innerLabelsSelection,this.groupSelection=(C=function(G){var V=G.setData(I.groupSelectionData);V.exit.remove();var W=V.enter.append(Group);return W.append(Sector).each(function(j){return j.tag=PieNodeTag.Sector}),V.merge(W)})(e.groupSelection),this.highlightSelection=C(o),(m=s.setData(this.groupSelectionData)).exit.remove(),(w=m.enter.append(Group)).append(Line).each(function(G){G.tag=PieNodeTag.Callout,G.pointerEvents=PointerEvents.None}),w.append(Text).each(function(G){G.tag=PieNodeTag.Label,G.pointerEvents=PointerEvents.None}),this.calloutLabelSelection=m.merge(w),(D=d.setData(this.groupSelectionData)).exit.remove(),(b=D.enter.append(Text)).each(function(G){G.pointerEvents=PointerEvents.None}),this.sectorLabelSelection=D.merge(b),(T=v.setData(this.innerLabels)).exit.remove(),(A=T.enter.append(Text)).each(function(G){G.pointerEvents=PointerEvents.None}),this.innerLabelsSelection=T.merge(A),[2]})})},t.prototype.updateNodes=function(){var e;return __awaiter$2(this,void 0,void 0,function(){var n,o,s,d,v,C=this;return __generator$2(this,function(m){return n=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),o=this.seriesItemEnabled.indexOf(!0)>=0,this.rootGroup.visible=o,this.backgroundGroup.visible=o,this.contentGroup.visible=o,this.highlightGroup.visible=o&&n?.series===this,this.labelGroup.visible=o,this.contentGroup.opacity=this.getOpacity(),this.updateInnerCircle(),d=(s=this.radiusScale).convert(0),v=function(w,D,b,T){var A=s.convert(D.radius),I=w.parent,N=I?.parent;T&&I&&N&&(N.removeChild(I),N.appendChild(I)),w.innerRadius=Math.max(0,d),w.outerRadius=Math.max(0,A),w.startAngle=D.startAngle,w.endAngle=D.endAngle;var G=C.getSectorFormat(D.datum,D.itemId,b,T);w.fill=G.fill,w.stroke=G.stroke,w.strokeWidth=G.strokeWidth,w.fillOpacity=G.fillOpacity,w.strokeOpacity=C.strokeOpacity,w.lineDash=C.lineDash,w.lineDashOffset=C.lineDashOffset,w.fillShadow=C.shadow,w.lineJoin="round",C.datumSectorRefs.set(D,w)},this.groupSelection.selectByTag(PieNodeTag.Sector).each(function(w,D,b){return v(w,D,b,!1)}),this.highlightSelection.selectByTag(PieNodeTag.Sector).each(function(w,D,b){var T=n?.series===C&&D.itemId===n.itemId;w.visible=T,w.visible&&v(w,D,b,T)}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),[2]})})},t.prototype.updateCalloutLineNodes=function(){var n=this.radiusScale,o=this.calloutLine,s=o.length,d=o.strokeWidth,v=o.colors||this.strokes;this.calloutLabelSelection.selectByTag(PieNodeTag.Callout).each(function(C,m,w){var D=n.convert(m.radius),b=Math.max(0,D);m.calloutLabel&&0!==b&&!m.calloutLabel.hidden?(C.strokeWidth=d,C.stroke=v[w%v.length],C.x1=m.midCos*b,C.y1=m.midSin*b,C.x2=m.midCos*(b+s),C.y2=m.midSin*(b+s),C.visible=!0):C.visible=!1})},t.prototype.getLabelOverflow=function(e,n){var o=this.chart.getSeriesRect(),s=o.x-this.centerX,d=o.x+o.width-this.centerX,w=1;n.x+1<s?w=(n.x+n.width-s)/n.width:n.x+n.width-1>d&&(w=(d-n.x)/n.width);var D=n.y+1<o.y-this.centerY||n.y+n.height-1>o.y+o.height-this.centerY;return{visibleTextPart:w,textLength:Math.floor(e.length*w)-1,hasVerticalOverflow:D}},t.prototype.updateCalloutLabelNodes=function(){var e=this,n=this,o=n.radiusScale,s=n.calloutLabel,v=n.calloutLine.length,C=s.offset,m=s.color,w=new Text;this.calloutLabelSelection.selectByTag(PieNodeTag.Label).each(function(D,b){var T=b.calloutLabel,A=o.convert(b.radius),I=Math.max(0,A);if(T&&0!==I&&!T.hidden){var N=I+v+C,G=b.midCos*N,V=b.midSin*N;e.setTextDimensionalProps(w,G,V,e.calloutLabel,T);var W=w.computeBBox(),j=e.getLabelOverflow(T.text,W),re=j.hasVerticalOverflow,q=1===j.visibleTextPart?T.text:T.text.substring(0,j.textLength)+"\u2026";e.setTextDimensionalProps(D,G,V,e.calloutLabel,__assign$v(__assign$v({},T),{text:q})),D.fill=m,D.visible=!re}else D.visible=!1})},t.prototype.computeLabelsBBox=function(e){var n=this,o=this,s=o.radiusScale,C=o.calloutLine.length,m=o.calloutLabel.offset;this.updateRadiusScale();var w=new Text,D=this.groupSelectionData.map(function(A){var I=A.calloutLabel,N=s.convert(A.radius),G=Math.max(0,N);if(!I||0===G)return null;var V=G+C+m;n.setTextDimensionalProps(w,A.midCos*V,A.midSin*V,n.calloutLabel,I);var K=w.computeBBox();if(e.hideWhenNecessary){var Y=n.getLabelOverflow(I.text,K);if(Y.hasVerticalOverflow||Y.textLength<2)return I.hidden=!0,null}return I.hidden=!1,K}).filter(function(A){return null!=A});if(this.title&&this.title.text){var b=this.getTitleTranslationY();if(isFinite(b)){this.setTextDimensionalProps(w,0,b,this.title,{text:this.title.text,textBaseline:"bottom",textAlign:"center",hidden:!1});var T=w.computeBBox();D.push(T)}}return 0===D.length?null:BBox.merge(D)},t.prototype.setTextDimensionalProps=function(e,n,o,s,d){var C=s.fontWeight,m=s.fontSize,w=s.fontFamily;e.fontStyle=s.fontStyle,e.fontWeight=C,e.fontSize=m,e.fontFamily=w,e.text=d.text,e.x=n,e.y=o,e.textAlign=d.textAlign,e.textBaseline=d.textBaseline},t.prototype.updateSectorLabelNodes=function(){var e=this,n=this.radiusScale,o=n.convert(0),s=this.sectorLabel,d=s.fontSize,v=s.fontStyle,C=s.fontWeight,m=s.fontFamily,w=s.positionOffset,D=s.positionRatio,b=s.color,T=o>0,A=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each(function(I,N){var G=N.sectorLabel,V=n.convert(N.radius),W=Math.max(0,V),j=!1;if(G&&0!==W){var K=o*(1-D)+V*D+w;if(I.fill=b,I.fontStyle=v,I.fontWeight=C,I.fontSize=d,I.fontFamily=m,I.text=G.text,!T&&A?(I.x=0,I.y=0):(I.x=N.midCos*K,I.y=N.midSin*K),I.textAlign="center",I.textBaseline="middle",e.datumSectorRefs.get(N)){var q=I.computeBBox(),se={startAngle:N.startAngle,endAngle:N.endAngle,innerRadius:o,outerRadius:W};[[q.x,q.y],[q.x+q.width,q.y],[q.x+q.width,q.y+q.height],[q.x,q.y+q.height]].every(function(ae){var pe=__read$p(ae,2);return isPointInArc(pe[0],pe[1],se)})&&(j=!0)}}I.visible=j})},t.prototype.updateInnerCircle=function(){var e=this._innerCircleNode;if(e){var n=this.getInnerRadius();if(0===n)e.size=0;else{var o=Math.min(n,this.getOuterRadius());e.size=Math.ceil(2*o+1)}}},t.prototype.updateInnerLabelNodes=function(){var e=[],n=[];this.innerLabelsSelection.each(function(N,G){var W=G.fontWeight,j=G.fontSize,K=G.fontFamily,Y=G.color;N.fontStyle=G.fontStyle,N.fontWeight=W,N.fontSize=j,N.fontFamily=K,N.text=G.text,N.x=0,N.y=0,N.fill=Y,N.textAlign="center",N.textBaseline="alphabetic",e.push(N.computeBBox()),n.push(G.margin)});for(var o=function(N){return 0===N?0:n[N]},s=function(N){return N===n.length-1?0:n[N]},d=e.reduce(function(N,G,V){return N+G.height+o(V)+s(V)},0),v=Math.max.apply(Math,__spread$e(e.map(function(N){return N.width}))),C=this.getInnerRadius(),w=Math.sqrt(Math.pow(v/2,2)+Math.pow(d/2,2))<=(C>0?C:this.getOuterRadius()),D=[],b=0,T=-d/2;b<e.length;b++){var I=e[b].height+T+o(b);D.push(I),T=I+s(b)}this.innerLabelsSelection.each(function(N,G,V){N.y=D[V],N.visible=w})},t.prototype.getNodeClickEvent=function(e,n){return new PieSeriesNodeClickEvent(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,e,n,this)},t.prototype.getTooltipHtml=function(e){var n=this.angleKey;if(!n)return"";var o=this,d=o.angleName,v=o.radiusKey,C=o.radiusName,m=o.calloutLabelKey,w=o.sectorLabelKey,D=o.calloutLabelName,b=o.sectorLabelName,T=o.id,A=o.tooltip.renderer,I=e.sectorFormat.fill,N=e.datum,G=m?N[m]+": ":"",V=N[n],W="number"==typeof V?toFixed(V):V.toString(),j=this.title?this.title.text:void 0,Y={title:j,backgroundColor:I,content:G+W};return A?toTooltipHtml$1(A({datum:N,angleKey:n,angleValue:V,angleName:d,radiusKey:v,radiusValue:v?N[v]:void 0,radiusName:C,labelKey:m,labelName:D,calloutLabelKey:m,calloutLabelName:D,sectorLabelKey:w,sectorLabelName:b,title:j,color:I,seriesId:T}),Y):toTooltipHtml$1(Y)},t.prototype.getLegendData=function(){var e=this,n=this,o=n.calloutLabelKey,s=n.data,d=n.sectorFormatData;if(s&&s.length&&o){var v=this.id,C=[],m=this.title&&this.title.showInLegend&&this.title.text;return s.forEach(function(w,D){var b=[];m&&b.push(m),b.push(String(w[o])),C.push({id:v,itemId:D,seriesId:v,enabled:e.seriesItemEnabled[D],label:{text:b.join(" - ")},marker:{fill:d[D].fill,stroke:d[D].stroke,fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}})}),C}return[]},t.prototype.toggleSeriesItem=function(e,n){this.seriesItemEnabled[e]=n,this.nodeDataRefresh=!0},t.className="PieSeries",t.type="pie",__decorate$1g([DeprecatedAndRenamedTo("calloutLabel")],t.prototype,"label",void 0),__decorate$1g([DeprecatedAndRenamedTo("calloutLine")],t.prototype,"callout",void 0),__decorate$1g([Validate(STRING)],t.prototype,"angleKey",void 0),__decorate$1g([Validate(STRING)],t.prototype,"angleName",void 0),__decorate$1g([Validate(OPT_STRING)],t.prototype,"radiusKey",void 0),__decorate$1g([Validate(OPT_STRING)],t.prototype,"radiusName",void 0),__decorate$1g([Validate(OPT_NUMBER(0))],t.prototype,"radiusMin",void 0),__decorate$1g([Validate(OPT_NUMBER(0))],t.prototype,"radiusMax",void 0),__decorate$1g([Validate(OPT_STRING)],t.prototype,"calloutLabelKey",void 0),__decorate$1g([Validate(OPT_STRING)],t.prototype,"calloutLabelName",void 0),__decorate$1g([DeprecatedAndRenamedTo("calloutLabelKey")],t.prototype,"labelKey",void 0),__decorate$1g([DeprecatedAndRenamedTo("calloutLabelName")],t.prototype,"labelName",void 0),__decorate$1g([Validate(OPT_STRING)],t.prototype,"sectorLabelKey",void 0),__decorate$1g([Validate(OPT_STRING)],t.prototype,"sectorLabelName",void 0),__decorate$1g([Validate(COLOR_STRING_ARRAY)],t.prototype,"fills",void 0),__decorate$1g([Validate(COLOR_STRING_ARRAY)],t.prototype,"strokes",void 0),__decorate$1g([Validate(NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1g([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1g([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),__decorate$1g([Validate(NUMBER(0))],t.prototype,"lineDashOffset",void 0),__decorate$1g([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),__decorate$1g([Validate(NUMBER(-360,360))],t.prototype,"rotation",void 0),__decorate$1g([Validate(NUMBER())],t.prototype,"outerRadiusOffset",void 0),__decorate$1g([Validate(NUMBER(0))],t.prototype,"outerRadiusRatio",void 0),__decorate$1g([Validate(NUMBER())],t.prototype,"innerRadiusOffset",void 0),__decorate$1g([Validate(NUMBER(0))],t.prototype,"innerRadiusRatio",void 0),__decorate$1g([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(PolarSeries),__extends$1U=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HierarchySeries=function(l){function t(){return l.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this}return __extends$1U(t,l),t.prototype.getLabelData=function(){return[]},t}(Series),__extends$1T=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1f=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DropShadow=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return __extends$1T(t,l),__decorate$1f([Validate(BOOLEAN),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"enabled",void 0),__decorate$1f([Validate(COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"color",void 0),__decorate$1f([Validate(NUMBER()),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"xOffset",void 0),__decorate$1f([Validate(NUMBER()),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"yOffset",void 0),__decorate$1f([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],t.prototype,"blur",void 0),t}(ChangeDetectable);function number(l,t){return l=+l,t=+t,function(e){return l*(1-e)+t*e}}function interpolateColor(l,t){if("string"==typeof l)try{l=Color.fromString(l)}catch{l=Color.fromArray([0,0,0])}if("string"==typeof t)try{t=Color.fromString(t)}catch{t=Color.fromArray([0,0,0])}var e=number(l.r,t.r),n=number(l.g,t.g),o=number(l.b,t.b),s=number(l.a,t.a);return function(d){return Color.fromArray([e(d),n(d),o(d),s(d)]).toRgbaString()}}var ColorScale=function(){function l(){this.domain=[0,1],this._range=["red","green"],this.parsedRange=this._range.map(function(t){return Color.fromString(t)})}return Object.defineProperty(l.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this.parsedRange=t.map(function(e){return Color.fromString(e)})},enumerable:!1,configurable:!0}),l.prototype.convert=function(t){var w,D,e=this,n=e.domain,o=e.range,s=e.parsedRange,d=n[0],v=n[n.length-1];if(t<=d)return o[0];if(t>=v)return o[o.length-1];if(2===n.length){var b=(t-d)/(v-d),T=1/(o.length-1);D=(b-(w=o.length<=2?0:Math.min(Math.floor(b*(o.length-1)),o.length-2))*T)/T}else{for(w=0;w<n.length-2&&!(t<n[w+1]);w++);var A=n[w];D=(t-A)/(n[w+1]-A)}return interpolateColor(s[w],s[w+1])(D)},l}(),__extends$1S=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$u=function(){return __assign$u=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$u.apply(this,arguments)},__decorate$1e=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__awaiter$1=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator$1=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},TreemapSeriesTooltip=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1S(t,l),__decorate$1e([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),t}(SeriesTooltip),TreemapSeriesNodeClickEvent=function(l){function t(e,n,o,s,d,v){var C=l.call(this,s,d,v)||this;return C.labelKey=e,C.sizeKey=n,C.colorKey=o,C}return __extends$1S(t,l),t}(SeriesNodeClickEvent),TreemapSeriesLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.padding=10,e}return __extends$1S(t,l),__decorate$1e([Validate(NUMBER(0))],t.prototype,"padding",void 0),t}(Label$1),TreemapValueLabel=function(){function l(){var t;this.style=((t=new Label$1).color="white",t)}return __decorate$1e([Validate(OPT_STRING)],l.prototype,"key",void 0),__decorate$1e([Validate(OPT_STRING)],l.prototype,"name",void 0),__decorate$1e([Validate(OPT_FUNCTION)],l.prototype,"formatter",void 0),l}(),TextNodeTag=(()=>(function(l){l[l.Name=0]="Name",l[l.Value=1]="Value"}(TextNodeTag||(TextNodeTag={})),TextNodeTag))();function getTextSize(l,t){return HdpiCanvas.getTextSize(l,[t.fontWeight,t.fontSize+"px",t.fontFamily].join(" "))}function validateColor(l){return"string"!=typeof l||Color.validColorString(l)?l:(doOnce$1(function(){return console.warn('AG Charts - Invalid Treemap tile colour string "'+l+'". Affected treemap tiles will be coloured black.')},"treemap node color invalid"),"black")}var TreemapTextHighlightStyle=function(){function l(){this.color="black"}return __decorate$1e([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),l}(),TreemapHighlightStyle=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.text=new TreemapTextHighlightStyle,e}return __extends$1S(t,l),t}(HighlightStyle),TreemapSeries=function(l){function t(){var n,e=null!==l&&l.apply(this,arguments)||this;return e.groupSelection=Selection.select(e.contentGroup).selectAll(),e.highlightSelection=Selection.select(e.highlightGroup).selectAll(),e.title=((n=new TreemapSeriesLabel).color="white",n.fontWeight="bold",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.padding=15,n),e.subtitle=function(){var n=new TreemapSeriesLabel;return n.color="white",n.fontSize=9,n.fontFamily="Verdana, sans-serif",n.padding=13,n}(),e.labels={large:function(){var n=new Label$1;return n.color="white",n.fontWeight="bold",n.fontSize=18,n}(),medium:function(){var n=new Label$1;return n.color="white",n.fontWeight="bold",n.fontSize=14,n}(),small:function(){var n=new Label$1;return n.color="white",n.fontWeight="bold",n.fontSize=10,n}(),value:new TreemapValueLabel},e.nodePadding=2,e.labelKey="label",e.sizeKey="size",e.colorKey="color",e.colorDomain=[-5,5],e.colorRange=["#cb4b3f","#6acb64"],e.groupFill="#272931",e.groupStroke="black",e.groupStrokeWidth=1,e.tileStroke="black",e.tileStrokeWidth=1,e.gradient=!0,e.formatter=void 0,e.colorName="Change",e.rootName="Root",e.highlightGroups=!0,e.tileShadow=new DropShadow,e.labelShadow=new DropShadow,e.tooltip=new TreemapSeriesTooltip,e.highlightStyle=new TreemapHighlightStyle,e}return __extends$1S(t,l),t.prototype.getNodePaddingTop=function(e,n){var o=this,v=o.nodePadding,C=e.label;if(e.isLeaf||!C||0===e.depth)return v;var m=e.depth>1?o.subtitle:o.title,w=getTextSize(C,m);return m.fontSize>n.width/3||m.fontSize>n.height/3||w.height>=n.height?v:w.height+2*v},t.prototype.getNodePadding=function(e,n){var o=this.nodePadding;return{top:this.getNodePaddingTop(e,n),right:o,bottom:o,left:o}},t.prototype.squarify=function(e,n,o){void 0===o&&(o=new Map);var d=this.getNodePadding(e,n);o.set(e,n);var v=n.width-d.left-d.right,C=n.height-d.top-d.bottom;if(v<=0||C<=0||e.value<=0)return o;for(var m=0,w=0,D=1/0,b=e.value,T=e.children,A=new BBox(n.x+d.left,n.y+d.top,v,C),I=0;I<T.length;I++){var N=T[I].value,V=A.width<A.height,W=V?A.height:A.width,j=V?A.width:A.height,K=j*T[w].value/(m+=N),Y=W*m/b,re=Math.max(K,Y)/Math.min(K,Y),q=Math.abs(1-re);if(q<D)D=q;else{Y=W*(m-=N)/b;for(var Z=V?A.x:A.y,ee=w;ee<I;ee++){var ne=T[ee],pe=j*ne.value/m,Ee=new BBox(V?Z:A.x,V?A.y:Z,V?pe:Y,V?Y:pe);this.squarify(ne,Ee,o),b-=ne.value,Z+=pe}V?(A.y+=Y,A.height-=Y):(A.x+=Y,A.width-=Y),w=I,m=0,D=1/0,I--}}var Se=A.width<A.height,Re=Se?A.x:A.y;for(I=w;I<T.length;I++){var Ce=T[I].value/b,De=A.width*(Se?Ce:1),Ne=A.height*(Se?1:Ce);Ee=new BBox(Se?Re:A.x,Se?A.y:Re,De,Ne),this.squarify(T[I],Ee,o),Re+=Se?De:Ne}return o},t.prototype.processData=function(){return __awaiter$1(this,void 0,void 0,function(){var e,n,o,s,d,v,C,m,w,D,b=this;return __generator$1(this,function(T){return this.data?(n=(e=this).data,o=e.sizeKey,s=e.labelKey,d=e.colorKey,v=e.colorDomain,C=e.colorRange,m=e.groupFill,(w=new ColorScale).domain=v,w.range=C,this.dataRoot=(D=function(A,I,N){var G,V;void 0===I&&(I=0);var W=s&&A[s]||"",j=d&&null!==(G=A[d])&&void 0!==G?G:I;j=validateColor(j);var K=!A.children,Y="string"==typeof j?j:K||!m?w.convert(j):m,re={datum:A,depth:I,parent:N,value:0,label:W,fill:Y,series:b,isLeaf:K,children:[]};return K?re.value=o&&null!==(V=A[o])&&void 0!==V?V:1:(A.children.forEach(function(q){var Z=D(q,I+1,re),ee=Z.value;isNaN(ee)||!isFinite(ee)||0===ee||(re.value+=ee,re.children.push(Z))}),re.children.sort(function(q,Z){return Z.value-q.value})),re})(n),[2]):[2]})})},t.prototype.createNodeData=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(e){return[2,[]]})})},t.prototype.update=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(e){switch(e.label){case 0:return[4,this.updateSelections()];case 1:return e.sent(),[4,this.updateNodes()];case 2:return e.sent(),[2]}})})},t.prototype.updateSelections=function(){return __awaiter$1(this,void 0,void 0,function(){var e,n,o,d,v,C,w,D;return __generator$1(this,function(b){return this.nodeDataRefresh?(this.nodeDataRefresh=!1,o=(e=this).dataRoot,(n=e.chart)&&o&&n.getSeriesRect()?(d=[],(v=function(T){var A;d.push(T),null===(A=T.children)||void 0===A||A.forEach(v)})(this.dataRoot),w=(C=this).highlightSelection,this.groupSelection=(D=function(T){var A=T.setData(d);A.exit.remove();var I=A.enter.append(Group);return I.append(Rect),I.append(Text).each(function(N){return N.tag=TextNodeTag.Name}),I.append(Text).each(function(N){return N.tag=TextNodeTag.Value}),A.merge(I)})(C.groupSelection),this.highlightSelection=D(w),[2]):[2]):[2]})})},t.prototype.isDatumHighlighted=function(e){var n;return e===(null===(n=this.highlightManager)||void 0===n?void 0:n.getActiveHighlight())&&(e.isLeaf||this.highlightGroups)},t.prototype.getTileFormat=function(e,n){var o,s=this.formatter;if(!s)return{};var d=this;return s({seriesId:this.id,datum:e.datum,depth:e.depth,parent:null===(o=e.parent)||void 0===o?void 0:o.datum,colorKey:d.colorKey,sizeKey:d.sizeKey,labelKey:d.labelKey,fill:e.fill,stroke:e.isLeaf?d.tileStroke:d.groupStroke,strokeWidth:e.isLeaf?d.tileStrokeWidth:d.groupStrokeWidth,gradient:d.gradient,highlighted:n})},t.prototype.updateNodes=function(){return __awaiter$1(this,void 0,void 0,function(){var e,n,o,s,d,v,C,m,w,D,b,T,A,I,N,G,V,W,j,K,Y,re=this;return __generator$1(this,function(q){return this.chart?(n=(e=this).gradient,d=(s=(o=e.highlightStyle).item).fill,v=s.fillOpacity,C=s.stroke,m=s.strokeWidth,w=o.text.color,D=e.tileStroke,b=e.tileStrokeWidth,T=e.groupStroke,A=e.groupStrokeWidth,I=e.tileShadow,N=e.labelShadow,G=this.chart.getSeriesRect(),V=this.squarify(this.dataRoot,new BBox(0,0,G.width,G.height)),W=this.buildLabelMeta(V),j=function(Z,ee,ne){var se,ae,pe,he,_e,Ee,Se=V.get(ee);if(Se){var Re=ne&&void 0!==d?d:ee.fill,Ce=null!==(se=ne?v:1)&&void 0!==se?se:1,De=ne&&void 0!==C?C:ee.isLeaf?D:T,Ne=ne&&void 0!==m?m:ee.isLeaf?b:A,we=re.getTileFormat(ee,ne);if(Z.fill=validateColor(null!==(ae=we?.fill)&&void 0!==ae?ae:Re),Z.fillOpacity=null!==(pe=we?.fillOpacity)&&void 0!==pe?pe:Ce,Z.stroke=validateColor(null!==(he=we?.stroke)&&void 0!==he?he:De),Z.strokeWidth=null!==(_e=we?.strokeWidth)&&void 0!==_e?_e:Ne,Z.gradient=null!==(Ee=we?.gradient)&&void 0!==Ee?Ee:n,Z.fillShadow=I,Z.crisp=!0,Z.x=Se.x,Z.y=Se.y,Z.width=Se.width,Z.height=Se.height,Z.visible=!0,ne&&!ee.isLeaf){var Ve=re.getNodePadding(ee,Se),je=Se.x+Ve.left,rt=Se.x+Se.width-Ve.right,$e=Se.y+Ve.top,Et=Se.y+Se.height-Ve.bottom;Z.clipPath?Z.clipPath.clear():Z.clipPath=new Path2D,Z.clipMode="punch-out",Z.clipPath.moveTo(je,$e),Z.clipPath.lineTo(rt,$e),Z.clipPath.lineTo(rt,Et),Z.clipPath.lineTo(je,Et),Z.clipPath.lineTo(je,$e),Z.clipPath.closePath()}}else Z.visible=!1},this.groupSelection.selectByClass(Rect).each(function(Z,ee){return j(Z,ee,!1)}),this.highlightSelection.selectByClass(Rect).each(function(Z,ee){var ne=re.isDatumHighlighted(ee);Z.visible=ne,Z.visible&&j(Z,ee,ne)}),K=function(Z,ee,ne){var ae=W.get(ee)?.label;ae?(Z.text=ae.text,Z.fontFamily=ae.style.fontFamily,Z.fontSize=ae.style.fontSize,Z.fontWeight=ae.style.fontWeight,Z.fill=ne?w??ae.style.color:ae.style.color,Z.fillShadow=ne?void 0:N,Z.textAlign=ae.hAlign,Z.textBaseline=ae.vAlign,Z.x=ae.x,Z.y=ae.y,Z.visible=!0):Z.visible=!1},this.groupSelection.selectByTag(TextNodeTag.Name).each(function(Z,ee){return K(Z,ee,!1)}),this.highlightSelection.selectByTag(TextNodeTag.Name).each(function(Z,ee){var ne=re.isDatumHighlighted(ee);Z.visible=ne,Z.visible&&K(Z,ee,ne)}),Y=function(Z,ee,ne){var ae=W.get(ee)?.value;ae?(Z.text=ae.text,Z.fontFamily=ae.style.fontFamily,Z.fontSize=ae.style.fontSize,Z.fontWeight=ae.style.fontWeight,Z.fill=ne?w??ae.style.color:ae.style.color,Z.fillShadow=ne?void 0:N,Z.textAlign=ae.hAlign,Z.textBaseline=ae.vAlign,Z.x=ae.x,Z.y=ae.y,Z.visible=!0):Z.visible=!1},this.groupSelection.selectByTag(TextNodeTag.Value).each(function(Z,ee){return Y(Z,ee,!1)}),this.highlightSelection.selectByTag(TextNodeTag.Value).each(function(Z,ee){var ne=re.isDatumHighlighted(ee);Z.visible=ne,Z.visible&&Y(Z,ee,ne)}),[2]):[2]})})},t.prototype.buildLabelMeta=function(e){var n=this,o=n.labels,s=n.title,d=n.subtitle,v=n.nodePadding,C=n.labelKey,m=new Map;return e.forEach(function(w,D){if(C&&0!==D.depth){var T,b=D.isLeaf?D.label:D.label.toUpperCase();T=D.isLeaf?[o.large,o.medium,o.small].find(function(Z){var ee=getTextSize(b,Z);return ee.width<w.width&&ee.height<w.height})||o.small:1===D.depth?s:d;var A=getTextSize(b,T),I=w.width-2*v,N=w.height-2*v;if(!(T.fontSize>w.width/3||T.fontSize>w.height/3)){if(A.width>I){var V=Math.floor(b.length*I/A.width)-1;b=b.substring(0,V)+"\u2026"}var W=o.value,j=W.style,K=(T.fontSize+j.fontSize)/8,Y=String(D.isLeaf?W.formatter?W.formatter({datum:D.datum}):W.key?D.datum[W.key]:"":""),re=getTextSize(Y,j),q=Y&&re.width<I&&re.height+A.height+K<N;m.set(D,{label:__assign$u({text:b,style:T},D.isLeaf?{hAlign:"center",vAlign:"middle",x:w.x+w.width/2,y:w.y+w.height/2-(q?re.height/2+K/2:0)}:{hAlign:"left",vAlign:"top",x:w.x+v,y:w.y+v}),value:q?{text:Y,style:j,hAlign:"center",vAlign:"middle",x:w.x+w.width/2,y:w.y+w.height/2+A.height/2+K/2}:void 0})}}}),m},t.prototype.getDomain=function(e){return[0,1]},t.prototype.getNodeClickEvent=function(e,n){return new TreemapSeriesNodeClickEvent(this.labelKey,this.sizeKey,this.colorKey,e,n,this)},t.prototype.getTooltipHtml=function(e){var n;if(!this.highlightGroups&&!e.isLeaf)return"";var o=this,d=o.sizeKey,v=o.labelKey,C=o.colorKey,w=o.id,D=o.labels,b=e.datum,T=o.tooltip.renderer,A=e.depth?b[v]:o.rootName||b[v],I="",G=this.getTileFormat(e,!1)?.fill||e.fill||"gray",V=D.value.key,W=D.value.formatter;if(V||W){var j="";if(W)j=W({datum:b});else{var K=b[V];"number"==typeof K&&isFinite(K)&&(j=toFixed(K))}j&&(D.value.name&&(I+="<b>"+D.value.name+":</b> "),I+=j)}var Y={title:A,backgroundColor:G,content:I};return T?toTooltipHtml$1(T({datum:e.datum,parent:null===(n=e.parent)||void 0===n?void 0:n.datum,depth:e.depth,sizeKey:d,labelKey:v,colorKey:C,title:A,color:G,seriesId:w}),Y):A||I?toTooltipHtml$1(Y):""},t.prototype.getLegendData=function(){return[]},t.className="TreemapSeries",t.type="treemap",__decorate$1e([Validate(NUMBER(0))],t.prototype,"nodePadding",void 0),__decorate$1e([Validate(STRING)],t.prototype,"labelKey",void 0),__decorate$1e([Validate(OPT_STRING)],t.prototype,"sizeKey",void 0),__decorate$1e([Validate(OPT_STRING)],t.prototype,"colorKey",void 0),__decorate$1e([Validate(NUMBER_ARRAY)],t.prototype,"colorDomain",void 0),__decorate$1e([Validate(COLOR_STRING_ARRAY)],t.prototype,"colorRange",void 0),__decorate$1e([Validate(OPT_STRING)],t.prototype,"groupFill",void 0),__decorate$1e([Validate(OPT_COLOR_STRING)],t.prototype,"groupStroke",void 0),__decorate$1e([Validate(OPT_NUMBER(0))],t.prototype,"groupStrokeWidth",void 0),__decorate$1e([Validate(OPT_COLOR_STRING)],t.prototype,"tileStroke",void 0),__decorate$1e([Validate(OPT_NUMBER(0))],t.prototype,"tileStrokeWidth",void 0),__decorate$1e([Validate(BOOLEAN)],t.prototype,"gradient",void 0),__decorate$1e([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),__decorate$1e([Validate(STRING)],t.prototype,"colorName",void 0),__decorate$1e([Validate(STRING)],t.prototype,"rootName",void 0),__decorate$1e([Validate(OPT_BOOLEAN)],t.prototype,"highlightGroups",void 0),t}(HierarchySeries),DEFAULT_CARTESIAN_CHART_OVERRIDES={axes:[{type:NumberAxis.type,position:"left"},{type:CategoryAxis.type,position:"bottom"}]},DEFAULT_BAR_CHART_OVERRIDES={axes:[{type:"number",position:"bottom"},{type:"category",position:"left"}]},DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES={axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},__assign$t=function(){return __assign$t=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$t.apply(this,arguments)};function transform(l,t){var e={};for(var n in l)e[n]=(t[n]||function(s){return s})(l[n],l);return e}function is2dArray(l){return null!=l&&l instanceof Array&&l[0]instanceof Array}function yNamesMapping(l,t){if(null==l)return{};if(!(l instanceof Array))return l;var e=t.yKeys;if(null==e||is2dArray(e))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var n={};return e.forEach(function(o,s){n[o]=l[s]}),n}function yKeysMapping(l,t){return null==l?[[]]:is2dArray(l)?l:t.grouped?l.map(function(e){return[e]}):[l]}function barSeriesTransform(l){var t=__assign$t({},l);return delete t.yKey,delete t.yName,transform(t,{yNames:yNamesMapping,yKeys:yKeysMapping})}function identityTransform(l){return l}var SERIES_TRANSFORMS={area:identityTransform,bar:barSeriesTransform,column:barSeriesTransform,histogram:identityTransform,line:identityTransform,pie:identityTransform,scatter:identityTransform,treemap:identityTransform};function applySeriesTransform(l){return(0,SERIES_TRANSFORMS[l.type||"line"])(l)}function deepMerge$1(l,t){if(isPlainObject(l)&&isPlainObject(t)){var e={};return Object.keys(l).forEach(function(n){e[n]=n in t?deepMerge$1(l[n],t[n]):l[n]}),Object.keys(t).forEach(function(n){n in l||(e[n]=t[n])}),e}return Array.isArray(l)&&!Array.isArray(t)||isObject(l)&&!isObject(t)?l:t}function isObject(l){return l&&"object"==typeof l}function isPlainObject(l){return isObject(l)&&l.constructor===Object}var __assign$s=function(){return __assign$s=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$s.apply(this,arguments)},__read$o=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},palette$8={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},BOLD="bold",INSIDE="inside",RIGHT="right",ChartTheme=function(){function l(t){var e=(t=deepMerge$1({},t||{})).overrides,n=void 0===e?null:e,o=t.palette,s=void 0===o?null:o,d=this.createChartConfigPerChartType(this.getDefaults());if(n){var v=n.common,C=n.cartesian,m=n.polar,w=n.hierarchy,D=function(b,T,A){A&&(d[b]=deepMerge$1(d[b],A),T.forEach(function(I){d[I]=deepMerge$1(d[I],A)}))};D("common",Object.keys(d),v),D("cartesian",l.cartesianSeriesTypes,C),D("polar",l.polarSeriesTypes,m),D("hierarchy",l.hierarchySeriesTypes,w),l.seriesTypes.forEach(function(b){var T,A=n[b];A&&(A.series&&(A.series=((T={})[b]=A.series,T)),d[b]=deepMerge$1(d[b],A))})}this.palette=s??this.getPalette(),this.config=Object.freeze(d)}return l.prototype.getPalette=function(){return palette$8},l.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:BOLD,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1,avoidCollisions:!0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}},l.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1},text:{color:"black"}}}},l.getBarSeriesDefaults=function(){return __assign$s(__assign$s({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:INSIDE},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},l.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$s(__assign$s({},t),{tooltip:__assign$s(__assign$s({},t.tooltip),{format:void 0})})},l.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},l.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:BOLD,fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:RIGHT,spacing:20,listeners:{},item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:"rgb(70, 70, 70)"},inactiveStyle:{fill:"rgb(219, 219, 219)"},highlightStyle:{fill:"rgb(70, 70, 70)"},label:{color:"rgb(70, 70, 70)"}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:DEFAULT_TOOLTIP_CLASS},listeners:{}}},l.prototype.createChartConfigPerChartType=function(t){return Object.entries({cartesian:l.cartesianSeriesTypes,polar:l.polarSeriesTypes,hierarchy:l.hierarchySeriesTypes,groupedCategory:[]}).forEach(function(n){var o=__read$o(n,2),s=o[0];o[1].forEach(function(v){t[v]||(t[v]=deepMerge$1({},t[s]))})}),t},l.prototype.getDefaults=function(){return deepMerge$1({},l.defaults)},l.prototype.mergeWithParentDefaults=function(t,e){return deepMerge$1(t,e)},l.fontFamily="Verdana, sans-serif",l.cartesianDefaults=__assign$s(__assign$s({},l.getChartDefaults()),{axes:{number:__assign$s({},l.getAxisDefaults()),log:__assign$s(__assign$s({},l.getAxisDefaults()),{base:10}),category:__assign$s(__assign$s({},l.getAxisDefaults()),{groupPaddingInner:.1,label:__assign$s(__assign$s({},l.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:__assign$s({},l.getAxisDefaults()),time:__assign$s({},l.getAxisDefaults())},series:{column:__assign$s(__assign$s({},l.getBarSeriesDefaults()),{flipXY:!1}),bar:__assign$s(__assign$s({},l.getBarSeriesDefaults()),{flipXY:!0}),line:__assign$s(__assign$s({},l.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:__assign$s(__assign$s({},l.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:__assign$s(__assign$s({},l.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",marker:__assign$s({},l.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"}}),area:__assign$s(__assign$s({},l.getSeriesDefaults()),{xKey:"",xName:"",normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:__assign$s(__assign$s({},l.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:__assign$s(__assign$s({},l.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),l.polarDefaults=__assign$s(__assign$s({},l.getChartDefaults()),{series:{pie:__assign$s(__assign$s({},l.getSeriesDefaults()),{title:{enabled:!0,text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,calloutLabelKey:void 0,calloutLabelName:void 0,sectorLabelKey:void 0,sectorLabelName:void 0,calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",margin:2}})}}),l.hierarchyDefaults=__assign$s(__assign$s({},l.getChartDefaults()),{series:{treemap:__assign$s(__assign$s({},l.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],groupFill:"#272931",groupStroke:"black",groupStrokeWidth:1,tileStroke:"black",tileStrokeWidth:1,gradient:!0,tileShadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},labelShadow:{enabled:!0,color:"rgba(0, 0, 0, 0.4)",xOffset:1.5,yOffset:1.5,blur:5},highlightGroups:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},value:{style:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}})}}),l.defaults={cartesian:l.cartesianDefaults,groupedCategory:l.cartesianDefaults,polar:l.polarDefaults,hierarchy:l.hierarchyDefaults},l.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],l.polarSeriesTypes=["pie"],l.hierarchySeriesTypes=["treemap"],l.seriesTypes=l.cartesianSeriesTypes.concat(l.polarSeriesTypes).concat(l.hierarchySeriesTypes),l}(),__extends$1R=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$r=function(){return __assign$r=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$r.apply(this,arguments)},DarkTheme=function(l){function t(e){return l.call(this,e)||this}return __extends$1R(t,l),t.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",n="rgb(150, 150, 150)",o={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},s={label:{color:e}},d={axes:{number:__assign$r({},o),category:__assign$r({},o),time:__assign$r({},o)}},v={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:n},legend:{item:{label:{color:e}},pagination:{activeStyle:{fill:e},inactiveStyle:{fill:n},highlightStyle:{fill:e},label:{color:e}}}};return this.mergeWithParentDefaults(l.prototype.getDefaults.call(this),{cartesian:__assign$r(__assign$r(__assign$r({},v),d),{series:{bar:__assign$r({},s),column:__assign$r({},s),histogram:__assign$r({},s)}}),groupedCategory:__assign$r(__assign$r(__assign$r({},v),d),{series:{bar:__assign$r({},s),column:__assign$r({},s),histogram:__assign$r({},s)}}),polar:__assign$r(__assign$r({},v),{series:{pie:{calloutLabel:{color:e},sectorLabel:{color:e},title:{color:e},innerLabels:{color:e}}}}),hierarchy:__assign$r(__assign$r({},v),{series:{treemap:{tileStroke:"white",groupStroke:"white",title:{color:e},subtitle:{color:n},labels:{large:{color:e},medium:{color:e},small:{color:e},value:{style:{color:e}}}}}})})},t}(ChartTheme),__extends$1Q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),palette$7={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialLight=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1Q(t,l),t.prototype.getPalette=function(){return palette$7},t}(ChartTheme),__extends$1P=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),palette$6={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialDark=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1P(t,l),t.prototype.getPalette=function(){return palette$6},t}(DarkTheme),__extends$1O=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),palette$5={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelLight=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1O(t,l),t.prototype.getPalette=function(){return palette$5},t}(ChartTheme),__extends$1N=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),palette$4={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelDark=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1N(t,l),t.prototype.getPalette=function(){return palette$4},t}(DarkTheme),__extends$1M=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),palette$3={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarLight=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1M(t,l),t.prototype.getPalette=function(){return palette$3},t}(ChartTheme),__extends$1L=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),palette$2={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarDark=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1L(t,l),t.prototype.getPalette=function(){return palette$2},t}(DarkTheme),__extends$1K=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),palette$1={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividLight=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1K(t,l),t.prototype.getPalette=function(){return palette$1},t}(ChartTheme),__extends$1J=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),palette={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividDark=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1J(t,l),t.prototype.getPalette=function(){return palette},t}(DarkTheme),__assign$q=function(){return __assign$q=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$q.apply(this,arguments)},lightTheme=new ChartTheme,darkTheme=new DarkTheme,lightThemes={undefined:lightTheme,null:lightTheme,"ag-default":lightTheme,"ag-material":new MaterialLight,"ag-pastel":new PastelLight,"ag-solar":new SolarLight,"ag-vivid":new VividLight},darkThemes={undefined:darkTheme,null:darkTheme,"ag-default-dark":darkTheme,"ag-material-dark":new MaterialDark,"ag-pastel-dark":new PastelDark,"ag-solar-dark":new SolarDark,"ag-vivid-dark":new VividDark},themes=__assign$q(__assign$q({},darkThemes),lightThemes);function getChartTheme(l){var t;if(l instanceof ChartTheme)return l;var e=themes[l];if(e)return e;for(var o,n=[];"object"==typeof l;)n.push(null!==(t=l.overrides)&&void 0!==t?t:{}),l.palette&&null==o&&(o=l.palette),l=l.baseTheme;n.reverse();var s=__assign$q({baseTheme:l,overrides:jsonMerge(n)},o?{palette:o}:{});return s.baseTheme||s.overrides?new(getChartTheme(s.baseTheme).constructor)(s):lightTheme}var __assign$p=function(){return __assign$p=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$p.apply(this,arguments)},__values$a=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$n=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$d=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$n(arguments[t]));return l};function groupSeriesByType(l){var t,e,n={},o=[];try{for(var s=__values$a(l),d=s.next();!d.done;d=s.next()){var v=d.value;if("column"===v.type||"bar"===v.type||"area"===v.type&&!0===v.stacked){var w=(v.type||"line")+"-"+v.xKey+"-"+(v.stacked?"stacked":"grouped");null==n[w]&&(n[w]=[],o.push(n[w])),n[w].push(v)}else o.push([v])}}catch(D){t={error:D}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return o}var FAIL=Symbol(),SKIP=Symbol(),ARRAY_REDUCER=function(l){return function(t,e){var n;return t.concat.apply(t,__spread$d(null!==(n=e[l])&&void 0!==n?n:[]))}},BOOLEAN_OR_REDUCER=function(l,t){return function(e,n){return"boolean"==typeof n[l]?(e??!1)||n[l]:e??t}},DEFAULTING_ARRAY_REDUCER=function(l,t){return function(e,n,o,s){var d,v=t===SKIP||t===FAIL,C=null!==(d=n[l])&&void 0!==d?d:t;if(C===FAIL)throw new Error("AG Charts - missing value for property ["+l+"] on series config.");if(C===SKIP)return e;if(0===e.length&&!v)for(;e.length<s;)e=e.concat(t);return v?e.concat(C):(e[o]=C,e)}},YKEYS_REDUCER=function(l,t){return function(e,n){return n[l]===t?e.concat.apply(e,__spread$d(n.yKey?[n.yKey]:n.yKeys)):e}},REDUCE_CONFIG={hideInChart:{outputProp:"hideInChart",reducer:ARRAY_REDUCER("hideInChart"),start:[]},hideInLegend:{outputProp:"hideInLegend",reducer:ARRAY_REDUCER("hideInLegend"),start:[]},yKey:{outputProp:"yKeys",reducer:DEFAULTING_ARRAY_REDUCER("yKey",SKIP),start:[]},fill:{outputProp:"fills",reducer:DEFAULTING_ARRAY_REDUCER("fill",SKIP),start:[]},stroke:{outputProp:"strokes",reducer:DEFAULTING_ARRAY_REDUCER("stroke",SKIP),start:[]},yName:{outputProp:"yNames",reducer:DEFAULTING_ARRAY_REDUCER("yName",SKIP),start:[]},visible:{outputProp:"visibles",reducer:DEFAULTING_ARRAY_REDUCER("visible",!0),start:[]},grouped:{outputProp:"grouped",reducer:BOOLEAN_OR_REDUCER("grouped"),seriesType:["bar","column"],start:void 0},showInLegend:{outputProp:"hideInLegend",reducer:YKEYS_REDUCER("showInLegend",!1),seriesType:["bar","column"],start:[]}};function reduceSeries(l){var t={};return l.forEach(function(e,n){Object.keys(e).forEach(function(o){var s,d=REDUCE_CONFIG[o],v=function(){var I,N;t[o]=null!==(N=null!==(I=e[o])&&void 0!==I?I:t[o])&&void 0!==N?N:void 0};if(d){var C=d.outputProp,m=d.reducer,w=d.start,D=void 0===w?void 0:w,b=d.seriesType;if((void 0===b?[e.type]:b).includes(e.type)){var A=m(null!==(s=t[C])&&void 0!==s?s:D,e,n,l.length);void 0!==A&&(t[C]=A)}else v()}else v()})}),t}function processSeriesOptions(l){var t,e,n=[],o=l.map(function(C){return"bar"!==C.type&&"column"!==C.type||null==C.yKey||C.stacked?C:__assign$p(__assign$p({},C),{grouped:null==C.grouped||C.grouped})});try{for(var s=__values$a(groupSeriesByType(o)),d=s.next();!d.done;d=s.next()){var v=d.value;switch(v[0].type){case"column":case"bar":case"area":n.push(reduceSeries(v));break;default:v.length>1&&console.warn("AG Charts - unexpected grouping of series type: "+v[0].type),n.push(v[0])}}}catch(C){t={error:C}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return n}var __assign$o=function(){return __assign$o=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$o.apply(this,arguments)},__values$9=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$m=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$c=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$m(arguments[t]));return l};function optionsType(l){var t,e,n,o;return null!==(o=null!==(t=l.type)&&void 0!==t?t:null===(n=null===(e=l.series)||void 0===e?void 0:e[0])||void 0===n?void 0:n.type)&&void 0!==o?o:"line"}function isAgCartesianChartOptions(l){var t=optionsType(l);if(null==t)return!0;if("cartesian"===t)return doOnce$1(function(){return console.warn("AG Charts - type '"+t+"' is deprecated, use a series type instead")},"factory options type "+t),!0;switch(t){case"area":case"bar":case"column":case"histogram":case"line":case"scatter":return!0;default:return!1}}function isAgHierarchyChartOptions(l){var t=optionsType(l);return null!=t&&("hierarchy"===t?(doOnce$1(function(){return console.warn("AG Charts - type '"+t+"' is deprecated, use a series type instead")},"factory options type "+t),!0):"treemap"===t)}function isAgPolarChartOptions(l){var t=optionsType(l);return null!=t&&("polar"===t?(doOnce$1(function(){return console.warn("AG Charts - type '"+t+"' is deprecated, use a series type instead")},"factory options type "+t),!0):"pie"===t)}var SERIES_OPTION_TYPES=["line","bar","column","histogram","scatter","area","pie","treemap"];function isSeriesOptionType(l){return null!=l&&SERIES_OPTION_TYPES.indexOf(l)>=0}function countArrayElements(l){var t,e,n=0;try{for(var o=__values$9(l),s=o.next();!s.done;s=o.next()){var d=s.value;d instanceof Array&&(n+=countArrayElements(d)),null!=d&&n++}}catch(v){t={error:v}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n}function takeColours(l,t,e){for(var n=[],o=0;o<e;o++)n.push(t[(o+l.colourIndex)%t.length]);return n}var noDataCloneMergeOptions={avoidDeepClone:["data"]};function prepareOptions(l){for(var t,e,n,o,s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];var v=jsonMerge(__spread$c(s,[l]),noDataCloneMergeOptions);sanityCheckOptions(v);var C=v.type,m=optionsType(v),w=function(K){if(null!=K&&!isSeriesOptionType(K))throw new Error("AG Charts - unknown series type: "+K+"; expected one of: "+SERIES_OPTION_TYPES.join(", "))};w(m);try{for(var D=__values$9(null!==(n=v.series)&&void 0!==n?n:[]),b=D.next();!b.done;b=D.next()){var T=b.value.type;null!=T&&w(T)}}catch(K){t={error:K}}finally{try{b&&!b.done&&(e=D.return)&&e.call(D)}finally{if(t)throw t.error}}var A=isAgCartesianChartOptions(v=__assign$o(__assign$o({},v),{type:m}))?"line":isAgHierarchyChartOptions(v)?"treemap":isAgPolarChartOptions(v)?"pie":"line",N=prepareMainOptions("bar"===m?DEFAULT_BAR_CHART_OVERRIDES:"scatter"===m||"histogram"===m?DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES:isAgCartesianChartOptions(v)?DEFAULT_CARTESIAN_CHART_OVERRIDES:{},v),G=N.context,V=N.mergedOptions,W=N.axesThemes,j=N.seriesThemes;return V.series=processSeriesOptions((V.series||[]).map(function(K){var Y=K.type?K.type:isSeriesOptionType(C)?C:A,re=jsonMerge([j[Y]||{},__assign$o(__assign$o({},K),{type:Y})],noDataCloneMergeOptions);return"pie"===Y&&preparePieOptions(j.pie,K,re),re})).map(function(K){return prepareSeries(G,K)}),isAgCartesianChartOptions(V)&&(V.axes=null===(o=V.axes)||void 0===o?void 0:o.map(function(K){var Y,re=null!==(Y=K.type)&&void 0!==Y?Y:"number";return prepareAxis(__assign$o(__assign$o({},K),{type:re}),jsonMerge([W[re],W[re][K.position||"unknown"]||{}]))})),prepareEnabledOptions(v,V),V}function sanityCheckOptions(l){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(function(e){var n,o=__read$m(e,2),s=o[0],d=o[1];null!==(n=l.series)&&void 0!==n&&n.some(function(v){return null!=v[s]})&&doOnce$1(function(){return console.warn("AG Charts - Property [series."+s+"] is deprecated, please use [series."+d+"] and multiple series instead.")},"deprecated series."+s+" array")})}function prepareMainOptions(l,t){var e=prepareTheme(t),s=e.axesThemes,d=e.seriesThemes;return{context:{colourIndex:0,palette:e.theme.palette},mergedOptions:jsonMerge([l,e.cleanedTheme,t],noDataCloneMergeOptions),axesThemes:s,seriesThemes:d}}function prepareTheme(l){var t=getChartTheme(l.theme),e=t.config[optionsType(l)||"cartesian"],n=Object.entries(t.config).reduce(function(o,s){var d=__read$m(s,2),v=d[0];return o[v]=d[1].series?.[v],o},{});return{theme:t,axesThemes:e.axes||{},seriesThemes:n,cleanedTheme:jsonMerge([e,{axes:DELETE,series:DELETE}])}}function prepareSeries(l,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var o=calculateSeriesPalette(l,t);return applySeriesTransform(jsonMerge(__spread$c(e,[o,t,{stacked:DELETE}]),noDataCloneMergeOptions))}function calculateSeriesPalette(l,t){var e={},n=l.palette,o=n.fills,s=n.strokes,v=countArrayElements(t.yKeys||[])||1;switch(t.type){case"pie":v=Math.max(o.length,s.length);case"area":case"bar":case"column":e.fills=takeColours(l,o,v),e.strokes=takeColours(l,s,v);break;case"histogram":e.fill=takeColours(l,o,1)[0],e.stroke=takeColours(l,s,1)[0];break;case"scatter":e.marker={stroke:takeColours(l,s,1)[0],fill:takeColours(l,o,1)[0]};break;case"line":e.stroke=takeColours(l,o,1)[0],e.marker={stroke:takeColours(l,s,1)[0],fill:takeColours(l,o,1)[0]};break;case"treemap":break;default:throw new Error("AG Charts - unknown series type: "+t.type)}return l.colourIndex+=v,e}function prepareAxis(l,t){var e={top:DELETE,bottom:DELETE,left:DELETE,right:DELETE};if(l.crossLines){Array.isArray(l.crossLines)||(console.warn("AG Charts - axis[].crossLines should be an array."),l.crossLines=[]);var n=t.crossLines;l.crossLines=l.crossLines.map(function(s){return jsonMerge([n,s])})}return jsonMerge([t,{crossLines:DELETE},l,e],noDataCloneMergeOptions)}function prepareEnabledOptions(l,t){jsonWalk(l,function(e,n,o){if(o){var s=o._enabledFromTheme;null!=s&&delete o._enabledFromTheme,"enabled"in o&&(s||null==n.enabled&&(o.enabled=!0))}},{skip:["data","theme"]},t),jsonWalk(t,function(e,n){null!=n._enabledFromTheme&&delete n._enabledFromTheme},{skip:["data","theme"]})}function preparePieOptions(l,t,e){e.innerLabels=Array.isArray(t.innerLabels)?t.innerLabels.map(function(n){return jsonMerge([l.innerLabels,n])}):DELETE}var horizontalCrosslineTranslationDirections={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},verticalCrossLineTranslationDirections={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}},calculateLabelTranslation=function(l){var t,e=l.yDirection,n=l.padding,o=void 0===n?0:n,d=l.bbox,v=e?horizontalCrosslineTranslationDirections:verticalCrossLineTranslationDirections,C=null!==(t=v[l.position])&&void 0!==t?t:v.top;return{xTranslation:C.xTranslationDirection*(o+(e?d.width:d.height)/2),yTranslation:C.yTranslationDirection*(o+(e?d.height:d.width)/2)}},POSITION_TOP_COORDINATES=function(l){var e=l.xEnd,n=l.yStart,o=l.yEnd;return l.yDirection?{x:e/2,y:n}:{x:e,y:isNaN(o)?n:(n+o)/2}},POSITION_LEFT_COORDINATES=function(l){var n=l.xEnd,o=l.yStart,s=l.yEnd;return l.yDirection?{x:l.xStart,y:isNaN(s)?o:(o+s)/2}:{x:n/2,y:o}},POSITION_RIGHT_COORDINATES=function(l){var e=l.xEnd,n=l.yStart,o=l.yEnd;return l.yDirection?{x:e,y:isNaN(o)?n:(n+o)/2}:{x:e/2,y:isNaN(o)?n:o}},POSITION_BOTTOM_COORDINATES=function(l){var e=l.xStart,o=l.yStart,s=l.yEnd;return l.yDirection?{x:l.xEnd/2,y:isNaN(s)?o:s}:{x:e,y:isNaN(s)?o:(o+s)/2}},POSITION_INSIDE_COORDINATES=function(l){var e=l.yStart,n=l.yEnd;return{x:l.xEnd/2,y:isNaN(n)?e:(e+n)/2}},POSITION_TOP_LEFT_COORDINATES=function(l){var o=l.yStart;return l.yDirection?{x:l.xStart/2,y:o}:{x:l.xEnd,y:o}},POSITION_BOTTOM_LEFT_COORDINATES=function(l){var e=l.xStart,n=l.yStart,o=l.yEnd;return l.yDirection?{x:e,y:isNaN(o)?n:o}:{x:e,y:n}},POSITION_TOP_RIGHT_COORDINATES=function(l){var e=l.xEnd,n=l.yStart,o=l.yEnd;return l.yDirection?{x:e,y:n}:{x:e,y:isNaN(o)?n:o}},POSITION_BOTTOM_RIGHT_COORDINATES=function(l){var e=l.xStart,o=l.yStart,s=l.yEnd;return l.yDirection?{x:l.xEnd,y:isNaN(s)?o:s}:{x:e,y:isNaN(s)?o:s}},labeldDirectionHandling={top:{c:POSITION_TOP_COORDINATES},bottom:{c:POSITION_BOTTOM_COORDINATES},left:{c:POSITION_LEFT_COORDINATES},right:{c:POSITION_RIGHT_COORDINATES},topLeft:{c:POSITION_TOP_LEFT_COORDINATES},topRight:{c:POSITION_TOP_RIGHT_COORDINATES},bottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},bottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES},inside:{c:POSITION_INSIDE_COORDINATES},insideLeft:{c:POSITION_LEFT_COORDINATES},insideRight:{c:POSITION_RIGHT_COORDINATES},insideTop:{c:POSITION_TOP_COORDINATES},insideBottom:{c:POSITION_BOTTOM_COORDINATES},insideTopLeft:{c:POSITION_TOP_LEFT_COORDINATES},insideBottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},insideTopRight:{c:POSITION_TOP_RIGHT_COORDINATES},insideBottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES}},__extends$1I=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$n=function(){return __assign$n=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$n.apply(this,arguments)},__decorate$1d=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Range=function(l){function t(){var e=l.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.startLine=!1,e.endLine=!1,e.isRange=!1,e.restoreOwnStyles(),e}return __extends$1I(t,l),t.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.render=function(e){var n,o=e.ctx,d=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){this.computeTransformMatrix(),this.matrix.toContext(o);var v=this,C=v.x1,m=v.y1,w=v.x2,D=v.y2;C=this.align(C),m=this.align(m),w=this.align(w),D=this.align(D);var b=this,T=b.fill,A=b.opacity;if(b.isRange&&T){var G=this.fillOpacity;o.fillStyle=T,o.globalAlpha=A*G,o.beginPath(),o.moveTo(C,m),o.lineTo(w,m),o.lineTo(w,D),o.lineTo(C,D),o.closePath(),o.fill()}var V=this,W=V.stroke,j=V.strokeWidth,K=V.startLine,Y=V.endLine;if((K||Y)&&W&&j){var q=this,Z=q.strokeOpacity,ee=q.lineDash,ne=q.lineDashOffset,se=q.lineCap,ae=q.lineJoin;o.strokeStyle=W,o.globalAlpha=A*Z,o.lineWidth=j,ee&&o.setLineDash(ee),ne&&(o.lineDashOffset=ne),se&&(o.lineCap=se),ae&&(o.lineJoin=ae),o.beginPath(),K&&(o.moveTo(C,m),o.lineTo(w,m)),Y&&(o.moveTo(w,D),o.lineTo(C,D)),o.stroke()}null===(n=this.fillShadow)||void 0===n||n.markClean(),l.prototype.render.call(this,e)}else d&&(d.nodesSkipped+=this.nodeCount.count)},t.className="Range",t.defaultStyles=__assign$n(__assign$n({},Shape.defaultStyles),{strokeWidth:1}),__decorate$1d([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"x1",void 0),__decorate$1d([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"y1",void 0),__decorate$1d([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"x2",void 0),__decorate$1d([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"y2",void 0),__decorate$1d([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"startLine",void 0),__decorate$1d([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"endLine",void 0),__decorate$1d([SceneChangeDetection({redraw:RedrawType.MINOR})],t.prototype,"isRange",void 0),t}(Shape),__decorate$1c=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$l=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$b=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$l(arguments[t]));return l},CROSSLINE_LABEL_POSITIONS=["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],OPT_CROSSLINE_LABEL_POSITION=predicateWithMessage(function(l,t){return OPTIONAL(l,t,function(e){return CROSSLINE_LABEL_POSITIONS.includes(e)})},"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"),OPT_CROSSLINE_TYPE=predicateWithMessage(function(l,t){return OPTIONAL(l,t,function(e){return"range"===e||"line"===e})},"expecting a crossLine type keyword such as 'range' or 'line'"),CrossLineLabel=function(){function l(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}return __decorate$1c([Validate(OPT_BOOLEAN)],l.prototype,"enabled",void 0),__decorate$1c([Validate(OPT_STRING)],l.prototype,"text",void 0),__decorate$1c([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1c([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1c([Validate(NUMBER(0))],l.prototype,"fontSize",void 0),__decorate$1c([Validate(STRING)],l.prototype,"fontFamily",void 0),__decorate$1c([Validate(NUMBER(0))],l.prototype,"padding",void 0),__decorate$1c([Validate(OPT_COLOR_STRING)],l.prototype,"color",void 0),__decorate$1c([Validate(OPT_CROSSLINE_LABEL_POSITION)],l.prototype,"position",void 0),__decorate$1c([Validate(OPT_NUMBER(-360,360))],l.prototype,"rotation",void 0),__decorate$1c([Validate(OPT_BOOLEAN)],l.prototype,"parallel",void 0),l}(),CrossLine=function(){function l(){this.id=createId$1(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new CrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.X,this.group=new Group({name:""+this.id,layer:!0,zIndex:l.LINE_LAYER_ZINDEX}),this.crossLineRange=new Range,this.crossLineLabel=new Text,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;var t=this,n=t.crossLineRange;t.group.append([n,t.crossLineLabel]),n.pointerEvents=PointerEvents.None}return l.prototype.update=function(t){if(this.enabled&&(this.group.visible=t,t)){if(!this.createNodeData())return void(this.group.visible=!1);this.updateNodes(),this.group.zIndex=this.getZIndex(this.isRange)}},l.prototype.updateNodes=function(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())},l.prototype.createNodeData=function(){var t,e,n,o,s,d,v,C,m=this,w=m.scale,T=m.direction,A=m.label.position,I=void 0===A?"top":A,N=m.clippedRange,G=m.strokeWidth,V=void 0===G?0:G;if(!w)return!1;var K,Y,re,q,Z,ee,W=null!==(v=w.bandwidth)&&void 0!==v?v:0,j=function(Re){return Math.max(Math.min.apply(Math,__spread$b(N)),Math.min(Math.max.apply(Math,__spread$b(N)),Re))};K=(t=__read$l([0,m.sideFlag*m.gridLength],2))[0],Y=t[1],re=(e=__read$l(this.getRange(),2))[0],q=e[1],ee=(n=__read$l([Number(w.convert(re,{strict:!1})),w.convert(q,{strict:!1})+W],2))[1],Z=j(Z=n[0]),ee=j(ee),re=(o=__read$l([Number(w.convert(re)),w.convert(q)+W],2))[0],q=o[1];var ne=!isNaN(Z)&&!isNaN(ee)&&(re===Z||q===ee||Z!==ee)&&Math.abs(ee-Z)>0;if(ne&&Z!==Math.min(Z,ee)&&(Z=(s=__read$l([Math.min(Z,ee),Math.max(Z,ee)],2))[0],ee=s[1],re=(d=__read$l([q,re],2))[0],q=d[1]),this.isRange=ne,this.startLine=!isNaN(re)&&V>0&&re===Z,this.endLine=!isNaN(q)&&V>0&&q===ee,!ne&&!this.startLine&&!this.endLine)return!1;if(this.data=[Z,ee],this.label.enabled){var pe=(null!==(C=labeldDirectionHandling[I])&&void 0!==C?C:{}).c,_e=(void 0===pe?POSITION_TOP_COORDINATES:pe)({yDirection:T===ChartAxisDirection.Y,xStart:K,xEnd:Y,yStart:Z,yEnd:ee});this.labelPoint={x:_e.x,y:_e.y}}return!0},l.prototype.updateRangeNode=function(){var t,e=this,n=e.crossLineRange,o=e.sideFlag,s=e.gridLength,d=e.data,v=e.startLine,C=e.endLine,m=e.isRange,w=e.fill,D=e.fillOpacity,b=e.stroke,T=e.strokeWidth,A=e.lineDash;n.x1=0,n.x2=o*s,n.y1=d[0],n.y2=d[1],n.startLine=v,n.endLine=C,n.isRange=m,n.fill=w,n.fillOpacity=D??1,n.stroke=b,n.strokeWidth=T??1,n.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,n.lineDash=A},l.prototype.updateLabel=function(){var e=this.crossLineLabel,n=this.label;n.text&&(e.fontStyle=n.fontStyle,e.fontWeight=n.fontWeight,e.fontSize=n.fontSize,e.fontFamily=n.fontFamily,e.fill=n.color,e.text=n.text)},l.prototype.positionLabel=function(){var t=this,e=t.crossLineLabel,n=t.labelPoint,o=void 0===n?{}:n,s=o.x,d=void 0===s?void 0:s,v=o.y,C=void 0===v?void 0:v,m=t.label,w=m.parallel,D=m.rotation,b=m.position,T=void 0===b?"top":b,A=m.padding,I=void 0===A?0:A,N=t.direction,G=t.parallelFlipRotation,V=t.regularFlipRotation;if(void 0!==d&&void 0!==C){var W=D?normalizeAngle360(toRadians$1(D)):0,j=!W&&G>=0&&G<=Math.PI?-1:1,K=!W&&V>=0&&V<=Math.PI?-1:1,Y=w?j*Math.PI/2:-1===K?Math.PI:0;e.rotation=Y+W,e.textBaseline="middle",e.textAlign="center";var re=this.computeLabelBBox();if(re){var Z=calculateLabelTranslation({yDirection:N===ChartAxisDirection.Y,padding:I,position:T,bbox:re}),ne=Z.yTranslation;e.translationX=d+Z.xTranslation,e.translationY=C+ne}}},l.prototype.getZIndex=function(t){return void 0===t&&(t=!1),t?l.RANGE_LAYER_ZINDEX:l.LINE_LAYER_ZINDEX},l.prototype.getRange=function(){var t,e=this,d=e.scale instanceof ContinuousScale,v=__read$l(e.range??[e.value,void 0],2),C=v[0],m=v[1];return!d&&void 0===m&&(m=C),C=(t=__read$l([checkDatum(C,d),checkDatum(m,d)],2))[0],m=t[1],d&&C===m&&(m=void 0),void 0===C&&void 0!==m&&(C=m,m=void 0),[C,m]},l.prototype.computeLabelBBox=function(){return this.crossLineLabel.computeTransformedBBox()},l.prototype.calculatePadding=function(t,e){var n,o,s,d,v,C,m=this;if(m.isRange||m.startLine||m.endLine){var T=this.computeLabelBBox(),A=T?.x,I=T?.y;if(null!=A&&null!=I){var N=null!==(n=T?.width)&&void 0!==n?n:0,G=null!==(o=T?.height)&&void 0!==o?o:0;if(!(N>e.width||G>e.height)){if(A+N>=e.x+e.width){var V=A+N-(e.x+e.width);t.right=(null!==(s=t.right)&&void 0!==s?s:0)>=V?t.right:V}else if(A<=e.x){var W=e.x-A;t.left=(null!==(d=t.left)&&void 0!==d?d:0)>=W?t.left:W}if(I+G>=e.y+e.height){var j=I+G-(e.y+e.height);t.bottom=(null!==(v=t.bottom)&&void 0!==v?v:0)>=j?t.bottom:j}else if(I<=e.y){var K=e.y-I;t.top=(null!==(C=t.top)&&void 0!==C?C:0)>=K?t.top:K}}}}},l.LINE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_LINE_ZINDEX,l.RANGE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_RANGE_ZINDEX,l.className="CrossLine",__decorate$1c([Validate(OPT_BOOLEAN)],l.prototype,"enabled",void 0),__decorate$1c([Validate(OPT_CROSSLINE_TYPE)],l.prototype,"type",void 0),__decorate$1c([Validate(OPT_ARRAY(2))],l.prototype,"range",void 0),__decorate$1c([Validate(OPT_COLOR_STRING)],l.prototype,"fill",void 0),__decorate$1c([Validate(OPT_NUMBER(0,1))],l.prototype,"fillOpacity",void 0),__decorate$1c([Validate(OPT_COLOR_STRING)],l.prototype,"stroke",void 0),__decorate$1c([Validate(OPT_NUMBER())],l.prototype,"strokeWidth",void 0),__decorate$1c([Validate(OPT_NUMBER(0,1))],l.prototype,"strokeOpacity",void 0),__decorate$1c([Validate(OPT_LINE_DASH)],l.prototype,"lineDash",void 0),l}(),__values$8=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},BaseModuleInstance=function(){function l(){this.destroyFns=[]}return l.prototype.destroy=function(){var t,e;try{for(var n=__values$8(this.destroyFns),o=n.next();!o.done;o=n.next())(0,o.value)()}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},l}(),REGISTERED_MODULES=[];function registerModule(l){REGISTERED_MODULES.push(l)}var __extends$1H=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1b=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},RangeHandle$1=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return __extends$1H(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),t.prototype.computeBBox=function(){var e=this,s=e.width,d=e.height;return new BBox(e.centerX-s/2,e.centerY-d/2,s,d)},t.prototype.isPointInPath=function(e,n){var o=this.transformPoint(e,n);return this.computeBBox().containsPoint(o.x,o.y)},t.prototype.updatePath=function(){var e=this,n=e.path,o=e.centerX,s=e.centerY,d=e.width,v=e.height;n.clear();var C=o-d/2,m=s-v/2,w=this.align(C),D=this.align(m),b=w+this.align(C,d),T=D+this.align(m,v);n.moveTo(w,D),n.lineTo(b,D),n.lineTo(b,T),n.lineTo(w,T),n.lineTo(w,D);var A=this.gripLineGap/2,I=this.gripLineLength/2;n.moveTo(this.align(o-A),this.align(s-I)),n.lineTo(this.align(o-A),this.align(s+I)),n.moveTo(this.align(o+A),this.align(s-I)),n.lineTo(this.align(o+A),this.align(s+I))},t.className="RangeHandle",__decorate$1b([Validate(COLOR_STRING)],t.prototype,"_fill",void 0),__decorate$1b([Validate(COLOR_STRING)],t.prototype,"_stroke",void 0),__decorate$1b([Validate(NUMBER(0))],t.prototype,"_strokeWidth",void 0),__decorate$1b([Validate(LINE_CAP)],t.prototype,"_lineCap",void 0),__decorate$1b([Validate(NUMBER(0))],t.prototype,"_width",void 0),__decorate$1b([Validate(NUMBER(0))],t.prototype,"_gripLineGap",void 0),__decorate$1b([Validate(NUMBER(0))],t.prototype,"_gripLineLength",void 0),__decorate$1b([Validate(NUMBER(0))],t.prototype,"_height",void 0),t}(Path),__extends$1G=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$1a=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},RangeMask=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return __extends$1G(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){var n;e=Math.min(Math.max(e,0),this.max-this.minRange),!isNaN(e)&&this._min!==e&&(this._min=e,this.dirtyPath=!0,null===(n=this.onRangeChange)||void 0===n||n.call(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){var n;e=Math.max(Math.min(e,1),this.min+this.minRange),!isNaN(e)&&this._max!==e&&(this._max=e,this.dirtyPath=!0,null===(n=this.onRangeChange)||void 0===n||n.call(this))},enumerable:!1,configurable:!0}),t.prototype.computeBBox=function(){var e=this;return new BBox(e.x,e.y,e.width,e.height)},t.prototype.computeVisibleRangeBBox=function(){var e=this,n=e.x,s=e.width,m=n+s*e.min;return new BBox(m,e.y,n+s*e.max-m,e.height)},t.prototype.updatePath=function(){var e=this,n=e.path,o=e.x,s=e.y,d=e.width,v=e.height,C=e.min,m=e.max;n.clear();var w=this.align(o),D=this.align(s),b=w+this.align(o,d),T=D+this.align(s,v);n.moveTo(w,D),n.lineTo(b,D),n.lineTo(b,T),n.lineTo(w,T),n.lineTo(w,D);var A=this.align(o+d*C),I=this.align(o+d*m);n.moveTo(A,D),n.lineTo(A,T),n.lineTo(I,T),n.lineTo(I,D),n.lineTo(A,D)},t.className="RangeMask",__decorate$1a([Validate(COLOR_STRING)],t.prototype,"_stroke",void 0),__decorate$1a([Validate(NUMBER(0))],t.prototype,"_strokeWidth",void 0),__decorate$1a([Validate(COLOR_STRING)],t.prototype,"_fill",void 0),__decorate$1a([Validate(NUMBER(0,1))],t.prototype,"_fillOpacity",void 0),__decorate$1a([Validate(LINE_CAP)],t.prototype,"_lineCap",void 0),__decorate$1a([Validate(NUMBER(0))],t.prototype,"_width",void 0),__decorate$1a([Validate(NUMBER(0))],t.prototype,"_height",void 0),__decorate$1a([Validate(NUMBER())],t.prototype,"_min",void 0),__decorate$1a([Validate(NUMBER())],t.prototype,"_max",void 0),t}(Path),__extends$1F=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$m=function(){return __assign$m=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$m.apply(this,arguments)},RangeSelector=function(l){function t(){var e=l.call(this,{name:"rangeSelectorGroup"})||this;return e.minHandle=new RangeHandle$1,e.maxHandle=new RangeHandle$1,e.mask=function(){var n=t.defaults,o=n.x,s=n.y,d=n.width,v=n.height,C=n.min,m=n.max,w=new RangeMask;w.x=o,w.y=s,w.width=d,w.height=v,w.min=C,w.max=m;var b=e.minHandle,T=e.maxHandle;return b.centerX=o,T.centerX=o+d,b.centerY=T.centerY=s+v/2,e.append([w,b,T]),w.onRangeChange=function(){var A;e.updateHandles(),null===(A=e.onRangeChange)||void 0===A||A.call(e)},w}(),e._x=t.defaults.x,e._y=t.defaults.y,e._width=t.defaults.width,e._height=t.defaults.height,e._min=t.defaults.min,e._max=t.defaults.max,e.isContainerNode=!0,e}return __extends$1F(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!1,configurable:!0}),t.prototype.updateHandles=function(){var e=this,n=e.minHandle,o=e.maxHandle,s=e.x,d=e.y,v=e.width,C=e.height,m=e.mask;n.centerX=s+v*m.min,o.centerX=s+v*m.max,n.centerY=o.centerY=d+C/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){var n=e.ctx,o=e.forceRender,s=e.stats;if(this.dirty!==RedrawType.NONE||o){this.computeTransformMatrix(),this.matrix.toContext(n);var d=this;[d.mask,d.minHandle,d.maxHandle].forEach(function(w){w.visible&&(o||w.dirty>RedrawType.NONE)&&(n.save(),w.render(__assign$m(__assign$m({},e),{ctx:n,forceRender:o})),n.restore())}),this.markClean({force:!0}),s&&s.nodesRendered++}else s&&s.nodesSkipped++},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(Group),NavigatorMask=function(){function l(t){this.rm=t}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!1,configurable:!0}),l}(),NavigatorHandle=function(){function l(t){this.rh=t}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!1,configurable:!0}),l}(),__extends$1E=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$19=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Navigator=function(l){function t(e){var n=l.call(this)||this;return n.ctx=e,n.rs=new RangeSelector,n.mask=new NavigatorMask(n.rs.mask),n.minHandle=new NavigatorHandle(n.rs.minHandle),n.maxHandle=new NavigatorHandle(n.rs.maxHandle),n.minHandleDragging=!1,n.maxHandleDragging=!1,n.panHandleOffset=NaN,n._enabled=!1,n.margin=10,n._visible=!0,n.rs.onRangeChange=function(){return n.ctx.zoomManager.updateZoom("navigator",{x:{min:n.rs.min,max:n.rs.max}})},[e.interactionManager.addListener("drag-start",function(o){return n.onDragStart(o)}),e.interactionManager.addListener("drag",function(o){return n.onDrag(o)}),e.interactionManager.addListener("hover",function(o){return n.onDrag(o)}),e.interactionManager.addListener("drag-end",function(){return n.onDragStop()})].forEach(function(o){return n.destroyFns.push(function(){return e.interactionManager.removeListener(o)})}),[e.layoutService.addListener("before-series",function(o){return n.layout(o)}),e.layoutService.addListener("layout-complete",function(o){return n.layoutComplete(o)})].forEach(function(o){return n.destroyFns.push(function(){return e.layoutService.removeListener(o)})}),e.scene.root.appendChild(n.rs),n.destroyFns.push(function(){var o;return null===(o=e.scene.root)||void 0===o?void 0:o.removeChild(n.rs)}),n.updateGroupVisibility(),n}return __extends$1E(t,l),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rs.width},set:function(e){this.rs.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rs.height},set:function(e){this.rs.height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.rs.min},set:function(e){this.rs.min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.rs.max},set:function(e){this.rs.max=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.rs.visible=this.enabled&&this.visible},t.prototype.layout=function(e){var n=e.shrinkRect;return this.enabled&&(n.shrink(this.rs.height+this.margin,"bottom"),this.rs.y=n.y+n.height+this.margin),{shrinkRect:n}},t.prototype.layoutComplete=function(e){var n=e.series,o=n.rect,s=n.visible;this.enabled&&s&&(this.rs.x=o.x,this.rs.width=o.width),this.visible=s},t.prototype.update=function(){},t.prototype.onDragStart=function(e){if(this.enabled){var n=e.offsetX,o=e.offsetY,s=this.rs,d=s.minHandle,v=s.maxHandle,C=s.x,m=s.width,w=s.min,D=s.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(d.containsPoint(n,o)?this.minHandleDragging=!0:v.containsPoint(n,o)?this.maxHandleDragging=!0:D.containsPoint(n,o)&&(this.panHandleOffset=(n-C)/m-w))}},t.prototype.onDrag=function(e){if(this.enabled){var o=this.rs,s=this.panHandleOffset,d=o.x,C=o.width,w=o.minHandle,D=o.maxHandle,b=e.offsetX,T=e.offsetY,A=d+C*o.min,N=new BBox(A,o.y,d+C*o.max-A,o.height),G=function(){return Math.min(Math.max((b-d)/C,0),1)};if(w.containsPoint(b,T)||D.containsPoint(b,T)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):N.containsPoint(b,T)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)o.min=G();else if(this.maxHandleDragging)o.max=G();else if(!isNaN(s)){var V=o.max-o.min,W=Math.min(G()-s,1-V);W<=o.min?(o.min=W,o.max=o.min+V):(o.max=W+V,o.min=o.max-V)}}},t.prototype.onDragStop=function(){this.stopHandleDragging()},t.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},__decorate$19([Validate(BOOLEAN)],t.prototype,"_enabled",void 0),__decorate$19([Validate(NUMBER(0))],t.prototype,"margin",void 0),t}(BaseModuleInstance),CHART_NAVIGATOR_MODULE={optionsKey:"navigator",chartTypes:["cartesian"],initialiseModule:function(l){return{instance:new Navigator(l)}}};registerModule(CHART_NAVIGATOR_MODULE);var __assign$l=function(){return __assign$l=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$l.apply(this,arguments)},__awaiter=function(l,t,e,n){return new(e||(e=Promise))(function(s,d){function v(w){try{m(n.next(w))}catch(D){d(D)}}function C(w){try{m(n.throw(w))}catch(D){d(D)}}function m(w){w.done?s(w.value):function o(s){return s instanceof e?s:new e(function(d){d(s)})}(w.value).then(v,C)}m((n=n.apply(l,t||[])).next())})},__generator=function(l,t){var n,o,s,d,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function v(m){return function(w){return function C(m){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(s=2&m[0]?o.return:m[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,m[1])).done)return s;switch(o=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,o=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){e.label=m[1];break}if(6===m[0]&&e.label<s[1]){e.label=s[1],s=m;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(m);break}s[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(l,e)}catch(w){m=[6,w],o=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},__read$k=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$a=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$k(arguments[t]));return l},__values$7=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function chartType(l){if(isAgCartesianChartOptions(l))return"cartesian";if(isAgPolarChartOptions(l))return"polar";if(isAgHierarchyChartOptions(l))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+l.type)}var AgChart=function(){function l(){}return l.create=function(t){return AgChartInternal.createOrUpdate(t)},l.update=function(t,e){if(!AgChartInstanceProxy.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");AgChartInternal.createOrUpdate(e,t)},l.updateDelta=function(t,e){if(!AgChartInstanceProxy.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.updateUserDelta(t,e)},l.download=function(t,e){if(!(t instanceof AgChartInstanceProxy))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.download(t,e)},l.getImageDataURL=function(t,e){if(!(t instanceof AgChartInstanceProxy))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.getImageDataURL(t,e)},l}(),AgChartInstanceProxy=function(){function l(t){this.chart=t}return l.isInstance=function(t){var e,n;if(t instanceof l||"AgChartInstanceProxy"===(null===(e=t.constructor)||void 0===e?void 0:e.name)&&null!=t.chart)return!0;var o=Object.keys(null===(n=t.constructor)||void 0===n?void 0:n.prototype);return!(!Object.keys(l.prototype).every(function(d){return o.includes(d)})||null==t.chart)},l.prototype.getOptions=function(){return this.chart.getOptions()},l.prototype.destroy=function(){this.chart.destroy()},l}(),AgChartInternal=function(){function l(){}return l.createOrUpdate=function(t,e){var n=this;debug(">>> createOrUpdate() user options",t);var o={};!0===l.DEBUG()&&(o.debug=!0);var s=t.overrideDevicePixelRatio;delete t.overrideDevicePixelRatio;var d=prepareOptions(t,o),v=e?.chart;(null==v||chartType(t)!==chartType(v.processedOptions))&&(v=l.createChartInstance(d,s,v)),null==e?e=new AgChartInstanceProxy(v):e.chart=v;var C=v;C.queuedUserOptions.push(t);var m=function(){var w=C.queuedUserOptions.indexOf(t);C.queuedUserOptions.splice(0,w)};return C.requestFactoryUpdate(function(){return __awaiter(n,void 0,void 0,function(){var w;return __generator(this,function(D){switch(D.label){case 0:return C.destroyed?[2]:null==(w=jsonDiff(C.processedOptions,d))?(m(),[2]):[4,l.updateDelta(C,w,t)];case 1:return D.sent(),m(),[2]}})})}),e},l.updateUserDelta=function(t,e){var n,s=t.chart.queuedUserOptions,d=null!==(n=s[s.length-1])&&void 0!==n?n:t.chart.userOptions,v=jsonMerge([d,e]);debug(">>> updateUserDelta() user delta",e),debug("base options",d),l.createOrUpdate(v,t)},l.download=function(t,e){__awaiter(this,void 0,void 0,function(){var s;return __generator(this,function(v){switch(v.label){case 0:return[4,l.prepareResizedChart(t,e)];case 1:return(s=v.sent()).chart.scene.download(e?.fileName,e?.fileFormat),s!==t&&s.destroy(),[2]}})})},l.getImageDataURL=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,s;return __generator(this,function(d){switch(d.label){case 0:return[4,l.prepareResizedChart(t,e)];case 1:return n=d.sent(),s=n.chart.scene.canvas.getDataURL(e?.fileFormat),n!==t&&n.destroy(),[2,s]}})})},l.prepareResizedChart=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,o,s,d,v,C,w,D;return __generator(this,function(b){switch(b.label){case 0:return d=(o=e||{}).height,v=(n=t.chart).width,C=n.height,void 0===(s=o.width)&&void 0===d||1===n.scene.canvas.pixelRatio&&v===s&&C===d?[2,t]:(s=s??v,d=d??C,w=__assign$l(__assign$l({},n.userOptions),{container:document.createElement("div"),width:s,height:d,autoSize:!1,overrideDevicePixelRatio:1}),[4,(D=l.createOrUpdate(w)).chart.waitForUpdate()]);case 1:return b.sent(),[2,D]}})})},l.createChartInstance=function(t,e,n){var o=n?.destroy({keepTransferableResources:!0});if(isAgCartesianChartOptions(t))return new CartesianChart(document,e,o);if(isAgHierarchyChartOptions(t))return new HierarchyChart(document,e,o);if(isAgPolarChartOptions(t))return new PolarChart(document,e,o);throw new Error("AG Charts - couldn't apply configuration, check type of options: "+t.type)},l.updateDelta=function(t,e,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return null==e.type&&(e=__assign$l(__assign$l({},e),{type:t.processedOptions.type||optionsType(e)})),[4,t.awaitUpdateCompletion()];case 1:return o.sent(),t.destroyed||(debug("applying delta",e),applyChartOptions(t,e,n)),[2]}})})},l.DEBUG=function(){var t;return null!==(t=windowValue("agChartsDebug"))&&void 0!==t&&t},l}();function debug(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];[!0,"opts"].includes(AgChartInternal.DEBUG())&&console.log.apply(console,__spread$a([l],t))}function applyChartOptions(l,t,e){var n,o,s,d,v=jsonMerge([null!==(n=l.processedOptions)&&void 0!==n?n:{},t],noDataCloneMergeOptions),C=applyModules(l,v),m=["type","data","series","autoSize","listeners","theme","legend.listeners"];if(isAgCartesianChartOptions(t))m.push("axes");else if(!isAgPolarChartOptions(t)&&!isAgHierarchyChartOptions(t))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+t.type);applyOptionValues(l,t,{skip:m});var w=!1;t.series&&t.series.length>0&&(applySeries(l,t),w=!0),isAgCartesianChartOptions(t)&&t.axes&&applyAxes(l,t)&&(w=!0);var T=!!t.data||t.series?.some(function(G){return null!=G.data});w=w||T||!!(t.legend||t.title||t.subtitle),t.data&&(l.data=t.data),null!=t.autoSize&&(l.autoSize=t.autoSize),t.listeners&&registerListeners(l,t.listeners),!(null===(o=t.legend)||void 0===o)&&o.listeners&&Object.assign(l.legend.listeners,null!==(s=t.legend.listeners)&&void 0!==s?s:{}),l.processedOptions=v,l.userOptions=jsonMerge([null!==(d=l.userOptions)&&void 0!==d?d:{},e],noDataCloneMergeOptions);var N=w||C?ChartUpdateType.PROCESS_DATA:ChartUpdateType.PERFORM_LAYOUT;debug("chart update type",{updateType:ChartUpdateType[N]}),l.update(N,{forceNodeDataRefresh:w})}function applyModules(l,t){var e,n,D,s=!1;try{for(var d=__values$7(REGISTERED_MODULES),v=d.next();!v.done;v=d.next()){var C=v.value,m=(D=C,(l instanceof CartesianChart&&D.chartTypes.includes("cartesian")||l instanceof PolarChart&&D.chartTypes.includes("polar")||l instanceof HierarchyChart&&D.chartTypes.includes("hierarchy"))&&null!=t[C.optionsKey]);m!==l.isModuleEnabled(C)&&(s=!0,m?l.addModule(C):l.removeModule(C))}}catch(D){e={error:D}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}return s}function applySeries(l,t){var e=t.series;if(e){if(l.series.length===e.length&&l.series.every(function(o,s){var d;return o.type===(null===(d=e[s])||void 0===d?void 0:d.type)}))return void l.series.forEach(function(o,s){var d,v,m=jsonDiff((null===(v=null===(d=l.processedOptions)||void 0===d?void 0:d.series)||void 0===v?void 0:v[s])||{},e[s]||{});m&&(debug("applying series diff idx "+s,m),applySeriesValues(o,m,{path:"series["+s+"]"}),o.markNodeDataDirty())});l.series=createSeries(e)}}function applyAxes(l,t){var e=t.axes;if(!e)return!1;if(l.axes.length===e.length&&l.axes.every(function(s,d){return s.type===e[d].type})){var o=l.processedOptions;if(isAgCartesianChartOptions(o))return l.axes.forEach(function(s,d){var v,m=jsonDiff((null===(v=o.axes)||void 0===v?void 0:v[d])||{},e[d]);debug("applying axis diff idx "+d,m),applyOptionValues(s,m,{path:"axes["+d+"]",skip:["axes[].type"]})}),!0}return l.axes=createAxis(e),!0}function createSeries(l){var t,e,n=[],o=0;try{for(var s=__values$7(l||[]),d=s.next();!d.done;d=s.next()){var v=d.value,C="series["+o+++"]";switch(v.type){case"area":n.push(applySeriesValues(new AreaSeries,v,{path:C}));break;case"bar":case"column":n.push(applySeriesValues(new BarSeries,v,{path:C}));break;case"histogram":n.push(applySeriesValues(new HistogramSeries,v,{path:C}));break;case"line":n.push(applySeriesValues(new LineSeries,v,{path:C}));break;case"scatter":n.push(applySeriesValues(new ScatterSeries,v,{path:C}));break;case"pie":n.push(applySeriesValues(new PieSeries,v,{path:C}));break;case"treemap":n.push(applySeriesValues(new TreemapSeries,v,{path:C}));break;default:throw new Error("AG Charts - unknown series type: "+v.type)}}}catch(m){t={error:m}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return n}function createAxis(l){var t,e,n=[],o=0;try{for(var s=__values$7(l||[]),d=s.next();!d.done;d=s.next()){var v=d.value,C="axes["+o+++"]",m=["axes[].type"];switch(v.type){case"number":n.push(applyOptionValues(new NumberAxis,v,{path:C,skip:m}));break;case LogAxis.type:n.push(applyOptionValues(new LogAxis,v,{path:C,skip:m}));break;case CategoryAxis.type:n.push(applyOptionValues(new CategoryAxis,v,{path:C,skip:m}));break;case GroupedCategoryAxis.type:n.push(applyOptionValues(new GroupedCategoryAxis,v,{path:C,skip:m}));break;case TimeAxis.type:n.push(applyOptionValues(new TimeAxis,v,{path:C,skip:m}));break;default:throw new Error("AG Charts - unknown axis type: "+v.type)}}}catch(w){t={error:w}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return n}function registerListeners(l,t){for(var e in l.clearEventListeners(),t){var n=t[e];"function"==typeof n&&l.addEventListener(e,n)}}var JSON_APPLY_OPTIONS={constructors:{title:Caption,subtitle:Caption,shadow:DropShadow,innerCircle:DoughnutInnerCircle,"axes[].crossLines[]":CrossLine,"series[].innerLabels[]":DoughnutInnerLabel},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function applyOptionValues(l,t,e){var n=void 0===e?{}:e,o=n.skip,s=n.path;return jsonApply(l,t,__assign$l(__assign$l(__assign$l({},JSON_APPLY_OPTIONS),{skip:o}),s?{path:s}:{}))}function applySeriesValues(l,t,e){var n=(void 0===e?{}:e).path,s=JSON_APPLY_OPTIONS?.constructors||{},d={constructors:__assign$l(__assign$l({},s),{title:"pie"===l.type?PieTitle:s.title})},C=jsonApply(l,t,__assign$l(__assign$l(__assign$l(__assign$l({},JSON_APPLY_OPTIONS),d),{skip:__spread$a(["series[].type"],["series[].listeners"]||[])}),n?{path:n}:{})),m=t?.listeners;return null!=m&&registerListeners(l,m),C}var VERSION$b="7.1.0",__extends$1D=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$18=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartDatasource=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$1D(t,l),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsService.isRowModelType("clientSide"))return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsService.isRowModelType("serverSide")&&e.pivoting&&this.updatePivotKeysForSSRM();var o=this.extractRowsFromGridRowModel(e);return o.chartData=this.aggregateRowsByDimension(e,o.chartData),o},t.prototype.extractRowsFromGridRowModel=function(e){var w,n=this,o=[],s={},d={},v={},C={},m=[];if(e.crossFiltering)C=this.getFilteredRowNodes(),w=(m=this.getAllRowNodes()).length;else{var D=this.gridRowModel.getRowCount()-1;w=(e.endRow>=0?Math.min(e.endRow,D):D)-e.startRow+1}for(var T=function(V){var W={},j=e.crossFiltering?m[V]:A.gridRowModel.getRow(V+e.startRow);e.dimensionCols.forEach(function(K){var Y=K.colId,re=n.columnModel.getGridColumn(Y);if(re){var q=n.valueService.getValue(re,j);if(e.grouping){var Z=q&&q.toString?String(q.toString()):"",ee=t.getGroupLabels(j,Z);W[Y]={labels:ee,toString:function(){return this.labels.filter(function(se){return!!se}).reverse().join(" - ")}},j.group&&(d[ee.toString()]=V);var ne=ee.slice(1,ee.length).toString();ne&&(v[ne]=d[ne])}else W[Y]=q}else W[ChartDataModel.DEFAULT_CATEGORY]=V+1}),e.valueCols.forEach(function(K){var Y=[],re=K.getColDef().pivotKeys;re&&(Y=re.slice());var q=K.getColDef().headerName;q&&Y.push(q),Y.length>0&&(s[K.getId()]=Y);var Z=K.getColId();if(e.crossFiltering){var ee=Z+"-filtered-out",se=null!=(ne=n.valueService.getValue(K,j))&&"function"==typeof ne.toNumber?ne.toNumber():ne;C[j.id]?(W[Z]=se,W[ee]=e.aggFunc||e.isScatter?void 0:0):(W[Z]=e.aggFunc||e.isScatter?void 0:0,W[ee]=se)}else{var ne;(ne=n.valueService.getValue(K,j))&&ne.hasOwnProperty("toString")&&(ne=parseFloat(ne.toString())),W[Z]=null!=ne&&"function"==typeof ne.toNumber?ne.toNumber():ne}}),j.footer&&(W.footer=!0),o.push(W)},A=this,I=0;I<w;I++)T(I);if(e.grouping){var N=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(v);o=o.filter(function(V,W){return!V.footer&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(N,W)})}return{chartData:o,columnNames:s}},t.prototype.aggregateRowsByDimension=function(e,n){var o=this,s=e.dimensionCols;if(!e.aggFunc||0===s.length)return n;var d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s),v=d&&d.colId,C={},m=[];return n.forEach(function(w){var D=C;s.forEach(function(b){var T=b.colId,A=w[T];if(T===v){var I=D[A];I||(I={__children:[]},s.forEach(function(N){var G=N.colId;I[G]=w[G]}),D[A]=I,m.push(I)),I.__children.push(w)}else D[A]||(D[A]={}),D=D[A]})}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&m.forEach(function(w){return e.valueCols.forEach(function(D){if(e.crossFiltering)e.valueCols.forEach(function(A){var I=A.getColId(),N=w.__children.filter(function(K){return typeof K[I]<"u"}).map(function(K){return K[I]}),G=o.aggregationStage.aggregateValues(N,e.aggFunc);w[A.getId()]=G&&typeof G.value<"u"?G.value:G;var V=I+"-filtered-out",W=w.__children.filter(function(K){return typeof K[V]<"u"}).map(function(K){return K[V]}),j=o.aggregationStage.aggregateValues(W,e.aggFunc);w[V]=j&&typeof j.value<"u"?j.value:j});else{var b=w.__children.map(function(A){return A[D.getId()]}),T=0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&(T=o.aggregationStage.aggregateValues(b,e.aggFunc)),w[D.getId()]=T&&typeof T.value<"u"?T.value:T}})}),m},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var n=this.extractPivotKeySeparator(e);e.forEach(function(o){if(""===n)o.getColDef().pivotKeys=[];else{var s=o.getColId().split(n);o.getColDef().pivotKeys=s.slice(0,s.length-1)}})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var n=function(s,d){var v=s.getGroupId();return s.getParent()?n(s.getParent(),v):d.split(v)[1][0]},o=e[0];return null==o.getParent()?"":n(o.getParent(),o.getColId())},t.getGroupLabels=function(e,n){for(var o=[n];e&&0!==e.level;)(e=e.parent)&&o.push(e.key);return o},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(n){e[n.id]=n}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(n){e.push(n)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var n=this.sortController.getSortOptions();return n&&0!=n.length?this.rowNodeSorter.doFullSort(e,n):e},__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"gridRowModel",void 0),__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],t.prototype,"sortController",void 0),__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1C=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$17=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$j=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$9=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$j(arguments[t]));return l},ChartDataModel=function(l){function t(e){var n=l.call(this)||this;return n.unlinked=!1,n.chartData=[],n.valueColState=[],n.dimensionColState=[],n.columnNames={},n.grouping=!1,n.crossFiltering=!1,n.suppressComboChartWarnings=!1,n.chartId=e.chartId,n.chartType=e.chartType,n.pivotChart=e.pivotChart,n.chartThemeName=e.chartThemeName,n.aggFunc=e.aggFunc,n.referenceCellRange=e.cellRange,n.suppliedCellRange=e.cellRange,n.suppressChartRanges=e.suppressChartRanges,n.unlinked=!!e.unlinkChart,n.crossFiltering=!!e.crossFiltering,n.seriesChartTypes=e.seriesChartTypes||[],n.initComboCharts(e),n}return __extends$1C(t,l),t.prototype.initComboCharts=function(e){("customCombo"===e.chartType||this.seriesChartTypes&&this.seriesChartTypes.length>0)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.init=function(){this.datasource=this.createManagedBean(new ChartDatasource),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var n=this.getAllChartColumns(),o=n.dimensionCols,s=n.valueCols,d=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(o,d,e),this.setValueCellRange(s,d,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},t.prototype.updateSeriesChartTypes=function(){if(this.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var n=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!n&&e.secondaryAxis,e}),"customCombo"===this.chartType)return void this.updateSeriesChartTypesForCustomCombo();this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this;!(this.seriesChartTypes&&this.seriesChartTypes.length>0)&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(d){return t.SUPPORTED_COMBO_CHART_TYPES.includes(d.chartType)||(console.warn("AG Grid: invalid chartType '"+d.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),d.chartType="line"),d});var s=this.valueColState.map(function(d){return(!e.savedCustomSeriesChartTypes||0===e.savedCustomSeriesChartTypes.length)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes),e.savedCustomSeriesChartTypes.find(function(C){return C.colId===d.colId})||(d.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+d.colId+"', defaulting to 'line'."),{colId:d.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=s,this.savedCustomSeriesChartTypes=s,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",n="columnLineCombo"===this.chartType?"line":"groupedColumn",o=this.valueColState.filter(function(d){return d.selected}),s=Math.ceil(o.length/2);this.seriesChartTypes=o.map(function(d,v){return{colId:d.colId,chartType:v>=s?n:e,secondaryAxis:!1}})},t.prototype.updateData=function(){var e=this.getRowIndexes(),n=e.startRow,o=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var s={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:n,endRow:o,isScatter:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.chartType)},d=this.datasource.getData(s),C=d.columnNames;this.chartData=d.chartData,this.columnNames=C},t.prototype.isGrouping=function(){var e=this.gridOptionsService.isTreeData(),n=e?null:this.columnModel.getRowGroupColumns(),o=e||n&&n.length>0,s=this.getSelectedDimension().colId,v=this.columnModel.getGroupDisplayColumns().map(function(C){return C.getColId()}).some(function(C){return C===s});return!!o&&v},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.getChartDataType=function(e){var n=this.columnModel.getPrimaryColumn(e);return n?n.getColDef().chartDataType:void 0},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.createCellRange=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:n,startColumn:e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION?n[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,__spread$9(this.dimensionCellRange.columns)),this.valueCellRange&&e.push.apply(e,__spread$9(this.valueCellRange.columns)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,n=0,o=this.rangeService,s=this.valueCellRange;if(o&&s){e=o.getRangeStartRow(s).rowIndex;var d=o.getRangeEndRow(s);n="bottom"===d.rowPinned?-1:d.rowIndex}return{startRow:e,endRow:n}},t.prototype.getAllChartColumns=function(){var e=this,n=this.columnModel.getAllDisplayedColumns(),o=new Set,s=new Set;return n.forEach(function(d){var v=d.getColDef(),C=v.chartDataType;if(C)switch(C){case"category":case"time":return void o.add(d);case"series":return void s.add(d);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+C+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==v.colId?d.isPrimary()?(e.isNumberCol(d)?s:o).add(d):s.add(d):o.add(d)}),{dimensionCols:o,valueCols:s}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var n=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!n)return!1;var o=this.valueService.getValue(e,n);return null==o&&(o=this.extractLeafData(n,e)),null!=o&&"function"==typeof o.toNumber&&(o=o.toNumber()),"number"==typeof o},t.prototype.extractLeafData=function(e,n){if(!e.allLeafChildren)return null;for(var o=0;o<e.allLeafChildren.length;o++){var d=this.valueService.getValue(n,e.allLeafChildren[o]);if(null!=d)return d}return null},t.prototype.resetColumnState=function(){var e=this,n=this.getAllChartColumns(),o=n.dimensionCols,s=n.valueCols,d=this.getAllColumnsFromRanges(),v=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var C=!1,m=1,w=this.suppliedCellRange.columns[0];o.forEach(function(T){var A="ag-Grid-AutoColumn"===T.getColId(),I=!1;e.crossFiltering&&e.aggFunc?w.getColId()===T.getColId()&&(I=!0):I=!!A||!C&&d.has(T),e.dimensionColState.push({column:T,colId:T.getColId(),displayName:e.getColDisplayName(T),selected:I,order:m++}),I&&(C=!0)});var D={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!C,order:0};this.dimensionColState.unshift(D);var b=this.referenceCellRange.columns.filter(function(T){return s.has(T)});s.forEach(function(T){v&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e.referenceCellRange.columns,T)&&(T=b.shift()),e.valueColState.push({column:T,colId:T.getColId(),displayName:e.getColDisplayName(T),selected:d.has(T),order:m++})})},t.prototype.updateColumnState=function(e){var n=function(m){return m.colId===e.colId},s=this.dimensionColState,d=this.valueColState;s.filter(n).length>0?s.forEach(function(m){return m.selected=n(m)}):d.filter(n).forEach(function(m){return m.selected=e.selected});var v=__spread$9(s,d),C=[];v.forEach(function(m,w){w===e.order&&C.push(e.colId),m.colId!==e.colId&&C.push(m.colId)}),v.forEach(function(m){var w=C.indexOf(m.colId);m.order=w>=0?C.indexOf(m.colId):v.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(n,o){return n.order-o.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,n,o){var s=this;if(this.dimensionCellRange=void 0,o||this.dimensionColState.length){var d=o;if(this.crossFiltering&&this.aggFunc){var v=this.suppliedCellRange.columns[0];d=this.dimensionColState.filter(function(C){return C.colId===v.getColId()})[0]}else(!d||!e.has(d.column))&&(d=this.dimensionColState.filter(function(C){return C.selected})[0]);d&&d.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,d.column))}else e.forEach(function(C){s.dimensionCellRange||!n.has(C)||(s.dimensionCellRange=s.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,C))})},t.prototype.setValueCellRange=function(e,n,o){this.valueCellRange=void 0;var s=[];if(e.forEach(function(v){o&&o.colId===v.getColId()?o.selected&&s.push(o.column):n.has(v)&&s.push(v)}),s.length>0){var d=[];this.valueColState.length>0?d=this.valueColState.map(function(v){return v.colId}):n.forEach(function(v){return d.push(v.getColId())}),s.sort(function(v,C){return d.indexOf(v.getColId())-d.indexOf(C.getColId())}),this.valueCellRange=this.createCellRange.apply(this,__spread$9([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE],s))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,e.column))},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],t.prototype,"rangeService",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$17([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VALID_SERIES_TYPES=["area","bar","column","histogram","line","pie","scatter"];function getSeriesType(l){switch(l){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var ALL_AXIS_TYPES=["number","category","groupedCategory","log","time"];function getLegacyAxisType(l){switch(l){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","groupedCategory"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["groupedCategory","number"];case"scatter":case"bubble":return["number","number"];default:return}}var __assign$k=function(){return __assign$k=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$k.apply(this,arguments)};function createAgChartTheme(l,t){var e,W,n=l.chartOptionsToRestore,o=l.chartPaletteToRestore,s=l.chartThemeToRestore,d=getSelectedTheme(l),v=isStockTheme(d),C=v?{baseTheme:d}:null!==(e=lookupCustomChartTheme(l,d))&&void 0!==e?e:{},m=l.getGridOptionsChartThemeOverrides(),w=l.apiChartThemeOverrides,D=getSeriesType(l.chartType),T=l.crossFiltering?createCrossFilterThemeOverrides(t,l,"pie"===D?"polar":"cartesian"):void 0,A=__assign$k({},n??{}),G=[v?inbuiltStockThemeOverrides(l,(W=function(j){return!!j&&Object.keys(j).some(function(K){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(j[K],"title.enabled",!1)})},W(m)||W(w))):void 0,T,m,w,A].filter(function(W){return!!W}).reduce(function(W,j){return{baseTheme:W,overrides:j}},C);return o&&d===s&&(isIdenticalPalette(o,getChartTheme(C).palette)||(G.palette=o)),G}function isIdenticalPalette(l,t){var e=function(n,o){return n.length===o.length&&n.every(function(s,d){return s===o[d]})};return e(l.fills,t.fills)&&e(l.strokes,t.strokes)}function isStockTheme(l){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(Object.keys(themes),l)}function createCrossFilterThemeOverrides(l,t,e){var n,o={listeners:{legendItemClick:function(d){l.getChart().series.forEach(function(C){C.toggleSeriesItem(d.itemId,d.enabled),C.toggleSeriesItem(d.itemId+"-filtered-out",d.enabled)})}}},s={};return"polar"===e&&(s.pie={tooltip:{renderer:function(d){var C=d.datum;return{title:d.angleName,content:C[d.calloutLabelKey]+": "+d.angleValue*C[d.radiusKey]}}}}),(n={})[e]={tooltip:{delay:500},legend:o,listeners:{click:function(d){return t.crossFilterCallback(d,!0)}},series:s},n}var STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES=ALL_AXIS_TYPES.reduce(function(l,t){var e;return __assign$k(__assign$k({},l),((e={})[t]={title:{_enabledFromTheme:!0}},e))},{});function inbuiltStockThemeOverrides(l,t){var e=l.getExtraPaddingDirections();return{common:{axes:STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES,padding:{top:!t&&e.includes("top")?40:20,right:e.includes("right")?30:20,bottom:e.includes("bottom")?40:20,left:e.includes("left")?30:20}},pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function getSelectedTheme(l){var t=l.getChartThemeName(),e=l.getChartThemes();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,t)||(t=e[0]),t}function lookupCustomChartTheme(l,t){var e=l.customChartThemes,n=e&&e[t];return n||console.warn("AG Grid: no stock theme exists with the name '"+t+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),n}var __extends$1B=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$16=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DEFAULT_THEMES=["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"],ChartController=function(l){function t(e){var n=l.call(this)||this;return n.model=e,n}return __extends$1B(t,l),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,function(n){n.id&&n.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartUpdateParams=function(){var n=this.getSelectedValueColState().map(function(d){return{colId:d.colId,displayName:d.displayName}}),o=this.getChartData(),s=this.getSelectedDimension();return{data:o,grouping:this.isGrouping(),category:{id:s.colId,name:s.displayName,chartDataType:this.model.getChartDataType(s.colId)},fields:n,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes()}},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",n=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:n}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){this.model.chartType=e,this.model.updateSeriesChartTypes(),this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.chartThemeName=e,this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemes=function(){return this.gridOptionsService.get("chartThemes")||DEFAULT_THEMES},t.prototype.getPalettes=function(){var e=this;return this.getThemes().map(function(o){return getChartTheme(isStockTheme(o)?o:e.chartProxy.lookupCustomChartTheme(o)).palette})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getDimensionColState=function(){return this.model.dimensionColState},t.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},t.prototype.displayNameMapper=function(e){var n=this.model.columnNames[e.colId];return e.displayName=n?n.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===ChartDataModel.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartModelUpdateEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,n,o){var s=this.model.seriesChartTypes.find(function(C){return C.colId===e});if(s){var d="customCombo"!==this.model.chartType;d&&(this.model.chartType="customCombo");var v=s.chartType;null!=n&&(s.chartType=n),null!=o&&(s.secondaryAxis=o),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),d&&this.dispatchEvent({type:t.EVENT_CHART_TYPE_CHANGED}),v!==n&&this.dispatchEvent({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}),this.raiseChartOptionsChangedEvent()}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(n){return n.colId});return this.getSeriesChartTypes().filter(function(n){return e.includes(n.colId)})},t.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[getSeriesType(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),n=e[0],o=n&&n.startRow||null,s=n&&n.endRow||null;return{rowStartIndex:o&&o.rowIndex,rowStartPinned:o&&o.rowPinned,rowEndIndex:s&&s.rowIndex,rowEndPinned:s&&s.rowPinned,columns:e.reduce(function(d,v){return d.concat(v.columns.map(function(C){return C.getId()}))},[])}},t.prototype.raiseChartModelUpdateEvent=function(){this.dispatchEvent({type:t.EVENT_CHART_MODEL_UPDATE})},t.prototype.raiseChartUpdatedEvent=function(){this.dispatchEvent({type:t.EVENT_CHART_UPDATED})},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),s={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides()};this.eventService.dispatchEvent(s)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_MODEL_UPDATE="chartModelUpdate",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],t.prototype,"rangeService",void 0),__decorate$16([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1A=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$15=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$i=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$8=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$i(arguments[t]));return l},__values$6=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DefaultDataPanelDef={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0}]},ChartDataPanel=function(l){function t(e,n){var o=l.call(this,t.TEMPLATE)||this;return o.chartController=e,o.chartOptionsService=n,o.columnComps=new Map,o}return __extends$1A(t,l),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_MODEL_UPDATE,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),l.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var n,o,e=this,s=this.chartType,d=this.chartController.getColStateForMenu(),v=d.dimensionCols,C=d.valueCols,m=v.map(function(T){return T.colId}).concat(C.map(function(T){return T.colId}));this.chartType=this.chartController.getChartType();var w=this.getGroupExpandedState();if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.keys(this.columnComps),m)&&this.chartType===s){if(__spread$8(v,C).forEach(function(T){e.columnComps.get(T.colId).setValue(T.selected,!0)}),this.chartController.isActiveXYChart()){var D=this.generateGetSeriesLabel();C.forEach(function(T){e.columnComps.get(T.colId).setLabel(D(T))})}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);var b=null===(n=this.getDataPanelDef().groups)||void 0===n?void 0:n.reduce(function(T,A,I){return"seriesChartType"===A.type?I:T},-1);-1!==b&&this.createSeriesChartTypeGroup(C,b)}else this.clearComponents(),null===(o=this.getDataPanelDef().groups)||void 0===o||o.forEach(function(T){var A=T.type;"categories"===A?e.createCategoriesGroup(v):"series"===A?e.createSeriesGroup(C):"seriesChartType"===A?e.createSeriesChartTypeGroup(C):console.warn("AG Grid: invalid charts data panel group name supplied: '"+A+"'")});this.restoreGroupExpandedState(w)},t.prototype.getGroupExpandedState=function(){var e=this;return[{groupType:"categories",comp:this.categoriesGroupComp},{groupType:"series",comp:this.seriesGroupComp},{groupType:"seriesChartType",comp:this.seriesChartTypeGroupComp}].map(function(o){var s,d,v=o.groupType,C=o.comp,m=Boolean(null===(d=null===(s=e.getDataPanelDef().groups)||void 0===s?void 0:s.find(function(w){return w.type===v}))||void 0===d?void 0:d.isOpen);return C?C.isExpanded():m})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(n,o){n&&n.toggleGroupExpand(e[o])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(n){return e.scrollTop=n}})},t.prototype.createComponent=function(e,n){var o=document.createElement("div");return o.id=n,o.className="ag-chart-data-section",o.appendChild(e.getGui()),o},t.prototype.addComponent=function(e,n,o){var s=this.createComponent(n,o);e.appendChild(s)},t.prototype.addComponentAtIndex=function(e,n,o,s){var d=this.createComponent(n,o);e.insertBefore(d,e.children[s])},t.prototype.addChangeListener=function(e,n){var o=this;this.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,function(){n.selected=e.getValue(),o.chartController.updateForPanelChange(n)})},t.prototype.createCategoriesGroup=function(e){var n=this;this.categoriesGroupComp=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o="chartDimension"+this.getCompId();e.forEach(function(s){var d=n.categoriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LQq);d.setLabel(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(s.displayName)),d.setValue(s.selected),d.setInputName(o),n.addChangeListener(d,s),n.categoriesGroupComp.addItem(d),n.columnComps.set(s.colId,d)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},t.prototype.createSeriesGroup=function(e){var n=this;if(this.seriesGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var o=this.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);o.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(v){n.chartOptionsService.setPairedMode(!!v),n.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(o)}var s=this.generateGetSeriesLabel();e.forEach(function(v){var C=n.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc);C.addCssClass("ag-data-select-checkbox");var m=s(v);C.setLabel(m),C.setValue(v.selected),n.addChangeListener(C,v),n.seriesGroupComp.addItem(C),n.columnComps.set(v.colId,C),n.addDragHandle(C,v)}),this.addComponent(this.getGui(),this.seriesGroupComp,"seriesGroup");var d={getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_MOVE},getContainer:function(){return n.seriesGroupComp.getGui()},onDragging:function(v){return n.onDragging(v)},onDragLeave:function(){return n.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(d)},t.prototype.createSeriesChartTypeGroup=function(e,n){var o=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var s=this.chartController.getSeriesChartTypes();e.forEach(function(d){if(d.selected){var v=s.filter(function(T){return T.colId===d.colId})[0];if(v){var C=o.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:d.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),m=o.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(o.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(v.chartType)).setValue(!!v.secondaryAxis).onValueChange(function(T){return o.chartController.updateSeriesChartType(d.colId,void 0,T)});C.addItem(m);var w=function(T,A){return o.chartTranslationService.translate(T,A)},D=[{value:"line",text:w("line","Line")},{value:"area",text:w("area","Area")},{value:"stackedArea",text:w("stackedArea","StackedArea")},{value:"groupedColumn",text:w("groupedColumn","Grouped Column")},{value:"stackedColumn",text:w("stackedColumn","Stacked Column")}],b=C.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);b.setLabelAlignment("left").setLabelWidth("flex").addOptions(D).setValue(v.chartType).onValueChange(function(T){return o.chartController.updateSeriesChartType(d.colId,T)}),C.addItem(b),o.seriesChartTypeGroupComp.addItem(C)}}}),void 0===n?this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup"):this.addComponentAtIndex(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup",n)}},t.prototype.addDragHandle=function(e,n){var o=this,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService);s.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",s);var d={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel,eElement:s,dragItemName:n.displayName,getDragItem:function(){return{columns:[n.column]}},onDragStopped:function(){return o.onDragStop()}};this.dragAndDropService.addDragSource(d,!0),this.addDestroyFunc(function(){return o.dragAndDropService.removeDragSource(d)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(d){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(d.displayName)};var e="bubble"===this.chartType,n=this.isInPairedMode(),o=0,s=new Map;return s.set(0,"X"),s.set(1,"Y"),s.set(2,"size"),function(d){var C,v=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(d.displayName);return d.selected?(C=n?s.get(o%(e?3:2)):0===o?"X":e&&o%2==0?"size":"Y",o++,v+" ("+C+")"):v}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.getDataPanelDef=function(){var e;return(null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.dataPanel)||DefaultDataPanelDef},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var n=this.checkHoveredItem(e);if(n){this.lastDraggedColumn=e.dragItem.columns[0];var o=n.comp,s=n.position,d=this.lastHoveredItem||{};o===d.comp&&s===d.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:o,position:s},o.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+s))}},t.prototype.checkHoveredItem=function(e){var n,o;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e.vDirection))return null;var s=e.event;try{for(var d=__values$6(this.columnComps.values()),v=d.next();!v.done;v=d.next()){var C=v.value,m=C.getGui();if(m.querySelector(".ag-chart-data-column-drag-handle")){var w=m.getBoundingClientRect();if(s.clientY>=w.top&&s.clientY<=w.bottom)return{comp:C,position:s.clientY>w.top+m.clientHeight/2?"bottom":"top"}}}}catch(A){n={error:A}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var n=this.chartController.getColStateForMenu(),d=__spread$8(n.dimensionCols,n.valueCols).find(function(C){return C.column===e.lastDraggedColumn});if(d){var v=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&v++,d.order=v,this.chartController.updateForPanelChange(d)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$15([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$14=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FontPanel=function(l){function t(e){var n=l.call(this)||this;return n.activeComps=[],n.params=e,n}return __extends$1z(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(n){e.params.setEnabled&&e.params.setEnabled(n)})},t.prototype.initFontFamilySelect=function(){var e=this,n=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],o=this.params.initialFont.family,s=n[0];if(o){var v=n.map(function(w){return w.toLowerCase()}).indexOf(o.toLowerCase());if(v>=0)s=n[v];else{var C=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(o);n.push(C),s=C}}var m=n.sort().map(function(w){return{value:w,text:w}});this.familySelect.addOptions(m).setInputWidth("flex").setValue(""+s).onValueChange(function(w){return e.params.setFont({family:w})})},t.prototype.initFontSizeSelect=function(){var e=this,n=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],o=this.params.initialFont.size;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,o)||n.push(o);var s=n.sort(function(d,v){return d-v}).map(function(d){return{value:""+d,text:""+d}});this.sizeSelect.addOptions(s).setInputWidth("flex").setValue(""+o).onValueChange(function(d){return e.params.setFont({size:parseInt(d,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,n=this.params.initialFont,o=n.weight,s=void 0===o?"normal":o,d=n.style,v=void 0===d?"normal":d,C=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],m=C.find(function(D){return D.weight===s&&D.style===v});m||C.unshift(m={name:"predefined",weight:s,style:v});var w=C.map(function(D){return{value:D.name,text:e.chartTranslationService.translate(D.name)}});this.weightStyleSelect.addOptions(w).setInputWidth("flex").setValue(m.name).onValueChange(function(D){var b=C.find(function(T){return T.name===D});e.params.setFont({weight:b.weight,style:b.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(n){return e.params.setFont({color:n})})},t.prototype.addItemToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActiveComps(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("fontGroup")],t.prototype,"fontGroup",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("familySelect")],t.prototype,"familySelect",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sizeSelect")],t.prototype,"sizeSelect",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],t.prototype,"colorPicker",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$14([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$13=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},LegendPanel=function(l){function t(e){var n=e.chartOptionsService,o=e.isExpandedOnInit,s=void 0!==o&&o,d=l.call(this)||this;return d.activePanels=[],d.chartOptionsService=n,d.isExpandedOnInit=s,d}return __extends$1y(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(n){e.chartOptionsService.setChartOption("legend.enabled",n),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this;this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(["top","right","bottom","left"].map(function(o){return{value:o,text:e.chartTranslationService.translate(o)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(o){return e.chartOptionsService.setChartOption("legend.position",o)})},t.prototype.initLegendPadding=function(){var e=this,n=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(getMaxValue(n,200)).setValue(""+n).setTextFieldWidth(45).onValueChange(function(o){return e.chartOptionsService.setChartOption("legend.spacing",o)})},t.prototype.initLegendItems=function(){var e=this,n=function(o,s,d,v){var C=e.chartOptionsService.getChartOption("legend."+o);d.setLabel(e.chartTranslationService.translate(s)).setMaxValue(getMaxValue(C,v)).setValue(""+C).setTextFieldWidth(45).onValueChange(function(m){e.chartOptionsService.setChartOption("legend."+o,m)})};n("item.marker.size","markerSize",this.markerSizeSlider,40),n("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),n("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),n("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),n("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,n=this.chartOptionsService,o={family:n.getChartOption("legend.item.label.fontFamily"),style:n.getChartOption("legend.item.label.fontStyle"),weight:n.getChartOption("legend.item.label.fontWeight"),size:n.getChartOption("legend.item.label.fontSize"),color:n.getChartOption("legend.item.label.color")},v=this.createBean(new FontPanel({enabled:!0,suppressEnabledCheckbox:!0,initialFont:o,setFont:function(C){var m=e.chartOptionsService;C.family&&m.setChartOption("legend.item.label.fontFamily",C.family),C.weight&&m.setChartOption("legend.item.label.fontWeight",C.weight),C.style&&m.setChartOption("legend.item.label.fontStyle",C.style),C.size&&m.setChartOption("legend.item.label.fontSize",C.size),C.color&&m.setChartOption("legend.item.label.color",C.color)}}));this.legendGroup.addItem(v),this.activePanels.push(v)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendGroup")],t.prototype,"legendGroup",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$13([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1x=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$12=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AxisTicksPanel=function(l){function t(e){var n=l.call(this)||this;return n.chartOptionsService=e,n}return __extends$1x(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(o){return e.chartOptionsService.setAxisProperty("tick.color",o)});var n=function(o,s,d,v){var C=e.chartOptionsService.getAxisProperty(o);s.setLabel(d).setMaxValue(getMaxValue(C,v)).setValue(""+C).setTextFieldWidth(45).onValueChange(function(m){return e.chartOptionsService.setAxisProperty(o,m)})};n("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),n("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$12([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1w=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$11=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AgAngleSelect=function(l){function t(e){var n=l.call(this,e,t.TEMPLATE)||this;return n.radius=0,n.offsetX=0,n.offsetY=0,n}return __extends$1w(t,l),t.prototype.postConstruct=function(){var e=this;l.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(n){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(n){return e.calculateAngleDrag(n)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(n){(null==n||""===n)&&(n="0"),n=e.eAngleValue.normalizeValue(n);var o=parseFloat(n);o>180&&(o-=360),e.setValue(o)}),this.updateNumberInput(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,function(){var n=e.gridOptionsService.getDocument();e.eAngleValue.getInputElement().contains(n.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var n=this.parentCircleRect||{width:24,height:24},o=this.eChildCircle,d=n.height/2;o.style.left=n.width/2+8*Math.cos(e)+"px",o.style.top=d+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,n=this.offsetY,o=Math.atan2(n,e);this.degrees=this.toDegrees(o),this.radius=Math.sqrt(e*e+n*n),this.positionChildCircle(o)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),n=this.getRadius();this.setOffsetX(Math.cos(e)*n).setOffsetY(Math.sin(e)*n)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var n=this.parentCircleRect,w=Math.atan2(e.clientY-n.top-n.height/2,e.clientX-n.left-n.width/2);this.setValue(w,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var n=this;return this.addManagedListener(this,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,function(){e(n.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,n){var o;return o=n?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(o),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(o),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setFixedWidth(this.getGui(),e),this},t.prototype.setDisabled=function(e){return l.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],t.prototype,"eLabel",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eParentCircle")],t.prototype,"eParentCircle",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChildCircle")],t.prototype,"eChildCircle",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eAngleValue")],t.prototype,"eAngleValue",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],t.prototype,"dragService",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ZST),__extends$1v=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$10=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AxisPanel=function(l){function t(e){var n=e.chartController,o=e.chartOptionsService,s=e.isExpandedOnInit,d=void 0!==s&&s,v=l.call(this)||this;return v.activePanels=[],v.axisLabelUpdateFuncs=[],v.prevXRotation=0,v.prevYRotation=0,v.chartController=n,v.chartOptionsService=o,v.isExpandedOnInit=d,v}return __extends$1v(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(s){return s()})})},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(o){return e.chartOptionsService.setAxisProperty("line.color",o)});var n=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(getMaxValue(n,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue(""+n).onValueChange(function(o){return e.chartOptionsService.setAxisProperty("line.width",o)})},t.prototype.initAxisTicks=function(){var e=this.createBean(new AxisTicksPanel(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,n={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},s={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(v){v.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",v.family),v.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",v.weight),v.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",v.style),v.size&&e.chartOptionsService.setAxisProperty("label.fontSize",v.size),v.color&&e.chartOptionsService.setAxisProperty("label.color",v.color)}},d=this.createBean(new FontPanel(s));this.axisGroup.addItem(d),this.activePanels.push(d),this.addAdditionalLabelComps(d)},t.prototype.addAdditionalLabelComps=function(e){this.addLabelPadding(e);var n=this.createRotationWidgets(),o=n.xRotationComp,s=n.yRotationComp,d=this.initLabelRotations(o,s);e.addCompToPanel(d),e.addCompToPanel(o),e.addCompToPanel(s)},t.prototype.initLabelRotations=function(e,n){var D,b,o=this,s=function(D){return o.chartOptionsService.getLabelRotation(D)},d=function(D,b){o.chartOptionsService.setLabelRotation(D,b)},m=(D=s("xAxis"),b=s("yAxis"),null==D&&null==b&&o.chartOptionsService.getAxisProperty("label.autoRotate")),w=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(this.translate("autoRotate")).setValue(m).onValueChange(function(D){o.chartOptionsService.setAxisProperty("label.autoRotate",D),D?(o.prevXRotation=s("xAxis"),o.prevYRotation=s("yAxis"),d("xAxis",void 0),d("yAxis",void 0)):(d("xAxis",o.prevXRotation),d("yAxis",o.prevYRotation)),e.setDisabled(D),n.setDisabled(D)});return e.setDisabled(m),n.setDisabled(m),w},t.prototype.createRotationWidgets=function(){var e=this,n=String.fromCharCode(176),o=function(s,d){var v=e.chartTranslationService.translate(s)+" "+n,C=e.chartOptionsService.getLabelRotation(d),m=(new AgAngleSelect).setLabel(v).setLabelWidth("flex").setValue(C||0).onValueChange(function(w){return e.chartOptionsService.setLabelRotation(d,w)});return e.axisLabelUpdateFuncs.push(function(){var w=e.chartOptionsService.getLabelRotation(d);m.setValue(w||0)}),e.createBean(m)};return{xRotationComp:o("xRotation","xAxis"),yRotationComp:o("yRotation","yAxis")}},t.prototype.addLabelPadding=function(e){var n=this,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),s=this.chartOptionsService.getAxisProperty("label.padding");o.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(getMaxValue(s,30)).setValue(""+s).setTextFieldWidth(45).onValueChange(function(d){return n.chartOptionsService.setAxisProperty("label.padding",d)}),e.addCompToPanel(o)},t.prototype.translate=function(e,n){return this.chartTranslationService.translate(e,n)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisGroup")],t.prototype,"axisGroup",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisColorInput")],t.prototype,"axisColorInput",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$10([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1u=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$$=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},NavigatorPanel=function(l){function t(e){var n=e.chartOptionsService,o=e.isExpandedOnInit,s=void 0!==o&&o,d=l.call(this)||this;return d.chartOptionsService=n,d.isExpandedOnInit=s,d}return __extends$1u(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,n=this.chartTranslationService;this.navigatorGroup.setTitle(n.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(s){e.chartOptionsService.setChartOption("navigator.enabled",s),e.navigatorGroup.toggleGroupExpand(!0)}).toggleGroupExpand(this.isExpandedOnInit);var o=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(n.translate("height")).setMinValue(10).setMaxValue(getMaxValue(o,60)).setTextFieldWidth(45).setValue(""+(o||30)).onValueChange(function(s){return e.chartOptionsService.setChartOption("navigator.height",s)})},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorGroup")],t.prototype,"navigatorGroup",void 0),__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1t=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$_=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},PaddingPanel=function(l){function t(e,n){var o=l.call(this)||this;return o.chartOptionsService=e,o.chartController=n,o}return __extends$1t(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,function(o){e.updateTopPadding(o.chartOptions)}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,n=function(o,s){var d=e.chartOptionsService.getChartOption("padding."+o);s.setLabel(e.chartTranslationService.translate(o)).setMaxValue(getMaxValue(d,200)).setValue(""+d).setTextFieldWidth(45).onValueChange(function(v){return e.chartOptionsService.setChartOption("padding."+o,v)})};n("top",this.paddingTopSlider),n("right",this.paddingRightSlider),n("bottom",this.paddingBottomSlider),n("left",this.paddingLeftSlider)},t.prototype.updateTopPadding=function(e){var n,o,d=null===(o=null===(n=e[this.chartController.getChartSeriesTypes()[0]])||void 0===n?void 0:n.padding)||void 0===o?void 0:o.top;null!=d&&this.paddingTopSlider.setValue(d)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1s=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$Z=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},BackgroundPanel=function(l){function t(e){var n=l.call(this)||this;return n.chartOptionsService=e,n}return __extends$1s(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(n){return e.chartOptionsService.setChartOption("background.visible",n)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(n){return e.chartOptionsService.setChartOption("background.fill",n)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartBackgroundGroup")],t.prototype,"group",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],t.prototype,"colorPicker",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1r=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$Y=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TitlePanel=function(l){function t(e){var n=l.call(this,t.TEMPLATE)||this;return n.chartOptionsService=e,n.activePanels=[],n}return __extends$1r(t,l),t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,n=this.hasTitle(),o=function(C,m){C.family&&e.setOption("title.fontFamily",C.family,m),C.weight&&e.setOption("title.fontWeight",C.weight,m),C.style&&e.setOption("title.fontStyle",C.style,m),C.size&&e.setOption("title.fontSize",C.size,m),C.color&&e.setOption("title.color",C.color,m)},s={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};n||o(s,!0);var d={name:this.chartTranslationService.translate("title"),enabled:n,suppressEnabledCheckbox:!1,initialFont:s,setFont:o,setEnabled:function(C){if(e.toolbarExists()){var m=e.getOption("padding.top");e.setOption("padding.top",C?m-20:m+20)}e.setOption("title.enabled",C);var w=e.getOption("title.text"),D="Title"===w||0===w?.trim().length;C&&D&&e.setOption("title.text",e.titlePlaceholder)}},v=this.createBean(new FontPanel(d));v.addItemToPanel(this.createSpacingSlicer()),this.getGui().appendChild(v.getGui()),this.activePanels.push(v),this.addManagedListener(this.eventService,"chartTitleEdit",function(){v.setEnabled(e.hasTitle())})},t.prototype.createSpacingSlicer=function(){var e=this,n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),o=this.chartOptionsService.getChartOption("title.spacing");return n.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(o,100)).setValue(""+o).setTextFieldWidth(45).onValueChange(function(s){return e.chartOptionsService.setChartOption("title.spacing",s)}),n},t.prototype.toolbarExists=function(){var e=this.gridOptionsService.getCallback("getChartToolbarItems");if(!e)return!0;var n={defaultItems:["chartUnlink","chartDownload"]};return["chartLink","chartUnlink","chartDownload"].some(function(s){var d;return null===(d=e&&e(n))||void 0===d?void 0:d.includes(s)})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,n,o){this.chartOptionsService.setChartOption(e,n,o)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$X=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartPanel=function(l){function t(e){var n=e.chartController,o=e.chartOptionsService,s=e.isExpandedOnInit,d=void 0!==s&&s,v=l.call(this)||this;return v.activePanels=[],v.chartController=n,v.chartOptionsService=o,v.isExpandedOnInit=d,v}return __extends$1q(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new TitlePanel(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new PaddingPanel(this.chartOptionsService,this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new BackgroundPanel(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartGroup")],t.prototype,"chartGroup",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$X([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1p=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$W=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ShadowPanel=function(l){function t(e,n){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=n,o}return __extends$1p(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(o){return e.chartOptionsService.setSeriesOption("shadow.enabled",o,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange(function(o){return e.chartOptionsService.setSeriesOption("shadow.color",o,e.getSelectedSeries())});var n=function(o,s,d,v){var C=e.chartOptionsService.getSeriesOption("shadow."+s,e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(s)).setMinValue(d).setMaxValue(getMaxValue(C,v)).setValue(""+C).onValueChange(function(m){return e.chartOptionsService.setSeriesOption("shadow."+s,m,e.getSelectedSeries())})};n(this.shadowBlurSlider,"blur",0,20),n(this.shadowXOffsetSlider,"xOffset",-10,10),n(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowGroup")],t.prototype,"shadowGroup",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$W([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function initFontPanelParams(l){var t=l.labelName,e=l.chartOptionsService,n=l.getSelectedSeries,o=l.seriesOptionLabelProperty,s=function(D){return o+"."+D},d=function(D){var b=s(D);return e.getSeriesOption(b,n())},v=function(D,b){var T=s(D);e.setSeriesOption(T,b,n())},C={family:d("fontFamily"),style:d("fontStyle"),weight:d("fontWeight"),size:d("fontSize"),color:d("color")};return{name:t,enabled:d("enabled")||!1,setEnabled:function(D){return v("enabled",D)},suppressEnabledCheckbox:!1,initialFont:C,setFont:function(D){D.family&&v("fontFamily",D.family),D.weight&&v("fontWeight",D.weight),D.style&&v("fontStyle",D.style),D.size&&v("fontSize",D.size),D.color&&v("color",D.color)}}}var __extends$1o=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$V=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MarkersPanel=function(l){function t(e,n){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=n,o}return __extends$1o(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(v){return e.setSeriesOption("marker.shape",v)});var o=this.chartOptionsService.getChartType(),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],o);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(s).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(v){return e.setSeriesOption("marker.enabled",v)});var d=function(v,C,m,w){var D=e.getSeriesOption(v);C.setLabel(e.chartTranslationService.translate(m)).setMaxValue(getMaxValue(D,w)).setValue(""+D).setTextFieldWidth(45).onValueChange(function(b){return e.setSeriesOption(v,b)})};"bubble"===o?(d("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),d("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),d("marker.size",this.seriesMarkerSizeSlider,"size",60)),d("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,n){this.chartOptionsService.setSeriesOption(e,n,this.getSelectedSeries())},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$V([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1n=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$U=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},CalloutPanel=function(l){function t(e,n){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=n,o}return __extends$1n(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var n=function(o,s,d,v){var C=e.chartOptionsService.getSeriesOption(o,e.getSelectedSeries());s.setLabel(e.chartTranslationService.translate(d)).setMaxValue(getMaxValue(C,v)).setValue(""+C).setTextFieldWidth(45).onValueChange(function(m){return e.chartOptionsService.setSeriesOption(o,m,e.getSelectedSeries())})};n("calloutLine.length",this.calloutLengthSlider,"length",40),n("calloutLine.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),n("calloutLabel.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutGroup")],t.prototype,"calloutGroup",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1m=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$T=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SeriesPanel=function(l){function t(e){var n=e.chartController,o=e.chartOptionsService,s=e.seriesType,d=e.isExpandedOnInit,v=void 0!==d&&d,C=l.call(this)||this;return C.activePanels=[],C.widgetFuncs={lineWidth:function(){return C.initLineWidth()},strokeWidth:function(){return C.initStrokeWidth()},lineDash:function(){return C.initLineDash()},lineOpacity:function(){return C.initLineOpacity()},fillOpacity:function(){return C.initFillOpacity()},markers:function(){return C.initMarkers()},labels:function(){return C.initLabels()},shadow:function(){return C.initShadow()},tooltips:function(){return C.initTooltips()},bins:function(){return C.initBins()}},C.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},C.chartController=n,C.chartOptionsService=o,C.seriesType=s||C.getChartSeriesType(),C.isExpandedOnInit=v,C}return __extends$1m(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.getChartProxy().getChart().waitForUpdate().then(function(){e.chartController.isComboChart()&&(e.updateSeriesType(),e.initSeriesSelect()),e.seriesWidgetMappings[e.seriesType].forEach(function(o){return e.widgetFuncs[o]()})})},t.prototype.initSeriesSelect=function(){var e=this,n=this.seriesGroup.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);n.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange(function(o){e.seriesType=o,e.refreshWidgets()}),this.seriesGroup.addItem(n),this.activePanels.push(n)},t.prototype.initTooltips=function(){var e=this,n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);n.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(o){return e.setSeriesOption("tooltip.enabled",o)}),this.addWidget(n)},t.prototype.initStrokeWidth=function(){var e=this,n=this.getSeriesOption("strokeWidth"),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("strokeWidth")).setMaxValue(getMaxValue(n,10)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(o)},t.prototype.initLineWidth=function(){var e=this,n=this.getSeriesOption("strokeWidth"),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("lineWidth")).setMaxValue(getMaxValue(n,10)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(o)},t.prototype.initLineDash=function(){var e=this,n=this.getSeriesOption("lineDash"),o=n?n[0]:0,s=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);s.setLabel(this.translate("lineDash")).setMaxValue(getMaxValue(o,30)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(d){return e.setSeriesOption("lineDash",[d])}),this.addWidget(s)},t.prototype.initLineOpacity=function(){var e=this,n=this.getSeriesOption("strokeOpacity"),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(getMaxValue(n,1)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(s){return e.setSeriesOption("strokeOpacity",s)}),this.addWidget(o)},t.prototype.initFillOpacity=function(){var e=this,n=this.getSeriesOption("fillOpacity"),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(getMaxValue(n,1)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(s){return e.setSeriesOption("fillOpacity",s)}),this.addWidget(o)},t.prototype.initLabels=function(){var e=this,n="pie"===this.seriesType?"calloutLabel":"label",s=initFontPanelParams({labelName:this.chartTranslationService.translate("pie"===this.seriesType?"calloutLabels":"labels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:n}),d=this.createBean(new FontPanel(s));if("pie"===this.seriesType){var v=this.createBean(new CalloutPanel(this.chartOptionsService,function(){return e.seriesType}));d.addCompToPanel(v),this.activePanels.push(v)}if(this.addWidget(d),"pie"===this.seriesType){var C=initFontPanelParams({labelName:this.chartTranslationService.translate("sectorLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:"sectorLabel"}),m=this.createBean(new FontPanel(C)),w=this.getSectorLabelPositionRatio();m.addCompToPanel(w),this.addWidget(m)}},t.prototype.getSectorLabelPositionRatio=function(){var e=this,n="sectorLabel.positionRatio",o=this.chartOptionsService.getSeriesOption(n,this.seriesType);return this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_).setLabel(this.translate("positionRatio")).setStep(.05).setMaxValue(getMaxValue(o,1)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(d){return e.chartOptionsService.setSeriesOption(n,d,e.seriesType)})},t.prototype.initShadow=function(){var e=this,n=this.createBean(new ShadowPanel(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(n)},t.prototype.initMarkers=function(){var e=this,n=this.createBean(new MarkersPanel(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(n)},t.prototype.initBins=function(){var e=this,n=this.getSeriesOption("bins").length,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(getMaxValue(n,20)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(s){return e.setSeriesOption("binCount",s)}),this.addWidget(o)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.seriesType)},t.prototype.setSeriesOption=function(e,n){this.chartOptionsService.setSeriesOption(e,n,this.seriesType)},t.prototype.getChartSeriesType=function(){if(0===this.chartController.getSeriesChartTypes().length)return"column";var e=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===e?"column":"areaColumnCombo"===e?"area":getSeriesType(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var n=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(o){var s=getSeriesType(o.chartType);n.add(e.seriesSelectOptions.get(s))}),Array.from(n)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(o){return getSeriesType(o.chartType)});!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,n){return this.chartTranslationService.translate(e,n)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n            </ag-group-component>\n        </div>',__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesGroup")],t.prototype,"seriesGroup",void 0),__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$T([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1l=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$S=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function getMaxValue(l,t){return Math.max(l,t)}var DefaultFormatPanelDef={groups:[{type:"chart"},{type:"legend"},{type:"series"},{type:"axis"},{type:"navigator"}]},FormatPanel=function(l){function t(e,n){var o=l.call(this,t.TEMPLATE)||this;return o.chartController=e,o.chartOptionsService=n,o.panels=[],o.isGroupPanelShownInSeries=function(s,d){return!!["chart","legend","series"].includes(s)||!(!["axis","navigator"].includes(s)||!["bar","column","line","area","scatter","histogram","cartesian"].includes(d))},o}return __extends$1l(t,l),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var n,e=this,o=this.chartController.getChartType(),s=this.chartController.isGrouping(),d=getSeriesType(o);o===this.chartType&&s===this.isGrouping||(this.destroyPanels(),null===(n=this.getFormatPanelDef().groups)||void 0===n||n.forEach(function(v){var C=v.type;if(e.isGroupPanelShownInSeries(C,d)){var m={chartController:e.chartController,chartOptionsService:e.chartOptionsService,isExpandedOnInit:v.isOpen,seriesType:d};"chart"===C?e.addComponent(new ChartPanel(m)):"legend"===C?e.addComponent(new LegendPanel(m)):"axis"===C?e.addComponent(new AxisPanel(m)):"series"===C?e.addComponent(new SeriesPanel(m)):"navigator"===C?e.addComponent(new NavigatorPanel(m)):console.warn("AG Grid: invalid charts format panel group name supplied: '"+v.type+"'")}}),this.chartType=o,this.isGrouping=s)},t.prototype.getFormatPanelDef=function(){var e;return(null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.formatPanel)||DefaultFormatPanelDef},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyPanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',__decorate$S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1k=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$R=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MiniChart=function(l){function t(e,n){var o=l.call(this)||this;o.size=58,o.padding=5,o.root=new Group;var s=new Scene({document:window.document,width:o.size,height:o.size});return s.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),s.root=o.root,s.container=e,o.scene=s,o.tooltipName=n,o}return __extends$1k(t,l),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render()},__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$R([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1j=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$Q=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MiniChartWithAxes=function(l){function t(e,n){var o=l.call(this,e,n)||this;return o.stroke="gray",o.axisOvershoot=3,o}return __extends$1j(t,l),t.prototype.addAxes=function(){var e=this.size,n=this.padding,o=new Line;o.x1=n,o.y1=n,o.x2=n,o.y2=e-n+this.axisOvershoot,o.stroke=this.stroke;var s=new Line;s.x1=n-this.axisOvershoot+1,s.y1=e-n,s.x2=e-n+1,s.y2=e-n,s.stroke=this.stroke;var d=this.root;d.append(o),d.append(s)},__decorate$Q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"addAxes",null),t}(MiniChart);function createColumnRects(l){var t=l.stacked,e=l.size,n=l.padding,o=l.xScalePadding,s=l.xScaleDomain,d=l.yScaleDomain,v=new BandScale$5;v.domain=s,v.range=[n,e-n],v.paddingInner=o,v.paddingOuter=o;var C=new LinearScale$1;C.domain=d,C.range=[e-n,n];var m=function(w,D,b){return w.map(function(T,A){var I=b.convert(T),N=new Rect;return N.x=D.convert(A),N.y=I,N.width=D.bandwidth,N.height=b.convert(0)-I,N.strokeWidth=1,N.crisp=!0,N})};return t?l.data.map(function(w){return m(w,v,C)}):m(l.data,v,C)}function createLinePaths(l,t,e,n){var o=new LinearScale$1;o.domain=[0,4],o.range=[n,e-n];var s=new LinearScale$1;s.domain=[0,10],s.range=[e-n,n];var d=t.map(function(C){var m=new Path;return m.strokeWidth=3,m.lineCap="round",m.fill=void 0,C.forEach(function(w,D){m.path[D>0?"lineTo":"moveTo"](o.convert(D),s.convert(w))}),m}),v=new ClipRect;return v.x=v.y=n,v.width=v.height=e-2*n,v.append(d),l.append(v),d}var __extends$1i=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniColumn=function(l){function t(e,n,o){var s=l.call(this,e,"groupedColumnTooltip")||this;s.columnData=[2,3,4];var v=s.root;return s.columns=createColumnRects({stacked:!1,root:v,data:s.columnData,size:s.size,padding:s.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),v.append(s.columns),s.updateColors(n,o),s}return __extends$1i(t,l),t.prototype.updateColors=function(e,n){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=n[s]})},t.chartType="groupedColumn",t}(MiniChartWithAxes),__extends$1h=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniStackedColumn=function(l){function t(e,n,o,s,d,v){void 0===s&&(s=t.data),void 0===d&&(d=[0,16]),void 0===v&&(v="stackedColumnTooltip");var C=l.call(this,e,v)||this,w=C.root;return C.stackedColumns=createColumnRects({stacked:!0,root:w,data:s,size:C.size,padding:C.padding,xScaleDomain:[0,1,2],yScaleDomain:d,xScalePadding:.3}),w.append([].concat.apply([],C.stackedColumns)),C.updateColors(n,o),C}return __extends$1h(t,l),t.prototype.updateColors=function(e,n){this.stackedColumns.forEach(function(o,s){return o.forEach(function(d){d.fill=e[s],d.stroke=n[s]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(MiniChartWithAxes),__extends$1g=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniNormalizedColumn=function(l){function t(e,n,o){return l.call(this,e,n,o,t.data,[0,10],"normalizedColumnTooltip")||this}return __extends$1g(t,l),t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(MiniStackedColumn),__extends$1f=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniBar=function(l){function t(e,n,o){var s=l.call(this,e,"groupedBarTooltip")||this,d=s.padding,v=s.size,m=new BandScale$5;m.domain=[0,1,2],m.range=[d,v-d],m.paddingInner=.3,m.paddingOuter=.3;var w=new LinearScale$1;w.domain=[0,4],w.range=[v-d,d];var D=w.convert(0),b=m.bandwidth;return s.bars=[2,3,4].map(function(T,A){var I=new Rect;return I.x=d,I.y=m.convert(A),I.width=D-w.convert(T),I.height=b,I.strokeWidth=1,I.crisp=!0,I}),s.updateColors(n,o),s.root.append(s.bars),s}return __extends$1f(t,l),t.prototype.updateColors=function(e,n){this.bars.forEach(function(o,s){o.fill=e[s],o.stroke=n[s]})},t.chartType="groupedBar",t}(MiniChartWithAxes),__extends$1e=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniStackedBar=function(l){function t(e,n,o,s,d,v){void 0===s&&(s=t.data),void 0===d&&(d=[0,16]),void 0===v&&(v="stackedBarTooltip");var C=l.call(this,e,v)||this,m=C.size,w=C.padding,D=new BandScale$5;D.domain=[0,1,2],D.range=[w,m-w],D.paddingInner=.3,D.paddingOuter=.3;var b=new LinearScale$1;b.domain=d,b.range=[m-w,w];var T=b.convert(0),A=D.bandwidth;return C.bars=s.map(function(I){return I.map(function(N,G){var V=new Rect;return V.x=w,V.y=D.convert(G),V.width=T-b.convert(N),V.height=A,V.strokeWidth=1,V.crisp=!0,V})}),C.updateColors(n,o),C.root.append([].concat.apply([],C.bars)),C}return __extends$1e(t,l),t.prototype.updateColors=function(e,n){this.bars.forEach(function(o,s){return o.forEach(function(d){d.fill=e[s],d.stroke=n[s]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(MiniChartWithAxes),__extends$1d=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniNormalizedBar=function(l){function t(e,n,o){return l.call(this,e,n,o,t.data,[0,10],"normalizedBarTooltip")||this}return __extends$1d(t,l),t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(MiniStackedBar),__extends$1c=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__read$h=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},toRadians=toRadians$1,MiniDoughnut=function(l){function t(e,n,o,s,d){void 0===s&&(s=.6),void 0===d&&(d="doughnutTooltip");var v=l.call(this,e,d)||this,C=(v.size-2*v.padding)/2,m=C+v.padding,w=[[toRadians(-90),toRadians(30)],[toRadians(30),toRadians(120)],[toRadians(120),toRadians(180)],[toRadians(180),toRadians(210)],[toRadians(210),toRadians(240)],[toRadians(240),toRadians(270)]];return v.sectors=w.map(function(D){var b=__read$h(D,2),T=b[0],A=b[1],I=new Sector;return I.centerX=m,I.centerY=m,I.innerRadius=C*s,I.outerRadius=C,I.startAngle=T,I.endAngle=A,I.stroke=void 0,I.strokeWidth=1,I}),v.updateColors(n,o),v.root.append(v.sectors),v}return __extends$1c(t,l),t.prototype.updateColors=function(e,n){this.sectors.forEach(function(o,s){o.fill=e[s%e.length],o.stroke=n[s%n.length]})},t.chartType="doughnut",t}(MiniChart),__extends$1b=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniPie=function(l){function t(e,n,o){return l.call(this,e,n,o,0,"pieTooltip")||this}return __extends$1b(t,l),t.chartType="pie",t}(MiniDoughnut),__extends$1a=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniLine=function(l){function t(e,n,o){var s=l.call(this,e,"lineTooltip")||this;return s.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],s.lines=createLinePaths(s.root,s.data,s.size,s.padding),s.updateColors(n,o),s}return __extends$1a(t,l),t.prototype.updateColors=function(e,n){this.lines.forEach(function(o,s){o.stroke=e[s]})},t.chartType="line",t}(MiniChartWithAxes),__extends$19=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__read$g=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},MiniScatter=function(l){function t(e,n,o){var s=l.call(this,e,"scatterTooltip")||this,d=s.size,v=s.padding,m=new LinearScale$1;m.domain=[-.5,4],m.range=[2*v,d-v];var w=new LinearScale$1;w.domain=[-.5,3.5],w.range=[d-v,v];var D=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(T){T.forEach(function(A){var I=__read$g(A,2),N=I[0],G=I[1],V=new Arc;V.strokeWidth=1,V.centerX=m.convert(N),V.centerY=w.convert(G),V.radius=2.5,D.push(V)})}),s.points=D,s.updateColors(n,o);var b=new ClipRect;return b.x=b.y=v,b.width=b.height=d-2*v,b.append(s.points),s.root.append(b),s}return __extends$19(t,l),t.prototype.updateColors=function(e,n){this.points.forEach(function(o,s){o.stroke=n[s%n.length],o.fill=e[s%e.length]})},t.chartType="scatter",t}(MiniChartWithAxes),__extends$18=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__read$f=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},MiniBubble=function(l){function t(e,n,o){var s=l.call(this,e,"bubbleTooltip")||this,d=s.size,v=s.padding,m=new LinearScale$1;m.domain=[0,1],m.range=[2*v,d-v];var w=new LinearScale$1;w.domain=[0,1],w.range=[d-v,v];var D=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(T){T.forEach(function(A){var I=__read$f(A,3),N=I[0],G=I[1],V=I[2],W=new Arc;W.strokeWidth=1,W.centerX=m.convert(N),W.centerY=w.convert(G),W.radius=V,W.fillOpacity=.7,D.push(W)})}),s.points=D,s.updateColors(n,o);var b=new ClipRect;return b.x=v,b.y=v,b.width=d-2*v,b.height=d-2*v,b.append(s.points),s.root.append(b),s}return __extends$18(t,l),t.prototype.updateColors=function(e,n){this.points.forEach(function(o,s){o.stroke=n[s%n.length],o.fill=e[s%e.length]})},t.chartType="bubble",t}(MiniChartWithAxes),__extends$17=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniArea=function(l){function t(e,n,o,s){void 0===s&&(s=t.data);var d=l.call(this,e,"groupedAreaTooltip")||this,v=d.size,C=d.padding,m=new BandScale$5;m.domain=[0,1,2],m.paddingInner=1,m.paddingOuter=0,m.range=[C+.5,v-C-.5];var w=new LinearScale$1;w.domain=[0,6],w.range=[v-C+.5,C];var b=2*s.length-1,T=[],A=w.convert(0);return s.forEach(function(I,N){var G=m.convert(N);I.forEach(function(V,W){var j=w.convert(V),K=T[W]||(T[W]=[]);K[N]={x:G,y:j},K[b-N]={x:G,y:A}})}),d.areas=T.reverse().map(function(I){var N=new Path;N.strokeWidth=1,N.fillOpacity=.7;var G=N.path;return G.clear(),I.forEach(function(V,W){return G[W>0?"lineTo":"moveTo"](V.x,V.y)}),G.closePath(),N}),d.updateColors(n,o),d.root.append(d.areas),d}return __extends$17(t,l),t.prototype.updateColors=function(e,n){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=n[s]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(MiniChartWithAxes),__extends$16=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniStackedArea=function(l){function t(e,n,o,s,d){void 0===s&&(s=t.data),void 0===d&&(d="stackedAreaTooltip");var v=l.call(this,e,d)||this,C=v.size,m=v.padding,w=new BandScale$5;w.domain=[0,1,2],w.paddingInner=1,w.paddingOuter=0,w.range=[m+.5,C-m-.5];var D=new LinearScale$1;D.domain=[0,16],D.range=[C-m+.5,m+.5];var T=2*s.length-1,A=[];return s.forEach(function(I,N){var G=w.convert(N),V=0;I.forEach(function(W,j){var K=D.convert(V+W),Y=A[j]||(A[j]=[]);Y[N]={x:G,y:K},Y[T-N]={x:G,y:D.convert(V)},V+=W})}),v.areas=A.map(function(I){var N=new Path;N.strokeWidth=1;var G=N.path;return G.clear(),I.forEach(function(V,W){return G[W>0?"lineTo":"moveTo"](V.x,V.y)}),G.closePath(),N}),v.updateColors(n,o),v.root.append(v.areas),v}return __extends$16(t,l),t.prototype.updateColors=function(e,n){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=n[s]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(MiniChartWithAxes),__extends$15=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniNormalizedArea=function(l){function t(e,n,o,s){return void 0===s&&(s=t.data),l.call(this,e,n,o,s,"normalizedAreaTooltip")||this}return __extends$15(t,l),t.chartType="normalizedArea",t.data=MiniStackedArea.data.map(function(e){var n=e.reduce(function(o,s){return o+s},0);return e.map(function(o){return o/n*16})}),t}(MiniStackedArea),__extends$14=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__read$e=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},MiniHistogram=function(l){function t(e,n,o){var s=l.call(this,e,"histogramTooltip")||this,d=s.padding,v=s.size,C=[2,5,11,13,10,6,1],m=new LinearScale$1;m.domain=[0,C.length],m.range=[d,v-d];var w=new LinearScale$1;w.domain=[0,C.reduce(function(b,T){return Math.max(b,T)},0)],w.range=[v-d,d];var D=w.convert(0);return s.bars=C.map(function(b,T){var A=w.convert(b),I=m.convert(T),N=m.convert(T+1),G=new Rect;return G.x=I,G.y=A,G.width=N-I,G.height=D-A,G.strokeWidth=1,G.crisp=!0,G}),s.updateColors(n,o),s.root.append(s.bars),s}return __extends$14(t,l),t.prototype.updateColors=function(e,n){var s=__read$e(e,1)[0],v=__read$e(n,1)[0];this.bars.forEach(function(C){C.fill=s,C.stroke=v})},t.chartType="histogram",t}(MiniChartWithAxes),__extends$13=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniColumnLineCombo=function(l){function t(e,n,o){var s=l.call(this,e,"columnLineComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var v=s.root,m=s.lineData,w=s.size,D=s.padding;return s.columns=createColumnRects({stacked:!1,root:v,data:s.columnData,size:w,padding:D,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),v.append(s.columns),s.lines=createLinePaths(v,m,w,D),s.updateColors(n,o),s}return __extends$13(t,l),t.prototype.updateColors=function(e,n){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=n[s]}),this.lines.forEach(function(o,s){o.stroke=e[s+2]})},t.chartType="columnLineCombo",t}(MiniChartWithAxes),__extends$12=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniAreaColumnCombo=function(l){function t(e,n,o){var s=l.call(this,e,"areaColumnComboTooltip")||this;s.columnData=[3,4.5],s.areaData=[[5,4,6,5,4]];var v=s.root,m=s.areaData,w=s.size,D=s.padding;s.columns=createColumnRects({stacked:!1,root:v,data:s.columnData,size:w,padding:D,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var b=new BandScale$5;b.range=[D,w-D],b.domain=[0,1,2,3,4],b.paddingInner=1,b.paddingOuter=0;var T=new LinearScale$1;T.range=[w-D,D],T.domain=[0,6];var A=[],I=T.convert(0),N=b.convert(0);return m.forEach(function(G,V){var W=A[V]||(A[V]=[]);G.forEach(function(K,Y){var re=K,Z=b.convert(Y),ee=T.convert(re);W[Y]={x:Z,y:ee}});var j=b.convert(G.length-1);A[V].push({x:j,y:I},{x:N,y:I})}),s.areas=A.map(function(G){var V=new Path;V.strokeWidth=1,V.fillOpacity=.8;var W=V.path;return G.forEach(function(j,K){return W[K>0?"lineTo":"moveTo"](j.x,j.y)}),V}),v.append(s.areas),v.append([].concat.apply([],s.columns)),s.updateColors(n,o),s}return __extends$12(t,l),t.prototype.updateColors=function(e,n){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=n[s]}),this.columns.forEach(function(o,s){o.fill=e[s+1],o.stroke=n[s+1]})},t.chartType="areaColumnCombo",t}(MiniChartWithAxes),__extends$11=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MiniCustomCombo=function(l){function t(e,n,o){var s=l.call(this,e,"customComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var v=s.root,m=s.lineData,w=s.size,D=s.padding;s.columns=createColumnRects({stacked:!1,root:v,data:s.columnData,size:w,padding:D,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),v.append(s.columns),s.lines=createLinePaths(v,m,w,D);var b="grey",A=new Line;A.x1=D,A.y1=D,A.x2=D,A.y2=w-D+3,A.stroke=b;var I=new Line;I.x1=D-3+1,I.y1=w-D,I.x2=w-D+1,I.y2=w-D,I.stroke=b;var N=new Path;return s.buildPenIconPath(N),N.fill="whitesmoke",N.stroke="darkslategrey",N.strokeWidth=1,v.append([I,A,N]),s.updateColors(n,o),s}return __extends$11(t,l),t.prototype.updateColors=function(e,n){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=n[s]}),this.lines.forEach(function(o,s){o.stroke=e[s+2]})},t.prototype.buildPenIconPath=function(e){var n=e.path;n.moveTo(25.76,43.46),n.lineTo(31.27,48.53),n.moveTo(49.86,22),n.lineTo(49.86,22),n.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),n.lineTo(46.86,21.41),n.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),n.lineTo(25.51,43.8),n.lineTo(25.43,43.89),n.lineTo(23.01,51.89),n.lineTo(22.83,52.46),n.lineTo(31.02,48.86),n.lineTo(49.02,28.52),n.lineTo(49.02,28.52),n.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),n.lineTo(50.75,24.93),n.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),n.closePath(),n.moveTo(41.76,25.5),n.lineTo(47.34,30.5),n.moveTo(40.74,26.65),n.lineTo(46.25,31.71)},t.chartType="customCombo",t}(MiniChart),__extends$10=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$j=function(){return __assign$j=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$j.apply(this,arguments)},__decorate$P=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},miniChartMapping={columnGroup:{column:MiniColumn,stackedColumn:MiniStackedColumn,normalizedColumn:MiniNormalizedColumn},barGroup:{bar:MiniBar,stackedBar:MiniStackedBar,normalizedBar:MiniNormalizedBar},pieGroup:{pie:MiniPie,doughnut:MiniDoughnut},lineGroup:{line:MiniLine},scatterGroup:{scatter:MiniScatter,bubble:MiniBubble},areaGroup:{area:MiniArea,stackedArea:MiniStackedArea,normalizedArea:MiniNormalizedArea},histogramGroup:{histogram:MiniHistogram},combinationGroup:{columnLineCombo:MiniColumnLineCombo,areaColumnCombo:MiniAreaColumnCombo,customCombo:MiniCustomCombo}},MiniChartsContainer=function(l){function t(e,n,o,s){void 0===s&&(s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.hhW);var d=l.call(this,t.TEMPLATE)||this;return d.wrappers={},d.chartController=e,d.fills=n,d.strokes=o,d.chartGroups=__assign$j({},s),d}return __extends$10(t,l),t.prototype.init=function(){var e=this;!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(o){return"customCombo"!==o}));var n=this.getGui();Object.keys(this.chartGroups).forEach(function(o){var s=e.chartGroups[o],d=e.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:e.chartTranslationService.translate(o),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));s.forEach(function(v){var C,m=null===(C=miniChartMapping[o])||void 0===C?void 0:C[v];if(m){var w=document.createElement("div");w.classList.add("ag-chart-mini-thumbnail");var D=m.chartType;e.addManagedListener(w,"click",function(){e.chartController.setChartType(D),e.updateSelectedMiniChart()}),e.wrappers[D]=w,e.createBean(new m(w,e.fills,e.strokes)),d.addItem(w)}else miniChartMapping[o]?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+o+"."+v+"'")},"invalid_chartGroupsDef"+v+"_"+o):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+o+"'")},"invalid_chartGroupsDef"+o)}),n.appendChild(d.getGui())}),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var n in this.wrappers)this.wrappers[n].classList.toggle("ag-selected",n===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$P([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$$=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$O=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartSettingsPanel=function(l){function t(e){var n=l.call(this,t.TEMPLATE)||this;return n.miniCharts=[],n.cardItems=[],n.activePaletteIndex=0,n.palettes=[],n.themes=[],n.chartController=e,n}return __extends$$(t,l),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("previous",this.gridOptionsService)),this.eNextBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("next",this.gridOptionsService)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var o=e.miniCharts.find(function(s){return!s.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");o&&o.scrollIntoView({block:"nearest"})},250)},t.prototype.resetPalettes=function(e){var o,s,n=this,d=this.chartController.getPalettes(),v=null===(s=null===(o=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===o?void 0:o.settingsPanel)||void 0===s?void 0:s.chartGroupsDef;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(d,this.palettes)&&!e||this.isAnimating||(this.palettes=d,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex(function(C){return C===n.chartController.getChartThemeName()}),this.cardItems=[],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(C,m){var w=n.activePaletteIndex===m,T=n.createBean(new MiniChartsContainer(n.chartController,C.fills,C.strokes,v));n.miniCharts.push(T),n.eMiniChartsContainer.appendChild(T.getGui()),n.addCardLink(m),w?T.updateSelectedMiniChart():T.setDisplayed(!1)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNavBar,this.palettes.length>1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var n=this,o=document.createElement("div");o.classList.add("ag-chart-settings-card-item"),this.addManagedListener(o,"click",function(){n.setActivePalette(e,e<n.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(o),this.cardItems.push(o)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,n){var o=this;if(!this.isAnimating&&this.activePaletteIndex!==e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var s=this.miniCharts[this.activePaletteIndex],d=s.getGui(),v=this.miniCharts[e],C=v.getGui();s.updateSelectedMiniChart(),v.updateSelectedMiniChart();var m="left"===n?-1:1,w=C.style.left=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(this.getGui())*m+"px";this.activePaletteIndex=e,this.isAnimating=!0;var D="ag-animating";v.setDisplayed(!0),s.addCssClass(D),v.addCssClass(D),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){d.style.left=-parseFloat(w)+"px",C.style.left="0px"},0),window.setTimeout(function(){o.isAnimating=!1,s.removeCssClass(D),v.removeCssClass(D),s.setDisplayed(!1)},300)}},t.prototype.destroyMiniCharts=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],t.prototype,"resizeObserverService",void 0),__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNavBar")],t.prototype,"eNavBar",void 0),__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCardSelector")],t.prototype,"eCardSelector",void 0),__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("ePrevBtn")],t.prototype,"ePrevBtn",void 0),__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNextBtn")],t.prototype,"eNextBtn",void 0),__decorate$O([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$N=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TabbedChartMenu=function(l){function t(e){var n=l.call(this)||this;n.tabs=[];var s=e.panels,d=e.chartOptionsService;return n.chartController=e.controller,n.chartOptionsService=d,n.panels=s,n}return __extends$_(t,l),t.prototype.init=function(){var e=this;this.panels.forEach(function(n){var o=n.replace("chart","").toLowerCase(),s=e.createTab(n,o,e.getPanelClass(o)),d=s.comp;e.tabs.push(s.tab),e.addDestroyFunc(function(){return e.destroyBean(d)})}),this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,n,o){var s=document.createElement("div");s.classList.add("ag-chart-tab","ag-chart-"+n);var d=new o(this.chartController,this.chartOptionsService);this.getContext().createBean(d),s.appendChild(d.getGui());var v=document.createElement("div"),C=this.chartTranslationService.translate(n);return v.innerText=C,{comp:d,tab:{title:v,titleLabel:C,bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(s),getScrollableContainer:function(){return s.querySelector(".ag-scrollable-container")||s},name:e}}},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),l.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return ChartDataPanel;case t.TAB_FORMAT:return FormatPanel;default:return ChartSettingsPanel}},t.TAB_DATA="data",t.TAB_FORMAT="format",__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$N([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$Z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$M=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$d=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$7=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$d(arguments[t]));return l},ChartMenu=function(l){function t(e,n,o,s){var d=l.call(this,t.TEMPLATE)||this;return d.eChartContainer=e,d.eMenuPanelContainer=n,d.chartController=o,d.chartOptionsService=s,d.buttons={chartSettings:["menu",function(){return d.showMenu(d.defaultPanel)}],chartData:["menu",function(){return d.showMenu("chartData")}],chartFormat:["menu",function(){return d.showMenu("chartFormat")}],chartLink:["linked",function(v){return d.toggleDetached(v)}],chartUnlink:["unlinked",function(v){return d.toggleDetached(v)}],chartDownload:["save",function(){return d.saveChart()}]},d.panels=[],d.menuVisible=!1,d}return __extends$Z(t,l),t.prototype.postConstruct=function(){var e=this;this.createButtons(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,function(n){var o;n.chartId===e.chartController.getChartId()&&Boolean(null===(o=e.gridOptionsService.get("chartToolPanelsDef"))||void 0===o?void 0:o.defaultToolPanel)&&e.showMenu(e.defaultPanel,!1)}),this.refreshMenuClasses(),!this.gridOptionsService.is("suppressChartToolPanelsButton")&&this.panels.length>0&&(this.getGui().classList.add("ag-chart-tool-panel-button-enable"),this.addManagedListener(this.eHideButton,"click",this.toggleMenu.bind(this)))},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getExtraPaddingDirections=function(){var e=this,s=[];return["chartLink","chartUnlink","chartDownload"].some(function(d){return e.chartToolbarOptions.includes(d)})&&s.push("top"),["chartSettings","chartData","chartFormat"].some(function(d){return e.chartToolbarOptions.includes(d)})&&s.push(this.gridOptionsService.is("enableRtl")?"left":"right"),s},t.prototype.getToolbarOptions=function(){var n,o,s,e=this;if(Boolean(this.gridOptionsService.get("chartToolPanelsDef"))){var v=[this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],m={defaultItems:v},w=(C=this.gridOptionsService.getCallback("getChartToolbarItems"))?C(m).filter(function(N){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WU2.includes(N)){var G=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1.includes(N)?"AG Grid: '"+N+"' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead":"AG Grid: '"+N+"' is not a valid Chart Toolbar Option";return console.warn(G),!1}return!0}):v,D=null===(o=null===(n=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===n?void 0:n.panels)||void 0===o?void 0:o.map(function(N){var G=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[N];return G||console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '"+N+"'"),G}).filter(function(N){return Boolean(N)});this.panels=D||Object.values(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z),this.chartController.isPivotChart()&&(this.panels=this.panels.filter(function(N){return"chartData"!==N}));var b=null===(s=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===s?void 0:s.defaultToolPanel;return this.defaultPanel=b&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[b]||this.panels[0],this.panels.length>0?__spread$7([this.panels[0]],w):w}var C,T=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"];if(C=this.gridOptionsService.getCallback("getChartToolbarItems")){var A=this.gridOptionsService.is("suppressChartToolPanelsButton");T=C(m={defaultItems:A?T:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WU2}).filter(function(V){return e.buttons[V]?!(!A&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1.includes(V)&&(console.warn("AG Grid: '"+V+"' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead"),1)):(console.warn("AG Grid: '"+V+"' is not a valid Chart Toolbar Option"),!1)}),A||(T=T.concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1))}this.chartController.isPivotChart()&&(T=T.filter(function(G){return"chartData"!==G}));var I=["chartUnlink","chartLink","chartDownload"];return this.panels=T.filter(function(G){return-1===I.indexOf(G)}),this.defaultPanel=this.panels[0],T.filter(function(G){return-1!==I.indexOf(G)||e.panels.length&&G===e.panels[0]})},t.prototype.toggleDetached=function(e){var n=e.target,o=n.classList.contains("ag-icon-linked");n.classList.toggle("ag-icon-linked",!o),n.classList.toggle("ag-icon-unlinked",o);var d=this.chartTranslationService.translate(o?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");d&&(n.title=d),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this;this.chartToolbarOptions=this.getToolbarOptions();var n=this.eMenu;this.chartToolbarOptions.forEach(function(o){var d=__read$d(e.buttons[o],2),C=d[1],m=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(d[0],e.gridOptionsService,void 0,!0);m.classList.add("ag-chart-menu-icon");var w=e.chartTranslationService.translate(o+"ToolbarTooltip");w&&(m.title=w),e.addManagedListener(m,"click",C),n.appendChild(m)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var n=this,o=this.environment.chartMenuPanelWidth(),s=this.menuPanel=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wSp({minWidth:o,width:o,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return s.setParentComponent(this),this.eMenuPanelContainer.appendChild(s.getGui()),this.tabbedMenu=this.createBean(new TabbedChartMenu({controller:this.chartController,type:this.chartController.getChartType(),panels:this.panels,chartOptionsService:this.chartOptionsService})),this.addManagedListener(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DESTROYED,function(){return n.destroyBean(n.tabbedMenu)}),new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(d){window.setTimeout(function(){s.setBodyComponent(n.tabbedMenu),n.tabbedMenu.showTab(e),d(s),n.addManagedListener(n.eChartContainer,"click",function(v){n.getGui().contains(v.target)||n.menuVisible&&n.hideMenu()})},100)})},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.toggleMenu=function(){this.menuVisible?this.hideMenu():this.showMenu()},t.prototype.showMenu=function(e,n){var o=this;if(void 0===n&&(n=!0),n||this.eMenuPanelContainer.classList.add("ag-no-transition"),this.menuPanel&&!e)this.showContainer();else{var d=this.panels.indexOf(e||this.defaultPanel);d<0&&(console.warn("AG Grid: '"+e+"' is not a valid Chart Tool Panel name"),d=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(d),this.showContainer()):this.createMenuPanel(d).then(this.showContainer.bind(this))}n||setTimeout(function(){o.isAlive()&&o.eMenuPanelContainer.classList.remove("ag-no-transition")},500)},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible),this.gridOptionsService.is("suppressChartToolPanelsButton")||(this.eHideButtonIcon.classList.toggle("ag-icon-contracted",this.menuVisible),this.eHideButtonIcon.classList.toggle("ag-icon-expanded",!this.menuVisible))},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div>\n        <div class="ag-chart-menu" ref="eMenu"></div>\n        <button class="ag-chart-menu-close" ref="eHideButton">\n            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>\n        </button>\n    </div>',__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenu")],t.prototype,"eMenu",void 0),__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eHideButton")],t.prototype,"eHideButton",void 0),__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eHideButtonIcon")],t.prototype,"eHideButtonIcon",void 0),__decorate$M([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$Y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$i=function(){return __assign$i=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$i.apply(this,arguments)},__decorate$L=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TitleEdit=function(l){function t(e){var n=l.call(this,t.TEMPLATE)||this;return n.chartMenu=e,n.editing=!1,n}return __extends$Y(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(n){e.editing&&"Enter"===n.key&&e.handleEndEditing()}),this.addManagedListener(this.getGui(),"blur",function(){return e.endEditing()})},t.prototype.refreshTitle=function(e,n){var o=this;this.chartController=e,this.chartOptionsService=n;var s=this.chartController.getChartProxy();if(s){for(var d=0;d++;d<this.destroyableChartListeners.length)this.destroyableChartListeners[d]();this.destroyableChartListeners=[]}var v=s.getChart(),C=v.scene.canvas.element,m=this.addManagedListener(C,"dblclick",function(b){var T=v.title;if(T&&T.node.containsPoint(b.offsetX,b.offsetY)){var A=T.node.computeBBox(),I=T.node.inverseTransformPoint(A.x,A.y);o.startEditing(__assign$i(__assign$i({},A),I))}}),w=!1,D=this.addManagedListener(C,"mousemove",function(b){var T=v.title,A=!!(T&&T.enabled&&T.node.containsPoint(b.offsetX,b.offsetY));w!==A&&(C.style.cursor=A?"pointer":""),w=A});this.destroyableChartListeners=[m,D]},t.prototype.startEditing=function(e){if(!(this.chartMenu&&this.chartMenu.isVisible()||this.editing)){this.editing=!0;var o=this.chartController.getChartProxy().getChart().width,s=Math.max(Math.min(e.width+20,o),300),d=this.getGui();d.classList.add("currently-editing");var v=d.style;v.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),v.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),v.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),v.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",v.color=this.chartOptionsService.getChartOption("title.color");var C=this.chartOptionsService.getChartOption("title.text"),m=C===this.chartTranslationService.translate("titlePlaceholder");d.value=m?"":C;var w=d.getBoundingClientRect();v.left=Math.round(e.x+e.width/2-s/2)+"px",v.top=Math.round(e.y+e.height/2-w.height/2)+"px",v.width=Math.round(s)+"px",d.focus()}},t.prototype.handleEndEditing=function(){var e=this,n=this.chartOptionsService.getChartOption("title.color");this.chartOptionsService.setChartOption("title.color","rgba(0, 0, 0, 0)"),this.chartOptionsService.awaitChartOptionUpdate(function(){return e.endEditing()}),this.chartOptionsService.awaitChartOptionUpdate(function(){e.chartOptionsService.setChartOption("title.color",n)})},t.prototype.endEditing=function(){var e=this;if(this.editing){this.editing=!1;var n=this.getGui().value;n&&""!==n.trim()?(this.chartOptionsService.setChartOption("title.text",n),this.chartOptionsService.setChartOption("title.enabled",!0)):(this.chartOptionsService.setChartOption("title.text",""),this.chartOptionsService.setChartOption("title.enabled",!1)),this.getGui().classList.remove("currently-editing"),this.chartOptionsService.awaitChartOptionUpdate(function(){e.eventService.dispatchEvent({type:"chartTitleEdit"})})}},t.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',__decorate$L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$L([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function deproxy(l){return null!=l.chart?l.chart:l}var __assign$h=function(){return __assign$h=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$h.apply(this,arguments)},ChartProxy=function(){function l(t){this.chartProxyParams=t,this.clearThemeOverrides=!1,this.chart=t.chartInstance,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=getSeriesType(this.chartType),null==this.chart?this.chart=AgChart.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}return l.prototype.getChart=function(){return deproxy(this.chart)},l.prototype.getChartRef=function(){return this.chart},l.prototype.downloadChart=function(t,e,n){var o=this.chart,s=deproxy(o),v=t||{};AgChart.download(o,{width:v.width,height:v.height,fileName:e||(s.title?s.title.text:"chart"),fileFormat:n})},l.prototype.getChartImageDataURL=function(t){return this.getChart().scene.getDataURL(t)},l.prototype.getChartOptions=function(){return this.chart.getOptions()},l.prototype.getChartThemeOverrides=function(){var t;return null!==(t=this.getChartOptions().theme.overrides)&&void 0!==t?t:{}},l.prototype.getChartPalette=function(){return getChartTheme(this.getChartOptions().theme).palette},l.prototype.setPaired=function(t){var e,n=getSeriesType(this.chartProxyParams.chartType);AgChart.updateDelta(this.chart,{theme:{overrides:(e={},e[n]={paired:t},e)}})},l.prototype.isPaired=function(){var t=getSeriesType(this.chartProxyParams.chartType);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChartThemeOverrides(),t+".paired",!0)},l.prototype.lookupCustomChartTheme=function(t){return lookupCustomChartTheme(this.chartProxyParams,t)},l.prototype.transformData=function(t,e,n){return n?t.map(function(o,s){var d=o[e],v=d&&d.toString?d.toString():"",C=__assign$h({},o);return C[e]={id:s,value:d,toString:function(){return v}},C}):t},l.prototype.getCommonChartOptions=function(){var t,e,n=this.clearThemeOverrides?{}:null!==(e=null===(t=this.chart)||void 0===t?void 0:t.getOptions())&&void 0!==e?e:{},o=null!=this.chart?{overrides:this.getActiveFormattingPanelOverrides()}:{};return this.clearThemeOverrides=!1,__assign$h(__assign$h({},n),{theme:__assign$h(__assign$h({},createAgChartTheme(this.chartProxyParams,this)),o),container:this.chartProxyParams.parentElement,mode:"integrated"})},l.prototype.getActiveFormattingPanelOverrides=function(){var t,e;return this.clearThemeOverrides?{}:null!==(e=(null===(t=this.chart)||void 0===t?void 0:t.getOptions().theme)?.overrides)&&void 0!==e?e:{}},l.prototype.destroy=function(t){var e=(void 0===t?{}:t).keepChartInstance;if(void 0!==e&&e)return this.chart;this.destroyChart()},l.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},l}(),__extends$X=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$g=function(){return __assign$g=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$g.apply(this,arguments)},CartesianChartProxy=function(l){function t(e){var n=l.call(this,e)||this;return n.crossFilteringAllPoints=new Set,n.crossFilteringSelectedPoints=[],n}return __extends$X(t,l),t.prototype.update=function(e){var n=this.getAxes(e),o=__assign$g(__assign$g({},this.getCommonChartOptions()),{data:this.getData(e,n),axes:n,series:this.getSeries(e)});AgChart.update(this.getChartRef(),o)},t.prototype.getData=function(e,n){var o,s=["area","line"].includes(this.standaloneChartType),d="bar"===this.standaloneChartType?"left":"bottom",v="category"===(null===(o=n.find(function(C){return C.position===d}))||void 0===o?void 0:o.type);return this.crossFiltering&&s?this.getCrossFilterData(e):this.getDataTransformedData(e,v)},t.prototype.getDataTransformedData=function(e,n){return this.transformData(e.data,e.category.id,n)},t.prototype.getXAxisType=function(e){return e.grouping?"groupedCategory":t.isTimeAxis(e)?"time":"category"},t.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var n=e.data[0];return(n&&n[e.category.id])instanceof Date},t.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},t.prototype.crossFilteringPointSelected=function(e){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(e)},t.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},t.prototype.extractLineAreaCrossFilterSeries=function(e,n){var o=this;return e.map(function(d){return d.yKey=function(d){return"area"===o.standaloneChartType?n.getCrossFilteringContext().lastSelectedChartId===n.chartId?d+"-total":d:d+"-total"}(d.yKey),d.listeners={nodeClick:function(v){o.crossFilteringAddSelectedPoint(v.event.metaKey||v.event.ctrlKey,v.datum[d.xKey]),o.crossFilterCallback(v)}},d.marker={formatter:function(v){return{fill:v.highlighted?"yellow":v.fill,size:v.highlighted?14:o.crossFilteringPointSelected(v.datum[n.category.id])?8:0}}},"area"===o.standaloneChartType&&(d.fillOpacity=o.crossFilteringDeselectedPoints()?.3:1),"line"===o.standaloneChartType&&(d.strokeOpacity=o.crossFilteringDeselectedPoints()?.3:1),d})},t.prototype.getCrossFilterData=function(e){var n=this;this.crossFilteringAllPoints.clear();var o=e.fields[0].colId,s=o+"-filtered-out",d=e.getCrossFilteringContext().lastSelectedChartId;return e.data.map(function(v){var C=v[e.category.id];n.crossFilteringAllPoints.add(C);var m=n.crossFilteringPointSelected(C);return"area"===n.standaloneChartType&&d===e.chartId&&(v[o+"-total"]=m?v[o]:v[o]+v[s]),"line"===n.standaloneChartType&&(v[o+"-total"]=m?v[o]:v[o]+v[s]),v})},t.prototype.crossFilteringAddSelectedPoint=function(e,n){e?this.crossFilteringSelectedPoints.push(n):this.crossFilteringSelectedPoints=[n]},t}(ChartProxy);function emptyTarget(l){return Array.isArray(l)?[]:{}}function cloneUnlessOtherwiseSpecified(l,t){return!1!==t.clone&&t.isMergeableObject(l)?deepMerge(emptyTarget(l),l,t):l}function defaultArrayMerge(l,t,e){return l.concat(t).map(function(n){return cloneUnlessOtherwiseSpecified(n,e)})}function getMergeFunction(l,t){if(!t.customMerge)return deepMerge;var e=t.customMerge(l);return"function"==typeof e?e:deepMerge}function getEnumerableOwnPropertySymbols(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(t){return l.propertyIsEnumerable(t)}):[]}function getKeys(l){return Object.keys(l).concat(getEnumerableOwnPropertySymbols(l))}function propertyIsOnObject(l,t){try{return t in l}catch{return!1}}function propertyIsUnsafe(l,t){return propertyIsOnObject(l,t)&&!(Object.hasOwnProperty.call(l,t)&&Object.propertyIsEnumerable.call(l,t))}function mergeObject(l,t,e){void 0===l&&(l={}),void 0===t&&(t={});var n={};return e.isMergeableObject(l)&&getKeys(l).forEach(function(o){n[o]=cloneUnlessOtherwiseSpecified(l[o],e)}),getKeys(t).forEach(function(o){propertyIsUnsafe(l,o)||(n[o]=propertyIsOnObject(l,o)&&e.isMergeableObject(t[o])?getMergeFunction(o,e)(l[o],t[o],e):cloneUnlessOtherwiseSpecified(t[o],e))}),n}function defaultIsMergeableObject(l){return isNonNullObject(l)&&!isSpecial(l)}function isNonNullObject(l){return!!l&&"object"==typeof l}function isSpecial(l){var t=Object.prototype.toString.call(l);return"[object RegExp]"===t||"[object Date]"===t}function deepMerge(l,t,e){(e=e||{}).arrayMerge=e.arrayMerge||defaultArrayMerge,e.isMergeableObject=e.isMergeableObject||defaultIsMergeableObject,e.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var n=Array.isArray(t);return n===Array.isArray(l)?n?e.arrayMerge(l,t,e):mergeObject(l,t,e):cloneUnlessOtherwiseSpecified(t,e)}function hexToRGBA(l,t){var e=parseInt(l.slice(1,3),16),n=parseInt(l.slice(3,5),16),o=parseInt(l.slice(5,7),16);return t?"rgba("+e+", "+n+", "+o+", "+t+")":"rgba("+e+", "+n+", "+o+")"}function changeOpacity(l,t){return l.map(function(e){var n=Color.fromString(e);return new Color(n.r,n.g,n.b,t).toHexString()})}var __extends$W=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$f=function(){return __assign$f=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$f.apply(this,arguments)},BarChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$W(t,l),t.prototype.getAxes=function(e){var n="bar"===this.standaloneChartType,o=[{type:this.getXAxisType(e),position:n?"left":"bottom"},{type:"number",position:n?"bottom":"left"}];if(this.isNormalised()){var s=o[1];s.label=__assign$f(__assign$f({},s.label),{formatter:function(d){return Math.round(d.value)+"%"}})}return o},t.prototype.getSeries=function(e){var n=this,s=!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["groupedColumn","groupedBar"],this.chartType),d=e.fields.map(function(v){return{type:n.standaloneChartType,grouped:s,normalizedTo:n.isNormalised()?100:void 0,xKey:e.category.id,xName:e.category.name,yKey:v.colId,yName:v.displayName}});return this.crossFiltering?this.extractCrossFilterSeries(d):d},t.prototype.extractCrossFilterSeries=function(e){for(var o=this.getChartPalette(),d=function(w){var D=w.yKey+"-filtered-out";return __assign$f(__assign$f({},deepMerge({},w)),{yKey:D,fill:hexToRGBA(w.fill,"0.3"),stroke:hexToRGBA(w.stroke,"0.3"),hideInLegend:[D]})},v=[],C=0;C<e.length;C++){var m=(D=C,__assign$f(__assign$f({},e[C]),{highlightStyle:{item:{fill:void 0}},fill:o?.fills[D],stroke:o?.strokes[D],listeners:{nodeClick:this.crossFilterCallback}}));v.push(m),v.push(d(m))}var D;return v},t.prototype.isNormalised=function(){return!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["normalizedColumn","normalizedBar"],this.chartType)},t}(CartesianChartProxy),__extends$V=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$e=function(){return __assign$e=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$e.apply(this,arguments)},AreaChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$V(t,l),t.prototype.getAxes=function(e){var n=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){var o=n[1];o.label=__assign$e(__assign$e({},o.label),{formatter:function(s){return Math.round(s.value)+"%"}})}return n},t.prototype.getSeries=function(e){var n=this,o=e.fields.map(function(s){return{type:n.standaloneChartType,xKey:e.category.id,xName:e.category.name,yKey:s.colId,yName:s.displayName,normalizedTo:"normalizedArea"===n.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(n.chartType)}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(o,e):o},t.prototype.isNormalised=function(){return!this.crossFiltering&&"normalizedArea"===this.chartType},t}(CartesianChartProxy),__extends$U=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),LineChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$U(t,l),t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var n=this,o=e.fields.map(function(s){return{type:n.standaloneChartType,xKey:e.category.id,xName:e.category.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(o,e):o},t}(CartesianChartProxy),__extends$T=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$d=function(){return __assign$d=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$d.apply(this,arguments)},PieChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$T(t,l),t.prototype.update=function(e){var n=e.data,o=e.category,s=__assign$d(__assign$d({},this.getCommonChartOptions()),{data:this.crossFiltering?this.getCrossFilterData(e):this.transformData(n,o.id),series:this.getSeries(e)});AgChart.update(this.getChartRef(),s)},t.prototype.getSeries=function(e){var n=this,o=e.fields.length,s={currentOffset:0,offsetAmount:o>1?20:40},d=this.getFields(e).map(function(v){var C,m={type:n.standaloneChartType,angleKey:v.colId,angleName:v.displayName,sectorLabelKey:v.colId,calloutLabelKey:e.category.id,calloutLabelName:e.category.name};if("doughnut"===n.chartType){var w=t.calculateOffsets(s),D=w.outerRadiusOffset,b=w.innerRadiusOffset,T=v.displayName?{title:{text:v.displayName,showInLegend:o>1}}:void 0;return __assign$d(__assign$d(__assign$d(__assign$d({},m),{outerRadiusOffset:D,innerRadiusOffset:b}),T),{calloutLine:{colors:null===(C=n.getChartPalette())||void 0===C?void 0:C.strokes}})}return m});return this.crossFiltering?this.extractCrossFilterSeries(d):d},t.prototype.getCrossFilterData=function(e){var n=e.fields[0].colId,o=n+"-filtered-out";return e.data.map(function(s){var d=s[n]+s[o];return s[n+"-total"]=d,s[o]=1,s[n]=s[n]/d,s})},t.prototype.extractCrossFilterSeries=function(e){var w,o=this.getChartPalette(),v=e[0],C=v.angleKey,m=__assign$d(__assign$d({},w=v),{calloutLabel:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:w.angleKey,angleKey:w.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:{nodeClick:this.crossFilterCallback}});return[function(w,D){var b,T;return __assign$d(__assign$d({},deepMerge({},m)),{radiusKey:D+"-filtered-out",fills:changeOpacity(null!==(b=w.fills)&&void 0!==b?b:o.fills,.3),strokes:changeOpacity(null!==(T=w.strokes)&&void 0!==T?T:o.strokes,.3),showInLegend:!1})}(v,C),m]},t.calculateOffsets=function(e){var n=e.currentOffset;e.currentOffset-=e.offsetAmount;var o=e.currentOffset;return e.currentOffset-=e.offsetAmount,{outerRadiusOffset:n,innerRadiusOffset:o}},t.prototype.getFields=function(e){return"pie"===this.chartType?e.fields.slice(0,1):e.fields},t.prototype.crossFilteringReset=function(){},t}(ChartProxy),__extends$S=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$c=function(){return __assign$c=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$c.apply(this,arguments)},__values$5=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$c=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$6=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$c(arguments[t]));return l},ScatterChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$S(t,l),t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var n=this,o=this.isPaired(),s=this.getSeriesDefinitions(e.fields,o),d=e.category.id===ChartDataModel.DEFAULT_CATEGORY?void 0:e.category,v=s.map(function(C){return{type:n.standaloneChartType,xKey:C.xField.colId,xName:C.xField.displayName,yKey:C.yField.colId,yName:C.yField.displayName,title:C.yField.displayName+" vs "+C.xField.displayName,sizeKey:C.sizeField?C.sizeField.colId:void 0,sizeName:C.sizeField?C.sizeField.displayName:void 0,labelKey:d?d.id:C.yField.colId,labelName:d?d.name:void 0}});return this.crossFiltering?this.extractCrossFilterSeries(v,e):v},t.prototype.extractCrossFilterSeries=function(e,n){var o=this,s=n.data,d=this.getChartPalette(),v=function(b){return b+"-filtered-out"},D=e.map(function(b,T){var I=d?.fills[T],N=d?.strokes[T],G=function(b,T){var A,I,N,G=[1/0,-1/0];if(null!=T)try{for(var V=__values$5(b),W=V.next();!W.done;W=V.next()){var j=W.value,K=null!==(N=j[T])&&void 0!==N?N:j[v(T)];K<G[0]&&(G[0]=K),K>G[1]&&(G[1]=K)}}catch(Y){A={error:Y}}finally{try{W&&!W.done&&(I=V.return)&&I.call(V)}finally{if(A)throw A.error}}if(G[0]<=G[1])return G}(s,b.sizeKey),V=__assign$c(__assign$c({},b.marker),{fill:I,stroke:N,domain:G});return __assign$c(__assign$c({},b),{marker:V,highlightStyle:{item:{fill:"yellow"}},listeners:__assign$c(__assign$c({},b.listeners),{nodeClick:o.crossFilterCallback})})});return __spread$6(D,D.map(function(b){var T=b.sizeKey,A=b.yKey,I=b.xKey;return null!=T&&(T=v(T)),__assign$c(__assign$c({},b),{yKey:v(A),xKey:v(I),marker:__assign$c(__assign$c({},b.marker),{fillOpacity:.3,strokeOpacity:.3}),sizeKey:T,showInLegend:!1,listeners:__assign$c(__assign$c({},b.listeners),{nodeClick:function(N){var G,V=N.datum[v(I)],W=__assign$c(__assign$c({},N),{xKey:I,datum:__assign$c(__assign$c({},N.datum),(G={},G[I]=V,G))});o.crossFilterCallback(W)}})})}))},t.prototype.getSeriesDefinitions=function(e,n){if(e.length<2)return[];var o="bubble"===this.chartType;if(n)return o?e.map(function(d,v){return v%3==0?{xField:d,yField:e[v+1],sizeField:e[v+2]}:null}).filter(function(d){return d&&d.yField&&d.sizeField}):e.map(function(d,v){return v%2==0?{xField:d,yField:e[v+1]}:null}).filter(function(d){return d&&d.yField});var s=e[0];return o?e.map(function(d,v){return v%2==1?{xField:s,yField:d,sizeField:e[v+1]}:null}).filter(function(d){return d&&d.sizeField}):e.filter(function(d,v){return v>0}).map(function(d){return{xField:s,yField:d}})},t}(CartesianChartProxy),__extends$R=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HistogramChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$R(t,l),t.prototype.getSeries=function(e){var n=e.fields[0];return[{type:this.standaloneChartType,xKey:n.colId,xName:n.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]},t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t}(CartesianChartProxy),__extends$Q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ChartOptionsService=function(l){function t(e){var n=l.call(this)||this;return n.chartController=e,n}return __extends$Q(t,l),t.prototype.getChartOption=function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,n,o){var s=this,d=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&d.push("cartesian");var v={};d.forEach(function(C){v=deepMerge(v,s.createChartOptions({seriesType:C,expression:e,value:n}))}),this.updateChart(v),o||this.raiseChartOptionsChangedEvent()},t.prototype.awaitChartOptionUpdate=function(e){this.chartController.getChartProxy().getChart().waitForUpdate().then(function(){return e()})},t.prototype.getAxisProperty=function(e){var n;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(null===(n=this.getChart().axes)||void 0===n?void 0:n[0],e,void 0)},t.prototype.setAxisProperty=function(e,n){var s,o=this,d=this.getChart(),v={};null===(s=d.axes)||void 0===s||s.forEach(function(C){v=deepMerge(v,o.getUpdateAxisOptions(C,e,n))}),this.updateChart(v),this.raiseChartOptionsChangedEvent()},t.prototype.getLabelRotation=function(e){var n=this.getAxis(e);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(n,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,n){var o=this.getAxis(e);if(o){var s=this.getUpdateAxisOptions(o,"label.rotation",n);this.updateChart(s),this.raiseChartOptionsChangedEvent()}},t.prototype.getSeriesOption=function(e,n){var o=this.getChart().series.find(function(s){return t.isMatchingSeries(n,s)});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(o,e,void 0)},t.prototype.setSeriesOption=function(e,n,o){var s=this.createChartOptions({seriesType:o,expression:"series."+e,value:n});this.updateChart(s),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){return this.chartController.getChartProxy().isPaired()},t.prototype.setPairedMode=function(e){this.chartController.getChartProxy().setPaired(e)},t.prototype.getAxis=function(e){var n=this.getChart();if(n.axes&&!(n.axes.length<1))return"xAxis"===e?n.axes&&"x"===n.axes[0].direction?n.axes[0]:n.axes[1]:n.axes&&"y"===n.axes[1].direction?n.axes[1]:n.axes[0]},t.prototype.getUpdateAxisOptions=function(e,n,o){var s=getSeriesType(this.getChartType());return["number","category","time","groupedCategory"].includes(e.type)?this.createChartOptions({seriesType:s,expression:"axes."+e.type+"."+n,value:o}):{}},t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.updateChart=function(e){var n=this.chartController.getChartProxy().getChartRef();AgChart.updateDelta(n,e)},t.prototype.createChartOptions=function(e){var d={},v={theme:{overrides:d}};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(d,e.seriesType+"."+e.expression,e.value),v},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:e.chartOptions};this.eventService.dispatchEvent(n)},t.isMatchingSeries=function(e,n){var s;return VALID_SERIES_TYPES.includes(e)&&n.type===("column"===(s=e)?"bar":s)},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$P=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ComboChartProxy=function(l){function t(e){return l.call(this,e)||this}return __extends$P(t,l),t.prototype.getAxes=function(e){var n=e?e.fields:[],o=new Map(n.map(function(m){return[m.colId,m]})),s=this.getYKeys(n,e.seriesChartTypes),d=s.primaryYKeys,v=s.secondaryYKeys,C=[{type:this.getXAxisType(e),position:"bottom",gridStyle:[{stroke:void 0}]}];return d.length>0&&C.push({type:"number",keys:d,position:"left",title:{text:d.map(function(m){var w=o.get(m);return w?w.displayName:m}).join(" / ")}}),v.length>0&&v.forEach(function(m,w){var D=o.get(m);if(D&&D.colId===m){var T={type:"number",keys:[m],position:"right",title:{text:D?D.displayName:m}};!d.some(function(N){return!!o.get(N)})&&w===v.length-1||(T.gridStyle=[{stroke:void 0}]),C.push(T)}}),C},t.prototype.getSeries=function(e){var o=e.category,s=e.seriesChartTypes;return e.fields.map(function(d){var v=s.find(function(m){return m.colId===d.colId});if(v){var C=v.chartType;return{type:getSeriesType(C),xKey:o.id,yKey:d.colId,yName:d.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(C),stacked:["stackedArea","stackedColumn"].includes(C)}}})},t.prototype.getYKeys=function(e,n){var o=[],s=[];return e.forEach(function(d){var v=d.colId,C=n.find(function(m){return m.colId===v});C&&(C.secondaryAxis?s.push(v):o.push(v))}),{primaryYKeys:o,secondaryYKeys:s}},t}(CartesianChartProxy),__extends$O=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$K=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GridChartComp=function(l){function t(e){var n=l.call(this,t.TEMPLATE)||this;return n.params=e,n}return __extends$O(t,l),t.prototype.init=function(){var e=this,n=this.gridOptionsService.get("chartThemes")||DEFAULT_THEMES;if(n.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var o=this.params.chartThemeName;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,o)||(o=n[0]);var s={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:o,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},d=this.gridOptionsService.is("enableRtl");this.addCssClass(d?"ag-rtl":"ag-ltr");var v=this.createBean(new ChartDataModel(s));this.chartController=this.createManagedBean(new ChartController(v)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_MODEL_UPDATE,this.update.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,ChartMenu.EVENT_DOWNLOAD_CHART,function(){return e.downloadChart()}),this.update(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.getChartThemes(),n=this.gridOptionsService.get("customChartThemes");n&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllKeysInObjects([n]).forEach(function(o){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,o)||console.warn("AG Grid: a custom chart theme with the name '"+o+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.createChart=function(){var e=this,n=void 0;this.chartProxy&&(n=this.chartProxy.destroy({keepChartInstance:!0}));var s=this.chartController.getChartType(),d={chartType:s,chartInstance:n,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsService.get("customChartThemes"),getGridOptionsChartThemeOverrides:function(){return e.getGridOptionsChartThemeOverrides()},getExtraPaddingDirections:function(){var C,m;return null!==(m=null===(C=e.chartMenu)||void 0===C?void 0:C.getExtraPaddingDirections())&&void 0!==m?m:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(C,m){e.params.crossFilteringContext.lastSelectedChartId=m?"":e.chartController.getChartId(),m&&e.params.crossFilteringResetCallback(),e.crossFilterService.filter(C,m)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:function(C,m){return e.chartTranslationService.translate(C,m)}};if(this.params.chartOptionsToRestore=void 0,this.chartType=s,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=t.createChartProxy(d),this.chartProxy){var v=this.eChart.querySelector("canvas");v&&v.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new ChartOptionsService(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",d.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsService.get("chartThemeOverrides")},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new BarChartProxy(e);case"pie":case"doughnut":return new PieChartProxy(e);case"area":case"stackedArea":case"normalizedArea":return new AreaChartProxy(e);case"line":return new LineChartProxy(e);case"scatter":case"bubble":return new ScatterChartProxy(e);case"histogram":return new HistogramChartProxy(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new ComboChartProxy(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+e.chartType+"' was supplied."}},t.prototype.addDialog=function(){var e=this,n=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),o=this.getBestDialogSize();this.chartDialog=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({resizable:!0,movable:!0,maximizable:!0,title:n,width:o.width,height:o.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),n=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(e),o=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteHeight(e),d=this.chartProxy.getChart(),v=this.params.insideDialog?850:d.width,C=this.params.insideDialog?470:d.height;return(v>n||C>o)&&(v=Math.min(v,n),(C=Math.round(.553*v))>o&&(C=o,v=Math.min(v,Math.round(C/.553)))),{width:v,height:C}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new ChartMenu(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new TitleEdit(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.update=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.updateChart=function(){var e=this,n=this.chartProxy,s=this.chartController.getSelectedValueColState().map(function(m){return{colId:m.colId,displayName:m.displayName}}),d=this.chartController.getChartData();if(!this.handleEmptyChart(d,s)){var C=this.chartController.getChartUpdateParams();n.update(C),this.chartProxy.getChart().waitForUpdate().then(function(){e.chartController.raiseChartUpdatedEvent()}),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.handleEmptyChart=function(e,n){var o=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),s=1;this.chartController.isActiveXYChart()&&(s="bubble"===this.chartController.getChartType()?3:2);var d=n.length<s||0===e.length;if(this.eChart){var v=o||d;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eChart,!v),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eEmpty,v)}return o?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!d&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(e,n,o){this.chartProxy.downloadChart(e,n,o)},t.prototype.openChartToolPanel=function(e){this.chartMenu.showMenu(e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[e])},t.prototype.closeChartToolPanel=function(){this.chartMenu.hideMenu()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChartRef()},t.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=this,n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()};this.chartProxy.getChart().waitForUpdate().then(function(){e.eventService.dispatchEvent(n)})},t.prototype.raiseChartDestroyedEvent=function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.destroyBean(this.titleEdit),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChart")],t.prototype,"eChart",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChartContainer")],t.prototype,"eChartContainer",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenuContainer")],t.prototype,"eMenuContainer",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eEmpty")],t.prototype,"eEmpty",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],t.prototype,"popupService",void 0),__decorate$K([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$a="29.1.0",__assign$b=function(){return __assign$b=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$b.apply(this,arguments)},__rest=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(l);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(l,n[o])&&(e[n[o]]=l[n[o]])}return e},__read$b=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__values$4=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function upgradeChartModel(l){return null==l.version&&(l.version=heuristicVersionDetection(l)),l=migrateIfBefore("23.0.0",l,migrateV23),l=migrateIfBefore("24.0.0",l,migrateV24),l=migrateIfBefore("25.1.0",l,migrateV25_1),l=migrateIfBefore("26.0.0",l,migrateV26),l=migrateIfBefore("26.1.0",l,migrateV26_1),l=migrateIfBefore("26.2.0",l,migrateV26_2),l=migrateIfBefore("28.0.0",l,migrateV28),l=migrateIfBefore("28.2.0",l,migrateV28_2),l=cleanup(l=migrateIfBefore("29.0.0",l,migrateV29)),migrateIfBefore(VERSION$a,l,function(t){return t})}function migrateV23(l){return l=jsonRename("chartOptions.legend.item.marker.type","shape",l),l=jsonRename("chartOptions.seriesDefaults.marker.type","shape",l),jsonRename("chartOptions.legend.padding","spacing",l)}function migrateV24(l){var t,e=l=jsonDelete("chartOptions.seriesDefaults.marker.minSize",l),n=e.chartType,o=e.chartPalette,s=e.chartOptions,d=s.xAxis,v=s.yAxis,C=__rest(s,["xAxis","yAxis"]),m=__rest(e,["chartType","chartPalette","chartOptions"]),D=getLegacyAxisType(n)?.map(function(b,T){return __assign$b({type:b},0===T?d:v)});return __assign$b({chartType:n,chartThemeName:null!==(t=LEGACY_PALETTES[o])&&void 0!==t?t:"ag-default",chartOptions:__assign$b(__assign$b({},C),{axes:D,xAxis:d,yAxis:v})},m)}function migrateV25_1(l){return jsonRename("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",l)}function migrateV26(l){return l=jsonDelete("chart",l=jsonMutate("chartOptions.seriesDefaults.highlightStyle",l,function(e){var n=e.dimOpacity,o=__rest(e,["dimOpacity"]);return __assign$b(__assign$b({},o),null!=n?{series:{dimOpacity:n}}:{})})),l=jsonDelete("chartOptions.seriesDefaults.tooltipClass",l),l=jsonDeleteDefault("chartOptions.axes[].label.rotation",0,l=jsonDelete("chartOptions.seriesDefaults.tooltipTracking",l)),jsonDeleteDefault("chartOptions.axes[].label.rotation",335,l)}function migrateV26_1(l){var t=function(e){var n=e.item,o=e.series,s=__rest(e,["item","series"]);return __assign$b({item:__assign$b(__assign$b({},s),n)},o?{series:o}:{})};return l=jsonMutate("chartOptions.seriesDefaults.highlightStyle",l,t),jsonMutate("chartOptions.series[].highlightStyle",l,t)}function migrateV26_2(l){l=jsonMove("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",l),l=jsonMove("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",l),l=jsonDelete("chartOptions.seriesDefaults.fill",l=jsonMove("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",l)),l=jsonDelete("chartOptions.seriesDefaults.stroke",l),l=jsonDelete("chartOptions.seriesDefaults.callout.colors",l),l=jsonDelete("chartOptions.xAxis",l);var t=l=jsonDelete("chartOptions.yAxis",l),e=t.chartType,n=t.chartOptions,o=n.axes,s=n.seriesDefaults,d=__rest(n,["axes","series","seriesDefaults"]),v=__rest(t,["chartType","chartOptions"]),C=[getSeriesType(e)],m={};if(!C.includes("pie")){var w={top:{},bottom:{},left:{},right:{}},D=o.map(function(T){var A,I=T.type,N=__rest(T,["type"]);return(A={})[I]=__assign$b(__assign$b({},w),N),A}).reduce(merge,{});ALL_AXIS_TYPES.filter(function(T){return null==D[T]}).forEach(function(T){D[T]=__assign$b({},w)}),m.axes=D}var b=C.map(function(T){var A;return(A={})[T]=__assign$b(__assign$b(__assign$b({},m),{series:s}),d),A}).reduce(merge,{});return __assign$b(__assign$b({},v),{chartType:e,chartOptions:b})}function migrateV28(l){return l=jsonDelete("chartOptions.*.title.padding",l),l=jsonDelete("chartOptions.*.subtitle.padding",l),jsonBackfill("chartOptions.*.axes.*.title.enabled",!1,l=jsonDelete("chartOptions.*.axes.*.title.padding",l))}function migrateV28_2(l){return l=jsonRename("chartOptions.pie.series.callout","calloutLine",l),jsonRename("chartOptions.pie.series.label","calloutLabel",l)}function migrateV29(l){return l=jsonMoveIfMissing("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",l),l=jsonMoveIfMissing("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",l),l=jsonMoveIfMissing("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",l),l=jsonMoveIfMissing("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",l),jsonMove("chartOptions.scatter.series.paired","chartOptions.scatter.paired",l=jsonMoveIfMissing("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",l))}function cleanup(l){return l=jsonDelete("chartOptions.*.width",l),jsonBackfill("chartOptions.*.axes.category.label.autoRotate",!0,l=jsonDelete("chartOptions.*.height",l))}function heuristicVersionDetection(l){var t,e,n=l;if(null!=l.version)return l.version;var o=function(T){for(var A=[],I=1;I<arguments.length;I++)A[I-1]=arguments[I];return Object.keys(T||{}).some(function(N){return A.includes(N)})},s=n.chartOptions,d=o(s,"seriesDefaults")?s?.seriesDefaults:s?.[Object.keys(s)[0]],v={"27.0.0":o(n,"seriesChartTypes"),"26.2.0":!o(s,"seriesDefaults"),"26.1.0":o(d?.highlightStyle,"item"),"26.0.0":o(d?.highlightStyle,"series"),"25.1.0":o(d?.label,"minAngle"),"25.0.0":o(n,"modelType","aggFunc","unlinkChart","suppressChartRanges")||o(d,"lineDash","lineDashOffset"),"24.0.0":o(n,"chartThemeName","chart")||o(s,"series"),"23.2.0":o(s,"navigator"),"23.0.0":o(null===(e=null===(t=s?.legend)||void 0===t?void 0:t.item)||void 0===e?void 0:e.marker,"shape"),"22.1.0":o(n,"chartPalette","chartType")},m=Object.entries(v).filter(function(T){return __read$b(T,2)[1]}),D=__read$b(m[0],1)[0];return void 0===D?"27.1.0":D}function migrateIfBefore(l,t,e){if(versionNumber(l)>versionNumber(t.version)){var n=e(t);return n.version=l,n}return t}function versionParts(l){var t="string"==typeof l?l.split(".").map(function(e){return Number(e)}):[];if(3!==t.length||t.some(function(e){return isNaN(e)}))throw new Error("AG Grid - Illegal version string: "+l);return{major:t[0],minor:t[1],patch:t[2]}}function versionNumber(l){var t=versionParts(l);return 1e4*t.major+100*t.minor+t.patch}function jsonDeleteDefault(l,t,e){return jsonMutateProperty(l,!0,e,function(n,o){n[o]===t&&delete n[o]})}function jsonBackfill(l,t,e){return jsonMutateProperty(l,!1,e,function(n,o){null==n[o]&&(n[o]=t)})}function jsonMove(l,t,e){var n=void 0,o=!1;return e=jsonMutateProperty(l,!0,e,function(s,d){o=!0,n=s[d],delete s[d]}),o?jsonMutateProperty(t,!1,e,function(s,d){s[d]=n}):e}function jsonMoveIfMissing(l,t,e){var n=void 0,o=!1;return e=jsonMutateProperty(l,!0,e,function(s,d){o=!0,n=s[d],delete s[d]}),o?jsonMutateProperty(t,!1,e,function(s,d){void 0===s[d]&&(s[d]=n)}):e}function jsonRename(l,t,e){return jsonMutateProperty(l,!0,e,function(n,o){n[t]=n[o],delete n[o]})}function jsonDelete(l,t){return jsonMutateProperty(l,!0,t,function(e,n){return delete e[n]})}function jsonMutateProperty(l,t,e,n){var o=l instanceof Array?l:l.split("."),s=o.slice(0,o.length-1),d=o[o.length-1];return jsonMutate(s,e,function(v){var C=Object.keys(v).includes(d);if(t&&!C)return v;var m=__assign$b({},v);return n(m,d),m})}function jsonMutate(l,t,e){var n,o,s=l instanceof Array?l:l.split(".");if(t=__assign$b({},t),0===s.length)return e(t);if(s[0].startsWith("{")){var d=s[0].substring(1,s[0].lastIndexOf("}")).split(",");try{for(var v=__values$4(d),C=v.next();!C.done;C=v.next()){var m=C.value;null!=t[m]&&(t[m]=jsonMutate(s.slice(1),t[m],e))}}catch(b){n={error:b}}finally{try{C&&!C.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}}else if(s[0].endsWith("[]")){var w=s[0].substring(0,l[0].indexOf("["));t[w]instanceof Array&&(t[w]=t[w].map(function(b){return jsonMutate(s.slice(1),b,e)}))}else if("*"===s[0])for(var D in t)t[D]=jsonMutate(s.slice(1),t[D],e);else null!=t[s[0]]&&(t[s[0]]=jsonMutate(s.slice(1),t[s[0]],e));return t}var merge=function(l,t){return __assign$b(__assign$b({},l),t)},LEGACY_PALETTES={borneo:"ag-default",material:"ag-material",pastel:"ag-pastel",bright:"ag-vivid",flat:"ag-solar"},__extends$N=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$a=function(){return __assign$a=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$a.apply(this,arguments)},__decorate$J=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartService=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return __extends$N(t,l),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(o){return e.push(function(o){return __assign$a(__assign$a({},o),{version:VERSION$a})}(o.getChartModel()))}),e},t.prototype.getChartRef=function(e){var n;return this.activeCharts.forEach(function(o){o.chartId===e&&(n=o)}),n},t.prototype.getChartImageDataURL=function(e){var n;return this.activeChartComps.forEach(function(o){o.getChartId()===e.chartId&&(n=o.getChartImageDataURL(e.fileFormat))}),n},t.prototype.downloadChart=function(e){Array.from(this.activeChartComps).find(function(o){return o.getChartId()===e.chartId})?.downloadChart(e.dimensions,e.fileName,e.fileFormat)},t.prototype.openChartToolPanel=function(e){Array.from(this.activeChartComps).find(function(o){return o.getChartId()===e.chartId})?.openChartToolPanel(e.panel)},t.prototype.closeChartToolPanel=function(e){Array.from(this.activeChartComps).find(function(o){return o.getChartId()===e})?.closeChartToolPanel()},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var n=this.getSelectedRange();return this.createChart(n,e)},t.prototype.restoreChart=function(e,n){var o=this;if(e){e.version!==VERSION$a&&(e=upgradeChartModel(e));var s={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:n,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},d=function(D){return o.rangeService?o.rangeService.createCellRangeFromCellRangeParams(D):void 0};if("pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var m=d({rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(D){return D.getColId()})});return m?this.createChart(m,s.chartType,s.chartThemeName,!0,!0,s.chartContainer,void 0,void 0,s.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var w=d(s.cellRange);if(w)return this.createChart(w,s.chartType,s.chartThemeName,!1,s.suppressChartRanges,s.chartContainer,s.aggFunc,void 0,s.unlinkChart,!1,e.chartOptions,e.chartPalette,s.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(n)return this.createChart(n,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,void 0,e.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var n={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(s){return s.getColId()})},o=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(n):void 0;if(o)return this.createChart(o,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(n)return this.createChart(n,e.chartType,e.chartThemeName,!1,!(typeof e.suppressChartRanges<"u"&&null!==e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,n,o,s,d,v,C,m,w,D,b,T,A){var I=this;void 0===s&&(s=!1),void 0===d&&(d=!1),void 0===w&&(w=!1),void 0===D&&(D=!1);var N=this.gridOptionsService.getCallback("createChartContainer"),G={chartId:this.generateId(),pivotChart:s,cellRange:e,chartType:n,chartThemeName:o,insideDialog:!(v||N),suppressChartRanges:d,aggFunc:C,chartThemeOverrides:m,unlinkChart:w,crossFiltering:D,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:b,chartPaletteToRestore:T,seriesChartTypes:A,crossFilteringResetCallback:function(){return I.activeChartComps.forEach(function(K){return K.crossFilteringReset()})}},V=new GridChartComp(G);this.context.createBean(V);var W=this.createChartRef(V);if(v){v.appendChild(V.getGui());var j=this.environment.getTheme();j.el&&!j.el.contains(v)&&v.classList.add(j.theme)}else N?N(W):V.addEventListener(GridChartComp.EVENT_DESTROYED,function(){I.activeChartComps.delete(V),I.activeCharts.delete(W)});return W},t.prototype.createChartRef=function(e){var n=this,o={destroyChart:function(){n.activeCharts.has(o)&&(n.context.destroyBean(e),n.activeChartComps.delete(e),n.activeCharts.delete(o))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(o),this.activeChartComps.add(e),o},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},t.CHARTS_VERSION=VERSION$b,__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],t.prototype,"rangeService",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$J([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyAllActiveCharts",null),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$M=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$I=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartTranslationService=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$M(t,l),e=t,t.prototype.translate=function(n,o){return this.localeService.getLocaleTextFunc()(n,e.DEFAULT_TRANSLATIONS[n]||o)},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},e=__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartTranslationService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$L=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$H=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ChartCrossFilterService=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$L(t,l),e=t,t.prototype.filter=function(n,o){void 0===o&&(o=!1);var s=this.gridApi.getFilterModel();if(o)this.resetFilters(s);else{var d=e.extractFilterColId(n);this.isValidColumnFilter(d)?this.updateFilters(s,n,d):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+d+"'")}},t.prototype.resetFilters=function(n){Object.keys(n).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(n,o,s){var d,v=e.extractFilterColId(o),C=o.datum[v];if(void 0!==C){var m=C.toString();if(o.event.metaKey||o.event.ctrlKey){var w=this.getCurrentGridValuesForCategory(s),b=void 0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(w,m)?b=w.filter(function(T){return T!==m}):(b=w).push(m),n[s]=this.getUpdatedFilterModel(s,b)}else(d={})[s]=this.getUpdatedFilterModel(s,b=[m]),n=d;this.gridApi.setFilterModel(n)}},t.prototype.getUpdatedFilterModel=function(n,o){return"agMultiColumnFilter"===this.getColumnFilterType(n)?{filterType:"multi",filterModels:[null,{filterType:"set",values:o}]}:{filterType:"set",values:o}},t.prototype.getCurrentGridValuesForCategory=function(n){var o=this,s=[],d=this.getColumnById(n);return this.gridApi.forEachNodeAfterFilter(function(v){if(d&&!v.group){var C=o.valueService.getValue(d,v)+"";s.includes(C)||s.push(C)}}),s},t.extractFilterColId=function(n){return n.xKey||n.calloutLabelKey},t.prototype.isValidColumnFilter=function(n){n.indexOf("-filtered-out")&&(n=n.replace("-filtered-out",""));var o=this.getColumnFilterType(n);return"boolean"==typeof o?o:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["agSetColumnFilter","agMultiColumnFilter"],o)},t.prototype.getColumnFilterType=function(n){var o=this.getColumnById(n);if(o){var s=o.getColDef();return null!=s.filter?s.filter:s.filterFramework}},t.prototype.getColumnById=function(n){return this.columnModel.getGridColumn(n)},__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),e=__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartCrossFilterService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$K=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$9=function(){return __assign$9=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$9.apply(this,arguments)},__decorate$G=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$a=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$5=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$a(arguments[t]));return l},__values$3=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RangeService=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return __extends$K(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady(function(){var n=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:n.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return n.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return n.getScrollFeature().setVerticalScrollPosition(o)},getHorizontalPosition:function(){return n.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(o){return n.getScrollFeature().setHorizontalScrollPosition(o)},shouldSkipVerticalScroll:function(){return!e.gridOptionsService.isDomLayout("normal")},shouldSkipHorizontalScroll:function(){return!n.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnsChanged=function(){var e=this;this.refreshLastRangeStart();var n=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach(function(s){var d=s.columns;s.columns=s.columns.filter(function(C){return C.isVisible()&&-1!==n.indexOf(C)}),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(d,s.columns)&&e.dispatchChangedEvent(!1,!0,s.id)});var o=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(function(s){return s.columns.length>0}),o>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},t.prototype.refreshLastRangeStart=function(){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var n=e.columns;if(!n.length)return!1;var o=this.columnModel.getAllDisplayedColumns(),s=n.map(function(d){return o.indexOf(d)}).sort(function(d,v){return d-v});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s)-s[0]+1===n.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?"top":null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var n=this.pinnedRowModel.getPinnedBottomRowCount();return n>0?{rowIndex:n-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,n){if(void 0===n&&(n=!1),this.gridOptionsService.isEnableRangeSelection()){var o=this.calculateColumnsBetween(e.column,e.column);if(o){(this.gridOptionsService.is("suppressMultiRangeSelection")||!n||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var d={rowIndex:e.rowIndex,rowPinned:e.rowPinned};this.cellRanges.push({startRow:d,endRow:d,columns:o,startColumn:e.column}),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);this.updateRangeEnd(n,e)}},t.prototype.updateRangeEnd=function(e,n,o){void 0===o&&(o=!1);var d=this.calculateColumnsBetween(e.startColumn,n.column);!d||this.isLastCellOfRange(e,n)||(e.columns=d,e.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},o||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var n=e.startColumn,o=e.columns,s=function(D,b){var T=e.columns.filter(function(A){return A!==D});D?(e.startColumn=D,e.columns=b?__spread$5([D],T):__spread$5(T,[D])):e.columns=T},d=this.getRangeEdgeColumns(e),v=d.left,C=d.right;n===o[0]&&n!==v?s(v,!0):n===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o)&&n===C&&s(C,!1)},t.prototype.getRangeEdgeColumns=function(e){var n=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(s){return n.indexOf(s)}).filter(function(s){return s>-1}).sort(function(s,d){return s-d});return{left:n[o[0]],right:n[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var n=e.key,o=e.ctrlKey||e.metaKey,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),d=this.newestRangeStartCell,v=s.columns[0],C=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s.columns),T=this.cellNavigationService.getNextCellToFocus(n,{column:d.column===v?C:v,rowIndex:s.endRow.rowIndex,rowPinned:s.endRow.rowPinned},o);if(T)return this.setCellRange({rowStartIndex:d.rowIndex,rowStartPinned:d.rowPinned,rowEndIndex:T.rowIndex,rowEndPinned:T.rowPinned,columnStart:d.column,columnEnd:T.column}),T}},t.prototype.setCellRange=function(e){this.gridOptionsService.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var n=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(o){o.columns&&o.startRow&&n.setNewestRangeStartCell({rowIndex:o.startRow.rowIndex,rowPinned:o.startRow.rowPinned,column:o.columns[0]}),n.cellRanges.push(o)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.clearCellRangeCellValues=function(e,n){var o=this;void 0===n&&(n="rangeService"),e||(e=this.cellRanges),e.forEach(function(s){o.forEachRowInRange(s,function(d){var v=o.rowPositionUtils.getRowNode(d);if(v)for(var C=0;C<s.columns.length;C++){var m=o.columnModel.getGridColumn(s.columns[C]);if(!m||!m.isCellEditable(v))return;v.setDataValue(m,null,n)}})})},t.prototype.createCellRangeFromCellRangeParams=function(e){var o,n=this,s=!1;if(e.columns)o=e.columns.map(function(w){return n.columnModel.getColumnWithValidation(w)}).filter(function(w){return w});else{var d=this.columnModel.getColumnWithValidation(e.columnStart),v=this.columnModel.getColumnWithValidation(e.columnEnd);if(!d||!v)return;(o=this.calculateColumnsBetween(d,v))&&o.length&&(s=o[0]!==d)}if(o)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:o,startColumn:s?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o):o[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsService.isEnableRangeSelection()){var n=this.createCellRangeFromCellRangeParams(e);n&&(n.startRow&&this.setNewestRangeStartCell({rowIndex:n.startRow.rowIndex,rowPinned:n.startRow.rowPinned,column:n.startColumn}),this.cellRanges.push(n),this.dispatchChangedEvent(!1,!0,n.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(0===e)return!1;if(e>1)return!0;var n=this.cellRanges[0],o=this.getRangeStartRow(n),s=this.getRangeEndRow(n);return o.rowPinned!==s.rowPinned||o.rowIndex!==s.rowIndex||1!==n.columns.length},t.prototype.areAllRangesAbleToMerge=function(){var e,n,v,o=this,s=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(b){o.forEachRowInRange(b,function(T){var A=(T.rowPinned||"normal")+"_"+T.rowIndex,I=s.get(A),N=b.columns.map(function(V){return V.getId()});if(I){var G=N.filter(function(V){return-1===I.indexOf(V)});I.push.apply(I,__spread$5(G))}else s.set(A,N)})});try{for(var C=__values$3(s.values()),m=C.next();!m.done;m=C.next()){var D=m.value.sort().join();if(void 0!==v){if(v!==D)return!1}else v=D}}catch(b){e={error:b}}finally{try{m&&!m.done&&(n=C.return)&&n.call(C)}finally{if(e)throw e.error}}return!0},t.prototype.forEachRowInRange=function(e,n){for(var o=this.getRangeStartRow(e),s=this.getRangeEndRow(e),d=o;d&&(n(d),!this.rowPositionUtils.sameRow(d,s));)d=this.cellNavigationService.getRowBelow(d)},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,n){var o=null!==n.columns&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n.columns,e.column),s=this.isRowInRange(e.rowIndex,e.rowPinned,n);return o&&s},t.prototype.isLastCellOfRange=function(e,n){var o=e.startRow,s=e.endRow,d=this.rowPositionUtils.before(o,s)?s:o,v=n.rowIndex===d.rowIndex&&n.rowPinned===d.rowPinned,C=e.columns[0],m=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e.columns);return n.column===(e.startColumn===C?m:C)&&v},t.prototype.isBottomRightCell=function(e,n){var o=this.columnModel.getAllDisplayedColumns(),s=e.columns.map(function(D){return o.indexOf(D)}).sort(function(D,b){return D-b}),d=e.startRow,v=e.endRow,C=this.rowPositionUtils.before(d,v)?v:d,m=o.indexOf(n.column)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s),w=n.rowIndex===C.rowIndex&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(n.rowPinned)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(C.rowPinned);return m&&w},t.prototype.getCellRangeCount=function(e){var n=this;return this.isEmpty()?0:this.cellRanges.filter(function(o){return n.isCellInSpecificRange(e,o)}).length},t.prototype.isRowInRange=function(e,n,o){var s=this.getRangeStartRow(o),d=this.getRangeEndRow(o),v={rowIndex:e,rowPinned:n||null};if(v.rowIndex===s.rowIndex&&v.rowPinned==s.rowPinned||v.rowIndex===d.rowIndex&&v.rowPinned==d.rowPinned)return!0;var w=!this.rowPositionUtils.before(v,s),D=this.rowPositionUtils.before(v,d);return w&&D},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsService.isEnableRangeSelection()){var s=e.shiftKey,d=e.ctrlKey||e.metaKey,C=!this.gridOptionsService.is("suppressMultiRangeSelection")&&d,m=s&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.cellRanges);if(!C&&(!m||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges).type))&&this.removeAllCellRanges(!0),this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),this.updateValuesOnMove(e),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,this.intersectionRange=C&&this.getCellRangeCount(this.lastCellHovered)>1,m||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);else{var w={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:w,endRow:w,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.intersectLastRange=function(e){var n=this;if(!(e&&this.dragging||this.gridOptionsService.is("suppressMultiRangeSelection")||this.isEmpty())){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),s=this.getRangeStartRow(o),d=this.getRangeEndRow(o),v=[];this.cellRanges.slice(0,-1).forEach(function(C){var m=n.getRangeStartRow(C),w=n.getRangeEndRow(C),D=C.columns,b=D.filter(function(N){return-1===o.columns.indexOf(N)});if(b.length!==D.length)if(n.rowPositionUtils.before(d,m)||n.rowPositionUtils.before(w,s))v.push(C);else{var T=v.length;if(n.rowPositionUtils.before(m,s)){var A={columns:__spread$5(D),startColumn:o.startColumn,startRow:__assign$9({},m),endRow:n.cellNavigationService.getRowAbove(s)};v.push(A)}if(b.length>0){var I={columns:b,startColumn:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(b,o.startColumn)?o.startColumn:b[0],startRow:n.rowPositionUtils.rowMax([__assign$9({},s),__assign$9({},m)]),endRow:n.rowPositionUtils.rowMin([__assign$9({},d),__assign$9({},w)])};v.push(I)}n.rowPositionUtils.before(d,w)&&v.push({columns:__spread$5(D),startColumn:o.startColumn,startRow:n.cellNavigationService.getRowBelow(d),endRow:__assign$9({},w)}),v.length-T==1&&(v[v.length-1].id=C.id)}else v.push(C)}),this.cellRanges=v,e&&this.dispatchChangedEvent(!1,!0)}},t.prototype.updateValuesOnMove=function(e){var n=this.mouseEventService.getCellPositionForEvent(e);this.cellHasChanged=!1,!(!n||this.lastCellHovered&&this.cellPositionUtils.equals(n,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=n)},t.prototype.onDragging=function(e){var n=this;if(this.dragging&&e){this.lastMouseEvent=e;var o=this.lastCellHovered,s=function(C){return o&&o.rowPinned===C&&n.newestRangeStartCell.rowPinned===C},d=s("top")||s("bottom");if(this.autoScrollService.check(e,d),this.cellHasChanged){var v=this.calculateColumnsBetween(this.newestRangeStartCell.column,o.column);v&&(this.draggingRange.endRow={rowIndex:o.rowIndex,rowPinned:o.rowPinned},this.draggingRange.columns=v,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0),this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,n,o){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,started:e,finished:n,id:o})},t.prototype.calculateColumnsBetween=function(e,n){var o=this.columnModel.getAllDisplayedColumns(),s=e===n,d=o.indexOf(e);if(d<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var v=s?d:o.indexOf(n);if(!(v<0)){if(s)return[e];for(var C=Math.min(d,v),m=C===d?v:d,w=[],D=C;D<=m;D++)w.push(o[D]);return w}console.warn("AG Grid: column "+n.getId()+" is not visible")}},__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"rowModel",void 0),__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("mouseEventService")],t.prototype,"mouseEventService",void 0),__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),__decorate$G([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rangeService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$J=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$F=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AbstractSelectionHandle=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return __extends$J(t,l),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(n){e.dragging=!0,e.rangeService.autoScrollService.check(n),e.changedCalculatedValues&&(e.onDrag(n),e.changedCalculatedValues=!1)},onDragStop:function(n){e.dragging=!1,e.onDragEnd(n),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var n=this.mouseEventService.getCellPositionForEvent(e);!n||this.lastCellHovered&&this.cellPositionUtils.equals(n,this.lastCellHovered)||(this.lastCellHovered=n,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var n=this.getCellCtrl(),o=this.getGui(),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges()),d=s.startRow,v=s.endRow;if(d&&v&&(this.rowPositionUtils.before(v,d)?(this.setRangeStartRow(v),this.setRangeEndRow(d)):(this.setRangeStartRow(d),this.setRangeEndRow(v))),n!==e||!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(o)){this.setCellCtrl(e);var m=e.getComp().getParentOfValue();m&&m.appendChild(o)}this.setCellRange(s)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,l.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],t.prototype,"dragService",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],t.prototype,"rangeService",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("mouseEventService")],t.prototype,"mouseEventService",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("navigationService")],t.prototype,"navigationService",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),__decorate$F([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function findLineByLeastSquares(l){var t=l.length,e=0;if(t<=1)return l;for(var n=0;n<l.length;n++){var o=l[n],s=o.toString().split("e-");s.length>1?e=Math.max(e,parseInt(s[1],10)):Math.floor(o)!==o&&(e=Math.max(e,o.toString().split(".")[1].length))}for(var d=0,v=0,C=0,m=0,w=0,D=0;D<t;D++)d+=D,v+=w=l[D],m+=D*D,C+=D*w;var b=(t*C-d*v)/(t*m-d*d),T=v/t-b*d/t,A=[];for(D=0;D<=t;D++)A.push(parseFloat((D*b+T).toFixed(e)));return A}var __extends$I=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$8=function(){return __assign$8=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$8.apply(this,arguments)},__decorate$E=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$9=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$4=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$9(arguments[t]));return l},FillHandle=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL,e}return __extends$I(t,l),t.prototype.updateValuesOnMove=function(e){l.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var b,n=this.initialXY,o=n.x,s=n.y,d=this.mouseEventService.getNormalisedPosition(e),C=d.y,m=Math.abs(o-d.x),w=Math.abs(s-C),D=this.getFillHandleDirection();(b="xy"===D?m>w?"x":"y":D)!==this.dragAxis&&(this.dragAxis=b,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var n=this.getCellCtrl();if(!n)return;this.initialPosition=n.getCellPosition()}var o=this.getLastCellHovered();o&&this.markPathFrom(this.initialPosition,o)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var C,n="x"===this.dragAxis,o=this.getCellRange(),s=o.columns.length,d=this.getRangeStartRow(),v=this.getRangeEndRow();if(this.isUp||this.isLeft){var m=n?d:this.lastCellMarked;C=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:m.rowIndex,rowStartPinned:m.rowPinned,columnStart:n?this.lastCellMarked.column:o.columns[0],rowEndIndex:v.rowIndex,rowEndPinned:v.rowPinned,columnEnd:o.columns[s-1]})}else C=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:d.rowIndex,rowStartPinned:d.rowPinned,columnStart:o.columns[0],rowEndIndex:n?v.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:n?v.rowPinned:this.lastCellMarked.rowPinned,columnEnd:n?this.lastCellMarked.column:o.columns[s-1]});C&&(this.raiseFillStartEvent(),this.handleValueChanged(o,C,e),this.rangeService.setCellRanges([C]),this.raiseFillEndEvent(o,C))}},t.prototype.getFillHandleDirection=function(){var e=this.gridOptionsService.get("fillHandleDirection");return e?"x"!==e&&"y"!==e&&"xy"!==e?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):e:"xy"},t.prototype.raiseFillStartEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_START})},t.prototype.raiseFillEndEvent=function(e,n){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_END,initialRange:e,finalRange:n})},t.prototype.handleValueChanged=function(e,n,o){var s=this,d=this.rangeService.getRangeEndRow(e),v=this.rangeService.getRangeStartRow(e),C=this.rangeService.getRangeEndRow(n),m=this.rangeService.getRangeStartRow(n),w="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsService.is("suppressClearOnFillReduction")){var T=!0,A=[],I=[],N=0,G=function(){A.length=0,I.length=0,N=0},V=function(j,K){var Y=s.isUp?d:v,re=!1;w&&(T=!0,G());for(var q=function(){var ee=s.rowPositionUtils.getRowNode(Y);if(!ee)return"break";w&&j?W(A,j,ee,function(){return!s.rowPositionUtils.sameRow(Y,s.isUp?v:d)}):K&&(T=!0,G(),K.forEach(function(ne){return W(A,ne,ee,function(){return ne!==(s.isLeft?e.columns[0]:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e.columns))})})),re=s.rowPositionUtils.sameRow(Y,s.isUp?m:C),Y=s.isUp?s.cellNavigationService.getRowAbove(Y):s.cellNavigationService.getRowBelow(Y)};!re&&Y&&"break"!==q(););},W=function(j,K,Y,re){var q,Z=!1;if(T)q=s.valueService.getValue(K,Y),I.push(q),T=re();else{var ee=s.processValues(o,j,I,K,Y,N++),se=ee.fromUserFunction;if(q=ee.value,K.isCellEditable(Y)){var ae=s.valueService.getValue(K,Y);se&&ae===q?Z=!0:Y.setDataValue(K,q,"rangeService")}}Z||j.push(q)};w?e.columns.forEach(function(j){V(j)}):(D=this.isLeft?__spread$4(n.columns).reverse():n.columns,V(void 0,D))}else{var D=w?e.columns:e.columns.filter(function(j){return n.columns.indexOf(j)<0}),b=w?this.cellNavigationService.getRowBelow(C):m;b&&this.clearCellsInRange(b,d,D)}},t.prototype.clearCellsInRange=function(e,n,o){this.rangeService.clearCellRangeCellValues([{startRow:e,endRow:n,columns:o,startColumn:o[0]}])},t.prototype.processValues=function(e,n,o,s,d,v){var w,C=this.gridOptionsService.getCallback("fillOperation");if(w="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",C){var b=C({event:e,values:n,initialValues:o,currentIndex:v,currentCellValue:this.valueService.getValue(s,d),direction:w,column:s,rowNode:d});if(!1!==b)return{value:b,fromUserFunction:!0}}var T=!n.some(function(I){var N=parseFloat(I);return isNaN(N)||N.toString()!==I.toString()});if(e.altKey||!T){if(T&&1===o.length){var A=this.isUp||this.isLeft?-1:1;return{value:parseFloat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n))+1*A,fromUserFunction:!1}}return{value:n[v%n.length],fromUserFunction:!1}}return{value:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(findLineByLeastSquares(n.map(Number))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,l.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){if(e.isAlive()){var n=e.getComp();n.addOrRemoveCssClass("ag-selection-fill-top",!1),n.addOrRemoveCssClass("ag-selection-fill-right",!1),n.addOrRemoveCssClass("ag-selection-fill-bottom",!1),n.addOrRemoveCssClass("ag-selection-fill-left",!1)}}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,n){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(n,e))return;var o=this.rowPositionUtils.before(n,e),s=this.getRangeStartRow(),d=this.getRangeEndRow();o&&(n.rowPinned==s.rowPinned&&n.rowIndex>=s.rowIndex||s.rowPinned!=d.rowPinned&&n.rowPinned==d.rowPinned&&n.rowIndex<=d.rowIndex)?(this.reduceVertical(e,n),this.isReduce=!0):(this.extendVertical(e,n,o),this.isReduce=!1)}else{var v=e.column,C=n.column;if(v===C)return;var m=this.columnModel.getAllDisplayedColumns(),w=m.indexOf(v),D=m.indexOf(C);D<=w&&D>=m.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,n),this.isReduce=!0):(this.extendHorizontal(e,n,D<w),this.isReduce=!1)}this.lastCellMarked=n},t.prototype.extendVertical=function(e,n,o){var d=this.navigationService,v=this.rangeService,C=e;do{for(var m=this.getCellRange(),w=m.columns.length,D=0;D<w;D++){var b=m.columns[D],A=__assign$8(__assign$8({},{rowIndex:C.rowIndex,rowPinned:C.rowPinned}),{column:b}),I=v.isCellInSpecificRange(A,m),N=this.rowPositionUtils.sameRow(C,e);if(o&&(this.isUp=!0),!N){var G=d.getCellByPosition(A);if(G){this.markedCells.push(G);var V=G.getComp();I||(V.addOrRemoveCssClass("ag-selection-fill-left",0===D),V.addOrRemoveCssClass("ag-selection-fill-right",D===w-1)),V.addOrRemoveCssClass(o?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(C,n))}}}if(this.rowPositionUtils.sameRow(C,n))break}while(C=o?this.cellNavigationService.getRowAbove(C):this.cellNavigationService.getRowBelow(C))},t.prototype.reduceVertical=function(e,n){var o=e;do{for(var s=this.getCellRange(),d=s.columns.length,v=this.rowPositionUtils.sameRow(o,n),C=0;C<d;C++){var w=__assign$8(__assign$8({},{rowIndex:o.rowIndex,rowPinned:o.rowPinned}),{column:s.columns[C]}),D=this.navigationService.getCellByPosition(w);D&&(this.markedCells.push(D),D.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(o,n)))}if(v)break}while(o=this.cellNavigationService.getRowAbove(o))},t.prototype.extendHorizontal=function(e,n,o){var s=this,d=this.columnModel.getAllDisplayedColumns(),v=d.indexOf(o?n.column:e.column),C=d.indexOf(o?this.getCellRange().columns[0]:n.column),m=o?0:1,w=d.slice(v+m,C+m),D=this.getRangeStartRow(),b=this.getRangeEndRow();w.forEach(function(T){var A=D,I=!1;do{I=s.rowPositionUtils.sameRow(A,b);var N=s.navigationService.getCellByPosition({rowIndex:A.rowIndex,rowPinned:A.rowPinned,column:T});if(N){s.markedCells.push(N);var G=N.getComp();G.addOrRemoveCssClass("ag-selection-fill-top",s.rowPositionUtils.sameRow(A,D)),G.addOrRemoveCssClass("ag-selection-fill-bottom",s.rowPositionUtils.sameRow(A,b)),o?(s.isLeft=!0,G.addOrRemoveCssClass("ag-selection-fill-left",T===w[0])):G.addOrRemoveCssClass("ag-selection-fill-right",T===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(w))}A=s.cellNavigationService.getRowBelow(A)}while(!I)})},t.prototype.reduceHorizontal=function(e,n){var o=this,s=this.columnModel.getAllDisplayedColumns(),d=s.indexOf(n.column),v=s.indexOf(e.column),C=s.slice(d,v),m=this.getRangeStartRow(),w=this.getRangeEndRow();C.forEach(function(D){var b=m,T=!1;do{T=o.rowPositionUtils.sameRow(b,w);var A=o.navigationService.getCellByPosition({rowIndex:b.rowIndex,rowPinned:b.rowPinned,column:D});A&&(o.markedCells.push(A),A.getComp().addOrRemoveCssClass("ag-selection-fill-right",D===C[0])),b=o.cellNavigationService.getRowBelow(b)}while(!T)})},t.prototype.refresh=function(e){var n=this.rangeService.getCellRanges()[0];n.startRow&&n.endRow?l.prototype.refresh.call(this,e):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),t}(AbstractSelectionHandle),__extends$H=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$7=function(){return __assign$7=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$7.apply(this,arguments)},RangeHandle=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE,e.rangeFixed=!1,e}return __extends$H(t,l),t.prototype.onDrag=function(e){var n=this.getLastCellHovered();if(n){var o=this.rangeService.getCellRanges(),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o);this.rangeFixed||(this.fixRangeStartEnd(s),this.rangeFixed=!0),this.endPosition={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column},2===o.length&&o[0].type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION&&s.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(s))&&this.rangeService.updateRangeEnd(o[0],__assign$7(__assign$7({},this.endPosition),{column:o[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(n),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var n=this.rangeService.getRangeStartRow(e),o=this.rangeService.getRangeEndRow(e),s=e.columns[0];e.startRow=n,e.endRow=o,e.startColumn=s},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(AbstractSelectionHandle),__extends$G=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$D=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SelectionHandleFactory=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$G(t,l),t.prototype.createSelectionHandle=function(e){return this.createBean(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE?new RangeHandle:new FillHandle)},__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionHandleFactory")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$9="29.1.0",RangeSelectionModule={version:VERSION$9,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RangeSelectionModule,beans:[RangeService,SelectionHandleFactory],agStackComponents:[{componentName:"AgFillHandle",componentClass:FillHandle},{componentName:"AgRangeHandle",componentClass:RangeHandle}],dependantModules:[EnterpriseCoreModule]},__extends$F=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$C=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$8=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},AgColorPanel=function(l){function t(e){var n=l.call(this,t.TEMPLATE)||this;return n.H=1,n.S=1,n.B=1,n.A=1,n.isSpectrumDragging=!1,n.isSpectrumHueDragging=!1,n.isSpectrumAlphaDragging=!1,n.colorChanged=!1,n.picker=e.picker,n}return __extends$F(t,l),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var n=this.spectrumValRect;if(n){var o=e.clientX-n.left,s=e.clientY-n.top;o=Math.max(o,0),o=Math.min(o,n.width),s=Math.max(s,0),s=Math.min(s,n.height),this.setSpectrumValue(o/n.width,1-s/n.height)}},t.prototype.moveHueSlider=function(e){var n=this.spectrumHueRect;if(n){var o=this.spectrumHueSlider,s=o.getBoundingClientRect(),d=e.clientX-n.left;d=Math.max(d,0),d=Math.min(d,n.width),this.H=1-d/n.width,o.style.left=d+s.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var n=this.spectrumAlphaRect;if(n){var o=this.spectrumAlphaSlider,s=o.getBoundingClientRect(),d=e.clientX-n.left;d=Math.max(d,0),d=Math.min(d,n.width),this.A=d/n.width,o.style.left=d+s.width/2+"px",this.update()}},t.prototype.update=function(){var e=Color.fromHSB(360*this.H,this.S,this.B,this.A),n=Color.fromHSB(360*this.H,1,1),o=e.toRgbaString(),s=this.picker;Color.fromString(s.getValue()).toRgbaString()!==o&&(this.colorChanged=!0),s.setValue(o),this.spectrumColor.style.backgroundColor=n.toRgbaString(),this.spectrumDragger.style.backgroundColor=o},t.prototype.setSpectrumValue=function(e,n){var o=this.spectrumValRect||this.refreshSpectrumRect();if(o){var s=this.spectrumDragger,d=s.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),n=Math.max(0,n),n=Math.min(1,n),this.S=e,this.B=n,s.style.left=e*o.width-d.width/2+"px",s.style.top=(1-n)*o.height-d.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var n=t.recentColors.map(function(o,s){return'<div class="ag-recent-color" id='+s+' style="background-color: '+o+'; width: 15px; height: 15px;" recent-color="'+o+'"></div>'});this.recentColors.innerHTML=n.join("")},t.prototype.setValue=function(e){var n=Color.fromString(e),o=__read$8(n.toHSB(),3),s=o[0],d=o[1],v=o[2];this.H=(isNaN(s)?0:s)/360,this.A=n.a;var C=this.spectrumHueRect||this.refreshHueRect(),m=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-C.width+"px",this.spectrumAlphaSlider.style.left=this.A*m.width+"px",this.setSpectrumValue(d,v)},t.prototype.onRecentColorClick=function(e){var n=e.target;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.id)){var o=parseInt(n.id,10);this.setValue(t.recentColors[o]),this.destroy()}},t.prototype.addRecentColor=function(){var n=Color.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),o=t.recentColors;!this.colorChanged||o[0]===n||(o=o.filter(function(s){return s!=n}),(o=[n].concat(o)).length>t.maxRecentColors&&(o=o.slice(0,t.maxRecentColors)),t.recentColors=o)},t.prototype.destroy=function(){this.addRecentColor(),l.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumColor")],t.prototype,"spectrumColor",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumVal")],t.prototype,"spectrumVal",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumDragger")],t.prototype,"spectrumDragger",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumHue")],t.prototype,"spectrumHue",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("recentColors")],t.prototype,"recentColors",void 0),__decorate$C([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$E=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),AgColorPicker=function(l){function t(e){var n=l.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(n.value=e.color),n}return __extends$E(t,l),t.prototype.postConstruct=function(){l.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,n=this.getGui().getBoundingClientRect(),o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:n.right-190,y:n.top-250}));this.isPickerDisplayed=!0,o.addCssClass("ag-color-dialog"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eWrapper,!0);var s=this.createBean(new AgColorPanel({picker:this}));return s.addDestroyFunc(function(){o.isAlive()&&e.destroyBean(o)}),o.setParentComponent(this),o.setBodyComponent(s),s.setValue(this.getValue()),o.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,s.isAlive()&&e.destroyBean(s)),e.isAlive()&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(e.eWrapper,!1),e.getFocusableElement().focus()),e.isPickerDisplayed=!1}),o},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,l.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.MQo),__read$7=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION=28,VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION=6;function isValidVersion(l){return l&&l.match(/\d+\.\d+\.\d+/)}function isValidMajorVersion(l){var e=l.chartsMajorVersion,n=parseInt(l.gridMajorVersion,10),o=parseInt(e,10),s=n-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION;return s===o-VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION&&s>=0}function gridChartVersion(l){if(l&&isValidVersion(l)){var t=__read$7(l.split(".")||[],2),e=t[0],n=t[1],o=e+"."+n+".x",d=parseInt(e,10)-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION+VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION;if(!(d<0))return{gridMajorMinor:o,chartsMajorMinor:d+"."+n+".x"}}}function validGridChartsVersionErrorMessage(l){var t=l.type,e=l.gridVersion,n=l.chartsVersion,o="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!e)return o;var s=gridChartVersion(e);if(!s)return o;var d=s.gridMajorMinor,v=s.chartsMajorMinor;return"incompatible"===t?"AG Grid version "+e+" and AG Charts version "+n+" is not supported. AG Grid version "+d+" should be used with AG Chart "+v+". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.":"invalidCharts"===t?"AG Grid version "+d+" should be used with AG Chart "+v+". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.":o}function validGridChartsVersion(l){var t=l.gridVersion,e=l.chartsVersion;if(!isValidVersion(e))return{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalidCharts",gridVersion:t,chartsVersion:e})};if(!isValidVersion(t))return{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalidGrid",gridVersion:t,chartsVersion:e})};var n=__read$7(t.split(".")||[],2),o=n[0],s=n[1],d=__read$7(e.split(".")||[],2),C=d[1],m=isValidMajorVersion({gridMajorVersion:o,chartsMajorVersion:d[0]});return m&&s===C?{isValid:!0}:m&&s===C?{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalid",gridVersion:t,chartsVersion:e})}:{isValid:!1,message:validGridChartsVersionErrorMessage({type:"incompatible",gridVersion:t,chartsVersion:e})}}var GridChartsModule={version:VERSION$a,validate:function(){return validGridChartsVersion({gridVersion:VERSION$a,chartsVersion:ChartService.CHARTS_VERSION})},moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,beans:[ChartService,ChartTranslationService,ChartCrossFilterService],agStackComponents:[{componentName:"AgColorPicker",componentClass:AgColorPicker},{componentName:"AgAngleSelect",componentClass:AgAngleSelect}],dependantModules:[RangeSelectionModule,EnterpriseCoreModule]},__FORCE_MODULE_DETECTION_AG_GRID_CORE_EXT=0,agCharts={time,AgChart},__extends$D=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$6=function(){return __assign$6=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$6.apply(this,arguments)},__decorate$B=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DetailCellRendererCtrl=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return __extends$D(t,l),t.prototype.init=function(e,n){var o=this;this.params=n,this.comp=e,null!=n.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(n.node.parent,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.EVENT_DATA_CHANGED,function(){o.needRefresh=!0}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},t.prototype.onFullWidthRowFocused=function(e){var n=this.params;this.rowPositionUtils.sameRow({rowIndex:n.node.rowIndex,rowPinned:n.node.rowPinned},{rowIndex:e.rowIndex,rowPinned:e.rowPinned})&&this.focusService.focusInto(this.comp.getGui(),e.fromBelow)},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsService.is("detailRowAutoHeight"),o=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(o,!0)},t.prototype.setupRefreshStrategy=function(){var e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsService.is("detailRowAutoHeight"),n=__assign$6({},this.params.detailGridOptions);e&&(n.domLayout="autoHeight"),this.comp.setDetailGrid(n)}},t.prototype.registerDetailWithMaster=function(e,n){var o=this.params.node.id,s=this.params.api,d={id:o,api:e,columnApi:n},v=this.params.node;s.addDetailGridInfo(o,d),v.detailGridInfo=d,this.addDestroyFunc(function(){v.detailGridInfo===d&&(s.removeDetailGridInfo(o),v.detailGridInfo=null)})},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var n=this.loadRowDataVersion,o=this.params.getDetailRowData;o?o({node:this.params.node,data:this.params.node.data,successCallback:function(v){e.loadRowDataVersion===n&&e.comp.setRowData(v)},context:this.gridOptionsService.context}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.refresh=function(){return!(this.needRefresh&&"nothing"!==this.refreshStrategy&&(this.needRefresh=!1,"everything"===this.refreshStrategy||(this.loadRowData(),0)))},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$C=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$A=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DetailCellRenderer=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$C(t,l),t.prototype.init=function(e){var n=this;this.params=e,this.selectAndSetTemplate();var o={addOrRemoveCssClass:function(s,d){return n.addOrRemoveCssClass(s,d)},addOrRemoveDetailGridCssClass:function(s,d){return n.eDetailGrid.classList.toggle(s,d)},setDetailGrid:function(s){return n.setDetailGrid(s)},setRowData:function(s){return n.setRowData(s)},getGui:function(){return n.eDetailGrid}};this.ctrl=this.createManagedBean(new DetailCellRendererCtrl),this.ctrl.init(o,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var n=function(){e.setTemplate(t.TEMPLATE)};if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.template))n();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var s=(0,this.params.template)(this.params);this.setTemplate(s)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),n();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var n=this.context.getBean("agGridReact"),o=n?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(n):void 0,s=this.context.getBean("frameworkComponentWrapper"),d=this.getFrameworkOverrides();new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rjZ(this.eDetailGrid,e,{frameworkOverrides:d,providedBeanInstances:{agGridReact:o,frameworkComponentWrapper:s}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},t.TEMPLATE='<div class="ag-details-row" role="gridcell">\n            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>\n        </div>',__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$8="29.1.0",MasterDetailModule={version:VERSION$8,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:DetailCellRenderer}],controllers:[{controllerName:"detailCellRenderer",controllerClass:DetailCellRendererCtrl}],dependantModules:[EnterpriseCoreModule]},__extends$B=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$z=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},EnterpriseMenuFactory=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$B(t,l),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,n,o){var s=this;this.showMenu(e,function(d){var v=d.getGui();s.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:n,ePopup:v}),o&&d.showTab(o)},"columnMenu",o,void 0,n.target)},t.prototype.showMenuAfterButtonClick=function(e,n,o,s,d){var v=this,C=-1,m="left";this.gridOptionsService.is("enableRtl")&&(C=1,m="right"),this.showMenu(e,function(w){var D=w.getGui();v.popupService.positionPopupByComponent({type:o,column:e,eventSource:n,ePopup:D,alignSide:m,nudgeX:9*C,nudgeY:-23,position:"under",keepWithinBounds:!0}),s&&w.showTab(s)},o,s,d,n)},t.prototype.showMenu=function(e,n,o,s,d,v){var C=this,m=this.getMenuParams(e,d,v),w=m.menu,D=m.eMenuGui,A=m.anchorToElement,I=[];I.push(this.getClosedCallback(e,w,m.currentHeaderPosition,m.currentColumnIndex,v));var N=this.localeService.getLocaleTextFunc(),G=this.popupService.addPopup({modal:!0,eChild:D,closeOnEsc:!0,closedCallback:function(V){I.forEach(function(W){return W(V)})},afterGuiAttached:function(V){return w.afterGuiAttached(Object.assign({},{container:o},V))},positionCallback:s?function(){return n(w)}:void 0,anchorToElement:A,ariaLabel:N("ariaLabelColumnMenu","Column Menu")});this.addStopAnchoring(G?.stopAnchoringPromise,e,I),s||(w.showTabBasedOnPreviousSelection(),n(w)),w.addEventListener(EnterpriseMenu.EVENT_TAB_SELECTED,function(V){C.lastSelectedTab=V.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=w,w.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,function(){C.activeMenu===w&&(C.activeMenu=null)})},t.prototype.getClosedCallback=function(e,n,o,s,d){var v=this;return function(C){if(v.destroyBean(n),e.setMenuVisible(!1,"contextMenu"),C instanceof KeyboardEvent&&d)if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(d)){var w=v.focusService.findTabbableParent(d);w&&(e&&v.headerNavigationService.scrollToColumn(e),w.focus())}else if(o&&-1!==s){var D=v.columnModel.getAllDisplayedColumns(),b=D[s]||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(D);b&&v.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:o.headerRowIndex,column:b}})}}},t.prototype.addStopAnchoring=function(e,n,o){e&&e.then(function(s){n.addEventListener("leftChanged",s),n.addEventListener("visibleChanged",s),o.push(function(){n.removeEventListener("leftChanged",s),n.removeEventListener("visibleChanged",s)})})},t.prototype.getMenuParams=function(e,n,o){var s=this.createBean(new EnterpriseMenu(e,this.lastSelectedTab,n));return{menu:s,eMenuGui:s.getGui(),currentHeaderPosition:this.focusService.getFocusedHeader(),currentColumnIndex:this.columnModel.getAllDisplayedColumns().indexOf(e),anchorToElement:o||this.ctrlsService.getGridBodyCtrl().getGui()}},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(EnterpriseMenu.TABS_DEFAULT).length>0},__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],t.prototype,"popupService",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("headerNavigationService")],t.prototype,"headerNavigationService",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuFactory")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),EnterpriseMenu=function(l){function t(e,n,o){var s=l.call(this)||this;return s.tabFactories={},s.includeChecks={},s.column=e,s.initialSelection=n,s.tabFactories[t.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[t.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[t.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[t.TAB_GENERAL]=function(){return!0},s.includeChecks[t.TAB_FILTER]=function(){return s.filterManager.isFilterAllowed(e)},s.includeChecks[t.TAB_COLUMNS]=function(){return!0},s.restrictTo=o,s}return __extends$B(t,l),t.prototype.init=function(){var e=this,n=this.getTabsToCreate().map(function(o){return e.createTab(o)});this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:n,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc(function(){return e.destroyBean(e.tabbedLayout)})},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(n){return e.isValidMenuTabItem(n)}).filter(function(n){return e.isNotSuppressed(n)}).filter(function(n){return e.isModuleLoaded(n)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var n=!0,o=t.TABS_DEFAULT;return null!=this.restrictTo&&(n=this.restrictTo.indexOf(e)>-1,o=this.restrictTo),(n=n&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+o+"]"),n},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var n=null;switch(e.item){case this.tabItemColumns:n=t.TAB_COLUMNS;break;case this.tabItemFilter:n=t.TAB_FILTER;break;case this.tabItemGeneral:n=t.TAB_GENERAL}n&&this.activateTab(n)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.getMenuItems=function(){var n,e=this.getDefaultMenuOptions(),o=this.gridOptionsService.getCallback("getMainMenuItems");return n=o?o({column:this.column,defaultItems:e}):e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeRepeatsFromArray(n,t.MENU_ITEM_SEPARATOR),n},t.prototype.getDefaultMenuOptions=function(){var e=[],n=!this.column.getColDef().lockPinned,o=this.columnModel.getRowGroupColumns().length,s=o>0,d=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,v=this.column.isAllowValue(),C=this.column.isAllowRowGroup(),m=this.column.isPrimary(),w=this.columnModel.isPivotMode(),D="clientSide"===this.rowModel.getType(),b=this.gridOptionsService.isTreeData(),T=m&&s&&v||!m;return n&&e.push("pinSubMenu"),T&&e.push("valueAggSubMenu"),(n||T)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),C&&this.column.isPrimary()&&e.push(d?"rowUnGroup":"rowGroup"),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),D&&(b||o>(w?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3);var e=this.getMenuItems(),n=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(n),this.mainMenuList.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){var n;e&&e.event&&e.event instanceof KeyboardEvent&&(n=e.event),this.hidePopupFunc(n&&{keyboardEvent:n});var o=this.focusService.getFocusedCell(),s=this.gridOptionsService.getDocument();s.activeElement===s.body&&o&&this.focusService.setFocusedCell({rowIndex:o.rowIndex,column:o.column,rowPinned:o.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})},t.prototype.createFilterPanel=function(){var e=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!e)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e?.guiPromise,afterAttachedCallback:function(s){e?.filterPromise&&e.filterPromise.then(function(d){d&&d.afterGuiAttached&&d.afterGuiAttached(s)})},afterDetachedCallback:function(){var s;return null===(s=e?.filterPromise)||void 0===s?void 0:s.then(function(d){var v;return null===(v=d?.afterGuiDetached)||void 0===v?void 0:v.call(d)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper");var n=this.createManagedBean(new PrimaryColsPanel),o=this.column.getColDef().columnsMenuParams;o||(o={});var w=o.columnLayout;n.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!o.contractColumnSelection,suppressColumnExpandAll:!!o.suppressColumnExpandAll,suppressColumnFilter:!!o.suppressColumnFilter,suppressColumnSelectAll:!!o.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!w||!!o.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context},"columnMenu"),w&&n.setColumnLayout(w);var D=n.getGui();return D.classList.add("ag-menu-column-select"),e.appendChild(D),this.tabItemColumns={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var o=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:o}),o&&(this.hidePopupFunc=o,this.addDestroyFunc(o))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],t.MENU_ITEM_SEPARATOR="separator",__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"rowModel",void 0),__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$A=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$5=function(){return __assign$5=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$5.apply(this,arguments)},__decorate$y=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},CSS_MENU="ag-menu",CSS_CONTEXT_MENU_OPEN="ag-context-menu-open",ContextMenuFactory=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$A(t,l),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,n,o){var s=[];if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule)&&n&&s.push("cut","copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsService.is("enableCharts")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule)&&(this.columnModel.isPivotMode()&&s.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&s.push("chartRange")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)){var d=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),v=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule),C=this.gridOptionsService.is("suppressExcelExport")||v,m=this.gridOptionsService.is("suppressCsvExport")||d;!(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isIOSUserAgent()||C&&m)&&s.push("export")}var b=this.gridOptionsService.getCallback("getContextMenuItems");return b?b({node:e,column:n,value:o,defaultItems:s.length?s:void 0}):s},t.prototype.onContextMenu=function(e,n,o,s,d,v){!this.gridOptionsService.is("allowContextMenuWithControlKey")&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsService.is("suppressContextMenu"))||this.showMenu(o,s,d,e||n.touches[0],v)&&(e||n).preventDefault()},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var o=e.which;this.gridOptionsService.is("suppressMiddleClickScrolls")&&2===o&&e.preventDefault()},t.prototype.showMenu=function(e,n,o,s,d){var v=this,C=this.getMenuItems(e,n,o),m=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===C||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(C))return!1;var w=new ContextMenu(C);this.createBean(w);var D=w.getGui(),b={column:n,rowNode:e,type:"contextMenu",mouseEvent:s,ePopup:D,nudgeY:1},T=this.localeService.getLocaleTextFunc(),A=this.popupService.addPopup({modal:!0,eChild:D,closeOnEsc:!0,closedCallback:function(){m.classList.remove(CSS_CONTEXT_MENU_OPEN),v.destroyBean(w)},click:s,positionCallback:function(){var I=v.gridOptionsService.is("enableRtl");v.popupService.positionPopupUnderMouseEvent(__assign$5(__assign$5({},b),{nudgeX:I?-1*(D.offsetWidth+1):1}))},anchorToElement:d,ariaLabel:T("ariaLabelContextMenu","Context Menu")});return A&&(m.classList.add(CSS_CONTEXT_MENU_OPEN),w.afterGuiAttached({container:"contextMenu",hidePopup:A.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=w,w.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,function(){v.activeMenu===w&&(v.activeMenu=null)}),A&&w.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,A.hideFunc),!0},__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],t.prototype,"popupService",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],t.prototype,"rangeService",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("contextMenuFactory")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ContextMenu=function(l){function t(e){var n=l.call(this,'<div class="'+CSS_MENU+'" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=e,n}return __extends$A(t,l),t.prototype.addMenuItems=function(){var e=this,n=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),o=this.menuItemMapper.mapWithStockItems(this.menuItems,null);n.addMenuItems(o),this.appendChild(n),this.menuList=n,n.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,function(s){return e.dispatchEvent(s)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var n=this.focusedCell,o=n.rowIndex,s=n.rowPinned,d=n.column,v=this.gridOptionsService.getDocument();v.activeElement===v.body&&this.focusService.setFocusedCell({rowIndex:o,column:d,rowPinned:s,forceBrowserFocus:!0})}},t.prototype.destroy=function(){this.restoreFocusedCell(),l.prototype.destroy.call(this)},__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),__decorate$y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"addMenuItems",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$z=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$4=function(){return __assign$4=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$4.apply(this,arguments)},__decorate$x=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MenuItemMapper=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$z(t,l),t.prototype.mapWithStockItems=function(e,n){var o=this;if(!e)return[];var s=[];return e.forEach(function(d){var v;if(v="string"==typeof d?o.getStockMenuItem(d,n):__assign$4({},d)){var m=v.subMenu;m&&m instanceof Array&&(v.subMenu=o.mapWithStockItems(m,n)),null!=v&&s.push(v)}}),s},t.prototype.getStockMenuItem=function(e,n){var s,o=this,d=this.localeService.getLocaleTextFunc(),v=this.gridOptionsService.is("skipHeaderOnAutoSize");switch(e){case"pinSubMenu":return{name:d("pinColumn","Pin Column"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:d("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnPinned(n,"left","contextMenu")},checked:!!n&&n.isPinnedLeft()};case"pinRight":return{name:d("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnPinned(n,"right","contextMenu")},checked:!!n&&n.isPinnedRight()};case"clearPinned":return{name:d("noPin","No Pin"),action:function(){return o.columnModel.setColumnPinned(n,null,"contextMenu")},checked:!!n&&!n.isPinned()};case"valueAggSubMenu":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Aggregation from Menu")&&(n?.isPrimary()||n?.getColDef().pivotValueColumn)?{name:d("valueAggregation","Value Aggregation"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(n)}:null;case"autoSizeThis":return{name:d("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(n,v,"contextMenu")}};case"autoSizeAll":return{name:d("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns(v,"contextMenu")}};case"rowGroup":return{name:d("groupBy","Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(n,"header")),action:function(){return o.columnModel.addRowGroupColumn(n,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":return{name:d("ungroupBy","Un-Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(n,"header")),action:function(){return o.columnModel.removeRowGroupColumn(n,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null)};case"resetColumns":return{name:d("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:d("expandAll","Expand All"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:d("collapseAll","Collapse All"),action:function(){return o.gridApi.collapseAll()}};case"copy":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy from Menu")?{name:d("copy","Copy"),shortcut:d("ctrlC","Ctrl+C"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Headers from Menu")?{name:d("copyWithHeaders","Copy with Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Group Headers from Menu")?{name:d("copyWithGroupHeaders","Copy with Group Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"cut":if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Cut from Menu")){var C=this.focusService.getFocusedCell(),m=C?this.rowPositionUtils.getRowNode(C):null,w=!!m&&C?.column.isCellEditable(m);return{name:d("cut","Cut"),shortcut:d("ctrlX","Ctrl+X"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!w,action:function(){return o.clipboardService.cutToClipboard()}}}return null;case"paste":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Paste from Clipboard")?{name:d("paste","Paste"),shortcut:d("ctrlV","Ctrl+V"),disabled:!0,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var D=[],b=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),T=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule);return!this.gridOptionsService.is("suppressCsvExport")&&b&&D.push("csvExport"),!this.gridOptionsService.is("suppressExcelExport")&&T&&D.push("excelExport"),{name:d("export","Export"),subMenu:D,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:d("csvExport","CSV Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:d("excelExport","Excel Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";case"pivotChart":case"chartRange":return null!==(s=this.chartMenuItemMapper.getChartItems(e))&&void 0!==s?s:null;default:return console.warn("AG Grid: unknown menu item type "+e),null}},t.prototype.createAggregationSubMenu=function(e){var s,n=this,o=this.localeService.getLocaleTextFunc();if(e.isPrimary())s=e;else{var d=e.getColDef().pivotValueColumn;s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d)?d:void 0}var v=[];if(s){var C=s.isValueActive(),m=this.aggFuncService.getFuncNames(s);v.push({name:o("noAggregation","None"),action:function(){n.columnModel.removeValueColumn(s,"contextMenu"),n.columnModel.setColumnAggFunc(s,void 0,"contextMenu")},checked:!C}),m.forEach(function(w){v.push({name:o(w,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(w)),action:function(){n.columnModel.setColumnAggFunc(s,w,"contextMenu"),n.columnModel.addValueColumn(s,"contextMenu")},checked:C&&s.getAggFunc()===w})})}return v},__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("clipboardService")],t.prototype,"clipboardService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],t.prototype,"aggFuncService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartMenuItemMapper")],t.prototype,"chartMenuItemMapper",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuItemMapper")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$7="29.1.0",__extends$y=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$3=function(){return __assign$3=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$3.apply(this,arguments)},__decorate$w=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$6=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},ChartMenuItemMapper=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$y(t,l),e=t,t.prototype.getChartItems=function(n){var o,s;if(this.chartService){var d="pivotChart"===n?new PivotMenuItemMapper(this.gridOptionsService,this.chartService,this.localeService):new RangeMenuItemMapper(this.gridOptionsService,this.chartService,this.localeService),v=d.getMenuItem(),C=null===(s=null===(o=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===o?void 0:o.settingsPanel)||void 0===s?void 0:s.chartGroupsDef;return C&&(v=e.filterAndOrderChartMenu(v,C,d.getConfigLookup())),this.cleanInternals(v)}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,'the Context Menu key "'+n+'"')},t.prototype.cleanInternals=function(n){if(!n)return n;var o=function(s){var d;return null==s||delete s._key,null===(d=s?.subMenu)||void 0===d||d.forEach(function(v){return o(v)}),s};return o(n)},t.buildLookup=function(n){var o={},s=function(d){o[d._key]=d,d.subMenu&&d.subMenu.map(function(v){return s(v)})};return s(n),o},t.filterAndOrderChartMenu=function(n,o,s){var d,v=this.buildLookup(n),C=__assign$3(__assign$3({},n),{subMenu:[]});if(Object.entries(o).map(function(m){var w,D,b=__read$6(m,2),T=b[0],I=s[T];if(null!=I){var N=v[I._key];if(N)if(N.subMenu){var G=b[1].map(function(V){var W=I[V];if(null!=W)return v[W];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+T+"."+V+"'")},"invalid_chartGroupsDef"+V+"_"+T)}).filter(function(V){return void 0!==V});G.length>0&&(N.subMenu=G,null===(w=C.subMenu)||void 0===w||w.push(N))}else null===(D=C.subMenu)||void 0===D||D.push(N)}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+T+"'")},"invalid_chartGroupsDef"+T)}),0!=(null===(d=C.subMenu)||void 0===d?void 0:d.length))return C},__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("chartService")],t.prototype,"chartService",void 0),e=__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartMenuItemMapper")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),PivotMenuItemMapper=function(){function l(t,e,n){this.gridOptionsService=t,this.chartService=e,this.localeService=n}return l.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),n=function(o,s,d,v){return{name:e(o,s),action:function(){return t.chartService.createPivotChart({chartType:d})},_key:v}};return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[n("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),n("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),n("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[n("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),n("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),n("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[n("pie","Pie&lrm;","pie","pivotPie"),n("doughnut","Doughnut&lrm;","doughnut","pivotDoughnut")]},n("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[n("scatter","Scatter&lrm;","scatter","pivotScatter"),n("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[n("area","Area&lrm;","area","pivotArea"),n("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),n("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},n("histogramChart","Histogram&lrm;","histogram","pivotHistogramChart"),{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[n("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),n("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsService,void 0)}},l.prototype.getConfigLookup=function(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",doughnut:"pivotDoughnut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},histogramGroup:{_key:"pivotHistogramChart",histogram:"pivotHistogramChart"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:""}}},l}(),RangeMenuItemMapper=function(){function l(t,e,n){this.gridOptionsService=t,this.chartService=e,this.localeService=n}return l.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),n=function(o,s,d,v){return{name:e(o,s),action:function(){return t.chartService.createChartFromCurrentRange(d)},_key:v}};return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[n("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),n("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),n("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[n("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),n("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),n("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[n("pie","Pie&lrm;","pie","rangePie"),n("doughnut","Doughnut&lrm;","doughnut","rangeDoughnut")],_key:"rangePieChart"},n("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[n("scatter","Scatter&lrm;","scatter","rangeScatter"),n("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[n("area","Area&lrm;","area","rangeArea"),n("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),n("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},n("histogramChart","Histogram&lrm;","histogram","rangeHistogramChart"),{name:e("combinationChart","Combination"),subMenu:[n("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),n("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsService,void 0)}},l.prototype.getConfigLookup=function(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",doughnut:"rangeDoughnut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},histogramGroup:{_key:"rangeHistogramChart",histogram:"rangeHistogramChart"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:""}}},l}(),MenuModule={version:VERSION$7,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MenuModule,beans:[EnterpriseMenuFactory,ContextMenuFactory,MenuItemMapper,ChartMenuItemMapper],dependantModules:[EnterpriseCoreModule]},__extends$x=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$2=function(){return __assign$2=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$2.apply(this,arguments)},__decorate$v=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MultiFilter=function(l){function t(){var e=l.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return __extends$x(t,l),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(n){return e.onFocusIn(n)}})},t.getFilterDefs=function(e){var n=e.filters;return n&&n.length>0?n:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var n=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var s=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=s;var d=[];return this.filterDefs.forEach(function(v,C){var m=n.createFilter(v,C);null!=m&&d.push(m)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(d).then(function(v){n.filters=v,n.refreshGui("columnMenu"),n.afterFiltersReadyFuncs.forEach(function(C){return C()}),n.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var n=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach(function(o,s){s>0&&n.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>'));var C,d=n.filterDefs[s],v=n.getFilterTitle(o,d);C="subMenu"===d.display&&"toolPanel"!==e?n.insertFilterMenu(o,v).getGui():"subMenu"===d.display||"accordion"===d.display?n.insertFilterGroup(o,v).getGui():o.getGui(),n.appendChild(C)}),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,n){return null!=n.title?n.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,n){var o=this,s=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC({name:n,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return s.setParentComponent(this),this.guiDestroyFuncs.push(function(){return o.destroyBean(s)}),this.addManagedListener(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_ACTIVATED,function(d){o.lastActivatedMenuItem&&o.lastActivatedMenuItem!==d.menuItem&&o.lastActivatedMenuItem.deactivate(),o.lastActivatedMenuItem=d.menuItem}),s.addGuiEventListener("focusin",function(){return s.activate()}),s.addGuiEventListener("focusout",function(){s.isSubMenuOpen()||s.deactivate()}),s},t.prototype.insertFilterGroup=function(e,n){var o=this,s=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:n,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return o.destroyBean(s)}),s.addItem(e.getGui()),s.toggleGroupExpand(!1),e.afterGuiAttached){var d={container:this.lastOpenedInContainer,suppressFocus:!0};s.addManagedListener(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,function(){return e.afterGuiAttached(d)})}return s},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,n){var o=!0;return this.filters.forEach(function(s){!o||s===n||!s.isFilterActive()||(o=s.doesFilterPass(e))}),o},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(n){return"function"==typeof n.getModelFromUi?n.getModelFromUi():null})}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(n){return n.isFilterActive()?n.getModel():null})}:null},t.prototype.setModel=function(e){var n=this,o=function(d,v){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(C){var m=d.setModel(v);m?m.then(function(){return C()}):C()})},s=[];return null==e?s=this.filters.map(function(d,v){return o(d,null).then(function(){n.updateActiveList(v)})}):this.filters.forEach(function(d,v){var m=o(d,e.filterModels.length>v?e.filterModels[v]:null).then(function(){n.updateActiveList(v)});s.push(m)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(s).then(function(){})},t.prototype.applyModel=function(e){void 0===e&&(e="api");var n=!1;return this.filters.forEach(function(o){o instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU&&(n=o.applyModel(e)||n)}),n},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var n=this.params.filters,o=n&&n.some(function(v){return v.display&&"inline"!==v.display});this.executeFunctionIfExists("afterGuiAttached",__assign$2(__assign$2({},e||{}),{suppressFocus:o}));var s=this.gridOptionsService.getDocument(),d=s.activeElement;o&&(d===s.body||this.getGui().contains(d))&&this.forceFocusOutOfContainer(!0)},t.prototype.afterGuiDetached=function(){this.executeFunctionIfExists("afterGuiDetached")},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(n){n.setModel(null),e.destroyBean(n)}),this.filters.length=0,this.destroyChildren(),l.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.forEachReverse(this.filters,function(s){var d=s[e];"function"==typeof d&&d.apply(s,n)})},t.prototype.createFilter=function(e,n){var C,o=this,s=this.params,d=s.filterModifiedCallback,v=s.doesRowPassOtherFilter,m=__assign$2(__assign$2({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:d,filterChangedCallback:function(b){o.executeWhenAllFiltersReady(function(){return o.filterChanged(n,b)})},doesRowPassOtherFilter:function(b){return v(b)&&o.doesFilterPass({node:b,data:b.data},C)}}),w=this.userComponentFactory.getFilterDetails(e,m,"agTextColumnFilter");if(!w)return null;var D=w.newAgStackInstance();return D&&D.then(function(b){return C=b}),D},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var n=this.filters[e];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(this.activeFilterIndices,e),n.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,n){this.updateActiveList(e),this.filterChangedCallback(n);var o=this.filters[e];this.filters.forEach(function(s){s!==o&&"function"==typeof s.onAnyFilterChanged&&s.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){return null!=this.lastActivatedMenuItem&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},t.prototype.getModelAsString=function(e){var n,o,s,d;if(!this.filters||null===(n=e?.filterModels)||void 0===n||!n.length)return"";var v=null!==(o=this.getLastActiveFilterIndex())&&void 0!==o?o:0,C=this.filters[v];return null!==(d=null===(s=C.getModelAsString)||void 0===s?void 0:s.call(C,e.filterModels[v]))&&void 0!==d?d:""},__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),__decorate$v([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$w=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$1=function(){return __assign$1=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign$1.apply(this,arguments)},__decorate$u=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},MultiFloatingFilterComp=function(l){function t(){var e=l.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return __extends$w(t,l),t.prototype.init=function(e){var n=this;this.params=e;var s=[];return MultiFilter.getFilterDefs(e.filterParams).forEach(function(d,v){var C=__assign$1(__assign$1({},e),{parentFilterInstance:function(w){n.parentMultiFilterInstance(function(D){var b=D.getChildFilterInstance(v);null!=b&&w(b)})}});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(C.filterParams,d.filterParams);var m=n.createFloatingFilter(d,C);null!=m&&s.push(m)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(s).then(function(d){d.forEach(function(v,C){n.floatingFilters.push(v);var m=v.getGui();n.appendChild(m),C>0&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(m,!1)})})},t.prototype.onParentModelChanged=function(e,n){var o=this;n&&n.afterFloatingFilter||this.parentMultiFilterInstance(function(s){if(null==e)o.floatingFilters.forEach(function(v,C){v.onParentModelChanged(null,n),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(v.getGui(),0===C)});else{var d=s.getLastActiveFilterIndex();o.floatingFilters.forEach(function(v,C){v.onParentModelChanged(e.filterModels.length>C?e.filterModels[C]:null,n);var w=null==d?0===C:C===d;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(v.getGui(),w)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,l.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,n){var o=this.userComponentFactory.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter",s=this.userComponentFactory.getFloatingFilterCompDetails(e,n,o);return s?s.newAgStackInstance():null},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(n){if(!(n instanceof MultiFilter))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as it's parent");e(n)})},__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$6="29.1.0",MultiFilterModule={version:VERSION$6,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:MultiFilter},{componentName:"agMultiColumnFloatingFilter",componentClass:MultiFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]};function bindCellRendererToHtmlElement(l,t){l.then(function(e){var n=e.getGui();null!=n&&("object"==typeof n?t.appendChild(n):t.innerHTML=n)})}var __extends$v=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$t=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},RichSelectRow=function(l){function t(e){var n=l.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return n.params=e,n}return __extends$v(t,l),t.prototype.setState=function(e,n,o){this.populateWithRenderer(e,n)||this.populateWithoutRenderer(e,n),this.updateSelected(o)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,n){var s=null!=n?n:e;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)&&""!==s?this.getGui().textContent=s.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,n){var o=this,s={value:e,valueFormatted:n,api:this.gridOptionsService.api},d=this.userComponentFactory.getCellRendererDetails(this.params,s),v=d?d.newAgStackInstance():void 0;return null!=v?bindCellRendererToHtmlElement(v,this.getGui()):this.getGui().innerText=null!=s.valueFormatted?s.valueFormatted:s.value,!!v&&(v.then(function(C){o.addDestroyFunc(function(){o.getContext().destroyBean(C)})}),!0)},__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$u=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$s=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},RichSelectCellEditor=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.selectionConfirmed=!1,e.searchString="",e}return __extends$u(t,l),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("smallDown",this.gridOptionsService);if(n.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(n),this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var o=e.values;this.virtualList.setModel({getRowCount:function(){return o.length},getRow:function(v){return o[v]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var s=this.virtualList.getGui();this.addManagedListener(s,"click",this.onClick.bind(this)),this.addManagedListener(s,"mousemove",this.onMouseMove.bind(this));var d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(this.clearSearchString,d),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var n=e.key;switch(e.preventDefault(),n){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.onEnterKeyDown();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB:this.confirmSelection();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:this.onNavigationKeyPressed(e,n);break;default:this.searchText(e)}},t.prototype.confirmSelection=function(){this.selectionConfirmed=!0},t.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,n){e.preventDefault();var o=this.params.values.indexOf(this.selectedValue),s=n===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP?o-1:o+1;s>=0&&s<this.params.values.length&&this.setSelectedValue(this.params.values[s])},t.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var n=e.key;if(n===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isEventFromPrintableCharacter(e))return;this.searchText(n)}},t.prototype.runSearch=function(){var o,e=this,n=this.params.values;if(("number"==typeof n[0]||"string"==typeof n[0])&&(o=n.map(function(C){return e.params.formatValue(C)})),"object"==typeof n[0]&&this.params.colDef.keyCreator&&(o=n.map(function(C){return e.params.colDef.keyCreator({value:C,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsService.api,columnApi:e.gridOptionsService.columnApi,context:e.gridOptionsService.context})})),o){var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.fuzzySuggestions(this.searchString,o,!0)[0];if(s){var d=o.indexOf(s);this.setSelectedValue(n[d])}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,n=this.params.formatValue(this.selectedValue),o=this.eValue,d=this.userComponentFactory.getCellRendererDetails(this.params,{value:this.selectedValue,valueFormatted:n,api:this.gridOptionsService.api}),v=d?d.newAgStackInstance():void 0;v?(bindCellRendererToHtmlElement(v,o),v.then(function(C){e.addDestroyFunc(function(){return e.getContext().destroyBean(C)})})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.selectedValue)?o.innerText=n:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(o)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var n=this.params.values.indexOf(e);-1!==n&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(n),this.virtualList.forEachRenderedRow(function(o,s){o.updateSelected(n===s)}),this.virtualList.focusRow(n))}},t.prototype.createRowComponent=function(e){var n=this.params.formatValue(e),o=new RichSelectRow(this.params);return this.getContext().createBean(o),o.setState(e,n,e===this.selectedValue),o},t.prototype.onMouseMove=function(e){var n=this.virtualList.getGui().getBoundingClientRect(),o=this.virtualList.getScrollTop(),d=Math.floor((e.clientY-n.top+o)/this.virtualList.getRowHeight()),v=this.params.values[d];void 0!==v&&this.setSelectedValue(v)},t.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&(this.params.values.length?this.virtualList.focusRow(-1!==e?e:0):this.getGui().focus())},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],t.prototype,"eValue",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eList")],t.prototype,"eList",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RXH),VERSION$5="29.1.0",RichSelectModule={version:VERSION$5,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:RichSelectCellEditor},{componentName:"agRichSelectCellEditor",componentClass:RichSelectCellEditor}],dependantModules:[EnterpriseCoreModule]},__extends$t=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$r=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FullStore=function(l){function t(e,n,o){var s=l.call(this,0)||this;return s.nodeIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,s.info={},s.ssrmParams=e,s.parentRowNode=o,s.level=o.level+1,s.groupLevel=e.rowGroupCols?s.level<e.rowGroupCols.length:void 0,s.leafGroup=!!e.rowGroupCols&&s.level===e.rowGroupCols.length-1,s}return __extends$t(t,l),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsService.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]);var o=1,s=-1===this.parentRowNode.level,d=this.storeUtils.getServerSideInitialRowCount();s&&void 0!==d&&(o=d),this.initialiseRowNodes(o),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,n){void 0===n&&(n=!1),this.destroyRowNodes();for(var o=0;o<e;o++){var s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});n&&(s.failedLoad=!0),this.allRowNodes.push(s),this.nodesAfterFilter.push(s),this.nodesAfterSort.push(s)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,n){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=n?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertIntoArray(this.allRowNodes,o,n):this.allRowNodes.push(o);var s=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(o,e,s,void 0),this.nodeManager.addRowNode(o),this.blockUtils.checkOpenByDefault(o),this.allNodesMap[o.id]=o,o},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){var n=e.storeInfo||e.groupLevelInfo;n&&Object.assign(this.info,n);var o=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(o,e.rowData),o&&this.blockUtils.destroyRowNodes(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllValuesInObject(o)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,n){var o=this;n&&n.forEach(function(v){var C=function(v){if(e){var C=o.gridOptionsService.getRowIdFunc();if(C){var m=o.parentRowNode.getGroupKeys(),D=C({data:v,parentKeys:m.length>0?m:void 0,level:o.level}),b=e[D];if(b)return delete e[D],b}}}(v);C?function(v,C){o.allNodesMap[v.id]=v,o.blockUtils.updateDataIntoRowNode(v,C),o.allRowNodes.push(v)}(C,v):o.createDataNode(v)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerSideSortOnServer(),n=this.sortController.getSortOptions();this.nodesAfterSort=e||!n||0==n.length?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,n)},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.storeUtils.isServerSideFilterAllLevels()||this.storeUtils.isServerSideFilterOnServer()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(s){return e.filterManager.doesRowPassFilter({rowNode:s})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(n){return e.blockUtils.clearDisplayIndex(n)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,n){var o=this;this.displayIndexStart=e.peek(),this.topPx=n.value;var s={};this.nodesAfterSort.forEach(function(d){o.blockUtils.setDisplayIndex(d,e,n),s[d.id]=!0}),this.allRowNodes.forEach(function(d){s[d.id]||o.blockUtils.clearDisplayIndex(d)}),this.displayIndexEnd=e.peek(),this.heightPx=n.value-this.topPx},t.prototype.forEachStoreDeep=function(e,n){void 0===n&&(n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),e(this,n.next()),this.allRowNodes.forEach(function(o){var s=o.childStore;s&&s.forEachStoreDeep(e,n)})},t.prototype.forEachNodeDeep=function(e,n){void 0===n&&(n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.allRowNodes.forEach(function(o){e(o,n.next());var s=o.childStore;s&&s.forEachNodeDeep(e,n)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,n){void 0===n&&(n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.nodesAfterSort.forEach(function(o){e(o,n.next());var s=o.childStore;s&&s.forEachNodeDeepAfterFilterAndSort(e,n)})},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var n=0;n<this.nodesAfterSort.length;n++){var s=this.blockUtils.extractRowBounds(this.nodesAfterSort[n],e);if(s)return s}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var n=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var v=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=v.rowTop+v.rowHeight&&v.expanded){if(v.childStore&&v.childStore.getRowCount()>0)return v.childStore.getRowIndexAtPixel(e);if(v.detailNode)return v.detailNode.rowIndex}return v.rowIndex}var m=null;return this.nodesAfterSort.forEach(function(D){var b=n.blockUtils.getIndexAtPixel(D,e);null!=b&&(m=b)}),null==m?this.displayIndexEnd-1:m},t.prototype.getChildStore=function(e){var n=this;return this.storeUtils.getChildStore(e,this,function(o){return n.allRowNodes.find(function(d){return d.key==o})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(n){var o=n.childStore;o&&e(o)})},t.prototype.refreshAfterFilter=function(e){var n=this.storeUtils.isServerSideFilterOnServer(),o=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(this.storeUtils.isServerSideFilterAllLevels()||n&&o)return this.refreshStore(!0),void this.sortRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(d){return d.refreshAfterFilter(e)})},t.prototype.refreshAfterSort=function(e){var n=this.storeUtils.isServerSideSortOnServer(),o=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(this.storeUtils.isServerSideSortAllLevels()||n&&o)return this.refreshStore(!0),void this.filterRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(d){return d.refreshAfterSort(e)})},t.prototype.applyTransaction=function(e){switch(this.getState()){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoadingFailed};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADING:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_WAITING_TO_LOAD:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreWaitingToLoad}}var n=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(n&&!n({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var d={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,remove:[],update:[],add:[]},v=[];return this.executeAdd(e,d),this.executeRemove(e,d,v),this.executeUpdate(e,d,v),this.filterAndSortNodes(),this.updateSelection(v),d},t.prototype.updateSelection=function(e){e.length>0&&(e.forEach(function(s){s.setSelected(!1,!1,!0,"rowDataChanged")}),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"rowDataChanged"}))},t.prototype.executeAdd=function(e,n){var o=this,s=e.add,d=e.addIndex;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(s)||("number"==typeof d&&d>=0?s.reverse().forEach(function(C){var m=o.createDataNode(C,d);n.add.push(m)}):s.forEach(function(C){var m=o.createDataNode(C);n.add.push(m)}))},t.prototype.executeRemove=function(e,n,o){var s=this,d=e.remove;if(null!=d){var v={};d.forEach(function(C){var m=s.lookupRowNode(C);m&&(m.isSelected()&&o.push(m),m.clearRowTopAndRowIndex(),v[m.id]=!0,delete s.allNodesMap[m.id],n.remove.push(m),s.nodeManager.removeNode(m))}),this.allRowNodes=this.allRowNodes.filter(function(C){return!v[C.id]})}},t.prototype.executeUpdate=function(e,n,o){var s=this;e.update?.forEach(function(v){var C=s.lookupRowNode(v);C&&(s.blockUtils.updateDataIntoRowNode(C,v),!C.selectable&&C.isSelected()&&o.push(C),n.update.push(C))})},t.prototype.lookupRowNode=function(e){var o,n=this.gridOptionsService.getRowIdFunc();if(null!=n){var s=this.level,d=this.parentRowNode.getGroupKeys(),v=n({data:e,parentKeys:d.length>0?d:void 0,level:s});if(!(o=this.allNodesMap[v]))return console.error("AG Grid: could not find row id="+v+", data item was not found for this id"),null}else if(!(o=this.allRowNodes.find(function(C){return C.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return o},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(n){return n.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,n){var o=[],s=!1;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)&&(s=!0),this.nodesAfterSort.forEach(function(v){var C=v===e||v===n;(s||C)&&o.push(v),C&&(s=!s)}),s?[]:o},__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],t.prototype,"sortController",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyRowNodes",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK),__extends$s=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$q=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$5=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$3=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$5(arguments[t]));return l},LazyBlockLoader=function(l){function t(e,n,o){var s=l.call(this)||this;return s.loadingNodes=new Set,s.loaderTimeout=void 0,s.nextBlockToLoad=void 0,s.parentNode=n,s.cache=e,s.storeParams=o,s}return __extends$s(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.rowNodeBlockLoader,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fKL.BLOCK_LOADED_EVENT,function(){return e.queueLoadAction()})},t.prototype.isRowLoading=function(e){return this.loadingNodes.has(e)},t.prototype.doesRowNeedLoaded=function(e){if(this.loadingNodes.has(e))return!1;var n=this.cache.getRowByStoreIndex(e);if(!n)return!1;if(n.__needsRefresh)return!0;var o=this.api.getFirstDisplayedRow(),s=this.api.getLastDisplayedRow();return!!(null!=n.rowIndex&&n.rowIndex>=o&&n.rowIndex<=s)&&(n.stub&&!n.failedLoad||n.__needsRefreshWhenVisible)},t.prototype.getBlocksToLoad=function(){var e=this,n=new Set;return this.cache.getNodeMapEntries().forEach(function(o){var s=__read$5(o,2),v=Number(s[0]),C=e.getBlockStartIndexForIndex(v);e.doesRowNeedLoaded(v)&&n.add(C)}),__spread$3(n)},t.prototype.getNodeRanges=function(){var e=this,n={};return this.getBlocksToLoad().forEach(function(o){var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.oneOrGreater(e.gridOptionsService.getNum("cacheBlockSize"))||t.DEFAULT_BLOCK_SIZE,d=o-o%s;n[d]=d+s}),n},t.prototype.reset=function(){this.loadingNodes.clear(),clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0},t.prototype.executeLoad=function(e,n){var s,o=this,d=this.cache.getSsrmParams(),v={startRow:e,endRow:n,rowGroupCols:d.rowGroupCols,valueCols:d.valueCols,pivotCols:d.pivotCols,pivotMode:d.pivotMode,groupKeys:this.parentNode.getGroupKeys(),filterModel:d.filterModel,sortModel:d.sortModel},C=function(){for(var T=0;T<n-e;T++)o.loadingNodes.delete(e+T)},w=function(T){o.rowNodeBlockLoader.loadComplete(),o.cache.onLoadSuccess(e,n-e,T),C(),o.queueLoadAction()},D=function(){o.rowNodeBlockLoader.loadComplete(),o.cache.onLoadFailed(e,n-e),C(),o.queueLoadAction()},b={request:v,successCallback:function(T,A){return w({rowData:T,rowCount:A})},success:w,failCallback:D,fail:D,parentNode:this.parentNode,api:this.api,columnApi:this.columnApi,context:this.gridOptionsService.context};(function(){for(var T=0;T<n-e;T++)o.loadingNodes.add(e+T)})(),null===(s=this.cache.getSsrmParams().datasource)||void 0===s||s.getRows(b)},t.prototype.isBlockInViewport=function(e,n){var o=this.api.getFirstDisplayedRow(),s=this.api.getLastDisplayedRow();return e<=o&&n>=s||n>o&&n<s||e>o&&e<s},t.prototype.getNextBlockToLoad=function(){var e=this,n=this.getNodeRanges(),o=Object.entries(n);if(0===o.length)return null;var s=this.api.getFirstDisplayedRow();return o.sort(function(d,v){var C=__read$5(d,2),m=C[0],w=C[1],D=__read$5(v,2),b=D[0],T=D[1],A=e.isBlockInViewport(Number(m),w),I=e.isBlockInViewport(Number(b),T);return A?-1:I?1:Math.abs(s-Number(m))-Math.abs(s-Number(b))}),o[0]},t.prototype.queueLoadAction=function(){var n,e=this,o=this.getNextBlockToLoad();if(!o)return window.clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0,void(this.nextBlockToLoad=void 0);if(!this.nextBlockToLoad||this.nextBlockToLoad[0]!==o[0]&&this.nextBlockToLoad[1]!==o[1]){this.nextBlockToLoad=o,window.clearTimeout(this.loaderTimeout);var s=__read$5(this.nextBlockToLoad,2),v=s[1],C=Number(s[0]);this.loaderTimeout=window.setTimeout(function(){e.loaderTimeout=void 0,e.attemptLoad(C,v),e.nextBlockToLoad=void 0},null!==(n=this.gridOptionsService.getNum("blockLoadDebounceMillis"))&&void 0!==n?n:0)}},t.prototype.attemptLoad=function(e,n){var o=this.rowNodeBlockLoader.getAvailableLoadingCount();null!=o&&0===o||(this.rowNodeBlockLoader.registerLoads(1),this.executeLoad(e,n),this.queueLoadAction())},t.prototype.getBlockSize=function(){return this.storeParams.cacheBlockSize||t.DEFAULT_BLOCK_SIZE},t.prototype.getBlockStartIndexForIndex=function(e){return e-e%this.getBlockSize()},t.prototype.getBlockBoundsForIndex=function(e){var n=this.getBlockStartIndexForIndex(e);return[n,n+this.getBlockSize()]},t.DEFAULT_BLOCK_SIZE=100,__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"api",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$r=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$p=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$4=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$2=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$4(arguments[t]));return l},LazyCache=function(l){function t(e,n,o){var s=l.call(this)||this;return s.live=!0,s.store=e,s.numberOfRows=n,s.isLastRowKnown=!1,s.storeParams=o,s}return __extends$r(t,l),t.prototype.init=function(){this.nodeIndexMap={},this.nodeIds=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.rowLoader=this.createManagedBean(new LazyBlockLoader(this,this.store.getParentNode(),this.storeParams))},t.prototype.destroyRowNodes=function(){this.numberOfRows=0,this.blockUtils.destroyRowNodes(this.getAllNodes()),this.nodeIndexMap={},this.nodeIds.clear(),this.live=!1},t.prototype.getRowByDisplayIndex=function(e){var n;if(this.store.isDisplayIndexInStore(e)){for(var o,s=this.getNodeMapEntries(),d=0;d<s.length;d++){var v=__read$4(s[d],2),C=v[0],m=v[1];if(m.rowIndex===e)return(m.stub||m.__needsRefreshWhenVisible)&&this.rowLoader.queueLoadAction(),m;var D=m.detailNode;if(m.master&&m.expanded&&D&&D.rowIndex===e)return D;if(null!==(n=m.childStore)&&void 0!==n&&n.isDisplayIndexInStore(e))return m.childStore.getRowUsingDisplayIndex(e);if(m.rowIndex>e){o=C;break}}if(null==o){var b=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(b,e)}var T=Number(o);return this.createStubNode(T-(this.nodeIndexMap[T].rowIndex-e),e)}},t.prototype.createStubNode=function(e,n){var o=this.store.getRowBounds(n),s=this.createRowAtIndex(e,null,function(d){d.setRowIndex(n),d.setRowTop(o.rowTop)});return this.rowLoader.queueLoadAction(),s},t.prototype.getRowByStoreIndex=function(e){return this.nodeIndexMap[e]},t.prototype.skipDisplayIndexes=function(e,n,o){var s=this.gridOptionsService.getRowHeightAsNumber();n.skip(e),o.value+=e*s},t.prototype.setDisplayIndexes=function(e,n){var o=this,s=this.getNodeMapEntries(),d=-1;s.forEach(function(C){var m=__read$4(C,2),D=m[1],b=Number(m[0]);o.skipDisplayIndexes(b-1-d,e,n),o.blockUtils.setDisplayIndex(D,e,n),d=b}),this.skipDisplayIndexes(this.numberOfRows-1-d,e,n),this.purgeExcessRows()},t.prototype.getRowCount=function(){return this.numberOfRows},t.prototype.setRowCount=function(e,n){if(e<0)throw new Error("AG Grid: setRowCount can only accept a positive row count.");this.numberOfRows=e,null!=n&&(this.isLastRowKnown=n),this.fireStoreUpdatedEvent()},t.prototype.getNodeMapEntries=function(){return Object.entries(this.nodeIndexMap)},t.prototype.getAllNodes=function(){return Object.values(this.nodeIndexMap)},t.prototype.getDisplayIndexFromStoreIndex=function(e){var n,o=this.nodeIndexMap[e],s=this.store.getDisplayIndexStart();if(null==s)return null;if(o&&null!=o.rowIndex)return o.rowIndex;for(var d=this.getNodeMapEntries(),v=void 0,C=-1,m=0;m<d.length;m++){var w=__read$4(d[m],2),b=w[1],T=Number(w[0]);if(T>e)break;v=b,C=T}if(null==v)return s+e;var A=e-C,I=null===(n=v.childStore)||void 0===n?void 0:n.getDisplayIndexEnd();return null!=I?I+A-1:null!=v.rowIndex?v.rowIndex+A:s+e},t.prototype.createRowAtIndex=function(e,n,o){var s=this,d=this.isUsingRowIds(),v=this.nodeIndexMap[e];if(v){if(v.__needsRefresh=!1,v.__needsRefreshWhenVisible=!1,this.doesNodeMatch(n,v))return this.blockUtils.updateDataIntoRowNode(v,n),v;if(!d&&v.group&&v.expanded)return v;this.destroyRowAtIndex(e)}if(n&&d){var m=this.getNodeMapEntries().find(function(N){var G=__read$4(N,2);return s.doesNodeMatch(n,G[1])});if(m){var w=__read$4(m,2),b=w[1],T=Number(w[0]);return this.blockUtils.updateDataIntoRowNode(b,n),delete this.nodeIndexMap[T],this.nodeIndexMap[e]=b,this.markBlockForVerify(T),b}}var A=this.blockUtils.createRowNode(this.store.getRowDetails());if(null!=n){var I=this.getPrefixedId(this.store.getIdSequence().next());this.blockUtils.setDataIntoRowNode(A,n,I,void 0),this.blockUtils.checkOpenByDefault(A),this.nodeManager.addRowNode(A),this.nodeIds.add(A.id)}return this.nodeIndexMap[e]=A,o&&o(A),A.stub&&this.rowLoader.queueLoadAction(),A},t.prototype.getBlockStates=function(){var e=this,n={},o={},s=new Set;this.getNodeMapEntries().forEach(function(m){var w,D=__read$4(m,2),T=D[1],A=Number(D[0]),I=e.rowLoader.getBlockStartIndexForIndex(A);!T.stub&&!T.failedLoad&&(n[I]=(null!==(w=n[I])&&void 0!==w?w:0)+1);var N="loaded";T.failedLoad?N="failed":e.rowLoader.isRowLoading(I)?N="loading":T.__needsRefresh&&(N="needsLoading"),(T.__needsRefreshWhenVisible||T.stub)&&s.add(I),o[I]||(o[I]=new Set),o[I].add(N)});var d={loading:4,failed:3,needsLoading:2,loaded:1},v=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),C={};return Object.entries(o).forEach(function(m){var w,D=__read$4(m,2),b=D[0],I=__spread$2(D[1]).sort(function(V,W){var j,K;return(null!==(j=d[V])&&void 0!==j?j:0)-(null!==(K=d[W])&&void 0!==K?K:0)})[0],N=Number(b)/e.rowLoader.getBlockSize(),G=v?v+"-"+N:String(N);C[G]={blockNumber:N,startRow:Number(b),endRow:Number(b)+e.rowLoader.getBlockSize(),pageStatus:I,loadedRowCount:null!==(w=n[b])&&void 0!==w?w:0}}),C},t.prototype.destroyRowAtIndex=function(e){var n=this.nodeIndexMap[e];this.nodeIds.delete(n.id),this.blockUtils.destroyRowNode(n),delete this.nodeIndexMap[e]},t.prototype.getSsrmParams=function(){return this.store.getSsrmParams()},t.prototype.getPrefixedId=function(e){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+e:e.toString()},t.prototype.markBlockForVerify=function(e){for(var n=__read$4(this.rowLoader.getBlockBoundsForIndex(e),2),s=n[1],d=n[0];d<s;d++){var v=this.nodeIndexMap[d];v&&(v.__needsRefreshWhenVisible=!0)}},t.prototype.doesNodeMatch=function(e,n){if(n.stub)return!1;if(this.isUsingRowIds()){var o=this.getRowId(e);return n.id===o}return n.data===e},t.prototype.purgeStubsOutsideOfViewport=function(){var e=this,n=this.api.getFirstDisplayedRow(),o=this.api.getLastDisplayedRow(),s=this.rowLoader.getBlockStartIndexForIndex(n),v=__read$4(this.rowLoader.getBlockBoundsForIndex(o),2)[1];this.getNodeMapEntries().forEach(function(C){var m=__read$4(C,2),D=m[1],b=Number(m[0]);e.rowLoader.isRowLoading(b)||D.stub&&(b<s||b>v)&&e.destroyRowAtIndex(b)})},t.prototype.getNumberOfRowsToRetain=function(e,n){var o=this.storeParams.maxBlocksInCache;if(null==o)return null;var s=this.rowLoader.getBlockSize(),d=Math.ceil((n-e)/s);return Math.max(o,d)*s},t.prototype.getBlocksDistanceFromRow=function(e,n){var o=this,s={};return e.forEach(function(d){var v=__read$4(d,2),m=v[1],w=__read$4(o.rowLoader.getBlockBoundsForIndex(Number(v[0])),2),D=w[0],b=w[1];if(!(D in s)){var A,T=Math.abs(m.rowIndex-n);o.nodeIndexMap[b-1]&&(A=Math.abs(o.nodeIndexMap[b-1].rowIndex-n)),s[D]=null==A||T<A?T:A}}),Object.entries(s)},t.prototype.purgeExcessRows=function(){var e=this;this.purgeStubsOutsideOfViewport();var n=this.api.getFirstDisplayedRow(),o=this.api.getLastDisplayedRow(),s=this.rowLoader.getBlockStartIndexForIndex(n),d=__read$4(this.rowLoader.getBlockBoundsForIndex(o),2),C=this.getNumberOfRowsToRetain(s,d[1]);if(null!=this.store.getDisplayIndexEnd()&&null!=C){var m=this.getNodeMapEntries().filter(function(W){var K=__read$4(W,2)[1];return!K.stub&&!e.isNodeCached(K)});if(!(m.length<=C)){var D=this.getBlocksDistanceFromRow(m,n+(o-n)/2),b=this.rowLoader.getBlockSize(),T=Math.ceil(C/b);if(!(D.length<=T)){D.sort(function(W,j){return Math.sign(j[1]-W[1])});for(var A=D.length-T,I=0;I<A;I++)for(var N=Number(D[I][0]),G=N;G<N+b;G++){var V=this.nodeIndexMap[G];!V||this.isNodeCached(V)||this.destroyRowAtIndex(G)}}}}},t.prototype.isNodeFocused=function(e){var n=this.focusService.getFocusCellToUseAfterRefresh();return!(!n||null!=n.rowPinned)&&n.rowIndex===e.rowIndex},t.prototype.isNodeCached=function(e){return!!e.group&&e.expanded||this.isNodeFocused(e)},t.prototype.extractDuplicateIds=function(e){var n=this;if(!this.isUsingRowIds())return[];var o=new Set,s=new Set;return e.forEach(function(d){var v=n.getRowId(d);o.has(v)?s.add(v):o.add(v)}),__spread$2(s)},t.prototype.onLoadSuccess=function(e,n,o){var s=this;if(this.live){if(this.isUsingRowIds()){var d=this.extractDuplicateIds(o.rowData);if(d.length>0){var v=d.join(", ");return console.warn("AG Grid: Unable to display rows as duplicate row ids ("+v+") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids."),void this.onLoadFailed(e,n)}}if(o.rowData.forEach(function(b,T){var A=e+T,I=s.nodeIndexMap[A];if(!I?.stub)return I&&s.doesNodeMatch(b,I)?(s.blockUtils.updateDataIntoRowNode(I,b),I.__needsRefresh=!1,void(I.__needsRefreshWhenVisible=!1)):void s.createRowAtIndex(A,b);s.createRowAtIndex(A,b)}),null!=o.rowCount&&-1!==o.rowCount)this.numberOfRows=o.rowCount,this.isLastRowKnown=!0;else if(n>o.rowData.length)this.numberOfRows=e+o.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){var C=e+o.rowData.length+1;C>this.numberOfRows&&(this.numberOfRows=C)}if(this.isLastRowKnown)for(var m=this.getNodeMapEntries(),w=m.length-1;w>=0;w--){var D=Number(m[w][0]);if(D<this.numberOfRows)break;this.destroyRowAtIndex(D)}this.fireStoreUpdatedEvent()}},t.prototype.isLastRowIndexKnown=function(){return this.isLastRowKnown},t.prototype.onLoadFailed=function(e,n){if(this.live){for(var o=e;o<e+n;o++){var s=this.nodeIndexMap[o];s&&(s.failedLoad=!0)}this.fireStoreUpdatedEvent()}},t.prototype.markNodesForRefresh=function(){this.getAllNodes().forEach(function(e){return e.__needsRefresh=!0}),this.rowLoader.queueLoadAction()},t.prototype.isNodeInCache=function(e){return this.nodeIds.has(e)},t.prototype.fireStoreUpdatedEvent=function(){this.live&&this.store.fireStoreUpdatedEvent()},t.prototype.isUsingRowIds=function(){return null!=this.gridOptionsService.getRowIdFunc()},t.prototype.getRowId=function(e){var n=this.gridOptionsService.getRowIdFunc();if(null==n)return null;var o=this.store.getRowDetails().level,s=this.store.getParentNode().getGroupKeys(),d=n({data:e,parentKeys:s.length>0?s:void 0,level:o});return String(d)},t.prototype.lookupRowNode=function(e){var n;if(!this.isUsingRowIds())throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var o=this.getRowId(e);return null!==(n=this.getAllNodes().find(function(s){return s.id===o}))&&void 0!==n?n:null},t.prototype.updateRowNodes=function(e){var n=this,o=[];return e.forEach(function(s){var d=n.lookupRowNode(s);d&&(n.blockUtils.updateDataIntoRowNode(d,s),o.push(d))}),o},t.prototype.insertRowNodes=function(e,n){var o=this,s=null==n&&this.isLastRowKnown?this.store.getRowCount():n;if(null==s||this.store.getRowCount()<s)return[];if(!this.isUsingRowIds())throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var d={};e.forEach(function(N){var G=o.getRowId(N);G&&o.isNodeInCache(G)||(d[G]=N)});var v=Object.values(d),C=v.length;if(0===C)return[];for(var m=this.getNodeMapEntries(),w=m.length-1;w>=0;w--){var D=__read$4(m[w],2),T=D[1],A=Number(D[0]);if(A<s)break;if(this.getRowByStoreIndex(A+C))throw new Error("AG Grid: Something went wrong, node in wrong place.");this.nodeIndexMap[A+C]=T,delete this.nodeIndexMap[A]}return this.numberOfRows+=C,v.map(function(N,G){return o.createRowAtIndex(s+G,N)})},t.prototype.removeRowNodes=function(e){if(!this.isUsingRowIds())throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");for(var n=[],o=this.getNodeMapEntries(),s=0,d=__spread$2(e),v=[],C=function(D){var b=__read$4(o[D],2),T=b[0],A=b[1],I=d.findIndex(function(G){return G===A.id});if(-1!==I)return d.splice(I,1),m.destroyRowAtIndex(Number(T)),n.push(A),s+=1,"continue";if(0===s)return"continue";var N=Number(T);D!==N&&v.push(A),m.nodeIndexMap[N-s]=m.nodeIndexMap[N],delete m.nodeIndexMap[N]},m=this,w=0;w<o.length;w++)C(w);return this.numberOfRows-=this.isLastRowIndexKnown()?e.length:s,d.length>0&&v.length>0&&(v.forEach(function(D){return D.__needsRefreshWhenVisible=!0}),this.rowLoader.queueLoadAction()),n},__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"api",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),__decorate$p([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),__decorate$p([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyRowNodes",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$q=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$o=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$3=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread$1=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$3(arguments[t]));return l},LazyStore=function(l){function t(e,n,o){var s=l.call(this)||this;return s.idSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,s.ssrmParams=e,s.parentRowNode=o,s.storeParams=n,s.level=o.level+1,s.group=!!e.rowGroupCols&&s.level<e.rowGroupCols.length,s.leafGroup=!!e.rowGroupCols&&s.level===e.rowGroupCols.length-1,s}return __extends$q(t,l),t.prototype.init=function(){var e=1;0===this.level&&(e=this.storeUtils.getServerSideInitialRowCount()),this.cache=this.createManagedBean(new LazyCache(this,e,this.storeParams)),!this.gridOptionsService.isTreeData()&&this.group&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level])},t.prototype.destroyRowNodes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache)},t.prototype.applyTransaction=function(e){var o,s,d,n=this,v=this.gridOptionsService.getRowIdFunc();if(!v)return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."),{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var C=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(C&&!C({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var D=void 0;null!==(o=e.update)&&void 0!==o&&o.length&&(D=this.cache.updateRowNodes(e.update));var b=void 0;if(null!==(s=e.add)&&void 0!==s&&s.length){var T=e.addIndex;null!=T&&T<0&&(T=void 0),b=this.cache.insertRowNodes(e.add,T)}var A=void 0;if(null!==(d=e.remove)&&void 0!==d&&d.length){var I=e.remove.map(function(G){return v({level:n.level,parentKeys:n.parentRowNode.getGroupKeys(),data:G})}),N=__spread$1(new Set(I));A=this.cache.removeRowNodes(N)}return this.updateSelectionAfterTransaction(D,A),{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,update:D,add:b,remove:A}},t.prototype.updateSelectionAfterTransaction=function(e,n){var o=!1;e?.forEach(function(d){d.isSelected()&&!d.selectable&&(d.setSelected(!1,!1,!0,"rowDataChanged"),o=!0)}),n?.forEach(function(d){d.isSelected()&&(d.setSelected(!1,!1,!0,"rowDataChanged"),o=!0)}),o&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"rowDataChanged"})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getAllNodes().forEach(function(n){return e.blockUtils.clearDisplayIndex(n)})},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getRowCount=function(){return this.cache.getRowCount()},t.prototype.setRowCount=function(e,n){this.cache.setRowCount(e,n)},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.cache.getRowCount()&&this.displayIndexStart<=e&&e<this.getDisplayIndexEnd()},t.prototype.setDisplayIndexes=function(e,n){this.displayIndexStart=e.peek(),this.topPx=n.value,this.cache.setDisplayIndexes(e,n),this.displayIndexEnd=e.peek(),this.heightPx=n.value-this.topPx},t.prototype.forEachStoreDeep=function(e,n){void 0===n&&(n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),e(this,n.next()),this.cache.getAllNodes().forEach(function(o){var s=o.childStore;s&&s.forEachStoreDeep(e,n)})},t.prototype.forEachNodeDeep=function(e,n){void 0===n&&(n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.cache.getAllNodes().forEach(function(o){e(o,n.next());var s=o.childStore;s&&s.forEachNodeDeep(e,n)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,n){void 0===n&&(n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.cache.getAllNodes().forEach(function(o){e(o,n.next());var s=o.childStore;s&&s.forEachNodeDeepAfterFilterAndSort(e,n)})},t.prototype.retryLoads=function(){this.cache.getAllNodes().forEach(function(e){e.failedLoad&&(e.failedLoad=!1,e.__needsRefreshWhenVisible=!0,e.stub=!0)}),this.forEachChildStoreShallow(function(e){return e.retryLoads()}),this.fireStoreUpdatedEvent()},t.prototype.getRowUsingDisplayIndex=function(e){return this.cache.getRowByDisplayIndex(e)},t.prototype.getRowBounds=function(e){if(!this.isDisplayIndexInStore(e))return null;for(var n=this.cache.getAllNodes(),o=null,s=null,d=0;d<n.length;d++){var v=n[d];if(v.rowIndex>e){s=v;break}o=v}if(o){var C=this.blockUtils.extractRowBounds(o,e);if(null!=C)return C}var m=this.gridOptionsService.getRowHeightAsNumber();if(s){var w=Math.floor((s.rowIndex-e)*m);return{rowTop:s.rowTop-w,rowHeight:m}}return{rowTop:this.topPx+this.heightPx-Math.floor((this.getDisplayIndexEnd()-e)*m),rowHeight:m}},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){if(e<this.topPx)return this.getDisplayIndexStart();if(e>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;for(var n=this.cache.getAllNodes(),o=null,s=null,d=0;d<n.length;d++){var v=n[d];if(v.rowTop>e){s=v;break}o=v}if(o){var C=this.blockUtils.getIndexAtPixel(o,e);if(null!=C)return C}var m=this.gridOptionsService.getRowHeightAsNumber();if(s){var D=Math.ceil((s.rowTop-e)/m);return s.rowIndex-D}var T=Math.floor((this.topPx+this.heightPx-e)/m);return this.getDisplayIndexEnd()-T},t.prototype.getChildStore=function(e){var n=this;return this.storeUtils.getChildStore(e,this,function(o){return n.cache.getAllNodes().find(function(d){return d.key==o})})},t.prototype.forEachChildStoreShallow=function(e){this.cache.getAllNodes().forEach(function(n){n.childStore&&e(n.childStore)})},t.prototype.refreshAfterSort=function(e){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){var o=this.cache.getRowCount();return this.destroyBean(this.cache),this.cache=this.createManagedBean(new LazyCache(this,o,this.storeParams)),void this.fireStoreUpdatedEvent()}this.forEachChildStoreShallow(function(s){return s.refreshAfterSort(e)})},t.prototype.refreshAfterFilter=function(e){this.storeUtils.isServerSideFilterAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.refreshStore(!0):this.forEachChildStoreShallow(function(o){return o.refreshAfterFilter(e)})},t.prototype.refreshStore=function(e){if(e)return this.destroyBean(this.cache),this.cache=this.createManagedBean(new LazyCache(this,1,this.storeParams)),void this.fireStoreUpdatedEvent();this.cache.markNodesForRefresh()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.cache.getDisplayIndexFromStoreIndex(e)??e},t.prototype.isLastRowIndexKnown=function(){return this.cache.isLastRowIndexKnown()},t.prototype.getRowNodesInRange=function(e,n){var o=[],s=!1;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)&&(s=!0),this.cache.getAllNodes().forEach(function(v){var C=v===e||v===n;(s||C)&&o.push(v),C&&(s=!s)}),s?[]:o},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(n){return n.addStoreStates(e)})},t.prototype.getIdSequence=function(){return this.idSequence},t.prototype.getParentNode=function(){return this.parentRowNode},t.prototype.getRowDetails=function(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}},t.prototype.getSsrmParams=function(){return this.ssrmParams},t.prototype.setStoreInfo=function(e){this.info=e},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},t.prototype.getBlockStates=function(){return this.cache.getBlockStates()},__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),__decorate$o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyRowNodes",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$p=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$n=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},__read$2=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},ServerSideRowModel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(e.onRowHeightChanged.bind(e),100),e.pauseStoreUpdateListening=!1,e.started=!1,e}return __extends$p(t,l),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0;var e=this.gridOptionsService.get("serverSideDatasource");e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator"))&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Infinite Scroll, then sorting is done on the server side, nothing to do with the client.")},"SSRM.InitialGroupOrderComparator"),this.gridOptionsService.isRowSelection()&&!this.gridOptionsService.exists("getRowId")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")},"SSRM.SelectionNeedsRowNodeIdFunc")},t.prototype.setDatasource=function(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(this.storeParams){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),n=this.columnsToValueObjects(this.columnModel.getValueColumns()),o=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=function(D){var b={};D.oldCols.forEach(function(I){return b[I.id]=I});var T=D.newCols.every(function(I){var N=b[I.id];return N&&delete b[I.id],N&&N.field===I.field&&N.aggFunc===I.aggFunc}),A=!D.allowRemovedColumns&&!!Object.values(b).length;return T&&!A},d=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.sortModel,this.sortListener.extractSortModel()),v=!s({oldCols:this.storeParams.rowGroupCols,newCols:e}),C=!s({oldCols:this.storeParams.pivotCols,newCols:o}),m=!!e?.length&&!s({oldCols:this.storeParams.valueCols,newCols:n,allowRemovedColumns:!0});d||v||C||m?this.resetRootStore():this.storeParams=this.createStoreParams()}else this.resetRootStore()},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,n){this.storeParams&&(this.storeParams.sortModel=e);var o=this.getRootStore();o&&(o.refreshAfterSort(n),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_DATA_UPDATED}),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var n=this;return e.map(function(o){return{id:o.getId(),aggFunc:o.getAggFunc(),displayName:n.columnModel.getDisplayNameForColumn(o,"model"),field:o.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),n=this.columnsToValueObjects(this.columnModel.getValueColumns()),o=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=this.gridOptionsService.isGetRowHeightFunction();return{valueCols:n,rowGroupCols:e,pivotCols:o,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,dynamicRowHeight:s}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var n=this.getRootStore();if(n)return n.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(n){n.stub||n.hasChildren()&&n.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,n){this.storeParams&&(this.storeParams.filterModel=e);var o=this.getRootStore();o&&(o.refreshAfterFilter(n),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var n=this.getRootStore();return n?n.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var n=this.getRootStore();return n?n.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsService.getRowHeightAsNumber()}},t.prototype.getBlockStates=function(){var e=this.getRootStore();if(e){var n={};return e.forEachStoreDeep(function(o){if(o instanceof FullStore){var s=o.getBlockStateJson();n[s.id]=s.state}else{if(!(o instanceof LazyStore))throw new Error("AG Grid: Unsupported store type");Object.entries(o.getBlockStates()).forEach(function(C){var m=__read$2(C,2);n[m[0]]=m[1]})}}),n}},t.prototype.getRowIndexAtPixel=function(e){var n=this.getRootStore();return e<=0||!n?0:n.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return"serverSide"},t.prototype.forEachNode=function(e){var n=this.getRootStore();n&&n.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var n=this.getRootStore();n&&n.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,n){var o=this.getRootStore();if(o){var s=o.getChildStore(e);s&&n(s)}},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(o){return o.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],n=this.getRootStore();return n&&n.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,n){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n)&&e.parent!==n.parent?[]:e.parent.childStore.getRowNodesInRange(n,e)},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(o){o.id===e&&(n=o),o.detailNode&&o.detailNode.id===e&&(n=o.detailNode)}),n},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.setRowCount=function(e,n){var o=this.getRootStore();if(o){if(o instanceof LazyStore)return void o.setRowCount(e,n);console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.")}},__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],t.prototype,"sortController",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmSortService")],t.prototype,"sortListener",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],t.prototype,"beans",void 0),__decorate$n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyDatasource",null),__decorate$n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"addEventListeners",null),__decorate$n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyRootStore",null),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$o=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$m=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},StoreUtils=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$o(t,l),t.prototype.loadFromDatasource=function(e){var n=e.storeParams,o=e.parentBlock,d=e.parentNode.getGroupKeys();if(n.datasource){var C={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:n.rowGroupCols,valueCols:n.valueCols,pivotCols:n.pivotCols,pivotMode:n.pivotMode,groupKeys:d,filterModel:n.filterModel,sortModel:n.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};window.setTimeout(function(){n.datasource&&o.isAlive()?n.datasource.getRows(C):e.failCallback()},0)}},t.prototype.getChildStore=function(e,n,o){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(e))return n;var d=o(e[0]);if(d){var v=e.slice(1,e.length),C=d.childStore;return C?C.getChildStore(v):null}return null},t.prototype.isServerRefreshNeeded=function(e,n,o){if(o.valueColChanged||o.secondaryColChanged)return!0;var s=e.level+1;if(!(s<n.length))return!0;var C=n[s].id;return o.changedColumns.indexOf(C)>-1||this.columnModel.getAllGridColumns().filter(function(b){return b.getColDef().showRowGroup&&o.changedColumns.includes(b.getId())}).map(function(b){return b.getColDef().showRowGroup}).some(function(b){return!0===b||b===C})},t.prototype.getServerSideInitialRowCount=function(){var e=this.gridOptionsService.getNum("serverSideInitialRowCount");return"number"==typeof e&&e>0?e:1},t.prototype.assertRowModelIsServerSide=function(e){return!!this.gridOptionsService.isRowModelType("serverSide")||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: The '"+e+"' property can only be used with the Server Side Row Model.")},e),!1)},t.prototype.assertNotTreeData=function(e){return!this.gridOptionsService.is("treeData")||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: The '"+e+"' property cannot be used while using tree data.")},e+"_TreeData"),!1)},t.prototype.isServerSideSortAllLevels=function(){return this.gridOptionsService.is("serverSideSortAllLevels")&&this.assertRowModelIsServerSide("serverSideSortAllLevels")},t.prototype.isServerSideFilterAllLevels=function(){return this.gridOptionsService.is("serverSideFilterAllLevels")&&this.assertRowModelIsServerSide("serverSideFilterAllLevels")},t.prototype.isServerSideSortOnServer=function(){return this.gridOptionsService.is("serverSideSortOnServer")&&this.assertRowModelIsServerSide("serverSideSortOnServer")&&this.assertNotTreeData("serverSideSortOnServer")},t.prototype.isServerSideFilterOnServer=function(){return this.gridOptionsService.is("serverSideFilterOnServer")&&this.assertRowModelIsServerSide("serverSideFilterOnServer")&&this.assertNotTreeData("serverSideFilterOnServer")},__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],t.prototype,"columnApi",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreUtils")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$n=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$l=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},GROUP_MISSING_KEY_ID="ag-Grid-MissingKey",BlockUtils=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$n(t,l),t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsService.isTreeData(),this.usingMasterDetail=this.gridOptionsService.isMasterDetail()},t.prototype.createRowNode=function(e){var n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return n.setRowHeight(null!=e.rowHeight?e.rowHeight:this.rowHeight),n.group=e.group,n.leafGroup=e.leafGroup,n.level=e.level,n.uiLevel=e.level,n.parent=e.parent,n.stub=!0,n.__needsRefresh=!1,n.__needsRefreshWhenVisible=!1,n.group&&(n.expanded=!1,n.field=e.field,n.rowGroupColumn=e.rowGroupColumn),n},t.prototype.destroyRowNodes=function(e){var n=this;e&&e.forEach(function(o){return n.destroyRowNode(o)})},t.prototype.destroyRowNode=function(e,n){void 0===n&&(n=!1),e.childStore&&!n&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){e.updateHasChildren();var n=this.gridOptionsService.get("getServerSideGroupKey");e.hasChildren()&&null!=n&&(e.key=n(e.data)),!e.hasChildren()&&null!=e.childStore&&(this.destroyBean(e.childStore),e.childStore=null,e.expanded=!1)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},t.prototype.setMasterDetailInfo=function(e){var n=this.gridOptionsService.get("isRowMaster");e.master=null==n||n(e.data)},t.prototype.updateDataIntoRowNode=function(e,n){e.updateData(n),this.usingTreeData?(this.setTreeGroupInfo(e),this.setChildCountIntoRowNode(e)):e.group&&this.setChildCountIntoRowNode(e)},t.prototype.setDataIntoRowNode=function(e,n,o,s){e.stub=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n)?(e.setDataAndId(n,o),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n)&&e.setRowHeight(this.gridOptionsService.getRowHeightForNode(e,!1,s).height)},t.prototype.setChildCountIntoRowNode=function(e){var n=this.gridOptionsService.get("getChildCount");n&&e.setAllChildrenCount(n(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var n=this,o=this.columnModel.getGroupDisplayColumns(),s=this.gridOptionsService.isTreeData();o.forEach(function(d){if(null==e.groupData&&(e.groupData={}),s)e.groupData[d.getColId()]=e.key;else if(d.isRowGroupDisplayed(e.rowGroupColumn.getId())){var v=n.valueService.getValue(e.rowGroupColumn,e);e.groupData[d.getColId()]=v}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.hasChildren()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,n,o){if(e.setRowIndex(n.next()),e.setRowTop(o.value),o.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(n.next()),e.detailNode.setRowTop(o.value),o.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.hasChildren()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)){var v=e.childStore;e.expanded?v.setDisplayIndexes(n,o):v.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,n){var o=0,s=n.length-1;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(s)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(o))console.warn("AG Grid: error: topPointer = "+s+", bottomPointer = "+o);else for(;;){var d=Math.floor((o+s)/2),v=n[d];if(v.rowIndex===e)return v;var m=v.detailNode;if(v.master&&v.expanded&&m&&m.rowIndex===e)return v.detailNode;var w=v.childStore;if(v.expanded&&w&&w.isDisplayIndexInStore(e))return w.getRowUsingDisplayIndex(e);if(v.rowIndex<e)o=d+1;else{if(!(v.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");s=d-1}}},t.prototype.extractRowBounds=function(e,n){var o=function(d){return{rowHeight:d.rowHeight,rowTop:d.rowTop}};if(e.rowIndex===n)return o(e);if(e.hasChildren()&&e.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)){var s=e.childStore;if(s.isDisplayIndexInStore(n))return s.getRowBounds(n)}else if(e.master&&e.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.detailNode)&&e.detailNode.rowIndex===n)return o(e.detailNode)},t.prototype.getIndexAtPixel=function(e,n){if(e.isPixelInRange(n))return e.rowIndex;var s=e.detailNode;if(e.master&&e.expanded&&s&&s.isPixelInRange(n))return e.detailNode.rowIndex;if(e.hasChildren()&&e.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)){var d=e.childStore;if(d.isPixelInRange(n))return d.getRowIndexAtPixel(n)}return null},t.prototype.createNodeIdPrefix=function(e){for(var n=[],o=e;o&&o.level>=0;)n.push(""===o.key?GROUP_MISSING_KEY_ID:o.key),o=o.parent;if(n.length>0)return n.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var n=this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");n&&n({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],t.prototype,"beans",void 0),__decorate$l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmBlockUtils")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$k=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},NodeManager=function(){function l(){this.rowNodes={}}return l.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id "+t.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},l.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},l.prototype.clear=function(){this.rowNodes={}},__decorate$k([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],l.prototype,"clear",null),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmNodeManager")],l)}(),__extends$m=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$j=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TransactionManager=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.asyncTransactions=[],e}return __extends$m(t,l),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")},t.prototype.applyTransactionAsync=function(e,n){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:n})},t.prototype.scheduleExecuteAsync=function(){var e=this,n=this.gridOptionsService.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},n)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var n=[],o=[],s=[],d=!1;this.asyncTransactions.forEach(function(C){var m;e.serverSideRowModel.executeOnStore(C.transaction.route,function(D){m=D.applyTransaction(C.transaction)}),null==m&&(m={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}),o.push(m),m.status==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading?s.push(C):(C.callback&&n.push(function(){return C.callback(m)}),m.status===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied&&(d=!0))}),n.length>0&&window.setTimeout(function(){n.forEach(function(C){return C()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=s,d&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})),o.length>0&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o})}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var o,n=this;return this.serverSideRowModel.executeOnStore(e.route,function(s){o=s.applyTransaction(e)}),o?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED}),o.update&&o.update.length&&setTimeout(function(){n.rowRenderer.refreshFullWidthRows(o.update)},0),o):{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}},__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueCache")],t.prototype,"valueCache",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$j([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmTransactionManager")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$l=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$i=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ExpandListener=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$l(t,l),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var n=e.node;if(n.expanded){if(n.master)this.createDetailNode(n);else if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(n.childStore)){var o=this.serverSideRowModel.getParams();n.childStore=this.createBean(this.storeFactory.createStore(o,n))}}else this.gridOptionsService.is("purgeClosedRowNodes")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.childStore)&&(n.childStore=this.destroyBean(n.childStore));this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.detailNode))return e.detailNode;var n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);n.detail=!0,n.selectable=!1,n.parent=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.id)&&(n.id="detail_"+e.id),n.data=e.data,n.level=e.level+1;var s=this.gridOptionsService.getRowHeightForNode(n).height;return n.rowHeight=s||200,e.detailNode=n,n},__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],t.prototype,"beans",void 0),__decorate$i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmExpandListener")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$k=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$h=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SortListener=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$k(t,l),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsService.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsService.isGroupMultiAutoColumn())for(var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy+"-",o=0;o<e.length;++o)e[o].colId.indexOf(n)>-1&&(e[o].colId=e[o].colId.substr(n.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var n=e.find(function(C){return C.colId==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy});if(n){var o=e.indexOf(n);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(e,n);var v=this.columnModel.getRowGroupColumns().filter(function(C){return 0==e.filter(function(m){return m.colId===C.getColId()}).length}).map(function(C){return{colId:C.getId(),sort:n.sort}});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,v,o)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var n=this.extractSortModel(),s=this.findChangedColumnsInSort(n,e.sortModel),d=this.listenerUtils.isSortingWithValueColumn(s),v=this.listenerUtils.isSortingWithSecondaryColumn(s);this.serverSideRowModel.refreshAfterSort(n,{valueColChanged:d,secondaryColChanged:v,changedColumns:s})}},t.prototype.findChangedColumnsInSort=function(e,n){var o=[];return[e,n].forEach(function(v){if(v){var C=v.map(function(m){return m.colId});o=o.concat(C)}}),o.filter(function(v){var C=n.find(function(w){return w.colId===v}),m=e.find(function(w){return w.colId===v});return function(v,C){return(v?v.sort:null)!==(C?C.sort:null)}(C,m)||function(v,C){return(v?n.indexOf(v):-1)!==(C?e.indexOf(C):-1)}(C,m)})},__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],t.prototype,"sortController",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),__decorate$h([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmSortService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$j=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$g=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FilterListener=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$j(t,l),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var n=this.filterManager.getFilterModel(),s=this.findChangedColumns(n,e?e.filterModel:{}),d=this.listenerUtils.isSortingWithValueColumn(s),v=this.listenerUtils.isSortingWithSecondaryColumn(s);this.serverSideRowModel.refreshAfterFilter(n,{valueColChanged:d,secondaryColChanged:v,changedColumns:s})}},t.prototype.findChangedColumns=function(e,n){var o={};Object.keys(e).forEach(function(d){return o[d]=!0}),Object.keys(n).forEach(function(d){return o[d]=!0});var s=[];return Object.keys(o).forEach(function(d){JSON.stringify(e[d])!=JSON.stringify(n[d])&&s.push(d)}),s},__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],t.prototype,"filterManager",void 0),__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),__decorate$g([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmFilterListener")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$f=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},StoreFactory=function(){function l(){}return l.prototype.createStore=function(t,e){var n=this.getStoreParams(t,e);return new(n.suppressInfiniteScroll?FullStore:LazyStore)(t,n,e)},l.prototype.getStoreParams=function(t,e){var n=this.getLevelSpecificParams(e),o=this.isInfiniteScroll(n);return{suppressInfiniteScroll:!o,cacheBlockSize:this.getBlockSize(o,n),maxBlocksInCache:this.getMaxBlocksInCache(o,t,n)}},l.prototype.getMaxBlocksInCache=function(t,e,n){if(t){var o=n&&null!=n.maxBlocksInCache?n.maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache");if(null!=o&&o>=0)return e.dynamicRowHeight?void ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight"):this.columnModel.isAutoRowHeightActive()?void ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive"):o}},l.prototype.getBlockSize=function(t,e){if(t){var n=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsService.getNum("cacheBlockSize");return null!=n&&n>0?n:100}},l.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsService.getCallback("getServerSideGroupLevelParams");if(e){var o=e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()});return null!=o.storeType&&(o.suppressInfiniteScroll="partial"!==o.storeType),o}},l.prototype.isInfiniteScroll=function(t){return!(t&&null!=t.suppressInfiniteScroll?t.suppressInfiniteScroll:this.isSuppressServerSideInfiniteScroll())},l.prototype.isSuppressServerSideInfiniteScroll=function(){return this.gridOptionsService.is("suppressServerSideInfiniteScroll")},__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],l.prototype,"gridOptionsService",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],l.prototype,"columnModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreFactory")],l)}(),__decorate$e=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ListenerUtils=function(){function l(){}return l.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(o){return o.getColId()}),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},l.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(o){return o.getColId()}),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],l.prototype,"columnModel",void 0),__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmListenerUtils")],l)}(),VERSION$4="29.1.0",ServerSideRowModelModule={version:VERSION$4,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ServerSideRowModelModule,rowModels:{serverSide:ServerSideRowModel},beans:[ExpandListener,SortListener,StoreUtils,BlockUtils,NodeManager,TransactionManager,FilterListener,StoreFactory,ListenerUtils],dependantModules:[EnterpriseCoreModule]},ClientSideValuesExtractor=function(){function l(t,e,n,o,s,d,v,C,m){this.rowModel=t,this.filterParams=e,this.createKey=n,this.caseFormat=o,this.columnModel=s,this.valueService=d,this.treeDataOrGrouping=v,this.treeData=C,this.getDataPath=m}return l.prototype.extractUniqueValues=function(t,e){var n=this,o=new Map,s=this.extractExistingFormattedKeys(e),d=new Set,v=this.treeData&&!!this.getDataPath,C=this.columnModel.getRowGroupColumns(),m=function(w,D){var b=n.caseFormat(w);if(!d.has(b)){d.add(b);var T=w,A=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(D),I=s?.get(b);null!=I&&(T=I,A=e.get(I)),o.set(T,A)}};return this.rowModel.forEachLeafNode(function(w){if(w.data&&t(w)){if(n.treeDataOrGrouping)return void n.addValueForTreeDataOrGrouping(w,v,C,m);var D=n.getValue(w);if(n.filterParams.convertValuesToStrings)return void n.addValueForConvertValuesToString(w,D,m);null!=D&&Array.isArray(D)?(D.forEach(function(b){m(n.createKey(b,w),b)}),0===D.length&&m(null,null)):m(n.createKey(D,w),D)}}),o},l.prototype.addValueForConvertValuesToString=function(t,e,n){var o=this.createKey(e,t);null!=o&&Array.isArray(o)?(o.forEach(function(s){var d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s));n(d,d)}),0===o.length&&n(null,null)):n(o,o)},l.prototype.addValueForTreeDataOrGrouping=function(t,e,n,o){var d,v,s=this;if(e){if(null!==(d=t.childrenAfterGroup)&&void 0!==d&&d.length)return;v=this.getDataPath(t.data)}else(v=n.map(function(C){return s.valueService.getKeyForNode(C,t)})).push(this.getValue(t));v&&(v=v.map(function(C){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(C))})),v?.some(function(C){return null==C})&&(v=null),o(this.createKey(v),v)},l.prototype.getValue=function(t){var e=this.filterParams;return this.filterParams.valueGetter({api:e.api,colDef:e.colDef,column:e.column,columnApi:e.columnApi,context:e.context,data:t.data,getValue:function(C){return t.data[C]},node:t})},l.prototype.extractExistingFormattedKeys=function(t){var e=this;if(!t)return null;var n=new Map;return t.forEach(function(o,s){n.set(e.caseFormat(s),s)}),n},l}(),SetFilterDisplayValue=function(){function l(){}return l.SELECT_ALL="__AG_SELECT_ALL__",l}(),__values$2=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FlatSetDisplayValueModel=function(){function l(t,e,n,o){this.valueFormatterService=t,this.valueFormatter=e,this.formatter=n,this.column=o,this.displayedKeys=[]}return l.prototype.updateDisplayedValuesToAllAvailable=function(t,e,n){this.displayedKeys=Array.from(n)},l.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,n,o,s){var d,v;this.displayedKeys=[];try{for(var C=__values$2(n),m=C.next();!m.done;m=C.next()){var w=m.value;if(null==w)s&&this.displayedKeys.push(w);else{var D=t(w),b=this.valueFormatterService.formatValue(this.column,null,D,this.valueFormatter,!1);o(this.formatter(b))&&this.displayedKeys.push(w)}}}catch(A){d={error:A}}finally{try{m&&!m.done&&(v=C.return)&&v.call(C)}finally{if(d)throw d.error}}},l.prototype.getDisplayedValueCount=function(){return this.displayedKeys.length},l.prototype.getDisplayedItem=function(t){return this.displayedKeys[t]},l.prototype.getSelectAllItem=function(){return SetFilterDisplayValue.SELECT_ALL},l.prototype.getDisplayedKeys=function(){return this.displayedKeys},l.prototype.forEachDisplayedKey=function(t){this.displayedKeys.forEach(t)},l.prototype.someDisplayedKey=function(t){return this.displayedKeys.some(t)},l.prototype.hasGroups=function(){return!1},l.prototype.refresh=function(){},l}(),__read$1=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},__spread=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(__read$1(arguments[t]));return l},__values$1=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TreeSetDisplayValueModel=function(){function l(t,e,n,o){this.formatter=t,this.treeListPathGetter=e,this.treeListFormatter=n,this.treeDataOrGrouping=o,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:SetFilterDisplayValue.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:SetFilterDisplayValue.SELECT_ALL,parentTreeKeys:[]}}return l.prototype.updateDisplayedValuesToAllAvailable=function(t,e,n,o){"reload"===o?this.generateItemTree(t,e,n):"otherFilter"===o?(this.updateAvailable(n),this.updateExpandAll()):"miniFilter"===o&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()},l.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,n,o,s,d){"reload"===d?this.generateItemTree(t,e,n):"otherFilter"===d&&this.updateAvailable(n),this.updateFilter(o,s),this.updateExpandAll(),this.flattenItems()},l.prototype.generateItemTree=function(t,e,n){var o,s,d;this.allDisplayedItemsTree=[],this.groupsExist=!1;var v=this.getTreeListPathGetter(t,n),C=function(T){var A=t(T),I=null!==(d=v(A))&&void 0!==d?d:[null];I.length>1&&(m.groupsExist=!0);var V,N=n.has(T),G=m.allDisplayedItemsTree,W=[];I.forEach(function(j,K){G||(V.children=G=[]),(V=G.find(function(Y){var re;return(null===(re=Y.treeKey)||void 0===re?void 0:re.toUpperCase())===j?.toUpperCase()}))||(V={treeKey:j,depth:K,filterPasses:!0,expanded:!1,available:N,parentTreeKeys:W},K===I.length-1&&(V.key=T),G.push(V)),G=V.children,W=__spread(W,[j])})},m=this;try{for(var w=__values$1(e),D=w.next();!D.done;D=w.next())C(D.value)}catch(T){o={error:T}}finally{try{D&&!D.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}this.updateAvailable(n),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1},l.prototype.getTreeListPathGetter=function(t,e){var n,o;if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return function(w){return w};var s=!1;try{for(var d=__values$1(e),v=d.next();!v.done;v=d.next()){var m=t(v.value);if(m instanceof Date){s=!0;break}if(null!=m)break}}catch(w){n={error:w}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return s?l.DATE_TREE_LIST_PATH_GETTER:(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.")},"getTreeListPathGetter"),function(w){return[String(w)]})},l.prototype.flattenItems=function(){var t=this;this.activeDisplayedItemsFlat=[];var e=function(n){n.forEach(function(o){!o.filterPasses||!o.available||(t.activeDisplayedItemsFlat.push(o),o.children&&o.expanded&&e(o.children))})};e(this.allDisplayedItemsTree)},l.prototype.resetFilter=function(){var t=function(e){e.children&&e.children.forEach(function(n){t(n)}),e.filterPasses=!0};this.allDisplayedItemsTree.forEach(function(e){return t(e)})},l.prototype.updateFilter=function(t,e){var n=this,o=function(s){return!!s.available&&(null==s.treeKey?e:t(n.formatter(n.treeListFormatter?n.treeListFormatter(s.treeKey,s.depth,s.parentTreeKeys):s.treeKey)))};this.allDisplayedItemsTree.forEach(function(s){return n.recursiveItemCheck(s,!1,o,"filterPasses")})},l.prototype.getDisplayedValueCount=function(){return this.activeDisplayedItemsFlat.length},l.prototype.getDisplayedItem=function(t){return this.activeDisplayedItemsFlat[t]},l.prototype.getSelectAllItem=function(){return this.selectAllItem},l.prototype.getDisplayedKeys=function(){return this.activeDisplayedItemsFlat.map(function(t){return t.treeKey})},l.prototype.forEachDisplayedKey=function(t){var e=function(n,o){n.children?(!n.expanded||!o)&&n.children.forEach(function(s){s.filterPasses&&e(s,!1)}):t(n.key)};this.activeDisplayedItemsFlat.forEach(function(n){return e(n,!0)})},l.prototype.someDisplayedKey=function(t){var e=function(n,o){return n.children?(!n.expanded||!o)&&n.children.some(function(s){return!!s.filterPasses&&e(s,!1)}):t(n.key)};return this.activeDisplayedItemsFlat.some(function(n){return e(n,!0)})},l.prototype.hasGroups=function(){return this.groupsExist},l.prototype.refresh=function(){this.updateExpandAll(),this.flattenItems()},l.prototype.updateExpandAll=function(){var t=function(n,o,s){var d,v;try{for(var C=__values$1(n),m=C.next();!m.done;m=C.next()){var w=m.value;if(w.filterPasses&&w.available&&w.children){if(s=s||!w.expanded,(o=o||!!w.expanded)&&s)return;var D=t(w.children,o,s);if(void 0===D)return;D?o=!0:s=!0}}}catch(b){d={error:b}}finally{try{m&&!m.done&&(v=C.return)&&v.call(C)}finally{if(d)throw d.error}}return o&&s?void 0:o},e=this.getSelectAllItem();e.expanded=t(e.children,!1,!1)},l.prototype.recursiveItemCheck=function(t,e,n,o){var s=this,d=!1;t.children&&t.children.forEach(function(C){var m=s.recursiveItemCheck(C,e||n(t),n,o);d=d||m});var v=e||d||n(t);return t[o]=v,v},l.prototype.updateAvailable=function(t){var e=this,n=function(o){return t.has(o.key)};this.allDisplayedItemsTree.forEach(function(o){return e.recursiveItemCheck(o,!1,n,"available")})},l.DATE_TREE_LIST_PATH_GETTER=function(t){return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},l}(),__read=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,d,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(v){d={error:v}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return s},SetFilterModelValuesType=(()=>(function(l){l[l.PROVIDED_LIST=0]="PROVIDED_LIST",l[l.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",l[l.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(SetFilterModelValuesType||(SetFilterModelValuesType={})),SetFilterModelValuesType))(),SetValueModel=function(){function l(t){var n,e=this;this.localEventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.miniFilterText=null,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;var o=t.usingComplexObjects,s=t.columnModel,d=t.valueService,v=t.treeDataTreeList,C=t.groupingTreeList,m=t.filterParams,w=t.gridOptionsService,D=t.valueFormatterService,b=t.valueFormatter,T=m.column,A=m.colDef,I=m.textFormatter,N=m.doesRowPassOtherFilter,G=m.suppressSorting,V=m.comparator,W=m.rowModel,j=m.values,K=m.caseSensitive,Y=m.convertValuesToStrings,re=m.treeList,q=m.treeListPathGetter,Z=m.treeListFormatter;this.filterParams=m,this.setIsLoading=t.setIsLoading,this.translate=t.translate,this.caseFormat=t.caseFormat,this.createKey=t.createKey,this.usingComplexObjects=!!t.usingComplexObjects,this.formatter=I||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.QVL.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=N,this.suppressSorting=G||!1,this.convertValuesToStrings=!!Y;var ee=V??A.comparator,ne=!!v||!!C;this.compareByValue=!!(o&&ee||ne||re&&!q),this.entryComparator=ne&&!ee?this.createTreeDataOrGroupingComparator():!re||q||ee?function(ae,pe){var _e=__read(ae,2)[1],Ee=__read(pe,2);return ee(_e,Ee[1])}:function(ae,pe){var _e=__read(ae,2)[1],Ee=__read(pe,2);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator(_e,Ee[1])},this.keyComparator=null!==(n=ee)&&void 0!==n?n:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator,this.caseSensitive=!!K;var se=w.get("getDataPath");"clientSide"===W.getType()&&(this.clientSideValuesExtractor=new ClientSideValuesExtractor(W,this.filterParams,this.createKey,this.caseFormat,s,d,ne,!!v,se)),null==j?this.valuesType=SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(j)?SetFilterModelValuesType.PROVIDED_LIST:SetFilterModelValuesType.PROVIDED_CALLBACK,this.providedValues=j),this.displayValueModel=re?new TreeSetDisplayValueModel(this.formatter,q,Z,v||C):new FlatSetDisplayValueModel(D,b,this.formatter,T),this.updateAllValues().then(function(ae){return e.resetSelectionState(ae||[])})}return l.prototype.addEventListener=function(t,e,n){this.localEventService.addEventListener(t,e,n)},l.prototype.removeEventListener=function(t,e,n){this.localEventService.removeEventListener(t,e,n)},l.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},l.prototype.overrideValues=function(t){var e=this;return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(n){e.allValuesPromise.then(function(){e.valuesType=SetFilterModelValuesType.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return n()})})})},l.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e??[],"otherFilter"),!0}):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(!1)},l.prototype.isInitialised=function(){return this.initialised},l.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(e){switch(t.valuesType){case SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:case SetFilterModelValuesType.PROVIDED_LIST:e(t.processAllKeys(t.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES,t.providedValues));break;case SetFilterModelValuesType.PROVIDED_CALLBACK:t.setIsLoading(!0);var n=t.providedValues,o=t.filterParams,w={success:function(D){t.setIsLoading(!1),e(t.processAllKeys(!1,D))},colDef:o.colDef,column:o.column,columnApi:o.columnApi,api:o.api,context:o.context};window.setTimeout(function(){return n(w)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e||[],"reload")}).then(function(){return t.initialised=!0}),this.allValuesPromise},l.prototype.processAllKeys=function(t,e){var n=t?this.getValuesFromRows(!1):this.uniqueValues(this.validateProvidedValues(e)),o=this.sortKeys(n);return this.allValues=n??new Map,o},l.prototype.validateProvidedValues=function(t){if(this.usingComplexObjects&&t?.length){var e=t[0];e&&"object"!=typeof e&&"function"!=typeof e&&(null==this.createKey(e)?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types")},"setFilterComplexObjectsProvidedNull"):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?")},"setFilterComplexObjectsProvidedPrimitive"))}return t},l.prototype.setValuesType=function(t){this.valuesType=t},l.prototype.getValuesType=function(){return this.valuesType},l.prototype.isKeyAvailable=function(t){return this.availableKeys.has(t)},l.prototype.showAvailableOnly=function(){return this.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},l.prototype.updateAvailableKeys=function(t,e){var n=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):t;this.availableKeys=new Set(n),this.localEventService.dispatchEvent({type:l.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(e,t)},l.prototype.sortKeys=function(t){var n,e=t??new Map;return this.suppressSorting?Array.from(e.keys()):(n=this.compareByValue?Array.from(e.entries()).sort(this.entryComparator).map(function(o){return __read(o,1)[0]}):Array.from(e.keys()).sort(this.keyComparator),this.filterParams.excelMode&&e.has(null)&&(n=n.filter(function(o){return null!=o})).push(null),n)},l.prototype.getValuesFromRows=function(t){var e=this;return void 0===t&&(t=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(o){return!t||e.doesRowPassOtherFilters(o)},t&&!this.caseSensitive?this.allValues:void 0):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),null)},l.prototype.setMiniFilter=function(t){return t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues("miniFilter"),!0)},l.prototype.getMiniFilter=function(){return this.miniFilterText},l.prototype.updateDisplayedValues=function(t,e){var n=this;if("expansion"!==t)if(null!=this.miniFilterText){var o=this.caseFormat(this.formatter(this.miniFilterText)||""),s=function(v){return null!=v&&n.caseFormat(v).indexOf(o)>=0},d=!!this.filterParams.excelMode&&s(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(function(v){return n.getValue(v)},e,this.availableKeys,s,d,t)}else this.displayValueModel.updateDisplayedValuesToAllAvailable(function(v){return n.getValue(v)},e,this.availableKeys,t);else this.displayValueModel.refresh()},l.prototype.getDisplayedValueCount=function(){return this.displayValueModel.getDisplayedValueCount()},l.prototype.getDisplayedItem=function(t){return this.displayValueModel.getDisplayedItem(t)},l.prototype.getSelectAllItem=function(){return this.displayValueModel.getSelectAllItem()},l.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size},l.prototype.getKeys=function(){return Array.from(this.allValues.keys())},l.prototype.getValues=function(){return Array.from(this.allValues.values())},l.prototype.getValue=function(t){return this.allValues.get(t)},l.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedKeys=new Set(this.allValues.keys()):(t&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(function(n){return e.selectedKeys.add(n)}))},l.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(function(e){return t.selectedKeys.delete(e)})},l.prototype.selectKey=function(t){this.selectedKeys.add(t)},l.prototype.deselectKey=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(t)},l.prototype.isKeySelected=function(t){return this.selectedKeys.has(t)},l.prototype.isEverythingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return!t.isKeySelected(e)})},l.prototype.isNothingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return t.isKeySelected(e)})},l.prototype.getModel=function(){return this.hasSelections()?Array.from(this.selectedKeys):null},l.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(n){if(null==t)e.resetSelectionState(n??[]);else{e.selectedKeys.clear();var o=new Map;e.allValues.forEach(function(s,d){o.set(e.caseFormat(d),d)}),t.forEach(function(s){var d=e.caseFormat(s),v=o.get(d);void 0!==v&&e.selectKey(v)})}})},l.prototype.uniqueValues=function(t){var e=this,n=new Map,o=new Set;return(t??[]).forEach(function(s){var d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s),v=e.convertAndGetKey(d),C=e.caseFormat(v);o.has(C)||(o.add(C),n.set(v,d))}),n},l.prototype.convertAndGetKey=function(t){return this.convertValuesToStrings?t:this.createKey(t)},l.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(t)},l.prototype.hasGroups=function(){return this.displayValueModel.hasGroups()},l.prototype.createTreeDataOrGroupingComparator=function(){return function(t,e){var o=__read(t,2)[1],d=__read(e,2)[1];if(null==o)return null==d?0:-1;if(null==d)return 1;for(var v=0;v<o.length;v++){if(v>=d.length)return 1;var C=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator(o[v],d[v]);if(0!==C)return C}return 0}},l.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",l}(),__extends$i=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$d=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SetFilterListItem=function(l){function t(e){var n,o=l.call(this,e.isGroup?t.GROUP_TEMPLATE:t.TEMPLATE)||this;return o.focusWrapper=e.focusWrapper,o.value=e.value,o.params=e.params,o.translate=e.translate,o.valueFormatter=e.valueFormatter,o.item=e.item,o.isSelected=e.isSelected,o.isTree=e.isTree,o.depth=null!==(n=e.depth)&&void 0!==n?n:0,o.isGroup=e.isGroup,o.groupsExist=e.groupsExist,o.isExpanded=e.isExpanded,o.hasIndeterminateExpandState=e.hasIndeterminateExpandState,o}return __extends$i(t,l),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setLabelEllipsis(!0),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(this.focusWrapper,this.depth+1)),!this.params.readOnly&&this.eCheckbox.onValueChange(function(n){return e.onCheckboxChanged(!!n)})},t.prototype.setupExpansion=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()},t.prototype.onExpandOrContractClicked=function(){this.setExpanded(!this.isExpanded)},t.prototype.setExpanded=function(e,n){this.isGroup&&e!==this.isExpanded&&(this.isExpanded=e,n||this.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED,isExpanded:!!e,item:this.item}),this.setExpandedIcons(),this.refreshAriaExpanded())},t.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,!!this.isExpanded)},t.prototype.setExpandedIcons=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?!1===this.isExpanded:!this.isExpanded),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,!0===this.isExpanded),this.hasIndeterminateExpandState&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupIndeterminateIcon,void 0===this.isExpanded)},t.prototype.onCheckboxChanged=function(e){this.isSelected=e,this.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:e,item:this.item}),this.refreshVariableAriaLabels()},t.prototype.toggleSelected=function(){this.params.readOnly||this.setSelected(!this.isSelected)},t.prototype.setSelected=function(e,n){this.isSelected=e,this.eCheckbox.setValue(this.isSelected,n)},t.prototype.refreshVariableAriaLabels=function(){if(this.isTree){var e=this.localeService.getLocaleTextFunc(),n=this.eCheckbox.getValue(),o=void 0===n?e("ariaIndeterminate","indeterminate"):n?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel(s+" ("+o+")")}},t.prototype.setupFixedAriaLabels=function(e){if(this.isTree){var o=this.localeService.getLocaleTextFunc()("ariaFilterValue","Filter Value");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,e+" "+o),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.eCheckbox.getInputElement().id)}},t.prototype.refresh=function(e,n,o){var s,d;if(this.item=e,n!==this.isSelected&&this.setSelected(n,!0),this.setExpanded(o,!0),this.valueFunction){var v=this.valueFunction();this.setTooltipAndCellRendererParams(v,v),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}null===(d=null===(s=this.cellRendererComponent)||void 0===s?void 0:s.refresh)||void 0===d||d.call(s,this.cellRendererParams)},t.prototype.render=function(){var e=this.params.column,n=this.value,o=null;"function"==typeof n?(this.valueFunction=n,n=o=this.valueFunction()):o=this.isTree?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(n):this.getFormattedValue(e,n),this.setTooltipAndCellRendererParams(n,o),this.renderCell()},t.prototype.setTooltipAndCellRendererParams=function(e,n){if(this.params.showTooltips){var o=n??ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(e);this.setTooltip(o)}this.cellRendererParams={value:e,valueFormatted:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,colDef:this.params.colDef,column:this.params.column}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e},t.prototype.getFormattedValue=function(e,n){return this.valueFormatterService.formatValue(e,null,n,this.valueFormatter,!1)},t.prototype.renderCell=function(){var e=this,n=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),o=n?n.newAgStackInstance():void 0;null!=o?o.then(function(s){s&&(e.cellRendererComponent=s,e.eCheckbox.setLabel(s.getGui()),e.addDestroyFunc(function(){return e.destroyBean(s)}))}):this.renderCellWithoutCellRenderer()},t.prototype.renderCellWithoutCellRenderer=function(){var e,n=null!==(e=null==this.cellRendererParams.valueFormatted?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)&&void 0!==e?e:this.translate("blanks");"string"!=typeof n&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types")},"setFilterComplexObjectsValueFormatter"),n=""),this.eCheckbox.setLabel(n),this.setupFixedAriaLabels(n)},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.GROUP_TEMPLATE='\n        <div class="ag-set-filter-item" aria-hidden="true">\n            <span class="ag-set-filter-group-icons">\n                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>\n            </span>\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCheckbox")],t.prototype,"eCheckbox",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupIndeterminateIcon")],t.prototype,"eGroupIndeterminateIcon",void 0),__decorate$d([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),DEFAULT_LOCALE_TEXT={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},SetFilterModelFormatter=function(){function l(){}return l.prototype.getModelAsString=function(t,e){var n=(t||e.getModel()||{}).values,o=e.getValueModel();if(null==n||null==o)return"";var s=n.filter(function(C){return o.isKeyAvailable(C)}),d=s.length;return"("+d+") "+s.slice(0,10).map(function(C){return e.getFormattedValue(C)}).join(",")+(d>10?",...":"")},l}(),__extends$h=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$c=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SetFilter=function(l){function t(){var e=l.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.convertValuesToStrings=!1,e.treeDataTreeList=!1,e.groupingTreeList=!1,e.hardRefreshVirtualList=!1,e.appliedModelKeys=null,e.noAppliedModelKeys=!1,e.filterModelFormatter=new SetFilterModelFormatter,e}return __extends$h(t,l),t.prototype.postConstruct=function(){l.prototype.postConstruct.call(this),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(e){if(l.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:this.handleKeySpace(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.handleKeyEnter(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:this.handleKeyLeft(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:this.handleKeyRight(e)}},t.prototype.handleKeySpace=function(e){var n;null===(n=this.getComponentForKeyEvent(e))||void 0===n||n.toggleSelected()},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var n=this.setFilterParams||{};!n.excelMode||n.readOnly||(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},t.prototype.handleKeyLeft=function(e){var n;null===(n=this.getComponentForKeyEvent(e))||void 0===n||n.setExpanded(!1)},t.prototype.handleKeyRight=function(e){var n;null===(n=this.getComponentForKeyEvent(e))||void 0===n||n.setExpanded(!0)},t.prototype.getComponentForKeyEvent=function(e){var n,o=this.gridOptionsService.getDocument();if(this.eSetFilterList.contains(o.activeElement)&&this.virtualList){var s=this.virtualList.getLastFocusedRow();if(null!=s){var d=this.virtualList.getComponentAt(s);if(null!=d&&(e.preventDefault(),!(null!==(n=this.setFilterParams)&&void 0!==n?n:{}).readOnly))return d}}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModel=function(e){var n;return null==e&&null==(null===(n=this.valueModel)||void 0===n?void 0:n.getModel())?(this.setMiniFilter(null),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()):l.prototype.setModel.call(this,e)},t.prototype.setModelAndRefresh=function(e){var n=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return n.refresh()}):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,n){return null==e&&null==n||null!=e&&null!=n&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(e.values,n.values)},t.prototype.setParams=function(e){var o,n=this;this.applyExcelModeOptions(e),l.prototype.setParams.call(this,e),this.setFilterParams=e,this.convertValuesToStrings=!!e.convertValuesToStrings,this.caseSensitive=!!e.caseSensitive;var s=null!==(o=e.keyCreator)&&void 0!==o?o:e.colDef.keyCreator;this.setValueFormatter(e.valueFormatter,s,this.convertValuesToStrings,!!e.treeList,!!e.colDef.refData);var d=e.column.getId().startsWith(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy);this.treeDataTreeList=this.gridOptionsService.is("treeData")&&!!e.treeList&&d,this.getDataPath=this.gridOptionsService.get("getDataPath"),this.groupingTreeList=!!this.columnModel.getRowGroupColumns().length&&!!e.treeList&&d,this.createKey=this.generateCreateKey(s,this.convertValuesToStrings,this.treeDataTreeList||this.groupingTreeList),this.valueModel=new SetValueModel({filterParams:e,setIsLoading:function(v){return n.setIsLoading(v)},valueFormatterService:this.valueFormatterService,translate:function(v){return n.translateForSetFilter(v)},caseFormat:function(v){return n.caseFormat(v)},createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!s,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},t.prototype.setValueFormatter=function(e,n,o,s,d){var v=e;if(!v){if(n&&!o&&!s)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");d||(v=function(C){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(C.value)})}this.valueFormatter=v},t.prototype.generateCreateKey=function(e,n,o){var s=this;if(o&&!e)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return e?function(d,v){void 0===v&&(v=null);var C=s.getKeyCreatorParams(d,v);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(e(C))}:n?function(d){return Array.isArray(d)?d:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(d))}:function(d){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(d))}},t.prototype.getFormattedValue=function(e){var n,o=this.valueModel.getValue(e);return(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(o)&&(o=o[o.length-1]),null!==(n=this.valueFormatterService.formatValue(this.setFilterParams.column,null,o,this.valueFormatter,!1)??ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(o))&&void 0!==n?n:this.translateForSetFilter("blanks")},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.isValuesTakenFromGrid()&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,function(n){e.setFilterParams&&n.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then(function(){e.refresh(),e.onBtApply(!1,!0)})},t.prototype.setIsLoading=function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var o=this.localeService.getLocaleTextFunc()("ariaFilterList","Filter List"),s=!!this.setFilterParams.treeList,d=this.virtualList=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("filter",s?"tree":"listbox",o)),v=this.getRefElement("eSetFilterList");s&&v.classList.add("ag-set-filter-tree-list"),v&&v.appendChild(d.getGui());var D,C=this.setFilterParams.cellHeight;null!=C&&d.setRowHeight(C),d.setComponentCreator(function(b,T){return e.createSetListItem(b,s,T)}),d.setComponentUpdater(function(b,T){return e.updateSetListItem(b,T)}),D=this.setFilterParams.suppressSelectAll?new ModelWrapper(this.valueModel):new ModelWrapperWithSelectAll(this.valueModel,function(){return e.isSelectAllSelected()}),s&&(D=new TreeModelWrapper(D)),d.setModel(D)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e,n,o){var d,v,C,m,w,D,s=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var T,A,I,N,G,V,b=this.valueModel.hasGroups();this.isSetFilterModelTreeItem(e)?(A=e.depth,e.key===SetFilterDisplayValue.SELECT_ALL?(T=function(){return s.getSelectAllLabel()},I=b,N=!0,G=function(q){return s.onSelectAll(q.isSelected)},V=function(q){return s.onExpandAll(q.item,q.isExpanded)}):e.children?(T=null!==(C=null===(v=(d=this.setFilterParams).treeListFormatter)||void 0===v?void 0:v.call(d,e.treeKey,e.depth,e.parentTreeKeys))&&void 0!==C?C:e.treeKey,I=!0,G=function(q){return s.onGroupItemSelected(q.item,q.isSelected)},V=function(q){return s.onExpandedChanged(q.item,q.isExpanded)}):(T=null!==(D=null===(w=(m=this.setFilterParams).treeListFormatter)||void 0===w?void 0:w.call(m,e.treeKey,e.depth,e.parentTreeKeys))&&void 0!==D?D:e.treeKey,G=function(q){return s.onItemSelected(q.item.key,q.isSelected)})):e===SetFilterDisplayValue.SELECT_ALL?(T=function(){return s.getSelectAllLabel()},G=function(q){return s.onSelectAll(q.isSelected)}):(T=this.valueModel.getValue(e),G=function(q){return s.onItemSelected(q.item,q.isSelected)});var W=this.isSelectedExpanded(e),re=this.createBean(new SetFilterListItem({focusWrapper:o,value:T,params:this.setFilterParams,translate:function(q){return s.translateForSetFilter(q)},valueFormatter:this.valueFormatter,item:e,isSelected:W.isSelected,isTree:n,depth:A,groupsExist:b,isGroup:I,isExpanded:W.isExpanded,hasIndeterminateExpandState:N}));return re.addEventListener(SetFilterListItem.EVENT_SELECTION_CHANGED,G),V&&re.addEventListener(SetFilterListItem.EVENT_EXPANDED_CHANGED,V),re},t.prototype.updateSetListItem=function(e,n){var o=this.isSelectedExpanded(e);n.refresh(e,o.isSelected,o.isExpanded)},t.prototype.isSelectedExpanded=function(e){var n,o;return this.isSetFilterModelTreeItem(e)?(o=e.expanded,n=e.key===SetFilterDisplayValue.SELECT_ALL?this.isSelectAllSelected():e.children?this.areAllChildrenSelected(e):this.valueModel.isKeySelected(e.key)):n=e===SetFilterDisplayValue.SELECT_ALL?this.isSelectAllSelected():this.valueModel.isKeySelected(e),{isSelected:n,isExpanded:o}},t.prototype.isSetFilterModelTreeItem=function(e){return void 0!==e?.treeKey},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var o=this.eMiniFilter,d=this.localeService.getLocaleTextFunc();o.setDisplayed(!this.setFilterParams.suppressMiniFilter),o.setValue(this.valueModel.getMiniFilter()),o.onValueChange(function(){return e.onMiniFilterInput()}),o.setInputAriaLabel(d("ariaSearchFilterValues","Search filter values")),this.addManagedListener(o.getInputElement(),"keypress",function(v){return e.onMiniFilterKeyPress(v)})},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");l.prototype.afterGuiAttached.call(this,e),this.resetExpansion(),this.refreshVirtualList();var n=this.eMiniFilter;n.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&n.getFocusableElement().focus();var s,o=!(!e||"floatingFilter"!==e.container);s=this.gridOptionsService.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},o?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(s)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},t.prototype.afterGuiDetached=function(){var e;null!==(e=this.setFilterParams)&&void 0!==e&&e.excelMode&&(this.resetUiToActiveModel(),this.showOrHideResults())},t.prototype.applyModel=function(e){var n=this;if(void 0===e&&(e="api"),!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&"rowDataUpdated"!==e&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var o=l.prototype.applyModel.call(this,e),s=this.getModel();return s?(this.appliedModelKeys=new Set,s.values.forEach(function(d){n.appliedModelKeys.add(n.caseFormat(d))})):this.appliedModelKeys=null,this.noAppliedModelKeys=0===s?.values.length,o},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var n=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelKeys)return!0;if(this.noAppliedModelKeys)return!1;var o=e.node,s=e.data;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(o,s);if(this.groupingTreeList)return this.doesFilterPassForGrouping(o,s);var d=this.getValueFromNode(o,s);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(o,d):null!=d&&Array.isArray(d)?0===d.length?this.appliedModelKeys.has(null):d.some(function(v){return n.isInAppliedModel(n.createKey(v,o))}):this.isInAppliedModel(this.createKey(d,o))},t.prototype.doesFilterPassForConvertValuesToString=function(e,n){var o=this,s=this.createKey(n,e);return null!=s&&Array.isArray(s)?0===s.length?this.appliedModelKeys.has(null):s.some(function(d){return o.isInAppliedModel(d)}):this.isInAppliedModel(s)},t.prototype.doesFilterPassForTreeData=function(e,n){var o;return(null===(o=e.childrenAfterGroup)||void 0===o||!o.length)&&this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(n))))},t.prototype.doesFilterPassForGrouping=function(e,n){var o=this,s=this.columnModel.getRowGroupColumns().map(function(d){return o.valueService.getKeyForNode(d,e)});return s.push(this.getValueFromNode(e,n)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(s)))},t.prototype.checkMakeNullDataPath=function(e){return e&&(e=e.map(function(n){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(n))})),e?.some(function(n){return null==n})?null:e},t.prototype.isInAppliedModel=function(e){return this.appliedModelKeys.has(this.caseFormat(e))},t.prototype.getValueFromNode=function(e,n){var o=this.setFilterParams;return(0,o.valueGetter)({api:o.api,colDef:o.colDef,column:o.column,columnApi:o.columnApi,context:o.context,data:n,getValue:function(D){return n[D]},node:e})},t.prototype.getKeyCreatorParams=function(e,n){return void 0===n&&(n=null),{value:e,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:n,data:n?.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}},t.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},t.prototype.isValuesTakenFromGrid=function(){return!!this.valueModel&&this.valueModel.getValuesType()===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},t.prototype.setFilterValues=function(e){var n=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){n.refresh(),n.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(n){n&&(e.refresh(),e.showOrHideResults())})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNoMatches,e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},t.prototype.onMiniFilterKeyPress=function(e){var n=this.setFilterParams||{};e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&!n.excelMode&&!n.readOnly&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var n=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(n)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var n=this;null!=e&&window.setTimeout(function(){if(!n.virtualList)throw new Error("Virtual list has not been created.");n.isAlive()&&n.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()},t.prototype.onGroupItemSelected=function(e,n){var o=this,s=function(d){d.children?d.children.forEach(function(v){return s(v)}):o.selectItem(d.key,n)};s(e),this.refreshAfterSelection()},t.prototype.onItemSelected=function(e,n){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(e,n),this.refreshAfterSelection()},t.prototype.selectItem=function(e,n){n?this.valueModel.selectKey(e):this.valueModel.deselectKey(e)},t.prototype.onExpandAll=function(e,n){var o=function(s){s.filterPasses&&s.available&&s.children&&(s.children.forEach(function(d){return o(d)}),s.expanded=n)};o(e),this.refreshAfterExpansion()},t.prototype.onExpandedChanged=function(e,n){e.expanded=n,this.refreshAfterExpansion()},t.prototype.refreshAfterExpansion=function(){var e=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.refresh(),this.focusRowIfAlive(e)},t.prototype.refreshAfterSelection=function(){var e=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(e)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)},t.prototype.getFilterKeys=function(){return this.valueModel?this.valueModel.getKeys():[]},t.prototype.getFilterValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.getValues=function(){return this.getFilterKeys()},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.localeService.getLocaleTextFunc()(e,DEFAULT_LOCALE_TEXT[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.areAllChildrenSelected=function(e){var n=this,o=function(s){if(s.children){var d=!1,v=!1;return s.children.some(function(m){if(!m.filterPasses||!m.available)return!1;var w=o(m);return void 0===w||(w?d=!0:v=!0,d&&v)})?void 0:d}return n.valueModel.isKeySelected(s.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&o(e):o(e)},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),l.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},t.prototype.resetExpansion=function(){var e,n;if(null!==(e=this.setFilterParams)&&void 0!==e&&e.treeList){var o=null===(n=this.valueModel)||void 0===n?void 0:n.getSelectAllItem();if(this.isSetFilterModelTreeItem(o)){var s=function(d){d.children&&(d.children.forEach(function(v){return s(v)}),d.expanded=!1)};s(o),this.valueModel.updateDisplayedValues("expansion")}}},t.prototype.getModelAsString=function(e){return this.filterModelFormatter.getModelAsString(e,this)},__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniFilter")],t.prototype,"eMiniFilter",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterLoading")],t.prototype,"eFilterLoading",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSetFilterList")],t.prototype,"eSetFilterList",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU),ModelWrapper=function(){function l(t){this.model=t}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},l.prototype.getRow=function(t){return this.model.getDisplayedItem(t)},l.prototype.isRowSelected=function(t){return this.model.isKeySelected(this.getRow(t))},l.prototype.areRowsEqual=function(t,e){return t===e},l}(),ModelWrapperWithSelectAll=function(){function l(t,e){this.model=t,this.isSelectAllSelected=e}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},l.prototype.getRow=function(t){return 0===t?this.model.getSelectAllItem():this.model.getDisplayedItem(t-1)},l.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isKeySelected(this.getRow(t))},l.prototype.areRowsEqual=function(t,e){return t===e},l}(),TreeModelWrapper=function(){function l(t){this.model=t}return l.prototype.getRowCount=function(){return this.model.getRowCount()},l.prototype.getRow=function(t){return this.model.getRow(t)},l.prototype.areRowsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.treeKey===e.treeKey&&t.depth===e.depth},l}(),__extends$g=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$b=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SetFloatingFilterComp=function(l){function t(){var e=l.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e.filterModelFormatter=new SetFilterModelFormatter,e}return __extends$g(t,l),t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),o=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(n+" "+o("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(n){if(!(n instanceof SetFilter))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");e(n)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(n){var o=n.getValueModel();o&&e.addManagedListener(o,SetValueModel.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var n=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(o){n.eFloatingFilterText.setValue(n.filterModelFormatter.getModelAsString(e,o))})},__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$3="29.1.0",SetFilterModule={version:VERSION$3,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:SetFilter},{componentName:"agSetColumnFloatingFilter",componentClass:SetFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$f=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$a=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},StatusBarService=function(l){function t(){var e=l.call(this)||this;return e.allComponents={},e}return __extends$f(t,l),t.prototype.registerStatusPanel=function(e,n){this.allComponents[e]=n},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("statusBarService")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$e=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$9=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},StatusBar=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$e(t,l),t.prototype.postConstruct=function(){var e,n=null===(e=this.gridOptionsService.get("statusBar"))||void 0===e?void 0:e.statusPanels;if(n){var o=n.filter(function(v){return"left"===v.align});this.createAndRenderComponents(o,this.eStatusBarLeft);var s=n.filter(function(v){return"center"===v.align});this.createAndRenderComponents(s,this.eStatusBarCenter);var d=n.filter(function(v){return!v.align||"right"===v.align});this.createAndRenderComponents(d,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,n){var o=this,s=[];e.forEach(function(d){var m=o.userComponentFactory.getStatusPanelCompDetails(d,{}).newAgStackInstance();m&&s.push({key:d.key||d.statusPanel,promise:m})}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(s.map(function(d){return d.promise})).then(function(){s.forEach(function(d){d.promise.then(function(v){var C=function(){o.getContext().destroyBean(v)};o.isAlive()?(o.statusBarService.registerStatusPanel(d.key,v),n.appendChild(v.getGui()),o.addDestroyFunc(C)):C()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("statusBarService")],t.prototype,"statusBarService",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),__decorate$9([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$d=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$8=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},NameValueComp=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$d(t,l),t.prototype.setLabel=function(e,n){this.setDisplayed(!1);var o=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=o(e,n)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],t.prototype,"eLabel",void 0),__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],t.prototype,"eValue",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$c=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$7=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TotalAndFilteredRowsComp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$c(t,l),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),n=e("thousandSeparator",","),o=e("decimalSeparator","."),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getFilteredRowCountValue(),n,o),d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getTotalRowCount(),n,o);if(s===d)this.setValue(s);else{var v=this.localeService.getLocaleTextFunc();this.setValue(s+" "+v("of","of")+" "+d)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(n){n.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(n){n.group||e++}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$7([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$7([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(NameValueComp),__extends$b=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$6=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},FilteredRowsComp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$b(t,l),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,e),e()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),n=this.getFilteredRowCountValue(),o=this.localeService.getLocaleTextFunc(),s=o("thousandSeparator",","),d=o("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(n,s,d)),this.setDisplayed(e!==n)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(n){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(n){n.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$6([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$6([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(NameValueComp),__extends$a=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$5=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},TotalRowsComp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$a(t,l),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),n=e("thousandSeparator",","),o=e("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getRowCountValue(),n,o))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(n){return e+=1}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$5([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$5([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(NameValueComp),__extends$9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$4=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SelectedRowsComp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$9(t,l),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length,n=this.localeService.getLocaleTextFunc(),o=n("thousandSeparator",","),s=n("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(e,o,s)),this.setDisplayed(e>0);var d=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,d),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,d)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length,n=this.localeService.getLocaleTextFunc(),o=n("thousandSeparator",","),s=n("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(e,o,s)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$4([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(NameValueComp),__extends$8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$3=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},AggregationComp=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$8(t,l),t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,n,o){var s=this.getAggregationValueComponent(e);if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)&&s){var d=this.localeService.getLocaleTextFunc(),v=d("thousandSeparator",","),C=d("decimalSeparator",".");s.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberTwoDecimalPlacesAndCommas(n,v,C)),s.setDisplayed(o)}},t.prototype.getAggregationValueComponent=function(e){var n=e+"AggregationComp",o=null,s=this.gridOptionsService.get("statusBar"),d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)&&s?s.statusPanels.find(function(v){return"agAggregationComponent"===v.statusPanel}):null;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d)&&d?(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.statusPanelParams)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.statusPanelParams)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.statusPanelParams.aggFuncs)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.statusPanelParams.aggFuncs.find(function(v){return v===e})))&&(o=this[n]):o=this[n],o},t.prototype.onRangeSelectionChanged=function(){var e=this,n=this.rangeService?this.rangeService.getCellRanges():void 0,o=0,s=0,d=0,v=null,C=null,m={};n&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(n)&&n.forEach(function(b){for(var T=e.rangeService.getRangeStartRow(b),A=e.rangeService.getRangeEndRow(b);!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(T)&&T&&!e.rowPositionUtils.before(A,T)&&T&&b.columns;)b.columns.forEach(function(N){if(null!==T){var G=e.cellPositionUtils.createId({rowPinned:T.rowPinned,column:N,rowIndex:T.rowIndex});if(!m[G]){m[G]=!0;var V=e.rowRenderer.getRowNode(T);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(V)){var W=e.valueService.getValue(N,V);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(W)||""===W||("object"==typeof W&&"value"in W&&(W=W.value),"string"==typeof W&&(W=Number(W)),"number"==typeof W&&!isNaN(W)&&(o+=W,(null===C||W>C)&&(C=W),(null===v||W<v)&&(v=W),d++),s++)}}}}),T=e.cellNavigationService.getRowBelow(T)});var D=d>1;this.setAggregationComponentValue("count",s,s>1),this.setAggregationComponentValue("sum",o,D),this.setAggregationComponentValue("min",v,D),this.setAggregationComponentValue("max",C,D),this.setAggregationComponentValue("avg",o/d,D)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],t.prototype,"rangeService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],t.prototype,"valueService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],t.prototype,"gridApi",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("countAggregationComp")],t.prototype,"countAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("minAggregationComp")],t.prototype,"minAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),__decorate$3([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$2="29.1.0",StatusBarModule={version:VERSION$2,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.StatusBarModule,beans:[StatusBarService],agStackComponents:[{componentName:"AgStatusBar",componentClass:StatusBar},{componentName:"AgNameValue",componentClass:NameValueComp}],userComponents:[{componentName:"agAggregationComponent",componentClass:AggregationComp},{componentName:"agSelectedRowCountComponent",componentClass:SelectedRowsComp},{componentName:"agTotalRowCountComponent",componentClass:TotalRowsComp},{componentName:"agFilteredRowCountComponent",componentClass:FilteredRowsComp},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:TotalAndFilteredRowsComp}],dependantModules:[EnterpriseCoreModule]},VERSION$1="29.1.0",__extends$7=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate$2=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE=5,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE=5,ViewportRowModel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return __extends$7(t,l),t.prototype.ensureRowHeightsValid=function(e,n,o,s){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsService.get("viewportDatasource")&&this.setViewportDatasource(this.gridOptionsService.get("viewportDatasource"))},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.getViewportRowModelPageSize=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.oneOrGreater(this.gridOptionsService.getNum("viewportRowModelPageSize"),DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE)},t.prototype.getViewportRowModelBufferSize=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.zeroOrGreater(this.gridOptionsService.getNum("viewportRowModelBufferSize"),DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE)},t.prototype.calculateFirstRow=function(e){var n=this.getViewportRowModelBufferSize(),o=this.getViewportRowModelPageSize(),s=e-n;return s<0?0:Math.floor(s/o)*o},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var n=this.getViewportRowModelBufferSize(),o=this.getViewportRowModelPageSize(),d=Math.ceil((e+n)/o)*o;return Math.min(d,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var n=this.calculateFirstRow(e.firstRow),o=this.calculateLastRow(e.lastRow);(this.firstRow!==n||this.lastRow!==o)&&(this.firstRow=n,this.lastRow=o,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(n){var o=parseInt(n,10);if(o<e.firstRow||o>e.lastRow){if(e.isRowFocused(o))return;delete e.rowNodesByIndex[o]}})},t.prototype.isRowFocused=function(e){var n=this.focusService.getFocusCellToUseAfterRefresh();return!(!n||null!=n.rowPinned)&&n.rowIndex===e},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=-1,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return"viewport"},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(o){o.id===e&&(n=o)}),n},t.prototype.getRowCount=function(){return-1===this.rowCount?0:this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,n){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)?0:e.rowIndex,s=n.rowIndex;if(o<this.firstRow||o>this.lastRow||s<this.firstRow||s>this.lastRow)return[];for(var C=[],w=o<=s?s:o,D=o<=s?o:s;D<=w;D++)C.push(this.rowNodesByIndex[D]);return C},t.prototype.forEachNode=function(e){var n=this,o=0;Object.keys(this.rowNodesByIndex).forEach(function(s){var d=parseInt(s,10);e(n.rowNodesByIndex[d],o),o++})},t.prototype.setRowData=function(e){var n=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,function(o,s){var d=parseInt(o,10);if(d>=n.firstRow&&d<=n.lastRow){var v=n.rowNodesByIndex[d];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(v)&&(v=n.createBlankRowNode(d),n.rowNodesByIndex[d]=v),v.setDataAndId(s,d.toString())}})},t.prototype.createBlankRowNode=function(e){var n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return n.setRowHeight(this.rowHeight),n.setRowTop(this.rowHeight*e),n.setRowIndex(e),n},t.prototype.setRowCount=function(e,n){void 0===n&&(n=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:n,animate:!1}))},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],t.prototype,"focusService",void 0),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],t.prototype,"beans",void 0),__decorate$2([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"init",null),__decorate$2([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyDatasource",null),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ViewportRowModelModule={version:VERSION$1,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ViewportRowModelModule,rowModels:{viewport:ViewportRowModel},dependantModules:[EnterpriseCoreModule]},defaultTooltipCss="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",__values=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},extent$3=extent$4,isNumber$3=isNumber$4,isString=isString$1,isStringObject=isStringObject$1,isDate=isDate$1,createId=createId$1,Padding=Padding$1,LinearScale=LinearScale$1,BandScale$4=BandScale$5,TimeScale=TimeScale$1,SparklineAxis=function l(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1},Sparkline=function(){function l(){this.id=createId(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new Padding(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new LinearScale,this.axis=new SparklineAxis,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var t=new Group;this.rootGroup=t;var e=document.createElement("div");e.setAttribute("class","ag-sparkline-wrapper");var n=new Scene({document});if(this.scene=n,this.canvasElement=n.canvas.element,n.root=t,n.container=e,n.resize(this.width,this.height),this.seriesRect.width=this.width,this.seriesRect.height=this.height,-1===l.tooltipDocuments.indexOf(document)){var o=document.createElement("style");o.innerHTML=defaultTooltipCss,document.head.insertBefore(o,document.head.querySelector("style")),l.tooltipDocuments.push(document)}this.setupDomEventListeners(this.scene.canvas.element)}return Object.defineProperty(l.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.canvasElement.parentNode?.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData())},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),l.prototype.update=function(){},l.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},l.prototype.updateYScaleDomain=function(){},l.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},l.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},l.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},l.prototype.updateXScaleDomain=function(){var o,e=this.xData,n=this.xScale;(n instanceof LinearScale||n instanceof TimeScale)&&(o=extent$3(e)),this.xScale.domain=o?o.slice():e},l.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new LinearScale;case"time":return new TimeScale;default:return new BandScale$4}},l.prototype.updateAxisLine=function(){},l.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},l.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},l.prototype.generateNodeData=function(){return[]},l.prototype.getNodeData=function(){return[]},l.prototype.updateNodes=function(){},l.prototype.updateXCrosshairLine=function(){},l.prototype.updateYCrosshairLine=function(){},l.prototype.highlightDatum=function(t){this.updateNodes()},l.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},l.prototype.onMouseMove=function(t){var e=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(e){var n=this.highlightedDatum;this.highlightedDatum=e,(this.highlightedDatum&&!n||this.highlightedDatum&&n&&this.highlightedDatum!==n)&&(this.highlightDatum(e),this.updateCrosshairs(),this.scene.render()),this.tooltip.enabled&&this.handleTooltip(t,e)}},l.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render()},l.prototype.processData=function(){var t=this,e=this,n=e.data,o=e.yData,s=e.xData;if(n&&!this.invalidData(this.data)){o.length=0,s.length=0;var d=n.length,v=this.getDataType(n);this.dataType=v;var b,C=this.axis.type,m="number"!==C&&"time"!==C?"category":C,w="number"===m||"time"===m,D=function(Y,re){null==t.smallestInterval&&(t.smallestInterval={x:1/0,y:1/0});var q=t.smallestInterval.x,Z=Math.abs(Y-re);Z>0&&Z<q&&(t.smallestInterval.x=Z)};if("number"===v)for(var T=0;T<d;T++){var I=n[T],N=this.getDatum(T,m),G=this.getDatum(I,"number");w&&D(N,b),s.push(N),o.push(G),b=N}else if("array"===v)for(T=0;T<d;T++){var V=n[T];if(Array.isArray(V)){if(I=V[1],N=this.getDatum(V[0],m),G=this.getDatum(I,"number"),null==N)continue;w&&D(N,b),s.push(N),o.push(G),b=N}}else if("object"===v){var j=this.yKey,K=this.xKey;for(T=0;T<d;T++)if("object"==typeof(V=n[T])&&!Array.isArray(V)){if(I=V[j],N=this.getDatum(V[K],m),G=this.getDatum(I,"number"),null==N)continue;w&&D(N,b),s.push(N),o.push(G),b=N}}this.updateAxes(),this.update(),this.scene.render()}},l.prototype.getDataType=function(t){var e,n;try{for(var o=__values(t),s=o.next();!s.done;s=o.next()){var d=s.value;if(null!=d){if(isNumber$3(d))return"number";if(Array.isArray(d))return"array";if("object"==typeof d)return"object"}}}catch(v){e={error:v}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},l.prototype.getDatum=function(t,e){if("number"===e&&isNumber$3(t)||"time"===e&&(isNumber$3(t)||isDate(t)))return t;if("category"===e){if(isString(t)||isDate(t)||isNumber$3(t))return{toString:function(){return String(t)}};if(isStringObject(t))return t}},Object.defineProperty(l.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),l.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){t.setSparklineDimensions(),!t.invalidData(t.data)&&(t.updateXScaleRange(),t.updateYScaleRange(),t.updateAxisLine(),t.update(),t.scene.render(),t.layoutId=0)})},l.prototype.setSparklineDimensions=function(){var t=this,o=t.padding,s=t.seriesRect,d=t.rootGroup,C=t.height-o.top-o.bottom;s.width=t.width-o.left-o.right,s.height=C,s.x=o.left,s.y=o.top,d.translationX=s.x,d.translationY=s.y},l.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var o,n=1/0,s=this.rootGroup.transformPoint(t,e),d=this.getNodeData(),v=0;v<d.length;v++){var C=d[v];if(!C.point)return;var m=this.getDistance(s,C.point);m<=n&&(n=m,o=C)}return o},l.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},l.prototype.handleTooltip=function(t,e){var n=e.seriesDatum,s=t.clientX,d=t.clientY;null==this.tooltip.container&&(this.tooltip.container=this.canvasElement);var v={pageX:s,pageY:d},w=this.tooltip.enabled;if(this.tooltip.renderer){var D=this.tooltip.renderer({context:this.context,datum:n,yValue:n.y,xValue:n.x});w="string"!=typeof D&&void 0!==D.enabled?D.enabled:w}var b=w&&void 0!==n.y&&this.getTooltipHtml(e);b&&this.tooltip.show(v,b)},l.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},l.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||isNumber$3(t))?this.defaultDateFormatter.format(t):String(t)},l.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},l.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},l.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},l.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},l.tooltipDocuments=[],l}();function toTooltipHtml(l,t){if("string"==typeof l)return l;t=t||{};var b,T,e=l.content,n=void 0===e?t.content||"":e,o=l.title,s=void 0===o?t.title||void 0:o,d=l.color,v=void 0===d?t.color:d,C=l.backgroundColor,m=void 0===C?t.backgroundColor:C,w=l.opacity;v?(b=s?'<span class="'+SparklineTooltip.class+'-title"; style="color: '+v+'">'+s+"</span>":"",T='<span class="'+SparklineTooltip.class+'-content" style="color: '+v+'">'+n+"</span>"):(b=s?'<span class="'+SparklineTooltip.class+'-title">'+s+"</span>":"",T='<span class="'+SparklineTooltip.class+'-content">'+n+"</span>");var A="opacity: "+(void 0===w?t.opacity||1:w);return m&&(A+="; background-color: "+m.toLowerCase()),'<div class="'+SparklineTooltip.class+'" style="'+A+'">\n                '+b+"\n                "+T+"\n            </div>"}var SparklineTooltip=function(){function l(){this.element=document.createElement("div"),this.enabled=!0,this.container=void 0,this.xOffset=10,this.yOffset=0,this.renderer=void 0,document.body.appendChild(this.element)}return l.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains(l.class+"-wrapper-hidden");var e=t.getAttribute("class");return!!e&&e.split(" ").indexOf(l.class+"-wrapper-hidden")<0},l.prototype.updateClass=function(t){var e=[l.class+"-wrapper"];!0!==t&&e.push(l.class+"-wrapper-hidden"),this.element.setAttribute("class",e.join(" "))},l.prototype.show=function(t,e){this.toggle(!1);var n=this.element;if(void 0!==e)n.innerHTML=e;else if(!n.innerHTML)return;var o=t.pageX+this.xOffset,s=t.pageY+this.yOffset,d=n.getBoundingClientRect(),v=window.innerWidth-d.width;if(this.container){var C=this.container.getBoundingClientRect();v=C.left+(C.width-d.width)}o>v&&(o=t.pageX-n.clientWidth-this.xOffset),typeof scrollX<"u"&&(o+=scrollX),typeof scrollY<"u"&&(s+=scrollY),n.style.left=Math.round(o)+"px",n.style.top=Math.round(s)+"px",this.toggle(!0)},l.prototype.toggle=function(t){this.updateClass(t)},l.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},l.class="ag-sparkline-tooltip",l}();function getMarker(l){switch(l){case"circle":default:return Circle;case"square":return Square;case"diamond":return Diamond}}function getLineDash(l,t){void 0===t&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},n={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===l||"square"===l?null==n[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),n.solid):n[t]:null==e[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),e.solid):e[t]}var __extends$6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),extent$2=extent$4,BandScale$3=BandScale$5,SparklineMarker$1=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine$1=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs$1=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},AreaSparkline=function(l){function t(){var e=l.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Path,e.fillPath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.areaSparklineGroup=new Group,e.xAxisLine=new Line,e.markers=new Group,e.markerSelection=Selection.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new SparklineMarker$1,e.line=new SparklineLine$1,e.crosshairs=new SparklineCrosshairs$1,e.rootGroup.append(e.areaSparklineGroup),e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$6(t,l),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.update=function(){var e=this.generateNodeData();if(e){var n=e.nodeData,o=e.fillData,s=e.strokeData;this.markerSelectionData=n,this.updateSelection(n),this.updateNodes(),this.updateStroke(s),this.updateFill(o)}},t.prototype.updateYScaleDomain=function(){var o=this.yScale,s=extent$2(this.yData),d=0,v=1;void 0!==s&&(d=this.min=s[0],v=this.max=s[1]),o.domain=[d=d<0?d:0,v=v<0?0:v]},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,d=e.xScale,v=e.yScale;if(e.data){for(var A,I,N,G,C=!(d instanceof BandScale$3),m=C?0:d.bandwidth/2,w=o.length,D=[],b=[],T=[],V=v.convert(0),W=0;W<w;W++){var j=o[W],K=s[W],Y=d.convert(C?d.toDomain(K):K)+m,re=void 0===j?NaN:v.convert(j);W+1<w&&(G=d.convert(C?d.toDomain(s[W+1]):s[W+1])+m),T.push({seriesDatum:{x:K,y:j},point:{x:Y,y:re}}),void 0===j&&void 0!==N?(b.push({seriesDatum:void 0,point:{x:N,y:V}}),void 0!==G&&b.push({seriesDatum:void 0,point:{x:G,y:V}})):void 0!==j&&(b.push({seriesDatum:{x:K,y:j},point:{x:Y,y:re}}),D.push({seriesDatum:{x:K,y:j},point:{x:Y,y:re}}),A=void 0!==A?A:Y,I=Y),N=Y}return b.push({seriesDatum:void 0,point:{x:I,y:V}},{seriesDatum:void 0,point:{x:A,y:V}}),{nodeData:D,fillData:b,strokeData:T}}},t.prototype.updateAxisLine=function(){var e=this,n=e.xScale,o=e.yScale,s=e.axis,d=e.xAxisLine;d.x1=n.range[0],d.x2=n.range[1],d.y1=d.y2=0,d.stroke=s.stroke,d.strokeWidth=s.strokeWidth;var v=o.convert(0);d.translationY=v},t.prototype.updateSelection=function(e){var o=getMarker(this.marker.shape),s=this.markerSelection.setData(e),d=s.enter.append(o);s.exit.remove(),this.markerSelection=s.merge(d)},t.prototype.updateNodes=function(){var e=this,n=this,o=n.highlightedDatum,s=n.highlightStyle,d=n.marker,v=s.size,C=s.fill,m=s.stroke,w=s.strokeWidth,D=d.formatter;this.markerSelection.each(function(b,T,A){var I=T.point,N=T.seriesDatum;if(I){var Y,G=T===o,V=G&&void 0!==C?C:d.fill,W=G&&void 0!==m?m:d.stroke,j=G&&void 0!==w?w:d.strokeWidth,K=G&&void 0!==v?v:d.size;D&&(Y=D({datum:T,xValue:N.x,yValue:N.y,min:N.y===e.min,max:N.y===e.max,first:0===A,last:A===e.markerSelectionData.length-1,fill:V,stroke:W,strokeWidth:j,size:K,highlighted:G})),b.size=Y&&null!=Y.size?Y.size:K,b.fill=Y&&null!=Y.fill?Y.fill:V,b.stroke=Y&&null!=Y.stroke?Y.stroke:W,b.strokeWidth=Y&&null!=Y.strokeWidth?Y.strokeWidth:j,b.translationX=I.x,b.translationY=I.y,b.visible=Y&&null!=Y.enabled?Y.enabled:d.enabled&&b.size>0}})},t.prototype.updateStroke=function(e){var n=this,o=n.strokePath,d=n.line;if(!(n.yData.length<2)){var v=o.path,C=e.length,m=!0;v.clear();for(var w=0;w<C;w++){var D=e[w],b=D.point,A=b.x,I=b.y;null==D.seriesDatum.y?m=!0:m?(v.moveTo(A,I),m=!1):v.lineTo(A,I)}o.lineJoin=o.lineCap="round",o.fill=void 0,o.stroke=d.stroke,o.strokeWidth=d.strokeWidth}},t.prototype.updateFill=function(e){var n=this,o=n.fillPath,s=n.yData,d=n.fill,v=o.path,C=e.length;if(v.clear(),!(s.length<2)){for(var m=0;m<C;m++){var w=e[m].point,D=w.x,b=w.y;m>0?v.lineTo(D,b):v.moveTo(D,b)}v.closePath(),o.lineJoin="round",o.stroke=void 0,o.fill=d}},t.prototype.updateXCrosshairLine=function(){var e=this,n=e.yScale,o=e.xCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.xLine;if(d.enabled&&null!=s){o.y1=n.range[0],o.y2=n.range[1],o.x1=o.x2=0,o.stroke=d.stroke,o.strokeWidth=d.strokeWidth||1,o.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var v=d.lineDash;o.lineDash=Array.isArray(v)?v:getLineDash(o.lineCap,d.lineDash),o.translationX=s.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,n=e.xScale,o=e.yCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.yLine;if(d.enabled&&null!=s){o.x1=n.range[0],o.x2=n.range[1],o.y1=o.y2=0,o.stroke=d.stroke,o.strokeWidth=d.strokeWidth||1,o.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var v=d.lineDash;o.lineDash=Array.isArray(v)?v:getLineDash(o.lineCap,d.lineDash),o.translationY=s.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var n=this.dataType,o=e.seriesDatum,s=o.y,d=o.x,m={content:this.formatNumericDatum(s),title:"array"===n||"object"===n?this.formatDatum(d):void 0};return this.tooltip.renderer?toTooltipHtml(this.tooltip.renderer({context:this.context,datum:o,yValue:s,xValue:d}),m):toTooltipHtml(m)},t.className="AreaSparkline",t}(Sparkline),__extends$5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),extent$1=extent$4,BandScale$2=BandScale$5,SparklineMarker=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},LineSparkline=function(l){function t(){var e=l.call(this)||this;return e.linePath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.lineSparklineGroup=new Group,e.markers=new Group,e.markerSelection=Selection.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new SparklineMarker,e.line=new SparklineLine,e.crosshairs=new SparklineCrosshairs,e.rootGroup.append(e.lineSparklineGroup),e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$5(t,l),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();e&&(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var o=this.yScale,s=extent$1(this.yData),d=0,v=1;if(void 0!==s&&(d=this.min=s[0],v=this.max=s[1]),d===v){var C=Math.abs(.01*d);d-=C,v+=C}o.domain=[d,v]},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,d=e.xScale,v=e.yScale;if(e.data){for(var C=!(d instanceof BandScale$2),m=C?0:d.bandwidth/2,w=[],D=0;D<o.length;D++){var b=o[D],T=s[D];if(null!=b){var A=d.convert(C?d.toDomain(T):T)+m,I=void 0===b?NaN:v.convert(b);w.push({seriesDatum:{x:T,y:b},point:{x:A,y:I}})}}return w}},t.prototype.updateSelection=function(e){var o=getMarker(this.marker.shape),s=this.markerSelection.setData(e),d=s.enter.append(o);s.exit.remove(),this.markerSelection=s.merge(d)},t.prototype.updateNodes=function(){var e=this,n=this,o=n.highlightedDatum,s=n.highlightStyle,d=n.marker,v=s.size,C=s.fill,m=s.stroke,w=s.strokeWidth,D=d.formatter;this.markerSelection.each(function(b,T,A){var j,I=T===o,N=I&&void 0!==C?C:d.fill,G=I&&void 0!==m?m:d.stroke,V=I&&void 0!==w?w:d.strokeWidth,W=I&&void 0!==v?v:d.size,K=T.seriesDatum,Y=T.point;D&&(j=D({datum:T,xValue:K.x,yValue:K.y,min:K.y===e.min,max:K.y===e.max,first:0===A,last:A===e.markerSelectionData.length-1,fill:N,stroke:G,strokeWidth:V,size:W,highlighted:I})),b.size=j&&null!=j.size?j.size:W,b.fill=j&&null!=j.fill?j.fill:N,b.stroke=j&&null!=j.stroke?j.stroke:G,b.strokeWidth=j&&null!=j.strokeWidth?j.strokeWidth:V,b.translationX=Y.x,b.translationY=Y.y,b.visible=j&&null!=j.enabled?j.enabled:d.enabled&&b.size>0})},t.prototype.updateLine=function(){var e=this,n=e.linePath,o=e.yData,s=e.xData,d=e.xScale,v=e.yScale,C=e.line;if(!(o.length<2)){var m=!(d instanceof BandScale$2),w=n.path,D=o.length,b=m?0:d.bandwidth/2,T=!0;w.clear();for(var A=0;A<D;A++){var I=s[A],N=o[A],G=d.convert(m?d.toDomain(I):I)+b,V=void 0===N?NaN:v.convert(N);null==N?T=!0:T?(w.moveTo(G,V),T=!1):w.lineTo(G,V)}n.fill=void 0,n.stroke=C.stroke,n.strokeWidth=C.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e=this,n=e.yScale,o=e.xCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.xLine;if(d.enabled&&null!=s){o.y1=n.range[0],o.y2=n.range[1],o.x1=o.x2=0,o.stroke=d.stroke,o.strokeWidth=d.strokeWidth||1,o.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var v=d.lineDash;o.lineDash=Array.isArray(v)?v:getLineDash(o.lineCap,d.lineDash),o.translationX=s.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,n=e.xScale,o=e.yCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.yLine;if(d.enabled&&null!=s){o.x1=n.range[0],o.x2=n.range[1],o.y1=o.y2=0,o.stroke=d.stroke,o.strokeWidth=d.strokeWidth||1,o.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var v=d.lineDash;o.lineDash=Array.isArray(v)?v:getLineDash(o.lineCap,d.lineDash),o.translationY=s.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var n=this.dataType,o=e.seriesDatum,s=o.y,d=o.x,m={content:this.formatNumericDatum(s),title:"array"===n||"object"===n?this.formatDatum(d):void 0};return this.tooltip.renderer?toTooltipHtml(this.tooltip.renderer({context:this.context,datum:o,yValue:s,xValue:d}),m):toTooltipHtml(m)},t.className="LineSparkline",t}(Sparkline),Label=function l(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"},__extends$4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),extent=extent$4,BarColumnNodeTag=(()=>(function(l){l[l.Rect=0]="Rect",l[l.Label=1]="Label"}(BarColumnNodeTag||(BarColumnNodeTag={})),BarColumnNodeTag))(),BarColumnLabelPlacement=(()=>(function(l){l.InsideBase="insideBase",l.InsideEnd="insideEnd",l.Center="center",l.OutsideEnd="outsideEnd"}(BarColumnLabelPlacement||(BarColumnLabelPlacement={})),BarColumnLabelPlacement))(),BarColumnLabel=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e.placement=BarColumnLabelPlacement.InsideEnd,e}return __extends$4(t,l),t}(Label),BarColumnSparkline=function(l){function t(){var e=l.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new Line,e.bandWidth=0,e.sparklineGroup=new Group,e.rectGroup=new Group,e.labelGroup=new Group,e.rectSelection=Selection.select(e.rectGroup).selectAll(),e.labelSelection=Selection.select(e.labelGroup).selectAll(),e.nodeSelectionData=[],e.label=new BarColumnLabel,e.rootGroup.append(e.sparklineGroup),e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return __extends$4(t,l),t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();e&&(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var n,o=this,s=o.xScale,d=o.paddingInner,v=o.paddingOuter,w=(s.domain[1]-s.domain[0])/(null!==(n=o.smallestInterval?.x)&&void 0!==n?n:1)+1,b=Math.min(w,50);return e/Math.max(1,2*v+(b-1)*d+b)},t.prototype.updateYScaleDomain=function(){var e=this,n=e.yScale,s=e.valueAxisDomain,d=extent(e.yData),v=0,C=1;void 0!==d&&(v=this.min=d[0],C=this.max=d[1]),v=v<0?v:0,C=C<0?0:C,s&&(s[1]<C&&(s[1]=C),s[0]>v&&(s[0]=v)),n.domain=s||[v,C]},t.prototype.updateRectSelection=function(e){var n=this.rectSelection.setData(e),o=n.enter.append(Rect);n.exit.remove(),this.rectSelection=n.merge(o)},t.prototype.updateRectNodes=function(){var e=this,n=this,o=n.highlightedDatum,s=n.formatter,d=n.fill,v=n.stroke,C=n.strokeWidth,m=this.highlightStyle,w=m.fill,D=m.stroke,b=m.strokeWidth;this.rectSelection.each(function(T,A,I){var j,N=A===o,G=N&&void 0!==w?w:d,V=N&&void 0!==D?D:v,W=N&&void 0!==b?b:C,K=A.x,Y=A.y,re=A.width,q=A.height,Z=A.seriesDatum;s&&(j=s({datum:A,xValue:Z.x,yValue:Z.y,width:re,height:q,min:Z.y===e.min,max:Z.y===e.max,first:0===I,last:I===e.nodeSelectionData.length-1,fill:G,stroke:V,strokeWidth:W,highlighted:N})),T.fill=j&&j.fill||G,T.stroke=j&&j.stroke||V,T.strokeWidth=j&&j.strokeWidth||W,T.x=T.y=0,T.width=re,T.height=q,T.visible=T.height>0,T.translationX=K,T.translationY=Y})},t.prototype.updateLabelSelection=function(e){var n=this.labelSelection.setData(e),o=n.enter.append(Text).each(function(s){s.tag=BarColumnNodeTag.Label,s.pointerEvents=PointerEvents.None});n.exit.remove(),this.labelSelection=n.merge(o)},t.prototype.updateLabelNodes=function(){var e=this.label,n=e.enabled,o=e.fontStyle,s=e.fontWeight,d=e.fontSize,v=e.fontFamily,C=e.color;this.labelSelection.each(function(m,w){var D=w.label;D&&n?(m.fontStyle=o,m.fontWeight=s,m.fontSize=d,m.fontFamily=v,m.textAlign=D.textAlign,m.textBaseline=D.textBaseline,m.text=D.text,m.x=D.x,m.y=D.y,m.fill=C,m.visible=!0):m.visible=!1})},t.prototype.getTooltipHtml=function(e){var n=this.dataType,o=e.seriesDatum,s=o.y,d=o.x,m={content:this.formatNumericDatum(s),title:"array"===n||"object"===n?this.formatDatum(d):void 0};return this.tooltip.renderer?toTooltipHtml(this.tooltip.renderer({context:this.context,datum:o,yValue:s,xValue:d}),m):toTooltipHtml(m)},t.prototype.formatLabelValue=function(e){return e.toFixed(e%1!=0?1:0)},t}(Sparkline),__extends$3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),isNumber$2=isNumber$4,BandScale$1=BandScale$5,BarSparkline=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$3(t,l),t.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleRange=function(){var e=this,n=e.xScale,o=e.seriesRect,s=e.paddingOuter,d=e.paddingInner;if(n instanceof BandScale$1)n.range=[0,o.height],n.paddingInner=d,n.paddingOuter=s;else{var v=this.calculateStep(o.height),C=v*s;this.bandWidth=v*(1-d),n.range=[C,o.height-C-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,n=e.yScale,o=e.axis,s=e.axisLine,d=e.seriesRect,v=o.strokeWidth;s.x1=0,s.x2=0,s.y1=0,s.y2=d.height,s.stroke=o.stroke,s.strokeWidth=v+(v%2==1?1:0);var C=n.convert(0);s.translationX=C},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,d=e.xScale,v=e.yScale,C=e.fill,m=e.stroke,w=e.strokeWidth,D=e.label;if(e.data){for(var b=D.fontStyle,T=D.fontWeight,A=D.fontSize,I=D.fontFamily,N=D.color,G=D.formatter,V=D.placement,W=[],j=v.convert(0),K=!(d instanceof BandScale$1),Y=0,re=o.length;Y<re;Y++){var q=o[Y],Z=s[Y],ee=void 0===q;ee&&(q=0);var Ee,ne=d.convert(K?d.toDomain(Z):Z),se=Math.min(void 0===q?NaN:v.convert(q),j),ae=Math.max(void 0===q?NaN:v.convert(q),j),pe=K?this.bandWidth:d.bandwidth,he=ae-se,_e={x:j,y:ne};Ee=G?G({value:q}):void 0!==q&&isNumber$2(q)?this.formatLabelValue(q):"";var Se=ne+pe/2,Re=void 0,De=void 0,Ne=void 0!==q&&q>=0;if(V===BarColumnLabelPlacement.Center)Re=se+he/2,De="center";else if(V===BarColumnLabelPlacement.OutsideEnd)Re=se+(Ne?he+4:-4),De=Ne?"start":"end";else if(V===BarColumnLabelPlacement.InsideEnd){Re=se+(Ne?he-4:4),De=Ne?"end":"start";var je=HdpiCanvas.getTextSize(Ee,I).width||20;(Ne&&Re<j+je||!Ne&&Re>j-je)&&(Re=j+4*(Ne?1:-1),De=Ne?"start":"end")}else Re=j+4*(Ne?1:-1),De=Ne?"start":"end";W.push({x:se,y:ne,width:he,height:pe,fill:C,stroke:m,strokeWidth:w,seriesDatum:{x:Z,y:ee?void 0:q},point:_e,label:{x:Re,y:Se,text:Ee,fontStyle:b,fontWeight:T,fontSize:A,fontFamily:I,textAlign:De,textBaseline:"middle",fill:N}})}return W}},t.prototype.getDistance=function(e,n){return Math.abs(e.y-n.y)},t.className="BarSparkline",t}(BarColumnSparkline),__extends$2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),isNumber$1=isNumber$4,BandScale=BandScale$5,ColumnSparkline=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends$2(t,l),t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScaleRange=function(){var e=this,n=e.xScale,o=e.seriesRect,s=e.paddingOuter,d=e.paddingInner;if(n instanceof BandScale)n.range=[0,o.width],n.paddingInner=d,n.paddingOuter=s;else{var v=this.calculateStep(o.width),C=v*s;this.bandWidth=v*(1-d),n.range=[C,o.width-C-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,n=e.yScale,o=e.axis,s=e.axisLine,d=e.seriesRect,v=o.strokeWidth;s.x1=0,s.x2=d.width,s.y1=0,s.y2=0,s.stroke=o.stroke,s.strokeWidth=v+(v%2==1?1:0);var C=n.convert(0);s.translationY=C},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,d=e.xScale,v=e.yScale,C=e.fill,m=e.stroke,w=e.strokeWidth,D=e.label;if(e.data){for(var b=D.fontStyle,T=D.fontWeight,A=D.fontSize,I=D.fontFamily,N=D.color,G=D.formatter,V=D.placement,W=[],j=v.convert(0),K=!(d instanceof BandScale),Y=0,re=o.length;Y<re;Y++){var q=o[Y],Z=s[Y],ee=void 0===q;ee&&(q=0);var Ee,ne=Math.min(void 0===q?NaN:v.convert(q),j),se=d.convert(K?d.toDomain(Z):Z),ae=Math.max(void 0===q?NaN:v.convert(q),j),pe=K?this.bandWidth:d.bandwidth,he=ae-ne,_e={x:se+pe/2,y:j};Ee=G?G({value:q}):void 0!==q&&isNumber$1(q)?this.formatLabelValue(q):"";var Se=se+pe/2,Re=void 0,De=void 0,Ne=void 0!==q&&q>=0;if(V===BarColumnLabelPlacement.Center)Re=ne+he/2,De="middle";else if(V===BarColumnLabelPlacement.OutsideEnd)Re=ne+(Ne?-2:he+2),De=Ne?"bottom":"top";else if(V===BarColumnLabelPlacement.InsideEnd){Re=ne+(Ne?2:he-2),De=Ne?"top":"bottom";var je=HdpiCanvas.getTextSize(Ee,I).height||10;(Ne&&Re>j-je||!Ne&&Re<j+je)&&(Re=j+2*(Ne?-1:1),De=Ne?"bottom":"top")}else Re=j+2*(Ne?-1:1),De=Ne?"bottom":"top";W.push({x:se,y:ne,width:pe,height:he,fill:C,stroke:m,strokeWidth:w,seriesDatum:{x:Z,y:ee?void 0:q},point:_e,label:{x:Se,y:Re,text:Ee,fontStyle:b,fontWeight:T,fontSize:A,fontFamily:I,textAlign:"center",textBaseline:De,fill:N}})}return W}},t.className="ColumnSparkline",t}(BarColumnSparkline),isNumber=isNumber$4,AgSparkline=function(){function l(){}return l.create=function(t,e){var n=getSparklineInstance((t=Object.create(t)).type);return e&&(n.tooltip=e),initSparkline(n,t),initSparklineByType(n,t),t.data&&(n.data=t.data),n},l}();function getSparklineInstance(l){switch(void 0===l&&(l="line"),l){case"column":return new ColumnSparkline;case"bar":return new BarSparkline;case"area":return new AreaSparkline;default:return new LineSparkline}}function initSparklineByType(l,t){switch(t.type){case"bar":case"column":initBarColumnSparkline(l,t);break;case"area":initAreaSparkline(l,t);break;default:initLineSparkline(l,t)}}function initSparkline(l,t){setValueIfPropertyExists(l,"context",t.context,t),setValueIfPropertyExists(l,"width",t.width,t),setValueIfPropertyExists(l,"height",t.height,t),setValueIfPropertyExists(l,"container",t.container,t),setValueIfPropertyExists(l,"xKey",t.xKey,t),setValueIfPropertyExists(l,"yKey",t.yKey,t),t.padding&&initPaddingOptions(l.padding,t.padding),t.axis&&initAxisOptions(l.axis,t.axis),t.highlightStyle&&initHighlightStyleOptions(l.highlightStyle,t.highlightStyle),t.tooltip&&l.tooltip&&initTooltipOptions(l.tooltip,t.tooltip)}function initLineSparkline(l,t){t.marker&&initMarkerOptions(l.marker,t.marker),t.line&&initLineOptions(l.line,t.line),t.crosshairs&&initCrosshairsOptions(l.crosshairs,t.crosshairs)}function initAreaSparkline(l,t){setValueIfPropertyExists(l,"fill",t.fill,t),t.marker&&initMarkerOptions(l.marker,t.marker),t.line&&initLineOptions(l.line,t.line),t.crosshairs&&initCrosshairsOptions(l.crosshairs,t.crosshairs)}function initBarColumnSparkline(l,t){setValueIfPropertyExists(l,"valueAxisDomain",t.valueAxisDomain,t),setValueIfPropertyExists(l,"fill",t.fill,t),setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t),setValueIfPropertyExists(l,"paddingInner",t.paddingInner,t),setValueIfPropertyExists(l,"paddingOuter",t.paddingOuter,t),setValueIfPropertyExists(l,"formatter",t.formatter,t),t.label&&initLabelOptions(l.label,t.label)}function initPaddingOptions(l,t){setValueIfPropertyExists(l,"top",t.top,t),setValueIfPropertyExists(l,"right",t.right,t),setValueIfPropertyExists(l,"bottom",t.bottom,t),setValueIfPropertyExists(l,"left",t.left,t)}function initMarkerOptions(l,t){setValueIfPropertyExists(l,"enabled",t.enabled,t),setValueIfPropertyExists(l,"size",t.size,t),setValueIfPropertyExists(l,"shape",t.shape,t),setValueIfPropertyExists(l,"fill",t.fill,t),setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t),setValueIfPropertyExists(l,"formatter",t.formatter,t)}function initLabelOptions(l,t){setValueIfPropertyExists(l,"enabled",t.enabled,t),setValueIfPropertyExists(l,"fontStyle",t.fontStyle,t),setValueIfPropertyExists(l,"fontWeight",t.fontWeight,t),setValueIfPropertyExists(l,"fontSize",t.fontSize,t),setValueIfPropertyExists(l,"fontFamily",t.fontFamily,t),setValueIfPropertyExists(l,"textAlign",t.textAlign,t),setValueIfPropertyExists(l,"textBaseline",t.textBaseline,t),setValueIfPropertyExists(l,"color",t.color,t),setValueIfPropertyExists(l,"formatter",t.formatter,t),setValueIfPropertyExists(l,"placement",t.placement,t)}function initLineOptions(l,t){setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t)}function initAxisOptions(l,t){setValueIfPropertyExists(l,"type",t.type,t),setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t)}function initHighlightStyleOptions(l,t){setValueIfPropertyExists(l,"fill",t.fill,t),setValueIfPropertyExists(l,"size",t.size,t),setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t)}function initTooltipOptions(l,t){setValueIfPropertyExists(l,"enabled",t.enabled,t),setValueIfPropertyExists(l,"container",t.container,t),setValueIfPropertyExists(l,"xOffset",t.xOffset,t),setValueIfPropertyExists(l,"yOffset",t.yOffset,t),setValueIfPropertyExists(l,"renderer",t.renderer,t)}function initCrosshairsOptions(l,t){l.xLine&&t.xLine&&initCrosshairLineOptions(l.xLine,t.xLine),l.yLine&&t.yLine&&initCrosshairLineOptions(l.yLine,t.yLine)}function initCrosshairLineOptions(l,t){setValueIfPropertyExists(l,"enabled",t.enabled,t),setValueIfPropertyExists(l,"stroke",t.stroke,t),setValueIfPropertyExists(l,"strokeWidth",t.strokeWidth,t),setValueIfPropertyExists(l,"lineDash",t.lineDash,t),setValueIfPropertyExists(l,"lineCap",t.lineCap,t)}var doOnceFlags={};function doOnce(l,t){doOnceFlags[t]||(l(),doOnceFlags[t]=!0)}var offsetValidator=function(l,t,e){if(isNumber(t))return!0;var n="AG Charts: "+l+" must be a number, the value you provided is not a valid number. Using the default of "+e+"px.";return doOnce(function(){return console.warn(n)},l+" not a number"),!1},validators={xOffset:offsetValidator,yOffset:offsetValidator};function setValueIfPropertyExists(l,t,e,n){if(t in n)if(t in l){var o=validators[t];(!o||o(t,e,l[t]))&&l[t]!==e&&(l[t]=e)}else console.warn("Property "+t+" does not exist on the target object.")}var __extends$1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign=function(){return __assign=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},__assign.apply(this,arguments)},__decorate$1=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SparklineCellRenderer=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return __extends$1(t,l),t.prototype.init=function(e){var n=this,o=!0,d=this.resizeObserverService.observeResize(this.getGui(),function(){var v=n.getGui(),C=v.clientWidth,m=v.clientHeight;if(0!==C&&0!==m)if(o){var w=__assign({data:e.value,width:C,height:m,context:{data:e.data}},e.sparklineOptions);n.sparkline=AgSparkline.create(w,n.sparklineTooltipSingleton.getSparklineTooltip()),n.eSparkline.appendChild(n.sparkline.canvasElement),o=!1}else n.sparkline.width=C,n.sparkline.height=m});this.addDestroyFunc(function(){return d()})},t.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSparkline")],t.prototype,"eSparkline",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],t.prototype,"resizeObserverService",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate=function(l,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var v=l.length-1;v>=0;v--)(d=l[v])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},SparklineTooltipSingleton=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return __extends(t,l),t.prototype.postConstruct=function(){this.tooltip=new SparklineTooltip},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],t.prototype,"postConstruct",null),__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"destroyTooltip",null),__decorate([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("sparklineTooltipSingleton")],t)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION="29.1.0",SparklinesModule={version:VERSION,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SparklinesModule,beans:[SparklineTooltipSingleton],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:SparklineCellRenderer}],dependantModules:[EnterpriseCoreModule]},AllEnterpriseModules=[ClipboardModule,ColumnsToolPanelModule,ExcelExportModule,FiltersToolPanelModule,GridChartsModule,MasterDetailModule,MenuModule,MultiFilterModule,RangeSelectionModule,RichSelectModule,RowGroupingModule,ServerSideRowModelModule,SetFilterModule,SideBarModule,StatusBarModule,ViewportRowModelModule,SparklinesModule],AllModules=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.F$j.concat(AllEnterpriseModules);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.registerModules(AllEnterpriseModules)}},l=>{l(l.s=370)}]);